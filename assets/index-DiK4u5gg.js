import{j as e,d as P,u as Ve,b as rt}from"./index-CxXKn8Du.js";import{j as $,B as A,w as Xe,U as Re,T as H,e as Se,aR as ye,V as at,p as ot,aI as lt,aJ as Ze,f as qe,q as He,az as Je,$ as ct,i as Z,t as _,S as E,aF as dt,r as G,Z as ht,_ as ut,bc as pt,bd as xt,be as gt,bf as mt,n as he,y as oe,ah as je,a1 as ke,M as ft,x as O,d as te,C as R,aP as ze,o as Ie,W as yt,b1 as jt,ai as vt,l as Be,aq as bt,at as be,bg as _t}from"./antd-mjhx-L7S.js";import{s as Ke}from"./index-Daowydkz.js";import{l as wt,d as Tt,s as $e,i as Ct}from"./transform-B-eTEWu3.js";import{z as St,d as kt}from"./zoom-gRD7HP-C.js";import{E as Us,a as en}from"./EntityFormPage-DQ93XfcR.js";import"./vendor-DJG_os-6.js";const{Text:zt}=H,It=P(Z)`
  margin-bottom: 16px;
  transition: all 0.3s ease;
  border-radius: 8px;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .ant-card-head {
    border-bottom: 1px solid var(--border-color);
    padding: 12px 16px;
  }
  
  .ant-card-body {
    padding: 16px;
  }
`,Bt=P.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 6px;
  color: white;
  font-size: 16px;
  margin-right: 8px;
`,ie=({entity:t,onClick:s,onEdit:n,children:o,extraActions:i})=>{const r=f=>({report:{icon:e.jsx(ct,{}),color:"#1890ff"},business_link:{icon:e.jsx(Je,{}),color:"#52c41a"},business_system:{icon:e.jsx(Se,{}),color:"#faad14"},api:{icon:e.jsx(He,{}),color:"#722ed1"},database:{icon:e.jsx(qe,{}),color:"#f5222d"},table:{icon:e.jsx(Ze,{}),color:"#fa8c16"},middleware:{icon:e.jsx(lt,{}),color:"#13c2c2"},microservice:{icon:e.jsx(ot,{}),color:"#eb2f96"},scheduled_job:{icon:e.jsx(at,{}),color:"#a0d911"},configuration:{icon:e.jsx(ye,{}),color:"#2f54eb"}})[f]||{icon:e.jsx(Se,{}),color:"#8c8c8c"},d=f=>({active:"green",running:"green",inactive:"red",warning:"orange",pending:"blue"})[f]||"default",l=r(t.type);return e.jsx(It,{size:"small",onClick:()=>s==null?void 0:s(t),style:{cursor:"pointer"},title:e.jsxs($,{children:[e.jsx(Bt,{style:{backgroundColor:l.color},children:l.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:t.name}),e.jsx(zt,{type:"secondary",style:{fontSize:"12px"},children:t.category})]})]}),extra:e.jsxs($,{children:[e.jsx(A,{type:"text",size:"small",icon:e.jsx(Xe,{}),onClick:f=>{f.stopPropagation(),n==null||n(t)},style:{color:"#1890ff"}}),i,e.jsx(Re,{status:d(t.status),text:t.status})]}),children:o})},{Text:pe,Paragraph:Rt}=H,_e=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Mt=({entity:t,onClick:s,onEdit:n})=>{var o,i,r,d,l;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,children:[e.jsx(Rt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(_e,{children:[e.jsx(pe,{type:"secondary",children:"更新频率:"}),e.jsx(_,{color:"blue",children:t.updateFrequency})]}),e.jsxs(_e,{children:[e.jsx(pe,{type:"secondary",children:"负责人:"}),e.jsx(pe,{children:t.owner})]}),e.jsxs(_e,{children:[e.jsx(pe,{type:"secondary",children:"数据源:"}),e.jsx($,{children:(o=t.dataSource)==null?void 0:o.map((f,a)=>e.jsx(_,{size:"small",children:f},a))})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[e.jsx(E,{title:"查看次数",value:(i=t.metrics)==null?void 0:i.viewCount,valueStyle:{fontSize:"14px"}}),e.jsx(E,{title:"导出次数",value:(r=t.metrics)==null?void 0:r.exportCount,valueStyle:{fontSize:"14px"}}),e.jsx(E,{title:"加载时间",value:(d=t.metrics)==null?void 0:d.avgLoadTime,valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(l=t.tags)==null?void 0:l.map((f,a)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:f},a))})]})},{Text:Ee,Paragraph:Nt}=H,$t=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Et=({entity:t,onClick:s,onEdit:n})=>{var o;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,children:[e.jsx(Nt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($t,{children:[e.jsx(Ee,{type:"secondary",children:"负责人:"}),e.jsx(Ee,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(o=t.tags)==null?void 0:o.map((i,r)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:i},r))})]})},{Text:xe,Paragraph:Pt}=H,Pe=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Lt=({entity:t,onClick:s,onEdit:n})=>{var o,i;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,extraActions:e.jsx(_,{color:"blue",children:t.version}),children:[e.jsx(Pt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(Pe,{children:[e.jsx(xe,{type:"secondary",children:"负责人:"}),e.jsx(xe,{children:t.owner})]}),e.jsxs(Pe,{children:[e.jsx(xe,{type:"secondary",children:"技术栈:"}),e.jsx($,{children:(o=t.techStack)==null?void 0:o.map((r,d)=>e.jsx(_,{size:"small",children:r},d))})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx(xe,{type:"secondary",style:{fontSize:"12px"},children:"健康度"}),e.jsx(dt,{percent:t.healthScore,size:"small",status:t.healthScore>80?"success":t.healthScore>60?"normal":"exception",style:{marginTop:4}})]})]}),e.jsx("div",{style:{marginTop:12},children:(i=t.tags)==null?void 0:i.map((r,d)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:r},d))})]})},{Text:ge,Paragraph:At}=H,Le=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Gt=({entity:t,onClick:s,onEdit:n})=>{var i,r,d;const o=l=>({GET:"green",POST:"blue",PUT:"orange",DELETE:"red",PATCH:"purple"})[l]||"default";return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,extraActions:e.jsx(_,{color:o(t.method),children:t.method}),children:[e.jsx(At,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(Le,{children:[e.jsx(ge,{type:"secondary",children:"路径:"}),e.jsx(ge,{code:!0,style:{fontSize:"12px"},children:t.path})]}),e.jsxs(Le,{children:[e.jsx(ge,{type:"secondary",children:"负责人:"}),e.jsx(ge,{children:t.owner})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:[e.jsx(E,{title:"调用次数",value:(i=t.metrics)==null?void 0:i.callCount,valueStyle:{fontSize:"14px"}}),e.jsx(E,{title:"响应时间",value:(r=t.metrics)==null?void 0:r.avgResponseTime,suffix:"ms",valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(d=t.tags)==null?void 0:d.map((l,f)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:l},f))})]})},{Text:me,Paragraph:Dt}=H,Ae=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Qt=({entity:t,onClick:s,onEdit:n})=>{var o,i,r;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,extraActions:e.jsx(_,{color:"red",children:t.technology}),children:[e.jsx(Dt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(Ae,{children:[e.jsx(me,{type:"secondary",children:"连接地址:"}),e.jsxs(me,{code:!0,style:{fontSize:"12px"},children:[t.host,":",t.port]})]}),e.jsxs(Ae,{children:[e.jsx(me,{type:"secondary",children:"负责人:"}),e.jsx(me,{children:t.owner})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:[e.jsx(E,{title:"连接数",value:(o=t.metrics)==null?void 0:o.connectionCount,valueStyle:{fontSize:"14px"}}),e.jsx(E,{title:"存储大小",value:(i=t.metrics)==null?void 0:i.storageSize,suffix:"GB",valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(r=t.tags)==null?void 0:r.map((d,l)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:d},l))})]})},{Text:fe,Paragraph:Wt}=H,Ge=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Ft=({entity:t,onClick:s,onEdit:n})=>{var o;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,children:[e.jsx(Wt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(Ge,{children:[e.jsx(fe,{type:"secondary",children:"数据库:"}),e.jsx(fe,{children:t.database})]}),e.jsxs(Ge,{children:[e.jsx(fe,{type:"secondary",children:"负责人:"}),e.jsx(fe,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(o=t.tags)==null?void 0:o.map((i,r)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:i},r))})]})},{Text:De,Paragraph:Ot}=H,Yt=P.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Vt=({entity:t,onClick:s,onEdit:n})=>{var o;return e.jsxs(ie,{entity:t,onClick:s,onEdit:n,children:[e.jsx(Ot,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(Yt,{children:[e.jsx(De,{type:"secondary",children:"负责人:"}),e.jsx(De,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(o=t.tags)==null?void 0:o.map((i,r)=>e.jsx(_,{size:"small",style:{marginBottom:4},children:i},r))})]})},Xt=({entity:t,onClick:s,onEdit:n})=>(()=>{switch(t.type){case"report":return e.jsx(Mt,{entity:t,onClick:s,onEdit:n});case"business_link":return e.jsx(Et,{entity:t,onClick:s,onEdit:n});case"business_system":return e.jsx(Lt,{entity:t,onClick:s,onEdit:n});case"api":return e.jsx(Gt,{entity:t,onClick:s,onEdit:n});case"database":return e.jsx(Qt,{entity:t,onClick:s,onEdit:n});case"table":return e.jsx(Ft,{entity:t,onClick:s,onEdit:n});case"middleware":case"microservice":case"scheduled_job":case"configuration":default:return e.jsx(Vt,{entity:t,onClick:s,onEdit:n})}})();function Zt(t,s){var n,o=1;t==null&&(t=0),s==null&&(s=0);function i(){var r,d=n.length,l,f=0,a=0;for(r=0;r<d;++r)l=n[r],f+=l.x,a+=l.y;for(f=(f/d-t)*o,a=(a/d-s)*o,r=0;r<d;++r)l=n[r],l.x-=f,l.y-=a}return i.initialize=function(r){n=r},i.x=function(r){return arguments.length?(t=+r,i):t},i.y=function(r){return arguments.length?(s=+r,i):s},i.strength=function(r){return arguments.length?(o=+r,i):o},i}function qt(t){const s=+this._x.call(null,t),n=+this._y.call(null,t);return Ue(this.cover(s,n),s,n,t)}function Ue(t,s,n,o){if(isNaN(s)||isNaN(n))return t;var i,r=t._root,d={data:o},l=t._x0,f=t._y0,a=t._x1,y=t._y1,b,h,x,T,u,c,p,j;if(!r)return t._root=d,t;for(;r.length;)if((u=s>=(b=(l+a)/2))?l=b:a=b,(c=n>=(h=(f+y)/2))?f=h:y=h,i=r,!(r=r[p=c<<1|u]))return i[p]=d,t;if(x=+t._x.call(null,r.data),T=+t._y.call(null,r.data),s===x&&n===T)return d.next=r,i?i[p]=d:t._root=d,t;do i=i?i[p]=new Array(4):t._root=new Array(4),(u=s>=(b=(l+a)/2))?l=b:a=b,(c=n>=(h=(f+y)/2))?f=h:y=h;while((p=c<<1|u)===(j=(T>=h)<<1|x>=b));return i[j]=r,i[p]=d,t}function Ht(t){var s,n,o=t.length,i,r,d=new Array(o),l=new Array(o),f=1/0,a=1/0,y=-1/0,b=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,s=t[n]))||isNaN(r=+this._y.call(null,s))||(d[n]=i,l[n]=r,i<f&&(f=i),i>y&&(y=i),r<a&&(a=r),r>b&&(b=r));if(f>y||a>b)return this;for(this.cover(f,a).cover(y,b),n=0;n<o;++n)Ue(this,d[n],l[n],t[n]);return this}function Jt(t,s){if(isNaN(t=+t)||isNaN(s=+s))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(s))+1;else{for(var d=i-n||1,l=this._root,f,a;n>t||t>=i||o>s||s>=r;)switch(a=(s<o)<<1|t<n,f=new Array(4),f[a]=l,l=f,d*=2,a){case 0:i=n+d,r=o+d;break;case 1:n=i-d,r=o+d;break;case 2:i=n+d,o=r-d;break;case 3:n=i-d,o=r-d;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this}function Kt(){var t=[];return this.visit(function(s){if(!s.length)do t.push(s.data);while(s=s.next)}),t}function Ut(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function V(t,s,n,o,i){this.node=t,this.x0=s,this.y0=n,this.x1=o,this.y1=i}function es(t,s,n){var o,i=this._x0,r=this._y0,d,l,f,a,y=this._x1,b=this._y1,h=[],x=this._root,T,u;for(x&&h.push(new V(x,i,r,y,b)),n==null?n=1/0:(i=t-n,r=s-n,y=t+n,b=s+n,n*=n);T=h.pop();)if(!(!(x=T.node)||(d=T.x0)>y||(l=T.y0)>b||(f=T.x1)<i||(a=T.y1)<r))if(x.length){var c=(d+f)/2,p=(l+a)/2;h.push(new V(x[3],c,p,f,a),new V(x[2],d,p,c,a),new V(x[1],c,l,f,p),new V(x[0],d,l,c,p)),(u=(s>=p)<<1|t>=c)&&(T=h[h.length-1],h[h.length-1]=h[h.length-1-u],h[h.length-1-u]=T)}else{var j=t-+this._x.call(null,x.data),k=s-+this._y.call(null,x.data),v=j*j+k*k;if(v<n){var M=Math.sqrt(n=v);i=t-M,r=s-M,y=t+M,b=s+M,o=x.data}}return o}function ts(t){if(isNaN(y=+this._x.call(null,t))||isNaN(b=+this._y.call(null,t)))return this;var s,n=this._root,o,i,r,d=this._x0,l=this._y0,f=this._x1,a=this._y1,y,b,h,x,T,u,c,p;if(!n)return this;if(n.length)for(;;){if((T=y>=(h=(d+f)/2))?d=h:f=h,(u=b>=(x=(l+a)/2))?l=x:a=x,s=n,!(n=n[c=u<<1|T]))return this;if(!n.length)break;(s[c+1&3]||s[c+2&3]||s[c+3&3])&&(o=s,p=c)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(r=n.next)&&delete n.next,i?(r?i.next=r:delete i.next,this):s?(r?s[c]=r:delete s[c],(n=s[0]||s[1]||s[2]||s[3])&&n===(s[3]||s[2]||s[1]||s[0])&&!n.length&&(o?o[p]=n:this._root=n),this):(this._root=r,this)}function ss(t){for(var s=0,n=t.length;s<n;++s)this.remove(t[s]);return this}function ns(){return this._root}function is(){var t=0;return this.visit(function(s){if(!s.length)do++t;while(s=s.next)}),t}function rs(t){var s=[],n,o=this._root,i,r,d,l,f;for(o&&s.push(new V(o,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(o=n.node,r=n.x0,d=n.y0,l=n.x1,f=n.y1)&&o.length){var a=(r+l)/2,y=(d+f)/2;(i=o[3])&&s.push(new V(i,a,y,l,f)),(i=o[2])&&s.push(new V(i,r,y,a,f)),(i=o[1])&&s.push(new V(i,a,d,l,y)),(i=o[0])&&s.push(new V(i,r,d,a,y))}return this}function as(t){var s=[],n=[],o;for(this._root&&s.push(new V(this._root,this._x0,this._y0,this._x1,this._y1));o=s.pop();){var i=o.node;if(i.length){var r,d=o.x0,l=o.y0,f=o.x1,a=o.y1,y=(d+f)/2,b=(l+a)/2;(r=i[0])&&s.push(new V(r,d,l,y,b)),(r=i[1])&&s.push(new V(r,y,l,f,b)),(r=i[2])&&s.push(new V(r,d,b,y,a)),(r=i[3])&&s.push(new V(r,y,b,f,a))}n.push(o)}for(;o=n.pop();)t(o.node,o.x0,o.y0,o.x1,o.y1);return this}function os(t){return t[0]}function ls(t){return arguments.length?(this._x=t,this):this._x}function cs(t){return t[1]}function ds(t){return arguments.length?(this._y=t,this):this._y}function Me(t,s,n){var o=new Ne(s??os,n??cs,NaN,NaN,NaN,NaN);return t==null?o:o.addAll(t)}function Ne(t,s,n,o,i,r){this._x=t,this._y=s,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function Qe(t){for(var s={data:t.data},n=s;t=t.next;)n=n.next={data:t.data};return s}var X=Me.prototype=Ne.prototype;X.copy=function(){var t=new Ne(this._x,this._y,this._x0,this._y0,this._x1,this._y1),s=this._root,n,o;if(!s)return t;if(!s.length)return t._root=Qe(s),t;for(n=[{source:s,target:t._root=new Array(4)}];s=n.pop();)for(var i=0;i<4;++i)(o=s.source[i])&&(o.length?n.push({source:o,target:s.target[i]=new Array(4)}):s.target[i]=Qe(o));return t};X.add=qt;X.addAll=Ht;X.cover=Jt;X.data=Kt;X.extent=Ut;X.find=es;X.remove=ts;X.removeAll=ss;X.root=ns;X.size=is;X.visit=rs;X.visitAfter=as;X.x=ls;X.y=ds;function ne(t){return function(){return t}}function se(t){return(t()-.5)*1e-6}function hs(t){return t.x+t.vx}function us(t){return t.y+t.vy}function ps(t){var s,n,o,i=1,r=1;typeof t!="function"&&(t=ne(t==null?1:+t));function d(){for(var a,y=s.length,b,h,x,T,u,c,p=0;p<r;++p)for(b=Me(s,hs,us).visitAfter(l),a=0;a<y;++a)h=s[a],u=n[h.index],c=u*u,x=h.x+h.vx,T=h.y+h.vy,b.visit(j);function j(k,v,M,D,W){var g=k.data,S=k.r,B=u+S;if(g){if(g.index>h.index){var F=x-g.x-g.vx,N=T-g.y-g.vy,w=F*F+N*N;w<B*B&&(F===0&&(F=se(o),w+=F*F),N===0&&(N=se(o),w+=N*N),w=(B-(w=Math.sqrt(w)))/w*i,h.vx+=(F*=w)*(B=(S*=S)/(c+S)),h.vy+=(N*=w)*B,g.vx-=F*(B=1-B),g.vy-=N*B)}return}return v>x+B||D<x-B||M>T+B||W<T-B}}function l(a){if(a.data)return a.r=n[a.data.index];for(var y=a.r=0;y<4;++y)a[y]&&a[y].r>a.r&&(a.r=a[y].r)}function f(){if(s){var a,y=s.length,b;for(n=new Array(y),a=0;a<y;++a)b=s[a],n[b.index]=+t(b,a,s)}}return d.initialize=function(a,y){s=a,o=y,f()},d.iterations=function(a){return arguments.length?(r=+a,d):r},d.strength=function(a){return arguments.length?(i=+a,d):i},d.radius=function(a){return arguments.length?(t=typeof a=="function"?a:ne(+a),f(),d):t},d}function xs(t){return t.index}function We(t,s){var n=t.get(s);if(!n)throw new Error("node not found: "+s);return n}function gs(t){var s=xs,n=b,o,i=ne(30),r,d,l,f,a,y=1;t==null&&(t=[]);function b(c){return 1/Math.min(l[c.source.index],l[c.target.index])}function h(c){for(var p=0,j=t.length;p<y;++p)for(var k=0,v,M,D,W,g,S,B;k<j;++k)v=t[k],M=v.source,D=v.target,W=D.x+D.vx-M.x-M.vx||se(a),g=D.y+D.vy-M.y-M.vy||se(a),S=Math.sqrt(W*W+g*g),S=(S-r[k])/S*c*o[k],W*=S,g*=S,D.vx-=W*(B=f[k]),D.vy-=g*B,M.vx+=W*(B=1-B),M.vy+=g*B}function x(){if(d){var c,p=d.length,j=t.length,k=new Map(d.map((M,D)=>[s(M,D,d),M])),v;for(c=0,l=new Array(p);c<j;++c)v=t[c],v.index=c,typeof v.source!="object"&&(v.source=We(k,v.source)),typeof v.target!="object"&&(v.target=We(k,v.target)),l[v.source.index]=(l[v.source.index]||0)+1,l[v.target.index]=(l[v.target.index]||0)+1;for(c=0,f=new Array(j);c<j;++c)v=t[c],f[c]=l[v.source.index]/(l[v.source.index]+l[v.target.index]);o=new Array(j),T(),r=new Array(j),u()}}function T(){if(d)for(var c=0,p=t.length;c<p;++c)o[c]=+n(t[c],c,t)}function u(){if(d)for(var c=0,p=t.length;c<p;++c)r[c]=+i(t[c],c,t)}return h.initialize=function(c,p){d=c,a=p,x()},h.links=function(c){return arguments.length?(t=c,x(),h):t},h.id=function(c){return arguments.length?(s=c,h):s},h.iterations=function(c){return arguments.length?(y=+c,h):y},h.strength=function(c){return arguments.length?(n=typeof c=="function"?c:ne(+c),T(),h):n},h.distance=function(c){return arguments.length?(i=typeof c=="function"?c:ne(+c),u(),h):i},h}const ms=1664525,fs=1013904223,Fe=4294967296;function ys(){let t=1;return()=>(t=(ms*t+fs)%Fe)/Fe}function js(t){return t.x}function vs(t){return t.y}var bs=10,_s=Math.PI*(3-Math.sqrt(5));function ws(t){var s,n=1,o=.001,i=1-Math.pow(o,1/300),r=0,d=.6,l=new Map,f=wt(b),a=Tt("tick","end"),y=ys();t==null&&(t=[]);function b(){h(),a.call("tick",s),n<o&&(f.stop(),a.call("end",s))}function h(u){var c,p=t.length,j;u===void 0&&(u=1);for(var k=0;k<u;++k)for(n+=(r-n)*i,l.forEach(function(v){v(n)}),c=0;c<p;++c)j=t[c],j.fx==null?j.x+=j.vx*=d:(j.x=j.fx,j.vx=0),j.fy==null?j.y+=j.vy*=d:(j.y=j.fy,j.vy=0);return s}function x(){for(var u=0,c=t.length,p;u<c;++u){if(p=t[u],p.index=u,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),isNaN(p.x)||isNaN(p.y)){var j=bs*Math.sqrt(.5+u),k=u*_s;p.x=j*Math.cos(k),p.y=j*Math.sin(k)}(isNaN(p.vx)||isNaN(p.vy))&&(p.vx=p.vy=0)}}function T(u){return u.initialize&&u.initialize(t,y),u}return x(),s={tick:h,restart:function(){return f.restart(b),s},stop:function(){return f.stop(),s},nodes:function(u){return arguments.length?(t=u,x(),l.forEach(T),s):t},alpha:function(u){return arguments.length?(n=+u,s):n},alphaMin:function(u){return arguments.length?(o=+u,s):o},alphaDecay:function(u){return arguments.length?(i=+u,s):+i},alphaTarget:function(u){return arguments.length?(r=+u,s):r},velocityDecay:function(u){return arguments.length?(d=1-u,s):1-d},randomSource:function(u){return arguments.length?(y=u,l.forEach(T),s):y},force:function(u,c){return arguments.length>1?(c==null?l.delete(u):l.set(u,T(c)),s):l.get(u)},find:function(u,c,p){var j=0,k=t.length,v,M,D,W,g;for(p==null?p=1/0:p*=p,j=0;j<k;++j)W=t[j],v=u-W.x,M=c-W.y,D=v*v+M*M,D<p&&(g=W,p=D);return g},on:function(u,c){return arguments.length>1?(a.on(u,c),s):a.on(u)}}}function Ts(){var t,s,n,o,i=ne(-30),r,d=1,l=1/0,f=.81;function a(x){var T,u=t.length,c=Me(t,js,vs).visitAfter(b);for(o=x,T=0;T<u;++T)s=t[T],c.visit(h)}function y(){if(t){var x,T=t.length,u;for(r=new Array(T),x=0;x<T;++x)u=t[x],r[u.index]=+i(u,x,t)}}function b(x){var T=0,u,c,p=0,j,k,v;if(x.length){for(j=k=v=0;v<4;++v)(u=x[v])&&(c=Math.abs(u.value))&&(T+=u.value,p+=c,j+=c*u.x,k+=c*u.y);x.x=j/p,x.y=k/p}else{u=x,u.x=u.data.x,u.y=u.data.y;do T+=r[u.data.index];while(u=u.next)}x.value=T}function h(x,T,u,c){if(!x.value)return!0;var p=x.x-s.x,j=x.y-s.y,k=c-T,v=p*p+j*j;if(k*k/f<v)return v<l&&(p===0&&(p=se(n),v+=p*p),j===0&&(j=se(n),v+=j*j),v<d&&(v=Math.sqrt(d*v)),s.vx+=p*x.value*o/v,s.vy+=j*x.value*o/v),!0;if(x.length||v>=l)return;(x.data!==s||x.next)&&(p===0&&(p=se(n),v+=p*p),j===0&&(j=se(n),v+=j*j),v<d&&(v=Math.sqrt(d*v)));do x.data!==s&&(k=r[x.data.index]*o/v,s.vx+=p*k,s.vy+=j*k);while(x=x.next)}return a.initialize=function(x,T){t=x,n=T,y()},a.strength=function(x){return arguments.length?(i=typeof x=="function"?x:ne(+x),y(),a):i},a.distanceMin=function(x){return arguments.length?(d=x*x,a):Math.sqrt(d)},a.distanceMax=function(x){return arguments.length?(l=x*x,a):Math.sqrt(l)},a.theta=function(x){return arguments.length?(f=x*x,a):Math.sqrt(f)},a}const Cs=[{id:"business_scenario_plane",name:"业务场景平面",level:1,color:"#e6f7ff",borderColor:"#1890ff",description:"核心业务场景和用户旅程"},{id:"business_link_plane",name:"业务链路平面",level:2,color:"#f6ffed",borderColor:"#52c41a",description:"业务场景的具体执行链路"},{id:"application_plane",name:"应用平面",level:3,color:"#fff7e6",borderColor:"#faad14",description:"业务系统和应用服务层"},{id:"middleware_plane",name:"中间件平面",level:4,color:"#f9f0ff",borderColor:"#722ed1",description:"中间件和基础服务层"},{id:"infrastructure_plane",name:"基础设施平面",level:5,color:"#fff2f0",borderColor:"#f5222d",description:"基础设施和资源层"}],Ss=[{id:"business_scenario_1",name:"电商下单场景",type:"business_scenario",level:1,plane:"business_scenario_plane",description:"用户在电商平台完成商品购买的完整流程",status:"active"},{id:"business_scenario_2",name:"支付结算场景",type:"business_scenario",level:1,plane:"business_scenario_plane",description:"处理用户支付和商户结算的完整业务场景",status:"active"},{id:"business_link_1",name:"用户下单链路",type:"business_link",level:2,plane:"business_link_plane",description:"从商品选择到订单确认的业务链路",status:"active"},{id:"business_link_2",name:"支付处理链路",type:"business_link",level:2,plane:"business_link_plane",description:"支付验证、扣款、确认的业务链路",status:"active"},{id:"business_link_3",name:"风控审核链路",type:"business_link",level:2,plane:"business_link_plane",description:"交易风险识别和安全审核链路",status:"active"},{id:"business_link_4",name:"资金结算链路",type:"business_link",level:2,plane:"business_link_plane",description:"商户资金结算和清分业务链路",status:"active"},{id:"system_1",name:"用户中心系统",type:"business_system",level:3,plane:"application_plane",description:"管理用户信息、认证、权限的核心系统",status:"running",version:"v2.1.0",instances:6},{id:"system_2",name:"商品管理系统",type:"business_system",level:3,plane:"application_plane",description:"商品信息、价格、促销管理系统",status:"running",version:"v1.8.2",instances:4},{id:"system_3",name:"订单管理系统",type:"business_system",level:3,plane:"application_plane",description:"订单生命周期管理的核心系统",status:"running",version:"v3.0.1",instances:8},{id:"system_4",name:"支付网关系统",type:"business_system",level:3,plane:"application_plane",description:"统一支付接入和路由系统",status:"running",version:"v1.9.3",instances:10},{id:"system_5",name:"钱包系统",type:"business_system",level:3,plane:"application_plane",description:"用户钱包余额和虚拟账户管理系统",status:"running",version:"v2.3.1",instances:8},{id:"system_6",name:"风控系统",type:"business_system",level:3,plane:"application_plane",description:"交易风险识别和反欺诈系统",status:"running",version:"v1.7.2",instances:6},{id:"system_7",name:"清结算系统",type:"business_system",level:3,plane:"application_plane",description:"资金清分和商户结算系统",status:"running",version:"v2.0.5",instances:4},{id:"system_8",name:"账务系统",type:"business_system",level:3,plane:"application_plane",description:"资金流水和账务记录系统",status:"running",version:"v1.5.8",instances:6},{id:"middleware_1",name:"API网关",type:"middleware",level:4,plane:"middleware_plane",description:"统一API接入、路由、限流、认证网关",status:"running",technology:"Kong",instances:6},{id:"middleware_2",name:"消息队列",type:"middleware",level:4,plane:"middleware_plane",description:"异步消息处理和事件驱动架构支撑",status:"running",technology:"RocketMQ",instances:9},{id:"middleware_3",name:"规则引擎",type:"middleware",level:4,plane:"middleware_plane",description:"风控规则和业务规则执行引擎",status:"running",technology:"Drools",instances:4},{id:"infrastructure_1",name:"Kubernetes集群",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"容器编排和微服务运行平台",status:"running",nodes:24,region:"华东-1"},{id:"db_cluster_payment",name:"支付数据库集群",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"支付交易专用高可用MySQL集群",status:"running",technology:"MySQL 8.0",nodes:10,config:"2主8从",region:"华东-1",databases:["payment_core","wallet_account","transaction_log"]},{id:"db_cluster_risk",name:"风控数据库集群",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"风控数据和规则存储MySQL集群",status:"running",technology:"MySQL 8.0",nodes:6,config:"1主5从",region:"华东-1",databases:["risk_control","fraud_detection","rule_engine"]},{id:"db_cluster_settlement",name:"清结算数据库集群",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"资金清算和结算数据MySQL集群",status:"running",technology:"MySQL 8.0",nodes:8,config:"2主6从",region:"华东-1",databases:["settlement_core","accounting_ledger","merchant_account"]}],ks=[{source:"business_scenario_1",target:"business_link_1",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_2",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_3",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_4",type:"contains",strength:1},{source:"business_link_1",target:"system_1",type:"depends_on",strength:.9},{source:"business_link_1",target:"system_2",type:"depends_on",strength:.8},{source:"business_link_1",target:"system_3",type:"depends_on",strength:1},{source:"business_link_2",target:"system_4",type:"depends_on",strength:1},{source:"business_link_2",target:"system_5",type:"depends_on",strength:.9},{source:"business_link_3",target:"system_6",type:"depends_on",strength:1},{source:"business_link_4",target:"system_7",type:"depends_on",strength:1},{source:"business_link_4",target:"system_8",type:"depends_on",strength:.9},{source:"system_4",target:"middleware_1",type:"uses",strength:1},{source:"system_5",target:"middleware_1",type:"uses",strength:.9},{source:"system_6",target:"middleware_3",type:"uses",strength:1},{source:"system_7",target:"middleware_2",type:"uses",strength:.9},{source:"system_8",target:"middleware_2",type:"uses",strength:.8},{source:"middleware_1",target:"infrastructure_1",type:"runs_on",strength:1},{source:"middleware_2",target:"infrastructure_1",type:"runs_on",strength:1},{source:"middleware_3",target:"infrastructure_1",type:"runs_on",strength:1},{source:"system_4",target:"db_cluster_payment",type:"stores_in",strength:1},{source:"system_5",target:"db_cluster_payment",type:"stores_in",strength:1},{source:"system_6",target:"db_cluster_risk",type:"stores_in",strength:1},{source:"system_7",target:"db_cluster_settlement",type:"stores_in",strength:1},{source:"system_8",target:"db_cluster_settlement",type:"stores_in",strength:1}],zs={title:"电商平台业务关系图谱",description:"从业务场景到基础设施的完整技术架构关系图",levels:[{level:1,name:"业务场景层",description:"核心业务场景和用户旅程",color:"#1890ff"},{level:2,name:"业务链路层",description:"业务场景的具体执行链路",color:"#52c41a"},{level:3,name:"业务系统层",description:"支撑业务链路的应用系统",color:"#faad14"},{level:4,name:"中间件层",description:"系统间通信和基础服务中间件",color:"#722ed1"},{level:5,name:"基础设施层",description:"底层计算、存储、网络基础设施",color:"#f5222d"}],relationTypes:[{type:"contains",description:"包含关系",color:"#1890ff",strokeWidth:3},{type:"depends_on",description:"依赖关系",color:"#52c41a",strokeWidth:2},{type:"uses",description:"使用关系",color:"#faad14",strokeWidth:2},{type:"runs_on",description:"运行关系",color:"#722ed1",strokeWidth:2},{type:"stores_in",description:"存储关系",color:"#f5222d",strokeWidth:1}]},Is={planes:Cs,nodes:Ss,links:ks,metadata:zs},Bs=P.div`
  width: 100%;
  height: 800px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  position: relative;
  background-color: var(--background-color);
  overflow: hidden;
`,Rs=P.div`
  position: absolute;
  top: 16px;
  right: 16px;
  z-index: 10;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 8px;
  box-shadow: var(--card-shadow);
`,Ms=P.div`
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 10;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px;
  box-shadow: var(--card-shadow);
  max-width: 300px;
`,Ns=P.div`
  position: absolute;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px;
  box-shadow: var(--card-shadow);
  pointer-events: none;
  z-index: 20;
  max-width: 250px;
  font-size: 12px;
  line-height: 1.4;
`,et=()=>{var W;const{t}=Ve(["relationships","common"]),s=G.useRef(null),n=G.useRef(null),[o,i]=G.useState(!0),[r,d]=G.useState(null),[l,f]=G.useState(null),[a,y]=G.useState(null),[b,h]=G.useState(null),x=(g,S)=>({1:"#1890ff",2:"#52c41a",3:"#faad14",4:"#722ed1",5:"#f5222d"})[S]||"#8c8c8c",T=g=>({contains:"#1890ff",depends_on:"#52c41a",uses:"#faad14",runs_on:"#722ed1",stores_in:"#f5222d",logs_to:"#8c8c8c"})[g]||"#d9d9d9",u=g=>({1:20,2:16,3:14,4:12,5:10})[g]||12,c=(g,S,B,F)=>{if(S.filter(le=>le.plane===g.id).length===0)return null;const w=F/5;return{x:50,y:(g.level-1)*w+50,width:B-100,height:w-20,rx:12,ry:12}},p=()=>{if(!s.current||!n.current||!l)return;const g=n.current,S=$e(s.current),B=g.clientWidth,F=g.clientHeight;S.selectAll("*").remove(),S.attr("width",B).attr("height",F);const N=St().scaleExtent([.1,3]).on("zoom",m=>{w.attr("transform",m.transform)});S.call(N);const w=S.append("g");w.append("g").attr("class","planes").selectAll("g").data(l.planes).enter().append("g").attr("class","plane").each(function(m){const C=c(m,l.nodes,B,F);if(!C)return;const L=$e(this);L.append("rect").attr("x",C.x).attr("y",C.y).attr("width",C.width).attr("height",C.height).attr("rx",C.rx).attr("ry",C.ry).attr("fill",m.color).attr("stroke",m.borderColor).attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("opacity",.3),L.append("text").attr("x",C.x+20).attr("y",C.y+25).attr("font-size","16px").attr("font-weight","bold").attr("fill",m.borderColor).text(m.name),L.append("text").attr("x",C.x+20).attr("y",C.y+45).attr("font-size","12px").attr("fill","var(--text-secondary)").text(m.description)});const Q=ws(l.nodes).force("link",gs(l.links).id(m=>m.id).distance(m=>{const C=m.source.level,L=m.target.level;return Math.abs(C-L)===1?80:120}).strength(m=>m.strength)).force("charge",Ts().strength(-200)).force("center",Zt(B/2,F/2)).force("collision",ps().radius(m=>u(m.level)+8)).force("plane",()=>{l.nodes.forEach(m=>{const C=l.planes.find(ue=>ue.id===m.plane);if(!C)return;const L=c(C,l.nodes,B,F);if(!L)return;const I=30,K=L.x+I,q=L.x+L.width-I,ce=L.y+I+50,de=L.y+L.height-I;m.x<K&&(m.x=K),m.x>q&&(m.x=q),m.y<ce&&(m.y=ce),m.y>de&&(m.y=de)})}),le=w.append("defs");l.metadata.relationTypes.forEach(m=>{le.append("marker").attr("id",`arrow-${m.type}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill",m.color)});const ve=w.append("g").attr("class","links").selectAll("line").data(l.links).enter().append("line").attr("stroke",m=>T(m.type)).attr("stroke-width",m=>{const C=l.metadata.relationTypes.find(L=>L.type===m.type);return(C==null?void 0:C.strokeWidth)||1}).attr("stroke-opacity",.8).attr("marker-end",m=>`url(#arrow-${m.type})`),re=w.append("g").attr("class","nodes").selectAll("g").data(l.nodes).enter().append("g").attr("class","node").call(kt().on("start",(m,C)=>{m.active||Q.alphaTarget(.3).restart(),C.fx=C.x,C.fy=C.y}).on("drag",(m,C)=>{C.fx=m.x,C.fy=m.y}).on("end",(m,C)=>{m.active||Q.alphaTarget(0);const L=l.planes.find(I=>I.id===C.plane);if(L){const I=c(L,l.nodes,B,F);if(I){const q=I.x+30,ce=I.x+I.width-30,de=I.y+30+50,ue=I.y+I.height-30;C.fx<q&&(C.fx=q),C.fx>ce&&(C.fx=ce),C.fy<de&&(C.fy=de),C.fy>ue&&(C.fy=ue)}}}));re.append("circle").attr("r",m=>u(m.level)).attr("fill",m=>x(m.type,m.level)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer"),re.append("text").text(m=>m.name).attr("x",0).attr("y",m=>u(m.level)+15).attr("text-anchor","middle").attr("font-size","10px").attr("fill","var(--text-color)").style("pointer-events","none"),re.on("mouseover",(m,C)=>{const L=new Set;L.add(C.id),l.links.forEach(I=>{const K=typeof I.source=="string"?I.source:I.source.id,q=typeof I.target=="string"?I.target:I.target.id;K===C.id&&L.add(q),q===C.id&&L.add(K)}),re.style("opacity",I=>L.has(I.id)?1:.3),ve.style("opacity",I=>{const K=typeof I.source=="string"?I.source:I.source.id,q=typeof I.target=="string"?I.target:I.target.id;return K===C.id||q===C.id?1:.1}),h({x:m.pageX+10,y:m.pageY-10,content:C})}).on("mouseout",()=>{re.style("opacity",1),ve.style("opacity",.8),h(null)}).on("click",(m,C)=>{y(C)}),Q.on("tick",()=>{ve.attr("x1",m=>m.source.x).attr("y1",m=>m.source.y).attr("x2",m=>m.target.x).attr("y2",m=>m.target.y),re.attr("transform",m=>`translate(${m.x},${m.y})`)});const tt=()=>{S.transition().call(N.scaleBy,1.5)},st=()=>{S.transition().call(N.scaleBy,1/1.5)},nt=()=>{S.transition().call(N.transform,Ct)},it=()=>{l.nodes.forEach(m=>{m.fx=null,m.fy=null}),Q.alpha(1).restart()};s.current.zoomIn=tt,s.current.zoomOut=st,s.current.resetZoom=nt,s.current.resetNodePositions=it};G.useEffect(()=>{try{i(!0),f(Is),d(null)}catch{d("Failed to load relationship data")}finally{i(!1)}},[]),G.useEffect(()=>{if(l&&!o){const g=setTimeout(()=>{p()},100);return()=>clearTimeout(g)}},[l,o]),G.useEffect(()=>{const g=()=>{l&&!o&&p()};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[l,o]);const j=()=>{var g,S;(S=(g=s.current)==null?void 0:g.zoomIn)==null||S.call(g)},k=()=>{var g,S;(S=(g=s.current)==null?void 0:g.zoomOut)==null||S.call(g)},v=()=>{var g,S;(S=(g=s.current)==null?void 0:g.resetZoom)==null||S.call(g)},M=()=>{var g,S;(S=(g=s.current)==null?void 0:g.resetNodePositions)==null||S.call(g)},D=()=>{p()};return o?e.jsx(Z,{children:e.jsxs("div",{style:{textAlign:"center",padding:"100px 0"},children:[e.jsx(ht,{size:"large"}),e.jsx("div",{style:{marginTop:16},children:"Loading relationship graph..."})]})}):r?e.jsx(Z,{children:e.jsx(ut,{message:"Error",description:r,type:"error",showIcon:!0})}):e.jsxs(Z,{title:t("relationships:businessRelationshipGraph"),style:{marginBottom:24},children:[e.jsxs(Bs,{ref:n,children:[e.jsx("svg",{ref:s}),e.jsx(Rs,{children:e.jsxs($,{direction:"vertical",size:"small",children:[e.jsx(A,{size:"small",icon:e.jsx(pt,{}),onClick:j,title:t("relationships:zoomIn")}),e.jsx(A,{size:"small",icon:e.jsx(xt,{}),onClick:k,title:t("relationships:zoomOut")}),e.jsx(A,{size:"small",icon:e.jsx(gt,{}),onClick:v,title:t("relationships:resetView")}),e.jsx(A,{size:"small",icon:e.jsx(mt,{}),onClick:M,title:t("relationships:resetNodePositions")}),e.jsx(A,{size:"small",icon:e.jsx(he,{}),onClick:D,title:t("relationships:refreshGraph")})]})}),e.jsxs(Ms,{children:[e.jsx("div",{style:{marginBottom:12,fontWeight:"bold",fontSize:"14px"},children:t("relationships:legend")}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:planes"),":"]}),l==null?void 0:l.planes.map(g=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:16,height:12,backgroundColor:g.color,border:`1px solid ${g.borderColor}`,borderRadius:2,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:g.name})]},g.id))]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:nodeTypes"),":"]}),l==null?void 0:l.metadata.levels.map(g=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:g.color,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:g.name})]},g.level))]}),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:relationTypes"),":"]}),l==null?void 0:l.metadata.relationTypes.map(g=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:16,height:2,backgroundColor:g.color,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:g.description})]},g.type))]})]}),b&&e.jsxs(Ns,{style:{left:b.x,top:b.y},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:b.content.name}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:type"),": ",b.content.type]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:level"),": ",b.content.level]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:plane"),": ",b.content.plane]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:status"),":",e.jsx(_,{color:b.content.status==="active"||b.content.status==="running"?"green":"red",size:"small",style:{marginLeft:4},children:b.content.status})]}),e.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:b.content.description})]})]}),a&&e.jsx(Z,{title:`${t("relationships:nodeDetails")}: ${a.name}`,size:"small",style:{marginTop:16},extra:e.jsx(A,{size:"small",onClick:()=>y(null),children:t("common:close")}),children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:basicInfo"),":"]}),e.jsxs("div",{children:["ID: ",a.id]}),e.jsxs("div",{children:[t("relationships:type"),": ",a.type]}),e.jsxs("div",{children:[t("relationships:level"),": ",a.level]}),e.jsxs("div",{children:[t("relationships:plane"),": ",a.plane]}),e.jsxs("div",{children:[t("relationships:status"),": ",e.jsx(_,{color:a.status==="active"||a.status==="running"?"green":"red",children:a.status})]})]}),e.jsxs("div",{children:[e.jsxs("strong",{children:[t("common:description"),":"]}),e.jsx("div",{children:a.description})]}),a.instances&&e.jsxs("div",{children:[e.jsx("strong",{children:"实例信息:"}),e.jsxs("div",{children:["实例数: ",a.instances]}),a.version&&e.jsxs("div",{children:["版本: ",a.version]}),a.technology&&e.jsxs("div",{children:["技术栈: ",a.technology]})]}),a.nodes&&e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:clusterInfo"),":"]}),e.jsxs("div",{children:[t("relationships:nodeCount"),": ",a.nodes]}),a.config&&e.jsxs("div",{children:[t("relationships:config"),": ",a.config]}),a.technology&&e.jsxs("div",{children:[t("relationships:technology"),": ",a.technology]}),a.region&&e.jsxs("div",{children:[t("relationships:region"),": ",a.region]})]}),a.databases&&e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:databases"),":"]}),e.jsx("div",{style:{marginTop:4},children:a.databases.map((g,S)=>e.jsx(_,{color:"blue",style:{marginBottom:4},children:g},S))})]}),a.metrics&&e.jsxs("div",{children:[e.jsx("strong",{children:"业务指标:"}),e.jsxs("div",{children:["日均量: ",(W=a.metrics.dailyVolume)==null?void 0:W.toLocaleString()]}),e.jsxs("div",{children:["成功率: ",a.metrics.successRate,"%"]})]})]})})]})},$s=[{id:"report_001",name:"日销售报表",type:"report",category:"业务报表",status:"active",description:"每日销售数据统计报表，包含订单量、销售额、转化率等关键指标",owner:"数据分析团队",updateFrequency:"每日",lastUpdated:"2024-12-17 08:00:00",dataSource:["order_center","payment_core"],metrics:{viewCount:1250,exportCount:89,avgLoadTime:"2.3s"},tags:["销售","日报","核心指标"]},{id:"report_002",name:"用户行为分析报表",type:"report",category:"用户报表",status:"active",description:"用户访问路径、停留时间、转化漏斗分析报表",owner:"产品运营团队",updateFrequency:"实时",lastUpdated:"2024-12-17 14:30:00",dataSource:["user_behavior","page_analytics"],metrics:{viewCount:890,exportCount:45,avgLoadTime:"1.8s"},tags:["用户行为","实时","转化分析"]},{id:"business_link_001",name:"用户注册链路",type:"business_link",category:"用户管理",status:"running",description:"用户从注册到激活的完整业务流程",owner:"用户中心团队",avgResponseTime:"850ms",successRate:98.5,dailyVolume:2500,dependencies:["user_service","sms_service","email_service"],sla:{responseTime:"< 1s",availability:"99.9%",errorRate:"< 0.1%"},tags:["用户注册","核心链路","高频"]},{id:"business_link_002",name:"订单支付链路",type:"business_link",category:"交易管理",status:"running",description:"从下单到支付完成的核心交易链路",owner:"交易团队",avgResponseTime:"1.2s",successRate:99.2,dailyVolume:15e3,dependencies:["order_service","payment_gateway","risk_control"],sla:{responseTime:"< 2s",availability:"99.95%",errorRate:"< 0.05%"},tags:["订单支付","核心链路","高可用"]},{id:"system_001",name:"用户中心系统",type:"business_system",category:"核心系统",status:"running",description:"统一用户管理、认证、权限控制系统",owner:"基础架构团队",version:"v2.1.0",instances:6,technology:"Spring Boot + MySQL",resources:{cpu:"24 cores",memory:"48GB",storage:"500GB"},metrics:{qps:5e3,responseTime:"120ms",errorRate:"0.02%"},tags:["用户管理","核心系统","微服务"]},{id:"system_002",name:"订单管理系统",type:"business_system",category:"核心系统",status:"running",description:"订单全生命周期管理系统",owner:"订单团队",version:"v3.0.1",instances:8,technology:"Spring Cloud + MySQL",resources:{cpu:"32 cores",memory:"64GB",storage:"1TB"},metrics:{qps:8e3,responseTime:"200ms",errorRate:"0.01%"},tags:["订单管理","核心系统","高并发"]},{id:"api_001",name:"用户登录接口",type:"api",category:"用户接口",status:"active",description:"用户登录认证接口，支持多种登录方式",owner:"用户中心团队",method:"POST",path:"/api/v1/user/login",version:"v1.2",responseTime:"95ms",qps:1200,successRate:99.8,rateLimit:"1000/min",authentication:"JWT Token",tags:["用户登录","高频接口","认证"]},{id:"api_002",name:"订单创建接口",type:"api",category:"交易接口",status:"active",description:"创建新订单的核心接口",owner:"订单团队",method:"POST",path:"/api/v1/order/create",version:"v2.0",responseTime:"180ms",qps:800,successRate:99.5,rateLimit:"500/min",authentication:"Bearer Token",tags:["订单创建","核心接口","交易"]},{id:"database_001",name:"用户数据库集群",type:"database",category:"MySQL集群",status:"running",description:"用户相关数据存储的MySQL主从集群",owner:"DBA团队",technology:"MySQL 8.0",config:"1主4从",nodes:5,storage:"2TB",connections:500,qps:15e3,region:"华东-1",backup:"每日全量+实时增量",tags:["用户数据","MySQL","主从集群"]},{id:"database_002",name:"订单数据库集群",type:"database",category:"MySQL集群",status:"running",description:"订单交易数据存储的MySQL分库分表集群",owner:"DBA团队",technology:"MySQL 8.0",config:"2主6从",nodes:8,storage:"5TB",connections:800,qps:25e3,region:"华东-1",backup:"每日全量+实时增量",tags:["订单数据","MySQL","分库分表"]},{id:"table_001",name:"用户基础信息表",type:"table",category:"用户表",status:"active",description:"存储用户基础信息的核心表",owner:"用户中心团队",database:"user_center",tableName:"user_basic_info",rowCount:5e6,dataSize:"2.5GB",indexCount:8,partitions:12,lastAnalyzed:"2024-12-17 02:00:00",growthRate:"1000/day",tags:["用户信息","核心表","大表"]},{id:"table_002",name:"订单主表",type:"table",category:"订单表",status:"active",description:"存储订单主要信息的核心表",owner:"订单团队",database:"order_center",tableName:"order_main",rowCount:2e7,dataSize:"15GB",indexCount:12,partitions:24,lastAnalyzed:"2024-12-17 01:30:00",growthRate:"5000/day",tags:["订单信息","核心表","分区表"]},{id:"middleware_001",name:"Redis缓存集群",type:"middleware",category:"缓存中间件",status:"running",description:"分布式缓存集群，提供高性能数据访问",owner:"基础架构团队",technology:"Redis 7.0",config:"3主6从",nodes:9,memory:"256GB",hitRate:95.8,qps:5e4,region:"华东-1",tags:["缓存","Redis","高性能"]},{id:"middleware_002",name:"消息队列集群",type:"middleware",category:"消息中间件",status:"running",description:"异步消息处理和事件驱动架构支撑",owner:"基础架构团队",technology:"RocketMQ",config:"3节点集群",nodes:3,topics:45,dailyMessages:1e7,storage:"1TB",region:"华东-1",tags:["消息队列","RocketMQ","异步处理"]},{id:"service_001",name:"用户认证服务",type:"microservice",category:"基础服务",status:"running",description:"提供统一用户认证和授权服务",owner:"用户中心团队",version:"v1.8.0",instances:4,language:"Java",framework:"Spring Boot",port:8080,healthCheck:"/health",metrics:{qps:2e3,responseTime:"80ms",errorRate:"0.01%"},tags:["认证服务","微服务","基础组件"]},{id:"job_001",name:"订单状态同步任务",type:"scheduled_job",category:"数据同步",status:"running",description:"定时同步订单状态到数据仓库",owner:"数据团队",schedule:"0 */5 * * * *",lastRun:"2024-12-17 14:25:00",nextRun:"2024-12-17 14:30:00",avgDuration:"45s",successRate:99.5,processedRecords:15e3,tags:["定时任务","数据同步","订单"]},{id:"config_001",name:"支付配置中心",type:"configuration",category:"业务配置",status:"active",description:"支付相关的配置参数管理",owner:"支付团队",configCount:156,environment:"production",lastModified:"2024-12-17 10:15:00",version:"v2.3.1",encrypted:!0,tags:["支付配置","配置中心","生产环境"]}],Es={entities:$s},{Title:we,Paragraph:Te}=H,{Search:Ps}=vt,{Option:Y}=Be,Ls=P.div`
  padding: 24px;
`,As=P.div`
  margin-bottom: 24px;
`,Oe=P.div`
  min-height: 500px;
`,U=P(Z)`
  .ant-card-body {
    padding: 16px;
  }
`,Gs=P.div`
  margin-bottom: 24px;
  padding: 16px;
  background: var(--card-bg);
  border-radius: 8px;
  border: 1px solid var(--border-color);
`,Ds=P.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 16px;
`,qs=()=>{const{t}=Ve(["entities","common"]),s=rt(),[n,o]=G.useState("entities"),[i,r]=G.useState("all"),[d,l]=G.useState(""),[f,a]=G.useState("all"),[y,b]=G.useState("all"),[h,x]=G.useState(null),[T,u]=G.useState(!1),[c,p]=G.useState([]);G.useEffect(()=>{Ke(t("entities:title")),p(Es.entities)},[t]);const j=()=>{s("/entities/create")},k=w=>{s(`/entities/edit/${w.id}`)},v=w=>{o(w)},M=w=>{x(w),u(!0)},D=()=>({total:c.length,active:c.filter(z=>z.status==="active"||z.status==="running").length,inactive:c.filter(z=>z.status==="inactive").length,warning:c.filter(z=>z.status==="warning").length}),W=()=>{const w={};return c.forEach(z=>{w[z.type]=(w[z.type]||0)+1}),w},g=()=>{let w=c;return i!=="all"&&(w=w.filter(z=>z.type===i)),d&&(w=w.filter(z=>{var Q;return z.name.toLowerCase().includes(d.toLowerCase())||z.description.toLowerCase().includes(d.toLowerCase())||((Q=z.tags)==null?void 0:Q.some(le=>le.toLowerCase().includes(d.toLowerCase())))})),f!=="all"&&(w=w.filter(z=>z.type===f)),y!=="all"&&(w=w.filter(z=>z.status===y)),w},S=()=>{const w=D(),z=g();return e.jsxs(Oe,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(we,{level:3,style:{margin:0},children:t("entities:title")}),e.jsx(Te,{style:{marginTop:8,marginBottom:0},children:t("entities:subtitle")})]}),e.jsxs($,{children:[e.jsx(A,{icon:e.jsx(ze,{}),children:t("common:export")}),e.jsx(A,{icon:e.jsx(he,{}),children:t("common:refresh")}),e.jsx(A,{type:"primary",icon:e.jsx(Ie,{}),onClick:j,children:t("entities:createEntity")})]})]}),e.jsxs(te,{gutter:16,style:{marginBottom:24},children:[e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-primary",children:e.jsx(E,{title:t("entities:stats.totalEntities"),value:w.total,suffix:t("common:unit.count"),prefix:e.jsx(qe,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-success",children:e.jsx(E,{title:t("entities:stats.activeEntities"),value:w.active,suffix:t("common:unit.count"),prefix:e.jsx(Se,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-warning",children:e.jsx(E,{title:t("entities:stats.warningEntities"),value:w.warning,suffix:t("common:unit.count"),prefix:e.jsx(yt,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-error",children:e.jsx(E,{title:t("entities:stats.errorEntities"),value:w.inactive,suffix:t("common:unit.count"),prefix:e.jsx(jt,{})})})})]}),e.jsx("div",{style:{marginBottom:16},children:e.jsxs($,{wrap:!0,children:[e.jsxs(_.CheckableTag,{checked:i==="all",onChange:()=>r("all"),children:["全部 (",w.total,")"]}),e.jsxs(_.CheckableTag,{checked:i==="report",onChange:()=>r("report"),children:["📊 ",t("entities:types.report")," (",N.report||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="business_link",onChange:()=>r("business_link"),children:["🔗 ",t("entities:types.businessLink")," (",N.business_link||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="business_system",onChange:()=>r("business_system"),children:["🏢 ",t("entities:types.businessSystem")," (",N.business_system||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="api",onChange:()=>r("api"),children:["🔌 ",t("entities:types.api")," (",N.api||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="database",onChange:()=>r("database"),children:["💾 ",t("entities:types.database")," (",N.database||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="table",onChange:()=>r("table"),children:["📋 ",t("entities:types.table")," (",N.table||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="middleware",onChange:()=>r("middleware"),children:["☁️ ",t("entities:types.middleware")," (",N.middleware||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="microservice",onChange:()=>r("microservice"),children:["🔧 ",t("entities:types.microservice")," (",N.microservice||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="scheduled_job",onChange:()=>r("scheduled_job"),children:["⏰ ",t("entities:types.scheduledJob")," (",N.scheduled_job||0,")"]}),e.jsxs(_.CheckableTag,{checked:i==="configuration",onChange:()=>r("configuration"),children:["⚙️ 配置 (",N.configuration||0,")"]})]})}),e.jsx(Gs,{children:e.jsxs(te,{gutter:16,align:"middle",children:[e.jsx(R,{flex:"auto",children:e.jsx(Ps,{placeholder:t("entities:searchPlaceholder"),value:d,onChange:Q=>l(Q.target.value),style:{width:"100%"},allowClear:!0})}),e.jsx(R,{children:e.jsxs(Be,{value:f,onChange:a,style:{width:120},placeholder:t("entities:typeFilter"),children:[e.jsx(Y,{value:"all",children:t("entities:allTypes")}),e.jsx(Y,{value:"report",children:t("entities:types.report")}),e.jsx(Y,{value:"business_link",children:t("entities:types.businessLink")}),e.jsx(Y,{value:"business_system",children:t("entities:types.businessSystem")}),e.jsx(Y,{value:"api",children:t("entities:types.api")}),e.jsx(Y,{value:"database",children:t("entities:types.database")}),e.jsx(Y,{value:"table",children:t("entities:types.table")}),e.jsx(Y,{value:"middleware",children:t("entities:types.middleware")}),e.jsx(Y,{value:"microservice",children:t("entities:types.microservice")}),e.jsx(Y,{value:"scheduled_job",children:t("entities:types.scheduledJob")}),e.jsx(Y,{value:"configuration",children:t("entities:types.configuration")})]})}),e.jsx(R,{children:e.jsxs(Be,{value:y,onChange:b,style:{width:100},placeholder:"状态",children:[e.jsx(Y,{value:"all",children:"所有状态"}),e.jsx(Y,{value:"active",children:"活跃"}),e.jsx(Y,{value:"running",children:"运行中"}),e.jsx(Y,{value:"inactive",children:"停用"}),e.jsx(Y,{value:"warning",children:"告警"})]})})]})}),z.length>0?e.jsx(Ds,{children:z.map(Q=>e.jsx(Xt,{entity:Q,onClick:M,onEdit:k},Q.id))}):e.jsx(bt,{description:t("entities:noEntitiesFound"),style:{margin:"60px 0"}})]})},B=()=>{var w;return h?e.jsxs(ft,{title:`${t("entities:entityDetail")}: ${h.name}`,open:T,onCancel:()=>u(!1),width:800,footer:[e.jsx(A,{onClick:()=>u(!1),children:t("common:close")},"close"),e.jsx(A,{type:"primary",icon:e.jsx(Xe,{}),children:t("common:edit")},"edit")],children:[e.jsxs(O,{column:1,bordered:!0,size:"small",children:[e.jsx(O.Item,{label:t("entities:entityId"),children:h.id}),e.jsx(O.Item,{label:t("entities:entityName"),children:h.name}),e.jsx(O.Item,{label:t("entities:entityType"),children:e.jsx(_,{color:"blue",children:h.type})}),e.jsx(O.Item,{label:t("entities:category"),children:h.category}),e.jsx(O.Item,{label:"状态",children:e.jsx(Re,{status:h.status==="active"||h.status==="running"?"success":"error",text:h.status})}),e.jsx(O.Item,{label:"描述",children:h.description}),e.jsx(O.Item,{label:"负责人",children:h.owner}),h.version&&e.jsx(O.Item,{label:"版本",children:h.version}),h.technology&&e.jsx(O.Item,{label:"技术栈",children:h.technology}),h.instances&&e.jsx(O.Item,{label:"实例数",children:h.instances}),h.method&&e.jsx(O.Item,{label:"请求方法",children:e.jsx(_,{color:h.method==="GET"?"green":"blue",children:h.method})}),h.path&&e.jsx(O.Item,{label:t("entities:apiPath"),children:e.jsx("code",{children:h.path})}),h.database&&e.jsx(O.Item,{label:t("entities:belongsToDatabase"),children:h.database}),h.tableName&&e.jsx(O.Item,{label:t("entities:tableName"),children:e.jsx("code",{children:h.tableName})}),e.jsx(O.Item,{label:"标签",children:e.jsx($,{children:(w=h.tags)==null?void 0:w.map((z,Q)=>e.jsx(_,{children:z},Q))})})]}),h.metrics&&e.jsx(Z,{title:"性能指标",size:"small",style:{marginTop:16},children:e.jsx(te,{gutter:16,children:Object.entries(h.metrics).map(([z,Q])=>e.jsx(R,{span:8,children:e.jsx(E,{title:z,value:Q})},z))})}),h.sla&&e.jsx(Z,{title:"SLA指标",size:"small",style:{marginTop:16},children:e.jsx(O,{column:1,size:"small",children:Object.entries(h.sla).map(([z,Q])=>e.jsx(O.Item,{label:z,children:Q},z))})})]}):null},F=()=>e.jsxs(Oe,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(we,{level:3,style:{margin:0},children:t("entities:relationshipGraph")}),e.jsx(Te,{style:{marginTop:8,marginBottom:0},children:t("entities:relationshipGraphDesc")})]}),e.jsxs($,{children:[e.jsx(A,{icon:e.jsx(ze,{}),children:t("entities:exportGraph")}),e.jsx(A,{icon:e.jsx(ye,{}),children:t("entities:graphSettings")}),e.jsx(A,{icon:e.jsx(he,{}),children:t("entities:refreshGraph")})]})]}),e.jsxs(te,{gutter:16,style:{marginBottom:24},children:[e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-primary",children:e.jsx(E,{title:t("entities:stats.totalRelations"),value:25,suffix:t("common:unitRelation"),prefix:e.jsx(Je,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-success",children:e.jsx(E,{title:t("entities:stats.relationTypes"),value:5,suffix:t("common:unitType"),prefix:e.jsx(Ze,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-warning",children:e.jsx(E,{title:t("entities:stats.graphNodes"),value:21,suffix:t("common:unit.count"),prefix:e.jsx(je,{})})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(U,{className:"entity-stats-purple",children:e.jsx(E,{title:t("entities:stats.connectedSystems"),value:5,suffix:t("common:unit.count"),prefix:e.jsx(He,{})})})})]}),e.jsx(et,{})]}),N=W();return e.jsxs(Ls,{className:"entity-management-page",children:[e.jsx(As,{children:e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:e.jsxs("div",{children:[e.jsx(we,{level:2,style:{margin:0},children:t("entities:title")}),e.jsx(Te,{style:{marginTop:8,marginBottom:0,fontSize:16},children:t("entities:description")})]})})}),e.jsx(Z,{children:e.jsxs(oe,{activeKey:n,onChange:v,size:"large",tabBarStyle:{marginBottom:24},children:[e.jsx(oe.TabPane,{tab:e.jsxs($,{children:[e.jsx(je,{}),t("entities:title")]}),children:S()},"entities"),e.jsx(oe.TabPane,{tab:e.jsxs($,{children:[e.jsx(ke,{}),t("entities:relationshipGraph")]}),children:F()},"relationships")]})}),B()]})},{Title:Ce,Paragraph:J}=H,Qs=P.div`
  padding: 24px;
`,Ws=P.div`
  margin-bottom: 24px;
`,Ye=P.div`
  min-height: 500px;
`,ee=P(Z)`
  .ant-card-body {
    padding: 16px;
  }
`,ae=P(Z)`
  height: 100%;
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
`,Hs=()=>{const[t,s]=G.useState("entities");G.useEffect(()=>{Ke("实体关系")},[]);const n=r=>{s(r)},o=()=>e.jsxs(Ye,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Ce,{level:3,style:{margin:0},children:"实体管理"}),e.jsx(J,{style:{marginTop:8,marginBottom:0},children:"管理系统中的各种实体对象，包括实体类型定义、实体实例创建和属性配置。"})]}),e.jsxs($,{children:[e.jsx(A,{icon:e.jsx(be,{}),children:"搜索"}),e.jsx(A,{icon:e.jsx(_t,{}),children:"筛选"}),e.jsx(A,{icon:e.jsx(he,{}),children:"刷新"}),e.jsx(A,{type:"primary",icon:e.jsx(Ie,{}),children:"创建实体"})]})]}),e.jsxs(te,{gutter:16,style:{marginBottom:24},children:[e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"实体类型",value:0,suffix:"个",valueStyle:{color:"#1890ff"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"实体实例",value:0,suffix:"个",valueStyle:{color:"#52c41a"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"活跃实体",value:0,suffix:"个",valueStyle:{color:"#faad14"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"异常实体",value:0,suffix:"个",valueStyle:{color:"#f5222d"}})})})]}),e.jsxs(te,{gutter:16,children:[e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(je,{style:{color:"#1890ff"}}),"实体类型管理"]}),children:[e.jsx(J,{children:"定义和管理不同类型的实体，包括属性定义、约束规则和生命周期配置。"}),e.jsxs("div",{children:[e.jsx(_,{color:"blue",children:"类型定义"}),e.jsx(_,{color:"blue",children:"属性配置"}),e.jsx(_,{color:"blue",children:"约束规则"})]})]})}),e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(Ie,{style:{color:"#52c41a"}}),"实体实例管理"]}),children:[e.jsx(J,{children:"创建、编辑和管理具体的实体实例，支持批量操作和状态管理。"}),e.jsxs("div",{children:[e.jsx(_,{color:"green",children:"实例创建"}),e.jsx(_,{color:"green",children:"批量操作"}),e.jsx(_,{color:"green",children:"状态管理"})]})]})}),e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(be,{style:{color:"#faad14"}}),"搜索与过滤"]}),children:[e.jsx(J,{children:"强大的搜索和过滤功能，支持多维度查询和高级筛选条件。"}),e.jsxs("div",{children:[e.jsx(_,{color:"orange",children:"全文搜索"}),e.jsx(_,{color:"orange",children:"高级筛选"}),e.jsx(_,{color:"orange",children:"快速定位"})]})]})})]})]}),i=()=>e.jsxs(Ye,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Ce,{level:3,style:{margin:0},children:"关系图谱"}),e.jsx(J,{style:{marginTop:8,marginBottom:0},children:"基于D3.js的交互式关系图谱，展示从业务场景到基础设施的完整技术架构关系。"})]}),e.jsxs($,{children:[e.jsx(A,{icon:e.jsx(ze,{}),children:"导出图谱"}),e.jsx(A,{icon:e.jsx(ye,{}),children:"图谱设置"}),e.jsx(A,{icon:e.jsx(he,{}),children:"刷新图谱"})]})]}),e.jsxs(te,{gutter:16,style:{marginBottom:24},children:[e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"关系总数",value:25,suffix:"条",valueStyle:{color:"#1890ff"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"关系类型",value:5,suffix:"种",valueStyle:{color:"#52c41a"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"图谱节点",value:21,suffix:"个",valueStyle:{color:"#faad14"}})})}),e.jsx(R,{xs:24,sm:12,md:6,children:e.jsx(ee,{children:e.jsx(E,{title:"支付系统",value:5,suffix:"个",valueStyle:{color:"#722ed1"}})})})]}),e.jsx(et,{}),e.jsxs(te,{gutter:16,style:{marginTop:24},children:[e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(ke,{style:{color:"#1890ff"}}),"多层级架构"]}),children:[e.jsx(J,{children:"展示从业务场景、业务链路、业务系统、中间件到基础设施的5层架构关系。"}),e.jsxs("div",{children:[e.jsx(_,{color:"blue",children:"业务场景"}),e.jsx(_,{color:"green",children:"业务链路"}),e.jsx(_,{color:"orange",children:"业务系统"}),e.jsx(_,{color:"purple",children:"中间件"}),e.jsx(_,{color:"red",children:"基础设施"})]})]})}),e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(be,{style:{color:"#52c41a"}}),"交互式探索"]}),children:[e.jsx(J,{children:"展示完整的支付结算生态系统，包含支付网关、钱包、风控、清结算等核心系统。"}),e.jsxs("div",{children:[e.jsx(_,{color:"blue",children:"支付网关"}),e.jsx(_,{color:"green",children:"钱包系统"}),e.jsx(_,{color:"orange",children:"风控系统"}),e.jsx(_,{color:"purple",children:"清结算"}),e.jsx(_,{color:"red",children:"账务系统"})]})]})}),e.jsx(R,{xs:24,md:12,lg:8,children:e.jsxs(ae,{title:e.jsxs($,{children:[e.jsx(ye,{style:{color:"#faad14"}}),"关系类型"]}),children:[e.jsx(J,{children:"支持包含、依赖、使用、运行、存储、日志等6种关系类型的可视化展示。"}),e.jsxs("div",{children:[e.jsx(_,{color:"orange",children:"包含关系"}),e.jsx(_,{color:"orange",children:"依赖关系"}),e.jsx(_,{color:"orange",children:"使用关系"}),e.jsx(_,{color:"orange",children:"运行关系"})]})]})})]})]});return e.jsxs(Qs,{children:[e.jsx(Ws,{children:e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:e.jsxs("div",{children:[e.jsxs(Ce,{level:2,style:{margin:0},children:["实体关系",e.jsx(Re,{count:"开发中",style:{backgroundColor:"#faad14",marginLeft:12,fontSize:12}})]}),e.jsx(J,{style:{marginTop:8,marginBottom:0,fontSize:16},children:"统一管理系统中的实体对象和它们之间的关系，提供完整的实体生命周期管理和关系可视化分析。"})]})})}),e.jsx(Z,{children:e.jsxs(oe,{activeKey:t,onChange:n,size:"large",tabBarStyle:{marginBottom:24},children:[e.jsx(oe.TabPane,{tab:e.jsxs($,{children:[e.jsx(je,{}),"实体管理"]}),children:o()},"entities"),e.jsx(oe.TabPane,{tab:e.jsxs($,{children:[e.jsx(ke,{}),"关系图谱"]}),children:i()},"relationships")]})})]})};export{Us as EntityForm,en as EntityFormPage,qs as EntityManagement,Hs as EntityRelationship,qs as default};

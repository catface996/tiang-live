import{j as e,d as M,u as He,b as Ue}from"./index-CLn_jbkO.js";import{k as B,B as D,x as et,N as xe,T as se,e as Ne,aD as Te,b8 as tt,q as st,aC as nt,aB as it,f as rt,s as ot,aw as at,V as lt,j as K,u as g,S as R,aJ as ct,r as $,O as dt,P as ut,b9 as ht,ba as pt,bb as mt,bc as xt,o as ge,z as he,ab as Ee,X as $e,b4 as gt,y as Q,d as ae,C as I,aR as Pe,p as Le,ac as yt,m as De,ak as ft,an as ze,bd as jt}from"./antd-CtXjdSWW.js";import{s as Ke}from"./index-Daowydkz.js";import{d as vt,i as Ge,T as Se,s as ce,a as ke}from"./transform-DnhttqEe.js";import{p as le,a as bt,y as _t,s as wt,l as Tt,m as zt,c as St,d as kt}from"./manyBody-B5inEzsj.js";import{E as $s}from"./EntityForm-BNSjiXqN.js";import{default as Ls}from"./EntityCreatePage-B46VWDVE.js";import{default as Gs}from"./EntityEditPage-Df7F89yE.js";import"./vendor-DJG_os-6.js";const{Text:Ct}=se,It=M(K)`
  margin-bottom: 16px;
  transition: all 0.3s ease;
  border-radius: 8px;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .ant-card-head {
    border-bottom: 1px solid var(--border-color);
    padding: 12px 16px;
  }
  
  .ant-card-body {
    padding: 16px;
  }
`,Bt=M.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 6px;
  color: white;
  font-size: 16px;
  margin-right: 8px;
`,de=({entity:t,onClick:a,onEdit:u,children:y,extraActions:d})=>{const o=k=>({report:{icon:e.jsx(lt,{}),color:"#1890ff"},business_link:{icon:e.jsx(at,{}),color:"#52c41a"},business_system:{icon:e.jsx(Ne,{}),color:"#faad14"},api:{icon:e.jsx(ot,{}),color:"#722ed1"},database:{icon:e.jsx(rt,{}),color:"#f5222d"},table:{icon:e.jsx(it,{}),color:"#fa8c16"},middleware:{icon:e.jsx(nt,{}),color:"#13c2c2"},microservice:{icon:e.jsx(st,{}),color:"#eb2f96"},scheduled_job:{icon:e.jsx(tt,{}),color:"#a0d911"},configuration:{icon:e.jsx(Te,{}),color:"#2f54eb"}})[k]||{icon:e.jsx(Ne,{}),color:"#8c8c8c"},x=k=>({active:"green",running:"green",inactive:"red",warning:"orange",pending:"blue"})[k]||"default",c=o(t.type);return e.jsx(It,{size:"small",onClick:()=>a==null?void 0:a(t),style:{cursor:"pointer"},title:e.jsxs(B,{children:[e.jsx(Bt,{style:{backgroundColor:c.color},children:c.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:t.name}),e.jsx(Ct,{type:"secondary",style:{fontSize:"12px"},children:t.category})]})]}),extra:e.jsxs(B,{children:[e.jsx(D,{type:"text",size:"small",icon:e.jsx(et,{}),onClick:k=>{k.stopPropagation(),u==null||u(t)},style:{color:"#1890ff"}}),d,e.jsx(xe,{status:x(t.status),text:t.status})]}),children:y})},{Text:fe,Paragraph:Rt}=se,Ce=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Mt=({entity:t,onClick:a,onEdit:u})=>{var y,d,o,x,c;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,children:[e.jsx(Rt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(Ce,{children:[e.jsx(fe,{type:"secondary",children:"æ›´æ–°é¢‘ç‡:"}),e.jsx(g,{color:"blue",children:t.updateFrequency})]}),e.jsxs(Ce,{children:[e.jsx(fe,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(fe,{children:t.owner})]}),e.jsxs(Ce,{children:[e.jsx(fe,{type:"secondary",children:"æ•°æ®æº:"}),e.jsx(B,{children:(y=t.dataSource)==null?void 0:y.map((k,h)=>e.jsx(g,{size:"small",children:k},h))})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[e.jsx(R,{title:"æŸ¥çœ‹æ¬¡æ•°",value:(d=t.metrics)==null?void 0:d.viewCount,valueStyle:{fontSize:"14px"}}),e.jsx(R,{title:"å¯¼å‡ºæ¬¡æ•°",value:(o=t.metrics)==null?void 0:o.exportCount,valueStyle:{fontSize:"14px"}}),e.jsx(R,{title:"åŠ è½½æ—¶é—´",value:(x=t.metrics)==null?void 0:x.avgLoadTime,valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(c=t.tags)==null?void 0:c.map((k,h)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:k},h))})]})},{Text:Ae,Paragraph:Et}=se,$t=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Pt=({entity:t,onClick:a,onEdit:u})=>{var y;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,children:[e.jsx(Et,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs($t,{children:[e.jsx(Ae,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(Ae,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(y=t.tags)==null?void 0:y.map((d,o)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:d},o))})]})},{Text:je,Paragraph:Lt}=se,Qe=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Dt=({entity:t,onClick:a,onEdit:u})=>{var y,d;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,extraActions:e.jsx(g,{color:"blue",children:t.version}),children:[e.jsx(Lt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(Qe,{children:[e.jsx(je,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(je,{children:t.owner})]}),e.jsxs(Qe,{children:[e.jsx(je,{type:"secondary",children:"æŠ€æœ¯æ ˆ:"}),e.jsx(B,{children:(y=t.techStack)==null?void 0:y.map((o,x)=>e.jsx(g,{size:"small",children:o},x))})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx(je,{type:"secondary",style:{fontSize:"12px"},children:"å¥åº·åº¦"}),e.jsx(ct,{percent:t.healthScore,size:"small",status:t.healthScore>80?"success":t.healthScore>60?"normal":"exception",style:{marginTop:4}})]})]}),e.jsx("div",{style:{marginTop:12},children:(d=t.tags)==null?void 0:d.map((o,x)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:o},x))})]})},{Text:ve,Paragraph:Gt}=se,We=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Nt=({entity:t,onClick:a,onEdit:u})=>{var d,o,x;const y=c=>({GET:"green",POST:"blue",PUT:"orange",DELETE:"red",PATCH:"purple"})[c]||"default";return e.jsxs(de,{entity:t,onClick:a,onEdit:u,extraActions:e.jsx(g,{color:y(t.method),children:t.method}),children:[e.jsx(Gt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(We,{children:[e.jsx(ve,{type:"secondary",children:"è·¯å¾„:"}),e.jsx(ve,{code:!0,style:{fontSize:"12px"},children:t.path})]}),e.jsxs(We,{children:[e.jsx(ve,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(ve,{children:t.owner})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:[e.jsx(R,{title:"è°ƒç”¨æ¬¡æ•°",value:(d=t.metrics)==null?void 0:d.callCount,valueStyle:{fontSize:"14px"}}),e.jsx(R,{title:"å“åº”æ—¶é—´",value:(o=t.metrics)==null?void 0:o.avgResponseTime,suffix:"ms",valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(x=t.tags)==null?void 0:x.map((c,k)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:c},k))})]})},{Text:be,Paragraph:At}=se,qe=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Qt=({entity:t,onClick:a,onEdit:u})=>{var y,d,o;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,extraActions:e.jsx(g,{color:"red",children:t.technology}),children:[e.jsx(At,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(B,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(qe,{children:[e.jsx(be,{type:"secondary",children:"è¿æ¥åœ°å€:"}),e.jsxs(be,{code:!0,style:{fontSize:"12px"},children:[t.host,":",t.port]})]}),e.jsxs(qe,{children:[e.jsx(be,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(be,{children:t.owner})]}),e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:[e.jsx(R,{title:"è¿æ¥æ•°",value:(y=t.metrics)==null?void 0:y.connectionCount,valueStyle:{fontSize:"14px"}}),e.jsx(R,{title:"å­˜å‚¨å¤§å°",value:(d=t.metrics)==null?void 0:d.storageSize,suffix:"GB",valueStyle:{fontSize:"14px"}})]})]}),e.jsx("div",{style:{marginTop:12},children:(o=t.tags)==null?void 0:o.map((x,c)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:x},c))})]})},{Text:_e,Paragraph:Wt}=se,Ye=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,qt=({entity:t,onClick:a,onEdit:u})=>{var y;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,children:[e.jsx(Wt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(Ye,{children:[e.jsx(_e,{type:"secondary",children:"æ•°æ®åº“:"}),e.jsx(_e,{children:t.database})]}),e.jsxs(Ye,{children:[e.jsx(_e,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(_e,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(y=t.tags)==null?void 0:y.map((d,o)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:d},o))})]})},{Text:Fe,Paragraph:Yt}=se,Ft=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Ot=({entity:t,onClick:a,onEdit:u})=>{var y;return e.jsxs(de,{entity:t,onClick:a,onEdit:u,children:[e.jsx(Yt,{ellipsis:{rows:2},style:{marginBottom:12},children:t.description}),e.jsxs(Ft,{children:[e.jsx(Fe,{type:"secondary",children:"è´Ÿè´£äºº:"}),e.jsx(Fe,{children:t.owner})]}),e.jsx("div",{style:{marginTop:12},children:(y=t.tags)==null?void 0:y.map((d,o)=>e.jsx(g,{size:"small",style:{marginBottom:4},children:d},o))})]})},Vt=({entity:t,onClick:a,onEdit:u})=>(()=>{switch(t.type){case"report":return e.jsx(Mt,{entity:t,onClick:a,onEdit:u});case"business_link":return e.jsx(Pt,{entity:t,onClick:a,onEdit:u});case"business_system":return e.jsx(Dt,{entity:t,onClick:a,onEdit:u});case"api":return e.jsx(Nt,{entity:t,onClick:a,onEdit:u});case"database":return e.jsx(Qt,{entity:t,onClick:a,onEdit:u});case"table":return e.jsx(qt,{entity:t,onClick:a,onEdit:u});case"middleware":case"microservice":case"scheduled_job":case"configuration":default:return e.jsx(Ot,{entity:t,onClick:a,onEdit:u})}})();var Xt=1e-12;function Oe(t){return((t=Math.exp(t))+1/t)/2}function Zt(t){return((t=Math.exp(t))-1/t)/2}function Ht(t){return((t=Math.exp(2*t))-1)/(t+1)}const Kt=function t(a,u,y){function d(o,x){var c=o[0],k=o[1],h=o[2],Y=x[0],G=x[1],j=x[2],J=Y-c,te=G-k,F=J*J+te*te,N,f;if(F<Xt)f=Math.log(j/h)/a,N=function(X){return[c+X*J,k+X*te,h*Math.exp(a*X*f)]};else{var Z=Math.sqrt(F),V=(j*j-h*h+y*F)/(2*h*u*Z),U=(j*j-h*h-y*F)/(2*j*u*Z),H=Math.log(Math.sqrt(V*V+1)-V),W=Math.log(Math.sqrt(U*U+1)-U);f=(W-H)/a,N=function(X){var p=X*f,S=Oe(H),O=h/(u*Z)*(S*Ht(a*p+H)-Zt(H));return[c+O*J,k+O*te,h*S/Oe(a*p+H)]}}return N.duration=f*1e3*a/Math.SQRT2,N}return d.rho=function(o){var x=Math.max(.001,+o),c=x*x,k=c*c;return t(x,c,k)},d}(Math.SQRT2,2,4);function Jt(t,a){var u,y=1;t==null&&(t=0),a==null&&(a=0);function d(){var o,x=u.length,c,k=0,h=0;for(o=0;o<x;++o)c=u[o],k+=c.x,h+=c.y;for(k=(k/x-t)*y,h=(h/x-a)*y,o=0;o<x;++o)c=u[o],c.x-=k,c.y-=h}return d.initialize=function(o){u=o},d.x=function(o){return arguments.length?(t=+o,d):t},d.y=function(o){return arguments.length?(a=+o,d):a},d.strength=function(o){return arguments.length?(y=+o,d):y},d}const we=t=>()=>t;function Ut(t,{sourceEvent:a,target:u,transform:y,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:y,enumerable:!0,configurable:!0},_:{value:d}})}function Ie(t){t.stopImmediatePropagation()}function me(t){t.preventDefault(),t.stopImmediatePropagation()}function es(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ts(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ve(){return this.__zoom||Ge}function ss(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ns(){return navigator.maxTouchPoints||"ontouchstart"in this}function is(t,a,u){var y=t.invertX(a[0][0])-u[0][0],d=t.invertX(a[1][0])-u[1][0],o=t.invertY(a[0][1])-u[0][1],x=t.invertY(a[1][1])-u[1][1];return t.translate(d>y?(y+d)/2:Math.min(0,y)||Math.max(0,d),x>o?(o+x)/2:Math.min(0,o)||Math.max(0,x))}function rs(){var t=es,a=ts,u=is,y=ss,d=ns,o=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],c=250,k=Kt,h=vt("start","zoom","end"),Y,G,j,J=500,te=150,F=0,N=10;function f(s){s.property("__zoom",Ve).on("wheel.zoom",p,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",O).filter(d).on("touchstart.zoom",ee).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(s,r,n,m){var v=s.selection?s.selection():s;v.property("__zoom",Ve),s!==v?H(s,r,n,m):v.interrupt().each(function(){W(this,arguments).event(m).start().zoom(null,typeof r=="function"?r.apply(this,arguments):r).end()})},f.scaleBy=function(s,r,n,m){f.scaleTo(s,function(){var v=this.__zoom.k,w=typeof r=="function"?r.apply(this,arguments):r;return v*w},n,m)},f.scaleTo=function(s,r,n,m){f.transform(s,function(){var v=a.apply(this,arguments),w=this.__zoom,T=n==null?U(v):typeof n=="function"?n.apply(this,arguments):n,C=w.invert(T),E=typeof r=="function"?r.apply(this,arguments):r;return u(V(Z(w,E),T,C),v,x)},n,m)},f.translateBy=function(s,r,n,m){f.transform(s,function(){return u(this.__zoom.translate(typeof r=="function"?r.apply(this,arguments):r,typeof n=="function"?n.apply(this,arguments):n),a.apply(this,arguments),x)},null,m)},f.translateTo=function(s,r,n,m,v){f.transform(s,function(){var w=a.apply(this,arguments),T=this.__zoom,C=m==null?U(w):typeof m=="function"?m.apply(this,arguments):m;return u(Ge.translate(C[0],C[1]).scale(T.k).translate(typeof r=="function"?-r.apply(this,arguments):-r,typeof n=="function"?-n.apply(this,arguments):-n),w,x)},m,v)};function Z(s,r){return r=Math.max(o[0],Math.min(o[1],r)),r===s.k?s:new Se(r,s.x,s.y)}function V(s,r,n){var m=r[0]-n[0]*s.k,v=r[1]-n[1]*s.k;return m===s.x&&v===s.y?s:new Se(s.k,m,v)}function U(s){return[(+s[0][0]+ +s[1][0])/2,(+s[0][1]+ +s[1][1])/2]}function H(s,r,n,m){s.on("start.zoom",function(){W(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(m).end()}).tween("zoom",function(){var v=this,w=arguments,T=W(v,w).event(m),C=a.apply(v,w),E=n==null?U(C):typeof n=="function"?n.apply(v,w):n,i=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),l=v.__zoom,z=typeof r=="function"?r.apply(v,w):r,b=k(l.invert(E).concat(i/l.k),z.invert(E).concat(i/z.k));return function(P){if(P===1)P=z;else{var L=b(P),ne=i/L[2];P=new Se(ne,E[0]-L[0]*ne,E[1]-L[1]*ne)}T.zoom(null,P)}})}function W(s,r,n){return!n&&s.__zooming||new X(s,r)}function X(s,r){this.that=s,this.args=r,this.active=0,this.sourceEvent=null,this.extent=a.apply(s,r),this.taps=0}X.prototype={event:function(s){return s&&(this.sourceEvent=s),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(s,r){return this.mouse&&s!=="mouse"&&(this.mouse[1]=r.invert(this.mouse[0])),this.touch0&&s!=="touch"&&(this.touch0[1]=r.invert(this.touch0[0])),this.touch1&&s!=="touch"&&(this.touch1[1]=r.invert(this.touch1[0])),this.that.__zoom=r,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(s){var r=ce(this.that).datum();h.call(s,this.that,new Ut(s,{sourceEvent:this.sourceEvent,target:f,transform:this.that.__zoom,dispatch:h}),r)}};function p(s,...r){if(!t.apply(this,arguments))return;var n=W(this,r).event(s),m=this.__zoom,v=Math.max(o[0],Math.min(o[1],m.k*Math.pow(2,y.apply(this,arguments)))),w=le(s);if(n.wheel)(n.mouse[0][0]!==w[0]||n.mouse[0][1]!==w[1])&&(n.mouse[1]=m.invert(n.mouse[0]=w)),clearTimeout(n.wheel);else{if(m.k===v)return;n.mouse=[w,m.invert(w)],ke(this),n.start()}me(s),n.wheel=setTimeout(T,te),n.zoom("mouse",u(V(Z(m,v),n.mouse[0],n.mouse[1]),n.extent,x));function T(){n.wheel=null,n.end()}}function S(s,...r){if(j||!t.apply(this,arguments))return;var n=s.currentTarget,m=W(this,r,!0).event(s),v=ce(s.view).on("mousemove.zoom",E,!0).on("mouseup.zoom",i,!0),w=le(s,n),T=s.clientX,C=s.clientY;bt(s.view),Ie(s),m.mouse=[w,this.__zoom.invert(w)],ke(this),m.start();function E(l){if(me(l),!m.moved){var z=l.clientX-T,b=l.clientY-C;m.moved=z*z+b*b>F}m.event(l).zoom("mouse",u(V(m.that.__zoom,m.mouse[0]=le(l,n),m.mouse[1]),m.extent,x))}function i(l){v.on("mousemove.zoom mouseup.zoom",null),_t(l.view,m.moved),me(l),m.event(l).end()}}function O(s,...r){if(t.apply(this,arguments)){var n=this.__zoom,m=le(s.changedTouches?s.changedTouches[0]:s,this),v=n.invert(m),w=n.k*(s.shiftKey?.5:2),T=u(V(Z(n,w),m,v),a.apply(this,r),x);me(s),c>0?ce(this).transition().duration(c).call(H,T,m,s):ce(this).call(f.transform,T,m,s)}}function ee(s,...r){if(t.apply(this,arguments)){var n=s.touches,m=n.length,v=W(this,r,s.changedTouches.length===m).event(s),w,T,C,E;for(Ie(s),T=0;T<m;++T)C=n[T],E=le(C,this),E=[E,this.__zoom.invert(E),C.identifier],v.touch0?!v.touch1&&v.touch0[2]!==E[2]&&(v.touch1=E,v.taps=0):(v.touch0=E,w=!0,v.taps=1+!!Y);Y&&(Y=clearTimeout(Y)),w&&(v.taps<2&&(G=E[0],Y=setTimeout(function(){Y=null},J)),ke(this),v.start())}}function A(s,...r){if(this.__zooming){var n=W(this,r).event(s),m=s.changedTouches,v=m.length,w,T,C,E;for(me(s),w=0;w<v;++w)T=m[w],C=le(T,this),n.touch0&&n.touch0[2]===T.identifier?n.touch0[0]=C:n.touch1&&n.touch1[2]===T.identifier&&(n.touch1[0]=C);if(T=n.that.__zoom,n.touch1){var i=n.touch0[0],l=n.touch0[1],z=n.touch1[0],b=n.touch1[1],P=(P=z[0]-i[0])*P+(P=z[1]-i[1])*P,L=(L=b[0]-l[0])*L+(L=b[1]-l[1])*L;T=Z(T,Math.sqrt(P/L)),C=[(i[0]+z[0])/2,(i[1]+z[1])/2],E=[(l[0]+b[0])/2,(l[1]+b[1])/2]}else if(n.touch0)C=n.touch0[0],E=n.touch0[1];else return;n.zoom("touch",u(V(T,C,E),n.extent,x))}}function _(s,...r){if(this.__zooming){var n=W(this,r).event(s),m=s.changedTouches,v=m.length,w,T;for(Ie(s),j&&clearTimeout(j),j=setTimeout(function(){j=null},J),w=0;w<v;++w)T=m[w],n.touch0&&n.touch0[2]===T.identifier?delete n.touch0:n.touch1&&n.touch1[2]===T.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),n.taps===2&&(T=le(T,this),Math.hypot(G[0]-T[0],G[1]-T[1])<N)){var C=ce(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return f.wheelDelta=function(s){return arguments.length?(y=typeof s=="function"?s:we(+s),f):y},f.filter=function(s){return arguments.length?(t=typeof s=="function"?s:we(!!s),f):t},f.touchable=function(s){return arguments.length?(d=typeof s=="function"?s:we(!!s),f):d},f.extent=function(s){return arguments.length?(a=typeof s=="function"?s:we([[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]]),f):a},f.scaleExtent=function(s){return arguments.length?(o[0]=+s[0],o[1]=+s[1],f):[o[0],o[1]]},f.translateExtent=function(s){return arguments.length?(x[0][0]=+s[0][0],x[1][0]=+s[1][0],x[0][1]=+s[0][1],x[1][1]=+s[1][1],f):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},f.constrain=function(s){return arguments.length?(u=s,f):u},f.duration=function(s){return arguments.length?(c=+s,f):c},f.interpolate=function(s){return arguments.length?(k=s,f):k},f.on=function(){var s=h.on.apply(h,arguments);return s===h?f:s},f.clickDistance=function(s){return arguments.length?(F=(s=+s)*s,f):Math.sqrt(F)},f.tapDistance=function(s){return arguments.length?(N=+s,f):N},f}const os=[{id:"business_scenario_plane",name:"ä¸šåŠ¡åœºæ™¯å¹³é¢",level:1,color:"#e6f7ff",borderColor:"#1890ff",description:"æ ¸å¿ƒä¸šåŠ¡åœºæ™¯å’Œç”¨æˆ·æ—…ç¨‹"},{id:"business_link_plane",name:"ä¸šåŠ¡é“¾è·¯å¹³é¢",level:2,color:"#f6ffed",borderColor:"#52c41a",description:"ä¸šåŠ¡åœºæ™¯çš„å…·ä½“æ‰§è¡Œé“¾è·¯"},{id:"application_plane",name:"åº”ç”¨å¹³é¢",level:3,color:"#fff7e6",borderColor:"#faad14",description:"ä¸šåŠ¡ç³»ç»Ÿå’Œåº”ç”¨æœåŠ¡å±‚"},{id:"middleware_plane",name:"ä¸­é—´ä»¶å¹³é¢",level:4,color:"#f9f0ff",borderColor:"#722ed1",description:"ä¸­é—´ä»¶å’ŒåŸºç¡€æœåŠ¡å±‚"},{id:"infrastructure_plane",name:"åŸºç¡€è®¾æ–½å¹³é¢",level:5,color:"#fff2f0",borderColor:"#f5222d",description:"åŸºç¡€è®¾æ–½å’Œèµ„æºå±‚"}],as=[{id:"business_scenario_1",name:"ç”µå•†ä¸‹å•åœºæ™¯",type:"business_scenario",level:1,plane:"business_scenario_plane",description:"ç”¨æˆ·åœ¨ç”µå•†å¹³å°å®Œæˆå•†å“è´­ä¹°çš„å®Œæ•´æµç¨‹",status:"active"},{id:"business_scenario_2",name:"æ”¯ä»˜ç»“ç®—åœºæ™¯",type:"business_scenario",level:1,plane:"business_scenario_plane",description:"å¤„ç†ç”¨æˆ·æ”¯ä»˜å’Œå•†æˆ·ç»“ç®—çš„å®Œæ•´ä¸šåŠ¡åœºæ™¯",status:"active"},{id:"business_link_1",name:"ç”¨æˆ·ä¸‹å•é“¾è·¯",type:"business_link",level:2,plane:"business_link_plane",description:"ä»å•†å“é€‰æ‹©åˆ°è®¢å•ç¡®è®¤çš„ä¸šåŠ¡é“¾è·¯",status:"active"},{id:"business_link_2",name:"æ”¯ä»˜å¤„ç†é“¾è·¯",type:"business_link",level:2,plane:"business_link_plane",description:"æ”¯ä»˜éªŒè¯ã€æ‰£æ¬¾ã€ç¡®è®¤çš„ä¸šåŠ¡é“¾è·¯",status:"active"},{id:"business_link_3",name:"é£æ§å®¡æ ¸é“¾è·¯",type:"business_link",level:2,plane:"business_link_plane",description:"äº¤æ˜“é£é™©è¯†åˆ«å’Œå®‰å…¨å®¡æ ¸é“¾è·¯",status:"active"},{id:"business_link_4",name:"èµ„é‡‘ç»“ç®—é“¾è·¯",type:"business_link",level:2,plane:"business_link_plane",description:"å•†æˆ·èµ„é‡‘ç»“ç®—å’Œæ¸…åˆ†ä¸šåŠ¡é“¾è·¯",status:"active"},{id:"system_1",name:"ç”¨æˆ·ä¸­å¿ƒç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"ç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€è®¤è¯ã€æƒé™çš„æ ¸å¿ƒç³»ç»Ÿ",status:"running",version:"v2.1.0",instances:6},{id:"system_2",name:"å•†å“ç®¡ç†ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"å•†å“ä¿¡æ¯ã€ä»·æ ¼ã€ä¿ƒé”€ç®¡ç†ç³»ç»Ÿ",status:"running",version:"v1.8.2",instances:4},{id:"system_3",name:"è®¢å•ç®¡ç†ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†çš„æ ¸å¿ƒç³»ç»Ÿ",status:"running",version:"v3.0.1",instances:8},{id:"system_4",name:"æ”¯ä»˜ç½‘å…³ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"ç»Ÿä¸€æ”¯ä»˜æ¥å…¥å’Œè·¯ç”±ç³»ç»Ÿ",status:"running",version:"v1.9.3",instances:10},{id:"system_5",name:"é’±åŒ…ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"ç”¨æˆ·é’±åŒ…ä½™é¢å’Œè™šæ‹Ÿè´¦æˆ·ç®¡ç†ç³»ç»Ÿ",status:"running",version:"v2.3.1",instances:8},{id:"system_6",name:"é£æ§ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"äº¤æ˜“é£é™©è¯†åˆ«å’Œåæ¬ºè¯ˆç³»ç»Ÿ",status:"running",version:"v1.7.2",instances:6},{id:"system_7",name:"æ¸…ç»“ç®—ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"èµ„é‡‘æ¸…åˆ†å’Œå•†æˆ·ç»“ç®—ç³»ç»Ÿ",status:"running",version:"v2.0.5",instances:4},{id:"system_8",name:"è´¦åŠ¡ç³»ç»Ÿ",type:"business_system",level:3,plane:"application_plane",description:"èµ„é‡‘æµæ°´å’Œè´¦åŠ¡è®°å½•ç³»ç»Ÿ",status:"running",version:"v1.5.8",instances:6},{id:"middleware_1",name:"APIç½‘å…³",type:"middleware",level:4,plane:"middleware_plane",description:"ç»Ÿä¸€APIæ¥å…¥ã€è·¯ç”±ã€é™æµã€è®¤è¯ç½‘å…³",status:"running",technology:"Kong",instances:6},{id:"middleware_2",name:"æ¶ˆæ¯é˜Ÿåˆ—",type:"middleware",level:4,plane:"middleware_plane",description:"å¼‚æ­¥æ¶ˆæ¯å¤„ç†å’Œäº‹ä»¶é©±åŠ¨æ¶æ„æ”¯æ’‘",status:"running",technology:"RocketMQ",instances:9},{id:"middleware_3",name:"è§„åˆ™å¼•æ“",type:"middleware",level:4,plane:"middleware_plane",description:"é£æ§è§„åˆ™å’Œä¸šåŠ¡è§„åˆ™æ‰§è¡Œå¼•æ“",status:"running",technology:"Drools",instances:4},{id:"infrastructure_1",name:"Kubernetesé›†ç¾¤",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"å®¹å™¨ç¼–æ’å’Œå¾®æœåŠ¡è¿è¡Œå¹³å°",status:"running",nodes:24,region:"åä¸œ-1"},{id:"db_cluster_payment",name:"æ”¯ä»˜æ•°æ®åº“é›†ç¾¤",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"æ”¯ä»˜äº¤æ˜“ä¸“ç”¨é«˜å¯ç”¨MySQLé›†ç¾¤",status:"running",technology:"MySQL 8.0",nodes:10,config:"2ä¸»8ä»",region:"åä¸œ-1",databases:["payment_core","wallet_account","transaction_log"]},{id:"db_cluster_risk",name:"é£æ§æ•°æ®åº“é›†ç¾¤",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"é£æ§æ•°æ®å’Œè§„åˆ™å­˜å‚¨MySQLé›†ç¾¤",status:"running",technology:"MySQL 8.0",nodes:6,config:"1ä¸»5ä»",region:"åä¸œ-1",databases:["risk_control","fraud_detection","rule_engine"]},{id:"db_cluster_settlement",name:"æ¸…ç»“ç®—æ•°æ®åº“é›†ç¾¤",type:"infrastructure",level:5,plane:"infrastructure_plane",description:"èµ„é‡‘æ¸…ç®—å’Œç»“ç®—æ•°æ®MySQLé›†ç¾¤",status:"running",technology:"MySQL 8.0",nodes:8,config:"2ä¸»6ä»",region:"åä¸œ-1",databases:["settlement_core","accounting_ledger","merchant_account"]}],ls=[{source:"business_scenario_1",target:"business_link_1",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_2",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_3",type:"contains",strength:1},{source:"business_scenario_2",target:"business_link_4",type:"contains",strength:1},{source:"business_link_1",target:"system_1",type:"depends_on",strength:.9},{source:"business_link_1",target:"system_2",type:"depends_on",strength:.8},{source:"business_link_1",target:"system_3",type:"depends_on",strength:1},{source:"business_link_2",target:"system_4",type:"depends_on",strength:1},{source:"business_link_2",target:"system_5",type:"depends_on",strength:.9},{source:"business_link_3",target:"system_6",type:"depends_on",strength:1},{source:"business_link_4",target:"system_7",type:"depends_on",strength:1},{source:"business_link_4",target:"system_8",type:"depends_on",strength:.9},{source:"system_4",target:"middleware_1",type:"uses",strength:1},{source:"system_5",target:"middleware_1",type:"uses",strength:.9},{source:"system_6",target:"middleware_3",type:"uses",strength:1},{source:"system_7",target:"middleware_2",type:"uses",strength:.9},{source:"system_8",target:"middleware_2",type:"uses",strength:.8},{source:"middleware_1",target:"infrastructure_1",type:"runs_on",strength:1},{source:"middleware_2",target:"infrastructure_1",type:"runs_on",strength:1},{source:"middleware_3",target:"infrastructure_1",type:"runs_on",strength:1},{source:"system_4",target:"db_cluster_payment",type:"stores_in",strength:1},{source:"system_5",target:"db_cluster_payment",type:"stores_in",strength:1},{source:"system_6",target:"db_cluster_risk",type:"stores_in",strength:1},{source:"system_7",target:"db_cluster_settlement",type:"stores_in",strength:1},{source:"system_8",target:"db_cluster_settlement",type:"stores_in",strength:1}],cs={title:"ç”µå•†å¹³å°ä¸šåŠ¡å…³ç³»å›¾è°±",description:"ä»ä¸šåŠ¡åœºæ™¯åˆ°åŸºç¡€è®¾æ–½çš„å®Œæ•´æŠ€æœ¯æ¶æ„å…³ç³»å›¾",levels:[{level:1,name:"ä¸šåŠ¡åœºæ™¯å±‚",description:"æ ¸å¿ƒä¸šåŠ¡åœºæ™¯å’Œç”¨æˆ·æ—…ç¨‹",color:"#1890ff"},{level:2,name:"ä¸šåŠ¡é“¾è·¯å±‚",description:"ä¸šåŠ¡åœºæ™¯çš„å…·ä½“æ‰§è¡Œé“¾è·¯",color:"#52c41a"},{level:3,name:"ä¸šåŠ¡ç³»ç»Ÿå±‚",description:"æ”¯æ’‘ä¸šåŠ¡é“¾è·¯çš„åº”ç”¨ç³»ç»Ÿ",color:"#faad14"},{level:4,name:"ä¸­é—´ä»¶å±‚",description:"ç³»ç»Ÿé—´é€šä¿¡å’ŒåŸºç¡€æœåŠ¡ä¸­é—´ä»¶",color:"#722ed1"},{level:5,name:"åŸºç¡€è®¾æ–½å±‚",description:"åº•å±‚è®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œåŸºç¡€è®¾æ–½",color:"#f5222d"}],relationTypes:[{type:"contains",description:"åŒ…å«å…³ç³»",color:"#1890ff",strokeWidth:3},{type:"depends_on",description:"ä¾èµ–å…³ç³»",color:"#52c41a",strokeWidth:2},{type:"uses",description:"ä½¿ç”¨å…³ç³»",color:"#faad14",strokeWidth:2},{type:"runs_on",description:"è¿è¡Œå…³ç³»",color:"#722ed1",strokeWidth:2},{type:"stores_in",description:"å­˜å‚¨å…³ç³»",color:"#f5222d",strokeWidth:1}]},ds={planes:os,nodes:as,links:ls,metadata:cs},us=M.div`
  width: 100%;
  height: 800px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  position: relative;
  background-color: var(--background-color);
  overflow: hidden;
`,hs=M.div`
  position: absolute;
  top: 16px;
  right: 16px;
  z-index: 10;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 8px;
  box-shadow: var(--card-shadow);
`,ps=M.div`
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 10;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px;
  box-shadow: var(--card-shadow);
  max-width: 300px;
`,ms=M.div`
  position: absolute;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px;
  box-shadow: var(--card-shadow);
  pointer-events: none;
  z-index: 20;
  max-width: 250px;
  font-size: 12px;
  line-height: 1.4;
`,Je=()=>{var X;const{t}=He(["relationships","common"]),a=$.useRef(null),u=$.useRef(null),[y,d]=$.useState(!0),[o,x]=$.useState(null),[c,k]=$.useState(null),[h,Y]=$.useState(null),[G,j]=$.useState(null),J=(p,S)=>({1:"#1890ff",2:"#52c41a",3:"#faad14",4:"#722ed1",5:"#f5222d"})[S]||"#8c8c8c",te=p=>({contains:"#1890ff",depends_on:"#52c41a",uses:"#faad14",runs_on:"#722ed1",stores_in:"#f5222d",logs_to:"#8c8c8c"})[p]||"#d9d9d9",F=p=>({1:20,2:16,3:14,4:12,5:10})[p]||12,N=(p,S,O,ee)=>{if(S.filter(n=>n.plane===p.id).length===0)return null;const _=ee/5;return{x:50,y:(p.level-1)*_+50,width:O-100,height:_-20,rx:12,ry:12}},f=()=>{if(!a.current||!u.current||!c)return;const p=u.current,S=ce(a.current),O=p.clientWidth,ee=p.clientHeight;S.selectAll("*").remove(),S.attr("width",O).attr("height",ee);const A=rs().scaleExtent([.1,3]).on("zoom",i=>{_.attr("transform",i.transform)});S.call(A);const _=S.append("g");_.append("g").attr("class","planes").selectAll("g").data(c.planes).enter().append("g").attr("class","plane").each(function(i){const l=N(i,c.nodes,O,ee);if(!l)return;const z=ce(this);z.append("rect").attr("x",l.x).attr("y",l.y).attr("width",l.width).attr("height",l.height).attr("rx",l.rx).attr("ry",l.ry).attr("fill",i.color).attr("stroke",i.borderColor).attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("opacity",.3),z.append("text").attr("x",l.x+20).attr("y",l.y+25).attr("font-size","16px").attr("font-weight","bold").attr("fill",i.borderColor).text(i.name),z.append("text").attr("x",l.x+20).attr("y",l.y+45).attr("font-size","12px").attr("fill","var(--text-secondary)").text(i.description)});const r=wt(c.nodes).force("link",Tt(c.links).id(i=>i.id).distance(i=>{const l=i.source.level,z=i.target.level;return Math.abs(l-z)===1?80:120}).strength(i=>i.strength)).force("charge",zt().strength(-200)).force("center",Jt(O/2,ee/2)).force("collision",St().radius(i=>F(i.level)+8)).force("plane",()=>{c.nodes.forEach(i=>{const l=c.planes.find(ye=>ye.id===i.plane);if(!l)return;const z=N(l,c.nodes,O,ee);if(!z)return;const b=30,P=z.x+b,L=z.x+z.width-b,ne=z.y+b+50,pe=z.y+z.height-b;i.x<P&&(i.x=P),i.x>L&&(i.x=L),i.y<ne&&(i.y=ne),i.y>pe&&(i.y=pe)})}),n=_.append("defs");c.metadata.relationTypes.forEach(i=>{n.append("marker").attr("id",`arrow-${i.type}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill",i.color)});const m=_.append("g").attr("class","links").selectAll("line").data(c.links).enter().append("line").attr("stroke",i=>te(i.type)).attr("stroke-width",i=>{const l=c.metadata.relationTypes.find(z=>z.type===i.type);return(l==null?void 0:l.strokeWidth)||1}).attr("stroke-opacity",.8).attr("marker-end",i=>`url(#arrow-${i.type})`),v=_.append("g").attr("class","nodes").selectAll("g").data(c.nodes).enter().append("g").attr("class","node").call(kt().on("start",(i,l)=>{i.active||r.alphaTarget(.3).restart(),l.fx=l.x,l.fy=l.y}).on("drag",(i,l)=>{l.fx=i.x,l.fy=i.y}).on("end",(i,l)=>{i.active||r.alphaTarget(0);const z=c.planes.find(b=>b.id===l.plane);if(z){const b=N(z,c.nodes,O,ee);if(b){const L=b.x+30,ne=b.x+b.width-30,pe=b.y+30+50,ye=b.y+b.height-30;l.fx<L&&(l.fx=L),l.fx>ne&&(l.fx=ne),l.fy<pe&&(l.fy=pe),l.fy>ye&&(l.fy=ye)}}}));v.append("circle").attr("r",i=>F(i.level)).attr("fill",i=>J(i.type,i.level)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer"),v.append("text").text(i=>i.name).attr("x",0).attr("y",i=>F(i.level)+15).attr("text-anchor","middle").attr("font-size","10px").attr("fill","var(--text-color)").style("pointer-events","none"),v.on("mouseover",(i,l)=>{const z=new Set;z.add(l.id),c.links.forEach(b=>{const P=typeof b.source=="string"?b.source:b.source.id,L=typeof b.target=="string"?b.target:b.target.id;P===l.id&&z.add(L),L===l.id&&z.add(P)}),v.style("opacity",b=>z.has(b.id)?1:.3),m.style("opacity",b=>{const P=typeof b.source=="string"?b.source:b.source.id,L=typeof b.target=="string"?b.target:b.target.id;return P===l.id||L===l.id?1:.1}),j({x:i.pageX+10,y:i.pageY-10,content:l})}).on("mouseout",()=>{v.style("opacity",1),m.style("opacity",.8),j(null)}).on("click",(i,l)=>{Y(l)}),r.on("tick",()=>{m.attr("x1",i=>i.source.x).attr("y1",i=>i.source.y).attr("x2",i=>i.target.x).attr("y2",i=>i.target.y),v.attr("transform",i=>`translate(${i.x},${i.y})`)});const w=()=>{S.transition().call(A.scaleBy,1.5)},T=()=>{S.transition().call(A.scaleBy,1/1.5)},C=()=>{S.transition().call(A.transform,Ge)},E=()=>{c.nodes.forEach(i=>{i.fx=null,i.fy=null}),r.alpha(1).restart()};a.current.zoomIn=w,a.current.zoomOut=T,a.current.resetZoom=C,a.current.resetNodePositions=E};$.useEffect(()=>{try{d(!0),k(ds),x(null)}catch{x("Failed to load relationship data")}finally{d(!1)}},[]),$.useEffect(()=>{if(c&&!y){const p=setTimeout(()=>{f()},100);return()=>clearTimeout(p)}},[c,y]),$.useEffect(()=>{const p=()=>{c&&!y&&f()};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[c,y]);const Z=()=>{var p,S;(S=(p=a.current)==null?void 0:p.zoomIn)==null||S.call(p)},V=()=>{var p,S;(S=(p=a.current)==null?void 0:p.zoomOut)==null||S.call(p)},U=()=>{var p,S;(S=(p=a.current)==null?void 0:p.resetZoom)==null||S.call(p)},H=()=>{var p,S;(S=(p=a.current)==null?void 0:p.resetNodePositions)==null||S.call(p)},W=()=>{f()};return y?e.jsx(K,{children:e.jsxs("div",{style:{textAlign:"center",padding:"100px 0"},children:[e.jsx(dt,{size:"large"}),e.jsx("div",{style:{marginTop:16},children:"Loading relationship graph..."})]})}):o?e.jsx(K,{children:e.jsx(ut,{message:"Error",description:o,type:"error",showIcon:!0})}):e.jsxs(K,{title:t("relationships:businessRelationshipGraph"),style:{marginBottom:24},children:[e.jsxs(us,{ref:u,children:[e.jsx("svg",{ref:a}),e.jsx(hs,{children:e.jsxs(B,{direction:"vertical",size:"small",children:[e.jsx(D,{size:"small",icon:e.jsx(ht,{}),onClick:Z,title:t("relationships:zoomIn")}),e.jsx(D,{size:"small",icon:e.jsx(pt,{}),onClick:V,title:t("relationships:zoomOut")}),e.jsx(D,{size:"small",icon:e.jsx(mt,{}),onClick:U,title:t("relationships:resetView")}),e.jsx(D,{size:"small",icon:e.jsx(xt,{}),onClick:H,title:t("relationships:resetNodePositions")}),e.jsx(D,{size:"small",icon:e.jsx(ge,{}),onClick:W,title:t("relationships:refreshGraph")})]})}),e.jsxs(ps,{children:[e.jsx("div",{style:{marginBottom:12,fontWeight:"bold",fontSize:"14px"},children:t("relationships:legend")}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:planes"),":"]}),c==null?void 0:c.planes.map(p=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:16,height:12,backgroundColor:p.color,border:`1px solid ${p.borderColor}`,borderRadius:2,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:p.name})]},p.id))]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:nodeTypes"),":"]}),c==null?void 0:c.metadata.levels.map(p=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:p.color,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:p.name})]},p.level))]}),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:4,fontSize:"12px",fontWeight:"bold"},children:[t("relationships:relationTypes"),":"]}),c==null?void 0:c.metadata.relationTypes.map(p=>e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[e.jsx("div",{style:{width:16,height:2,backgroundColor:p.color,marginRight:6}}),e.jsx("span",{style:{fontSize:"11px"},children:p.description})]},p.type))]})]}),G&&e.jsxs(ms,{style:{left:G.x,top:G.y},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:G.content.name}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:type"),": ",G.content.type]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:level"),": ",G.content.level]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:plane"),": ",G.content.plane]}),e.jsxs("div",{style:{marginBottom:2},children:[t("relationships:status"),":",e.jsx(g,{color:G.content.status==="active"||G.content.status==="running"?"green":"red",size:"small",style:{marginLeft:4},children:G.content.status})]}),e.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:G.content.description})]})]}),h&&e.jsx(K,{title:`${t("relationships:nodeDetails")}: ${h.name}`,size:"small",style:{marginTop:16},extra:e.jsx(D,{size:"small",onClick:()=>Y(null),children:t("common:close")}),children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:basicInfo"),":"]}),e.jsxs("div",{children:["ID: ",h.id]}),e.jsxs("div",{children:[t("relationships:type"),": ",h.type]}),e.jsxs("div",{children:[t("relationships:level"),": ",h.level]}),e.jsxs("div",{children:[t("relationships:plane"),": ",h.plane]}),e.jsxs("div",{children:[t("relationships:status"),": ",e.jsx(g,{color:h.status==="active"||h.status==="running"?"green":"red",children:h.status})]})]}),e.jsxs("div",{children:[e.jsxs("strong",{children:[t("common:description"),":"]}),e.jsx("div",{children:h.description})]}),h.instances&&e.jsxs("div",{children:[e.jsx("strong",{children:"å®ä¾‹ä¿¡æ¯:"}),e.jsxs("div",{children:["å®ä¾‹æ•°: ",h.instances]}),h.version&&e.jsxs("div",{children:["ç‰ˆæœ¬: ",h.version]}),h.technology&&e.jsxs("div",{children:["æŠ€æœ¯æ ˆ: ",h.technology]})]}),h.nodes&&e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:clusterInfo"),":"]}),e.jsxs("div",{children:[t("relationships:nodeCount"),": ",h.nodes]}),h.config&&e.jsxs("div",{children:[t("relationships:config"),": ",h.config]}),h.technology&&e.jsxs("div",{children:[t("relationships:technology"),": ",h.technology]}),h.region&&e.jsxs("div",{children:[t("relationships:region"),": ",h.region]})]}),h.databases&&e.jsxs("div",{children:[e.jsxs("strong",{children:[t("relationships:databases"),":"]}),e.jsx("div",{style:{marginTop:4},children:h.databases.map((p,S)=>e.jsx(g,{color:"blue",style:{marginBottom:4},children:p},S))})]}),h.metrics&&e.jsxs("div",{children:[e.jsx("strong",{children:"ä¸šåŠ¡æŒ‡æ ‡:"}),e.jsxs("div",{children:["æ—¥å‡é‡: ",(X=h.metrics.dailyVolume)==null?void 0:X.toLocaleString()]}),e.jsxs("div",{children:["æˆåŠŸç‡: ",h.metrics.successRate,"%"]})]})]})})]})},xs=[{id:"report_001",name:"æ—¥é”€å”®æŠ¥è¡¨",type:"report",category:"ä¸šåŠ¡æŠ¥è¡¨",status:"active",description:"æ¯æ—¥é”€å”®æ•°æ®ç»Ÿè®¡æŠ¥è¡¨ï¼ŒåŒ…å«è®¢å•é‡ã€é”€å”®é¢ã€è½¬åŒ–ç‡ç­‰å…³é”®æŒ‡æ ‡",owner:"æ•°æ®åˆ†æå›¢é˜Ÿ",updateFrequency:"æ¯æ—¥",lastUpdated:"2024-12-17 08:00:00",dataSource:["order_center","payment_core"],metrics:{viewCount:1250,exportCount:89,avgLoadTime:"2.3s"},tags:["é”€å”®","æ—¥æŠ¥","æ ¸å¿ƒæŒ‡æ ‡"]},{id:"report_002",name:"ç”¨æˆ·è¡Œä¸ºåˆ†ææŠ¥è¡¨",type:"report",category:"ç”¨æˆ·æŠ¥è¡¨",status:"active",description:"ç”¨æˆ·è®¿é—®è·¯å¾„ã€åœç•™æ—¶é—´ã€è½¬åŒ–æ¼æ–—åˆ†ææŠ¥è¡¨",owner:"äº§å“è¿è¥å›¢é˜Ÿ",updateFrequency:"å®æ—¶",lastUpdated:"2024-12-17 14:30:00",dataSource:["user_behavior","page_analytics"],metrics:{viewCount:890,exportCount:45,avgLoadTime:"1.8s"},tags:["ç”¨æˆ·è¡Œä¸º","å®æ—¶","è½¬åŒ–åˆ†æ"]},{id:"business_link_001",name:"ç”¨æˆ·æ³¨å†Œé“¾è·¯",type:"business_link",category:"ç”¨æˆ·ç®¡ç†",status:"running",description:"ç”¨æˆ·ä»æ³¨å†Œåˆ°æ¿€æ´»çš„å®Œæ•´ä¸šåŠ¡æµç¨‹",owner:"ç”¨æˆ·ä¸­å¿ƒå›¢é˜Ÿ",avgResponseTime:"850ms",successRate:98.5,dailyVolume:2500,dependencies:["user_service","sms_service","email_service"],sla:{responseTime:"< 1s",availability:"99.9%",errorRate:"< 0.1%"},tags:["ç”¨æˆ·æ³¨å†Œ","æ ¸å¿ƒé“¾è·¯","é«˜é¢‘"]},{id:"business_link_002",name:"è®¢å•æ”¯ä»˜é“¾è·¯",type:"business_link",category:"äº¤æ˜“ç®¡ç†",status:"running",description:"ä»ä¸‹å•åˆ°æ”¯ä»˜å®Œæˆçš„æ ¸å¿ƒäº¤æ˜“é“¾è·¯",owner:"äº¤æ˜“å›¢é˜Ÿ",avgResponseTime:"1.2s",successRate:99.2,dailyVolume:15e3,dependencies:["order_service","payment_gateway","risk_control"],sla:{responseTime:"< 2s",availability:"99.95%",errorRate:"< 0.05%"},tags:["è®¢å•æ”¯ä»˜","æ ¸å¿ƒé“¾è·¯","é«˜å¯ç”¨"]},{id:"system_001",name:"ç”¨æˆ·ä¸­å¿ƒç³»ç»Ÿ",type:"business_system",category:"æ ¸å¿ƒç³»ç»Ÿ",status:"running",description:"ç»Ÿä¸€ç”¨æˆ·ç®¡ç†ã€è®¤è¯ã€æƒé™æ§åˆ¶ç³»ç»Ÿ",owner:"åŸºç¡€æ¶æ„å›¢é˜Ÿ",version:"v2.1.0",instances:6,technology:"Spring Boot + MySQL",resources:{cpu:"24 cores",memory:"48GB",storage:"500GB"},metrics:{qps:5e3,responseTime:"120ms",errorRate:"0.02%"},tags:["ç”¨æˆ·ç®¡ç†","æ ¸å¿ƒç³»ç»Ÿ","å¾®æœåŠ¡"]},{id:"system_002",name:"è®¢å•ç®¡ç†ç³»ç»Ÿ",type:"business_system",category:"æ ¸å¿ƒç³»ç»Ÿ",status:"running",description:"è®¢å•å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿ",owner:"è®¢å•å›¢é˜Ÿ",version:"v3.0.1",instances:8,technology:"Spring Cloud + MySQL",resources:{cpu:"32 cores",memory:"64GB",storage:"1TB"},metrics:{qps:8e3,responseTime:"200ms",errorRate:"0.01%"},tags:["è®¢å•ç®¡ç†","æ ¸å¿ƒç³»ç»Ÿ","é«˜å¹¶å‘"]},{id:"api_001",name:"ç”¨æˆ·ç™»å½•æ¥å£",type:"api",category:"ç”¨æˆ·æ¥å£",status:"active",description:"ç”¨æˆ·ç™»å½•è®¤è¯æ¥å£ï¼Œæ”¯æŒå¤šç§ç™»å½•æ–¹å¼",owner:"ç”¨æˆ·ä¸­å¿ƒå›¢é˜Ÿ",method:"POST",path:"/api/v1/user/login",version:"v1.2",responseTime:"95ms",qps:1200,successRate:99.8,rateLimit:"1000/min",authentication:"JWT Token",tags:["ç”¨æˆ·ç™»å½•","é«˜é¢‘æ¥å£","è®¤è¯"]},{id:"api_002",name:"è®¢å•åˆ›å»ºæ¥å£",type:"api",category:"äº¤æ˜“æ¥å£",status:"active",description:"åˆ›å»ºæ–°è®¢å•çš„æ ¸å¿ƒæ¥å£",owner:"è®¢å•å›¢é˜Ÿ",method:"POST",path:"/api/v1/order/create",version:"v2.0",responseTime:"180ms",qps:800,successRate:99.5,rateLimit:"500/min",authentication:"Bearer Token",tags:["è®¢å•åˆ›å»º","æ ¸å¿ƒæ¥å£","äº¤æ˜“"]},{id:"database_001",name:"ç”¨æˆ·æ•°æ®åº“é›†ç¾¤",type:"database",category:"MySQLé›†ç¾¤",status:"running",description:"ç”¨æˆ·ç›¸å…³æ•°æ®å­˜å‚¨çš„MySQLä¸»ä»é›†ç¾¤",owner:"DBAå›¢é˜Ÿ",technology:"MySQL 8.0",config:"1ä¸»4ä»",nodes:5,storage:"2TB",connections:500,qps:15e3,region:"åä¸œ-1",backup:"æ¯æ—¥å…¨é‡+å®æ—¶å¢é‡",tags:["ç”¨æˆ·æ•°æ®","MySQL","ä¸»ä»é›†ç¾¤"]},{id:"database_002",name:"è®¢å•æ•°æ®åº“é›†ç¾¤",type:"database",category:"MySQLé›†ç¾¤",status:"running",description:"è®¢å•äº¤æ˜“æ•°æ®å­˜å‚¨çš„MySQLåˆ†åº“åˆ†è¡¨é›†ç¾¤",owner:"DBAå›¢é˜Ÿ",technology:"MySQL 8.0",config:"2ä¸»6ä»",nodes:8,storage:"5TB",connections:800,qps:25e3,region:"åä¸œ-1",backup:"æ¯æ—¥å…¨é‡+å®æ—¶å¢é‡",tags:["è®¢å•æ•°æ®","MySQL","åˆ†åº“åˆ†è¡¨"]},{id:"table_001",name:"ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨",type:"table",category:"ç”¨æˆ·è¡¨",status:"active",description:"å­˜å‚¨ç”¨æˆ·åŸºç¡€ä¿¡æ¯çš„æ ¸å¿ƒè¡¨",owner:"ç”¨æˆ·ä¸­å¿ƒå›¢é˜Ÿ",database:"user_center",tableName:"user_basic_info",rowCount:5e6,dataSize:"2.5GB",indexCount:8,partitions:12,lastAnalyzed:"2024-12-17 02:00:00",growthRate:"1000/day",tags:["ç”¨æˆ·ä¿¡æ¯","æ ¸å¿ƒè¡¨","å¤§è¡¨"]},{id:"table_002",name:"è®¢å•ä¸»è¡¨",type:"table",category:"è®¢å•è¡¨",status:"active",description:"å­˜å‚¨è®¢å•ä¸»è¦ä¿¡æ¯çš„æ ¸å¿ƒè¡¨",owner:"è®¢å•å›¢é˜Ÿ",database:"order_center",tableName:"order_main",rowCount:2e7,dataSize:"15GB",indexCount:12,partitions:24,lastAnalyzed:"2024-12-17 01:30:00",growthRate:"5000/day",tags:["è®¢å•ä¿¡æ¯","æ ¸å¿ƒè¡¨","åˆ†åŒºè¡¨"]},{id:"middleware_001",name:"Redisç¼“å­˜é›†ç¾¤",type:"middleware",category:"ç¼“å­˜ä¸­é—´ä»¶",status:"running",description:"åˆ†å¸ƒå¼ç¼“å­˜é›†ç¾¤ï¼Œæä¾›é«˜æ€§èƒ½æ•°æ®è®¿é—®",owner:"åŸºç¡€æ¶æ„å›¢é˜Ÿ",technology:"Redis 7.0",config:"3ä¸»6ä»",nodes:9,memory:"256GB",hitRate:95.8,qps:5e4,region:"åä¸œ-1",tags:["ç¼“å­˜","Redis","é«˜æ€§èƒ½"]},{id:"middleware_002",name:"æ¶ˆæ¯é˜Ÿåˆ—é›†ç¾¤",type:"middleware",category:"æ¶ˆæ¯ä¸­é—´ä»¶",status:"running",description:"å¼‚æ­¥æ¶ˆæ¯å¤„ç†å’Œäº‹ä»¶é©±åŠ¨æ¶æ„æ”¯æ’‘",owner:"åŸºç¡€æ¶æ„å›¢é˜Ÿ",technology:"RocketMQ",config:"3èŠ‚ç‚¹é›†ç¾¤",nodes:3,topics:45,dailyMessages:1e7,storage:"1TB",region:"åä¸œ-1",tags:["æ¶ˆæ¯é˜Ÿåˆ—","RocketMQ","å¼‚æ­¥å¤„ç†"]},{id:"service_001",name:"ç”¨æˆ·è®¤è¯æœåŠ¡",type:"microservice",category:"åŸºç¡€æœåŠ¡",status:"running",description:"æä¾›ç»Ÿä¸€ç”¨æˆ·è®¤è¯å’ŒæˆæƒæœåŠ¡",owner:"ç”¨æˆ·ä¸­å¿ƒå›¢é˜Ÿ",version:"v1.8.0",instances:4,language:"Java",framework:"Spring Boot",port:8080,healthCheck:"/health",metrics:{qps:2e3,responseTime:"80ms",errorRate:"0.01%"},tags:["è®¤è¯æœåŠ¡","å¾®æœåŠ¡","åŸºç¡€ç»„ä»¶"]},{id:"job_001",name:"è®¢å•çŠ¶æ€åŒæ­¥ä»»åŠ¡",type:"scheduled_job",category:"æ•°æ®åŒæ­¥",status:"running",description:"å®šæ—¶åŒæ­¥è®¢å•çŠ¶æ€åˆ°æ•°æ®ä»“åº“",owner:"æ•°æ®å›¢é˜Ÿ",schedule:"0 */5 * * * *",lastRun:"2024-12-17 14:25:00",nextRun:"2024-12-17 14:30:00",avgDuration:"45s",successRate:99.5,processedRecords:15e3,tags:["å®šæ—¶ä»»åŠ¡","æ•°æ®åŒæ­¥","è®¢å•"]},{id:"config_001",name:"æ”¯ä»˜é…ç½®ä¸­å¿ƒ",type:"configuration",category:"ä¸šåŠ¡é…ç½®",status:"active",description:"æ”¯ä»˜ç›¸å…³çš„é…ç½®å‚æ•°ç®¡ç†",owner:"æ”¯ä»˜å›¢é˜Ÿ",configCount:156,environment:"production",lastModified:"2024-12-17 10:15:00",version:"v2.3.1",encrypted:!0,tags:["æ”¯ä»˜é…ç½®","é…ç½®ä¸­å¿ƒ","ç”Ÿäº§ç¯å¢ƒ"]}],gs={entities:xs},{Title:Be,Paragraph:Re}=se,{Search:ys}=yt,{Option:q}=De,fs=M.div`
  padding: 24px;
`,js=M.div`
  margin-bottom: 24px;
`,Xe=M.div`
  min-height: 500px;
`,re=M(K)`
  .ant-card-body {
    padding: 16px;
  }
`,vs=M.div`
  margin-bottom: 24px;
  padding: 16px;
  background: var(--card-bg);
  border-radius: 8px;
  border: 1px solid var(--border-color);
`,bs=M.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 16px;
`,Bs=()=>{const{t}=He(["entities","common"]),a=Ue(),[u,y]=$.useState("entities"),[d,o]=$.useState("all"),[x,c]=$.useState(""),[k,h]=$.useState("all"),[Y,G]=$.useState("all"),[j,J]=$.useState(null),[te,F]=$.useState(!1),[N,f]=$.useState([]);$.useEffect(()=>{Ke(t("entities:title")),f(gs.entities)},[t]);const Z=()=>{a("/entities/create")},V=_=>{a(`/entities/edit/${_.id}`)},U=_=>{y(_)},H=_=>{J(_),F(!0)},W=()=>({total:N.length,active:N.filter(s=>s.status==="active"||s.status==="running").length,inactive:N.filter(s=>s.status==="inactive").length,warning:N.filter(s=>s.status==="warning").length}),X=()=>{const _={};return N.forEach(s=>{_[s.type]=(_[s.type]||0)+1}),_},p=()=>{let _=N;return d!=="all"&&(_=_.filter(s=>s.type===d)),x&&(_=_.filter(s=>{var r;return s.name.toLowerCase().includes(x.toLowerCase())||s.description.toLowerCase().includes(x.toLowerCase())||((r=s.tags)==null?void 0:r.some(n=>n.toLowerCase().includes(x.toLowerCase())))})),k!=="all"&&(_=_.filter(s=>s.type===k)),Y!=="all"&&(_=_.filter(s=>s.status===Y)),_},S=()=>{const _=W(),s=p();return e.jsxs(Xe,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Be,{level:3,style:{margin:0},children:t("entities:title")}),e.jsx(Re,{style:{marginTop:8,marginBottom:0},children:t("entities:subtitle")})]}),e.jsxs(B,{children:[e.jsx(D,{icon:e.jsx(Pe,{}),children:t("common:export")}),e.jsx(D,{icon:e.jsx(ge,{}),children:t("common:refresh")}),e.jsx(D,{type:"primary",icon:e.jsx(Le,{}),onClick:Z,children:t("entities:createEntity")})]})]}),e.jsxs(ae,{gutter:16,style:{marginBottom:24},children:[e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.totalEntities"),value:_.total,suffix:t("common:unit.count"),valueStyle:{color:"#1890ff"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.activeEntities"),value:_.active,suffix:t("common:unit.count"),valueStyle:{color:"#52c41a"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.warningEntities"),value:_.warning,suffix:t("common:unit.count"),valueStyle:{color:"#faad14"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.errorEntities"),value:_.inactive,suffix:t("common:unit.count"),valueStyle:{color:"#f5222d"}})})})]}),e.jsx("div",{style:{marginBottom:16},children:e.jsxs(B,{wrap:!0,children:[e.jsxs(g.CheckableTag,{checked:d==="all",onChange:()=>o("all"),children:["å…¨éƒ¨ (",_.total,")"]}),e.jsxs(g.CheckableTag,{checked:d==="report",onChange:()=>o("report"),children:["ğŸ“Š ",t("entities:types.report")," (",A.report||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="business_link",onChange:()=>o("business_link"),children:["ğŸ”— ",t("entities:types.businessLink")," (",A.business_link||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="business_system",onChange:()=>o("business_system"),children:["ğŸ¢ ",t("entities:types.businessSystem")," (",A.business_system||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="api",onChange:()=>o("api"),children:["ğŸ”Œ ",t("entities:types.api")," (",A.api||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="database",onChange:()=>o("database"),children:["ğŸ’¾ ",t("entities:types.database")," (",A.database||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="table",onChange:()=>o("table"),children:["ğŸ“‹ ",t("entities:types.table")," (",A.table||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="middleware",onChange:()=>o("middleware"),children:["â˜ï¸ ",t("entities:types.middleware")," (",A.middleware||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="microservice",onChange:()=>o("microservice"),children:["ğŸ”§ ",t("entities:types.microservice")," (",A.microservice||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="scheduled_job",onChange:()=>o("scheduled_job"),children:["â° ",t("entities:types.scheduledJob")," (",A.scheduled_job||0,")"]}),e.jsxs(g.CheckableTag,{checked:d==="configuration",onChange:()=>o("configuration"),children:["âš™ï¸ é…ç½® (",A.configuration||0,")"]})]})}),e.jsx(vs,{children:e.jsxs(ae,{gutter:16,align:"middle",children:[e.jsx(I,{flex:"auto",children:e.jsx(ys,{placeholder:t("entities:searchPlaceholder"),value:x,onChange:r=>c(r.target.value),style:{width:"100%"},allowClear:!0})}),e.jsx(I,{children:e.jsxs(De,{value:k,onChange:h,style:{width:120},placeholder:t("entities:typeFilter"),children:[e.jsx(q,{value:"all",children:t("entities:allTypes")}),e.jsx(q,{value:"report",children:t("entities:types.report")}),e.jsx(q,{value:"business_link",children:t("entities:types.businessLink")}),e.jsx(q,{value:"business_system",children:t("entities:types.businessSystem")}),e.jsx(q,{value:"api",children:t("entities:types.api")}),e.jsx(q,{value:"database",children:t("entities:types.database")}),e.jsx(q,{value:"table",children:t("entities:types.table")}),e.jsx(q,{value:"middleware",children:t("entities:types.middleware")}),e.jsx(q,{value:"microservice",children:t("entities:types.microservice")}),e.jsx(q,{value:"scheduled_job",children:t("entities:types.scheduledJob")}),e.jsx(q,{value:"configuration",children:t("entities:types.configuration")})]})}),e.jsx(I,{children:e.jsxs(De,{value:Y,onChange:G,style:{width:100},placeholder:"çŠ¶æ€",children:[e.jsx(q,{value:"all",children:"æ‰€æœ‰çŠ¶æ€"}),e.jsx(q,{value:"active",children:"æ´»è·ƒ"}),e.jsx(q,{value:"running",children:"è¿è¡Œä¸­"}),e.jsx(q,{value:"inactive",children:"åœç”¨"}),e.jsx(q,{value:"warning",children:"å‘Šè­¦"})]})})]})}),s.length>0?e.jsx(bs,{children:s.map(r=>e.jsx(Vt,{entity:r,onClick:H,onEdit:V},r.id))}):e.jsx(ft,{description:t("entities:noEntitiesFound"),style:{margin:"60px 0"}})]})},O=()=>{var _;return j?e.jsxs(gt,{title:`${t("entities:entityDetail")}: ${j.name}`,placement:"right",width:600,onClose:()=>F(!1),open:te,children:[e.jsxs(Q,{column:1,bordered:!0,size:"small",children:[e.jsx(Q.Item,{label:t("entities:entityId"),children:j.id}),e.jsx(Q.Item,{label:t("entities:entityName"),children:j.name}),e.jsx(Q.Item,{label:t("entities:entityType"),children:e.jsx(g,{color:"blue",children:j.type})}),e.jsx(Q.Item,{label:t("entities:category"),children:j.category}),e.jsx(Q.Item,{label:"çŠ¶æ€",children:e.jsx(xe,{status:j.status==="active"||j.status==="running"?"success":"error",text:j.status})}),e.jsx(Q.Item,{label:"æè¿°",children:j.description}),e.jsx(Q.Item,{label:"è´Ÿè´£äºº",children:j.owner}),j.version&&e.jsx(Q.Item,{label:"ç‰ˆæœ¬",children:j.version}),j.technology&&e.jsx(Q.Item,{label:"æŠ€æœ¯æ ˆ",children:j.technology}),j.instances&&e.jsx(Q.Item,{label:"å®ä¾‹æ•°",children:j.instances}),j.method&&e.jsx(Q.Item,{label:"è¯·æ±‚æ–¹æ³•",children:e.jsx(g,{color:j.method==="GET"?"green":"blue",children:j.method})}),j.path&&e.jsx(Q.Item,{label:t("entities:apiPath"),children:e.jsx("code",{children:j.path})}),j.database&&e.jsx(Q.Item,{label:t("entities:belongsToDatabase"),children:j.database}),j.tableName&&e.jsx(Q.Item,{label:t("entities:tableName"),children:e.jsx("code",{children:j.tableName})}),e.jsx(Q.Item,{label:"æ ‡ç­¾",children:e.jsx(B,{children:(_=j.tags)==null?void 0:_.map((s,r)=>e.jsx(g,{children:s},r))})})]}),j.metrics&&e.jsx(K,{title:"æ€§èƒ½æŒ‡æ ‡",size:"small",style:{marginTop:16},children:e.jsx(ae,{gutter:16,children:Object.entries(j.metrics).map(([s,r])=>e.jsx(I,{span:8,children:e.jsx(R,{title:s,value:r,valueStyle:{fontSize:"14px"}})},s))})}),j.sla&&e.jsx(K,{title:"SLAæŒ‡æ ‡",size:"small",style:{marginTop:16},children:e.jsx(Q,{column:1,size:"small",children:Object.entries(j.sla).map(([s,r])=>e.jsx(Q.Item,{label:s,children:r},s))})})]}):null},ee=()=>e.jsxs(Xe,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Be,{level:3,style:{margin:0},children:t("entities:relationshipGraph")}),e.jsx(Re,{style:{marginTop:8,marginBottom:0},children:t("entities:relationshipGraphDesc")})]}),e.jsxs(B,{children:[e.jsx(D,{icon:e.jsx(Pe,{}),children:t("entities:exportGraph")}),e.jsx(D,{icon:e.jsx(Te,{}),children:t("entities:graphSettings")}),e.jsx(D,{icon:e.jsx(ge,{}),children:t("entities:refreshGraph")})]})]}),e.jsxs(ae,{gutter:16,style:{marginBottom:24},children:[e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.totalRelations"),value:25,suffix:t("common:unitRelation"),valueStyle:{color:"#1890ff"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.relationTypes"),value:5,suffix:t("common:unitType"),valueStyle:{color:"#52c41a"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.graphNodes"),value:21,suffix:t("common:unit.count"),valueStyle:{color:"#faad14"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(re,{children:e.jsx(R,{title:t("entities:stats.connectedSystems"),value:5,suffix:t("common:unit.count"),valueStyle:{color:"#722ed1"}})})})]}),e.jsx(Je,{})]}),A=X();return e.jsxs(fs,{children:[e.jsx(js,{children:e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:e.jsxs("div",{children:[e.jsxs(Be,{level:2,style:{margin:0},children:[t("entities:title"),e.jsx(xe,{count:"NEW",style:{backgroundColor:"#52c41a",marginLeft:12,fontSize:12}})]}),e.jsx(Re,{style:{marginTop:8,marginBottom:0,fontSize:16},children:t("entities:description")})]})})}),e.jsx(K,{children:e.jsxs(he,{activeKey:u,onChange:U,size:"large",tabBarStyle:{marginBottom:24},children:[e.jsx(he.TabPane,{tab:e.jsxs(B,{children:[e.jsx(Ee,{}),t("entities:title"),e.jsx(xe,{count:W().total,showZero:!0})]}),children:S()},"entities"),e.jsx(he.TabPane,{tab:e.jsxs(B,{children:[e.jsx($e,{}),t("entities:relationshipGraph")]}),children:ee()},"relationships")]})}),O()]})},{Title:Me,Paragraph:ie}=se,_s=M.div`
  padding: 24px;
`,ws=M.div`
  margin-bottom: 24px;
`,Ze=M.div`
  min-height: 500px;
`,oe=M(K)`
  .ant-card-body {
    padding: 16px;
  }
`,ue=M(K)`
  height: 100%;
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
`,Rs=()=>{const[t,a]=$.useState("entities");$.useEffect(()=>{Ke("å®ä½“å…³ç³»")},[]);const u=o=>{a(o)},y=()=>e.jsxs(Ze,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Me,{level:3,style:{margin:0},children:"å®ä½“ç®¡ç†"}),e.jsx(ie,{style:{marginTop:8,marginBottom:0},children:"ç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§å®ä½“å¯¹è±¡ï¼ŒåŒ…æ‹¬å®ä½“ç±»å‹å®šä¹‰ã€å®ä½“å®ä¾‹åˆ›å»ºå’Œå±æ€§é…ç½®ã€‚"})]}),e.jsxs(B,{children:[e.jsx(D,{icon:e.jsx(ze,{}),children:"æœç´¢"}),e.jsx(D,{icon:e.jsx(jt,{}),children:"ç­›é€‰"}),e.jsx(D,{icon:e.jsx(ge,{}),children:"åˆ·æ–°"}),e.jsx(D,{type:"primary",icon:e.jsx(Le,{}),children:"åˆ›å»ºå®ä½“"})]})]}),e.jsxs(ae,{gutter:16,style:{marginBottom:24},children:[e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å®ä½“ç±»å‹",value:0,suffix:"ä¸ª",valueStyle:{color:"#1890ff"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å®ä½“å®ä¾‹",value:0,suffix:"ä¸ª",valueStyle:{color:"#52c41a"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"æ´»è·ƒå®ä½“",value:0,suffix:"ä¸ª",valueStyle:{color:"#faad14"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å¼‚å¸¸å®ä½“",value:0,suffix:"ä¸ª",valueStyle:{color:"#f5222d"}})})})]}),e.jsxs(ae,{gutter:16,children:[e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx(Ee,{style:{color:"#1890ff"}}),"å®ä½“ç±»å‹ç®¡ç†"]}),children:[e.jsx(ie,{children:"å®šä¹‰å’Œç®¡ç†ä¸åŒç±»å‹çš„å®ä½“ï¼ŒåŒ…æ‹¬å±æ€§å®šä¹‰ã€çº¦æŸè§„åˆ™å’Œç”Ÿå‘½å‘¨æœŸé…ç½®ã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"blue",children:"ç±»å‹å®šä¹‰"}),e.jsx(g,{color:"blue",children:"å±æ€§é…ç½®"}),e.jsx(g,{color:"blue",children:"çº¦æŸè§„åˆ™"})]})]})}),e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx(Le,{style:{color:"#52c41a"}}),"å®ä½“å®ä¾‹ç®¡ç†"]}),children:[e.jsx(ie,{children:"åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç†å…·ä½“çš„å®ä½“å®ä¾‹ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œå’ŒçŠ¶æ€ç®¡ç†ã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"green",children:"å®ä¾‹åˆ›å»º"}),e.jsx(g,{color:"green",children:"æ‰¹é‡æ“ä½œ"}),e.jsx(g,{color:"green",children:"çŠ¶æ€ç®¡ç†"})]})]})}),e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx(ze,{style:{color:"#faad14"}}),"æœç´¢ä¸è¿‡æ»¤"]}),children:[e.jsx(ie,{children:"å¼ºå¤§çš„æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½ï¼Œæ”¯æŒå¤šç»´åº¦æŸ¥è¯¢å’Œé«˜çº§ç­›é€‰æ¡ä»¶ã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"orange",children:"å…¨æ–‡æœç´¢"}),e.jsx(g,{color:"orange",children:"é«˜çº§ç­›é€‰"}),e.jsx(g,{color:"orange",children:"å¿«é€Ÿå®šä½"})]})]})})]})]}),d=()=>e.jsxs(Ze,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[e.jsxs("div",{children:[e.jsx(Me,{level:3,style:{margin:0},children:"å…³ç³»å›¾è°±"}),e.jsx(ie,{style:{marginTop:8,marginBottom:0},children:"åŸºäºD3.jsçš„äº¤äº’å¼å…³ç³»å›¾è°±ï¼Œå±•ç¤ºä»ä¸šåŠ¡åœºæ™¯åˆ°åŸºç¡€è®¾æ–½çš„å®Œæ•´æŠ€æœ¯æ¶æ„å…³ç³»ã€‚"})]}),e.jsxs(B,{children:[e.jsx(D,{icon:e.jsx(Pe,{}),children:"å¯¼å‡ºå›¾è°±"}),e.jsx(D,{icon:e.jsx(Te,{}),children:"å›¾è°±è®¾ç½®"}),e.jsx(D,{icon:e.jsx(ge,{}),children:"åˆ·æ–°å›¾è°±"})]})]}),e.jsxs(ae,{gutter:16,style:{marginBottom:24},children:[e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å…³ç³»æ€»æ•°",value:25,suffix:"æ¡",valueStyle:{color:"#1890ff"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å…³ç³»ç±»å‹",value:5,suffix:"ç§",valueStyle:{color:"#52c41a"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"å›¾è°±èŠ‚ç‚¹",value:21,suffix:"ä¸ª",valueStyle:{color:"#faad14"}})})}),e.jsx(I,{xs:24,sm:12,md:6,children:e.jsx(oe,{children:e.jsx(R,{title:"æ”¯ä»˜ç³»ç»Ÿ",value:5,suffix:"ä¸ª",valueStyle:{color:"#722ed1"}})})})]}),e.jsx(Je,{}),e.jsxs(ae,{gutter:16,style:{marginTop:24},children:[e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx($e,{style:{color:"#1890ff"}}),"å¤šå±‚çº§æ¶æ„"]}),children:[e.jsx(ie,{children:"å±•ç¤ºä»ä¸šåŠ¡åœºæ™¯ã€ä¸šåŠ¡é“¾è·¯ã€ä¸šåŠ¡ç³»ç»Ÿã€ä¸­é—´ä»¶åˆ°åŸºç¡€è®¾æ–½çš„5å±‚æ¶æ„å…³ç³»ã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"blue",children:"ä¸šåŠ¡åœºæ™¯"}),e.jsx(g,{color:"green",children:"ä¸šåŠ¡é“¾è·¯"}),e.jsx(g,{color:"orange",children:"ä¸šåŠ¡ç³»ç»Ÿ"}),e.jsx(g,{color:"purple",children:"ä¸­é—´ä»¶"}),e.jsx(g,{color:"red",children:"åŸºç¡€è®¾æ–½"})]})]})}),e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx(ze,{style:{color:"#52c41a"}}),"äº¤äº’å¼æ¢ç´¢"]}),children:[e.jsx(ie,{children:"å±•ç¤ºå®Œæ•´çš„æ”¯ä»˜ç»“ç®—ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…å«æ”¯ä»˜ç½‘å…³ã€é’±åŒ…ã€é£æ§ã€æ¸…ç»“ç®—ç­‰æ ¸å¿ƒç³»ç»Ÿã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"blue",children:"æ”¯ä»˜ç½‘å…³"}),e.jsx(g,{color:"green",children:"é’±åŒ…ç³»ç»Ÿ"}),e.jsx(g,{color:"orange",children:"é£æ§ç³»ç»Ÿ"}),e.jsx(g,{color:"purple",children:"æ¸…ç»“ç®—"}),e.jsx(g,{color:"red",children:"è´¦åŠ¡ç³»ç»Ÿ"})]})]})}),e.jsx(I,{xs:24,md:12,lg:8,children:e.jsxs(ue,{title:e.jsxs(B,{children:[e.jsx(Te,{style:{color:"#faad14"}}),"å…³ç³»ç±»å‹"]}),children:[e.jsx(ie,{children:"æ”¯æŒåŒ…å«ã€ä¾èµ–ã€ä½¿ç”¨ã€è¿è¡Œã€å­˜å‚¨ã€æ—¥å¿—ç­‰6ç§å…³ç³»ç±»å‹çš„å¯è§†åŒ–å±•ç¤ºã€‚"}),e.jsxs("div",{children:[e.jsx(g,{color:"orange",children:"åŒ…å«å…³ç³»"}),e.jsx(g,{color:"orange",children:"ä¾èµ–å…³ç³»"}),e.jsx(g,{color:"orange",children:"ä½¿ç”¨å…³ç³»"}),e.jsx(g,{color:"orange",children:"è¿è¡Œå…³ç³»"})]})]})})]})]});return e.jsxs(_s,{children:[e.jsx(ws,{children:e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:e.jsxs("div",{children:[e.jsxs(Me,{level:2,style:{margin:0},children:["å®ä½“å…³ç³»",e.jsx(xe,{count:"å¼€å‘ä¸­",style:{backgroundColor:"#faad14",marginLeft:12,fontSize:12}})]}),e.jsx(ie,{style:{marginTop:8,marginBottom:0,fontSize:16},children:"ç»Ÿä¸€ç®¡ç†ç³»ç»Ÿä¸­çš„å®ä½“å¯¹è±¡å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæä¾›å®Œæ•´çš„å®ä½“ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå…³ç³»å¯è§†åŒ–åˆ†æã€‚"})]})})}),e.jsx(K,{children:e.jsxs(he,{activeKey:t,onChange:u,size:"large",tabBarStyle:{marginBottom:24},children:[e.jsx(he.TabPane,{tab:e.jsxs(B,{children:[e.jsx(Ee,{}),"å®ä½“ç®¡ç†"]}),children:y()},"entities"),e.jsx(he.TabPane,{tab:e.jsxs(B,{children:[e.jsx($e,{}),"å…³ç³»å›¾è°±"]}),children:d()},"relationships")]})})]})};export{Ls as EntityCreatePage,Gs as EntityEditPage,$s as EntityForm,Bs as EntityManagement,Rs as EntityRelationship,Bs as default};

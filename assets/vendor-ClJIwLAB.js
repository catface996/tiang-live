var HS=Object.defineProperty;var zS=(t,e,r)=>e in t?HS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>zS(t,typeof e!="symbol"?e+"":e,r);import{g as nv}from"./dayjs-Bzorz0fL.js";import{g as BS,a as xm}from"./pdf-utils-C_SCuxBx.js";import{f as WS,i as YS,c as XS}from"./media-utils-evJiVgOc.js";import{G as Dr,H as mn,a as de,m as re,I as Fr,J as ti,K as qE,L as fr,M as cn,N as Ut,O as iv,e as Kr,q as la,v as Mt,p as Zr,l as ge,b as ri,P as Nl,Q as mh,D as sv,i as _s,R as Rm,r as or,d as Ke,k as ol,f as Hr,S as yh,T as dn,E as Bt,U as Nm,V as Ct,w as ca,W as ll,X as Ir,Y as qS,Z as VS,j as jS,_ as KS}from"./lodash-BORto0-T.js";var ff={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function ZS(){return Lm||(Lm=1,function(t){function e(_,x){var L=_.length;_.push(x);e:for(;0<L;){var D=L-1>>>1,P=_[D];if(0<i(P,x))_[D]=x,_[L]=P,L=D;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var x=_[0],L=_.pop();if(L!==x){_[0]=L;e:for(var D=0,P=_.length,U=P>>>1;D<U;){var z=2*(D+1)-1,H=_[z],V=z+1,W=_[V];if(0>i(H,L))V<P&&0>i(W,H)?(_[D]=W,_[V]=L,D=V):(_[D]=H,_[z]=L,D=z);else if(V<P&&0>i(W,L))_[D]=W,_[V]=L,D=V;else break e}}return x}function i(_,x){var L=_.sortIndex-x.sortIndex;return L!==0?L:_.id-x.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function b(_){for(var x=r(c);x!==null;){if(x.callback===null)n(c);else if(x.startTime<=_)n(c),x.sortIndex=x.expirationTime,e(l,x);else break;x=r(c)}}function A(_){if(g=!1,b(_),!p)if(r(l)!==null)p=!0,R||(R=!0,M());else{var x=r(c);x!==null&&O(A,x.startTime-_)}}var R=!1,w=-1,S=5,N=-1;function I(){return v?!0:!(t.unstable_now()-N<S)}function C(){if(v=!1,R){var _=t.unstable_now();N=_;var x=!0;try{e:{p=!1,g&&(g=!1,y(w),w=-1),f=!0;var L=d;try{t:{for(b(_),h=r(l);h!==null&&!(h.expirationTime>_&&I());){var D=h.callback;if(typeof D=="function"){h.callback=null,d=h.priorityLevel;var P=D(h.expirationTime<=_);if(_=t.unstable_now(),typeof P=="function"){h.callback=P,b(_),x=!0;break t}h===r(l)&&n(l),b(_)}else n(l);h=r(l)}if(h!==null)x=!0;else{var U=r(c);U!==null&&O(A,U.startTime-_),x=!1}}break e}finally{h=null,d=L,f=!1}x=void 0}}finally{x?M():R=!1}}}var M;if(typeof T=="function")M=function(){T(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,E=k.port2;k.port1.onmessage=C,M=function(){E.postMessage(null)}}else M=function(){m(C,0)};function O(_,x){w=m(function(){_(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(_){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var L=d;d=x;try{return _()}finally{d=L}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(_,x){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=d;d=_;try{return x()}finally{d=L}},t.unstable_scheduleCallback=function(_,x,L){var D=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?D+L:D):L=D,_){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,_={id:u++,callback:x,priorityLevel:_,startTime:L,expirationTime:P,sortIndex:-1},L>D?(_.sortIndex=L,e(c,_),r(l)===null&&_===r(c)&&(g?(y(w),w=-1):g=!0,O(A,L-D))):(_.sortIndex=P,e(l,_),p||f||(p=!0,R||(R=!0,M()))),_},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(_){var x=d;return function(){var L=d;d=x;try{return _.apply(this,arguments)}finally{d=L}}}}(df)),df}var Om;function c$(){return Om||(Om=1,ff.exports=ZS()),ff.exports}var Ia={},Cm;function QS(){if(Cm)return Ia;Cm=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.parse=a,Ia.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function a(d,f){const p=new s,g=d.length;if(g<2)return p;const v=(f==null?void 0:f.decode)||u;let m=0;do{const y=d.indexOf("=",m);if(y===-1)break;const T=d.indexOf(";",m),b=T===-1?g:T;if(y>b){m=d.lastIndexOf(";",y-1)+1;continue}const A=o(d,m,y),R=l(d,y,A),w=d.slice(A,R);if(p[w]===void 0){let S=o(d,y+1,b),N=l(d,b,S);const I=v(d.slice(S,N));p[w]=I}m=b+1}while(m<g);return p}function o(d,f,p){do{const g=d.charCodeAt(f);if(g!==32&&g!==9)return f}while(++f<p);return p}function l(d,f,p){for(;f>p;){const g=d.charCodeAt(--f);if(g!==32&&g!==9)return f+1}return p}function c(d,f,p){const g=(p==null?void 0:p.encode)||encodeURIComponent;if(!t.test(d))throw new TypeError(`argument name is invalid: ${d}`);const v=g(f);if(!e.test(v))throw new TypeError(`argument val is invalid: ${f}`);let m=d+"="+v;if(!p)return m;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);m+="; Max-Age="+p.maxAge}if(p.domain){if(!r.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);m+="; Domain="+p.domain}if(p.path){if(!n.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);m+="; Path="+p.path}if(p.expires){if(!h(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);m+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(m+="; HttpOnly"),p.secure&&(m+="; Secure"),p.partitioned&&(m+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":m+="; Priority=Low";break;case"medium":m+="; Priority=Medium";break;case"high":m+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return m}function u(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function h(d){return i.call(d)==="[object Date]"}return Ia}QS();var pf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Mm;function JS(){return Mm||(Mm=1,function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()}(pf)),pf.exports}var ex=JS();const u$=nv(ex);function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(null,arguments)}function tr(t){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(t)}function tx(t,e){if(tr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VE(t){var e=tx(t,"string");return tr(e)=="symbol"?e:e+""}function Ue(t,e,r){return(e=VE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function km(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?km(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jE=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];r.call(n,a[1],a[0])}},e}()}(),Zd=typeof window<"u"&&typeof document<"u"&&window.document===document,yu=function(){return typeof globalThis<"u"&&globalThis.Math===Math?globalThis:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),rx=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(yu):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),nx=2;function ix(t,e){var r=!1,n=!1,i=0;function s(){r&&(r=!1,t()),n&&o()}function a(){rx(s)}function o(){var l=Date.now();if(r){if(l-i<nx)return;n=!0}else r=!0,n=!1,setTimeout(a,e);i=l}return o}var sx=20,ax=["top","right","bottom","left","width","height","size","weight"],ox=typeof MutationObserver<"u",lx=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ix(this.refresh.bind(this),sx)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Zd||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ox?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Zd||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=ax.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),KE=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ua=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||yu},ZE=Th(0,0,0,0);function Tu(t){return parseFloat(t)||0}function Pm(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var s=t["border-"+i+"-width"];return n+Tu(s)},0)}function cx(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var s=i[n],a=t["padding-"+s];r[s]=Tu(a)}return r}function ux(t){var e=t.getBBox();return Th(0,0,e.width,e.height)}function hx(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return ZE;var n=ua(t).getComputedStyle(t),i=cx(n),s=i.left+i.right,a=i.top+i.bottom,o=Tu(n.width),l=Tu(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=Pm(n,"left","right")+s),Math.round(l+a)!==r&&(l-=Pm(n,"top","bottom")+a)),!dx(t)){var c=Math.round(o+s)-e,u=Math.round(l+a)-r;Math.abs(c)!==1&&(o-=c),Math.abs(u)!==1&&(l-=u)}return Th(i.left,i.top,o,l)}var fx=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ua(t).SVGGraphicsElement}:function(t){return t instanceof ua(t).SVGElement&&typeof t.getBBox=="function"}}();function dx(t){return t===ua(t).document.documentElement}function px(t){return Zd?fx(t)?ux(t):hx(t):ZE}function gx(t){var e=t.x,r=t.y,n=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return KE(a,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),a}function Th(t,e,r,n){return{x:t,y:e,width:r,height:n}}var vx=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Th(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=px(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),mx=function(){function t(e,r){var n=gx(r);KE(this,{target:e,contentRect:n})}return t}(),yx=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new jE,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ua(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new vx(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ua(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new mx(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),QE=typeof WeakMap<"u"?new WeakMap:new jE,JE=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=lx.getInstance(),n=new yx(e,r,this);QE.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){JE.prototype[t]=function(){var e;return(e=QE.get(this))[t].apply(e,arguments)}});var h$=function(){return typeof yu.ResizeObserver<"u"?yu.ResizeObserver:JE}();function Eh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VE(n.key),n)}}function bh(t,e,r){return e&&Dm(t.prototype,e),r&&Dm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cl(t,e){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cl(t,e)}function Tx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cl(t,e)}function hs(t){return hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(t)}function wh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wh=function(){return!!t})()}function Qd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eb(t,e){if(e&&(tr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qd(t)}function Ex(t){var e=wh();return function(){var r,n=hs(t);if(e){var i=hs(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return eb(this,r)}}function Jd(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bx(t){if(Array.isArray(t))return Jd(t)}function tb(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function av(t,e){if(t){if(typeof t=="string")return Jd(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jd(t,e):void 0}}function Ax(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qs(t){return bx(t)||tb(t)||av(t)||Ax()}function rb(t){if(Array.isArray(t))return t}function _x(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function nb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(t,e){return rb(t)||_x(t,e)||av(t,e)||nb()}function Sx(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function d$(t,e){if(t==null)return{};var r,n,i=Sx(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var ib="comm",sb="rule",ab="decl",xx="@import",Rx="@namespace",Nx="@keyframes",Lx="@layer",ob=Math.abs,ov=String.fromCharCode;function lb(t){return t.trim()}function Gc(t,e,r){return t.replace(e,r)}function Ox(t,e,r){return t.indexOf(e,r)}function ea(t,e){return t.charCodeAt(e)|0}function ha(t,e,r){return t.slice(e,r)}function Rn(t){return t.length}function Cx(t){return t.length}function Yl(t,e){return e.push(t),t}var Ah=1,fa=1,cb=0,Qr=0,vt=0,wa="";function lv(t,e,r,n,i,s,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Ah,column:fa,length:a,return:"",siblings:o}}function Mx(){return vt}function Ix(){return vt=Qr>0?ea(wa,--Qr):0,fa--,vt===10&&(fa=1,Ah--),vt}function un(){return vt=Qr<cb?ea(wa,Qr++):0,fa++,vt===10&&(fa=1,Ah++),vt}function di(){return ea(wa,Qr)}function $c(){return Qr}function _h(t,e){return ha(wa,t,e)}function ul(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kx(t){return Ah=fa=1,cb=Rn(wa=t),Qr=0,[]}function Px(t){return wa="",t}function gf(t){return lb(_h(Qr-1,ep(t===91?t+2:t===40?t+1:t)))}function Dx(t){for(;(vt=di())&&vt<33;)un();return ul(t)>2||ul(vt)>3?"":" "}function Fx(t,e){for(;--e&&un()&&!(vt<48||vt>102||vt>57&&vt<65||vt>70&&vt<97););return _h(t,$c()+(e<6&&di()==32&&un()==32))}function ep(t){for(;un();)switch(vt){case t:return Qr;case 34:case 39:t!==34&&t!==39&&ep(vt);break;case 40:t===41&&ep(t);break;case 92:un();break}return Qr}function Ux(t,e){for(;un()&&t+vt!==57;)if(t+vt===84&&di()===47)break;return"/*"+_h(e,Qr-1)+"*"+ov(t===47?t:un())}function Gx(t){for(;!ul(di());)un();return _h(t,Qr)}function p$(t){return Px(Hc("",null,null,null,[""],t=kx(t),0,[0],t))}function Hc(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,g=1,v=1,m=1,y=0,T="",b=i,A=s,R=n,w=T;v;)switch(p=y,y=un()){case 40:if(p!=108&&ea(w,h-1)==58){Ox(w+=Gc(gf(y),"&","&\f"),"&\f",ob(c?o[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:w+=gf(y);break;case 9:case 10:case 13:case 32:w+=Dx(p);break;case 92:w+=Fx($c()-1,7);continue;case 47:switch(di()){case 42:case 47:Yl($x(Ux(un(),$c()),e,r,l),l),(ul(p||1)==5||ul(di()||1)==5)&&Rn(w)&&ha(w,-1,void 0)!==" "&&(w+=" ");break;default:w+="/"}break;case 123*g:o[c++]=Rn(w)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:m==-1&&(w=Gc(w,/\f/g,"")),f>0&&(Rn(w)-h||g===0&&p===47)&&Yl(f>32?Um(w+";",n,r,h-1,l):Um(Gc(w," ","")+";",n,r,h-2,l),l);break;case 59:w+=";";default:if(Yl(R=Fm(w,e,r,c,u,i,o,T,b=[],A=[],h,s),s),y===123)if(u===0)Hc(w,e,R,R,b,s,h,o,A);else{switch(d){case 99:if(ea(w,3)===110)break;case 108:if(ea(w,2)===97)break;default:u=0;case 100:case 109:case 115:}u?Hc(t,R,R,n&&Yl(Fm(t,R,R,0,0,i,o,T,i,b=[],h,A),A),i,A,h,o,n?b:A):Hc(w,R,R,R,[""],A,0,o,A)}}c=u=f=0,g=m=1,T=w="",h=a;break;case 58:h=1+Rn(w),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Ix()==125)continue}switch(w+=ov(y),y*g){case 38:m=u>0?1:(w+="\f",-1);break;case 44:o[c++]=(Rn(w)-1)*m,m=1;break;case 64:di()===45&&(w+=gf(un())),d=di(),u=h=Rn(T=w+=Gx($c())),y++;break;case 45:p===45&&Rn(w)==2&&(g=0)}}return s}function Fm(t,e,r,n,i,s,a,o,l,c,u,h){for(var d=i-1,f=i===0?s:[""],p=Cx(f),g=0,v=0,m=0;g<n;++g)for(var y=0,T=ha(t,d+1,d=ob(v=a[g])),b=t;y<p;++y)(b=lb(v>0?f[y]+" "+T:Gc(T,/&\f/g,f[y])))&&(l[m++]=b);return lv(t,e,r,i===0?sb:o,l,c,u,h)}function $x(t,e,r,n){return lv(t,e,r,ib,ov(Mx()),ha(t,2,-2),0,n)}function Um(t,e,r,n,i){return lv(t,e,r,ab,ha(t,0,n),ha(t,n+1,-1),n,i)}function Gm(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function g$(t,e,r,n){switch(t.type){case Lx:if(t.children.length)break;case xx:case Rx:case ab:return t.return=t.return||t.value;case ib:return"";case Nx:return t.return=t.value+"{"+Gm(t.children,n)+"}";case sb:if(!Rn(t.value=t.props.join(",")))return""}return Rn(r=Gm(t.children,n))?t.return=t.value+"{"+r+"}":""}function v$(t){return rb(t)||tb(t)||av(t)||nb()}const Lt=Math.round;function vf(t,e){const r=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=e(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const $m=(t,e,r)=>r===0?t:t/100;function ka(t,e){const r=e||255;return t>r?r:t<0?0:t}let Xl=class ub{constructor(e){Ue(this,"isValid",!0),Ue(this,"r",0),Ue(this,"g",0),Ue(this,"b",0),Ue(this,"a",1),Ue(this,"_h",void 0),Ue(this,"_s",void 0),Ue(this,"_l",void 0),Ue(this,"_v",void 0),Ue(this,"_max",void 0),Ue(this,"_min",void 0),Ue(this,"_brightness",void 0);function r(n){return n[0]in e&&n[1]in e&&n[2]in e}if(e)if(typeof e=="string"){let i=function(s){return n.startsWith(s)};const n=e.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):i("rgb")?this.fromRgbString(n):i("hsl")?this.fromHslString(n):(i("hsv")||i("hsb"))&&this.fromHsvString(n)}else if(e instanceof ub)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r("rgb"))this.r=ka(e.r),this.g=ka(e.g),this.b=ka(e.b),this.a=typeof e.a=="number"?ka(e.a,1):1;else if(r("hsl"))this.fromHsl(e);else if(r("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(s){const a=s/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const r=e(this.r),n=e(this.g),i=e(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Lt(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(e,r=50){const n=this._c(e),i=r/100,s=o=>(n[o]-this[o])*i+this[o],a={r:Lt(s("r")),g:Lt(s("g")),b:Lt(s("b")),a:Lt(s("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const r=this._c(e),n=this.a+r.a*(1-this.a),i=s=>Lt((this[s]*this.a+r[s]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const r=(this.r||0).toString(16);e+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);e+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=Lt(this.a*255).toString(16);e+=s.length===2?s:"0"+s}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),r=Lt(this.getSaturation()*100),n=Lt(this.getLightness()*100);return this.a!==1?`hsla(${e},${r}%,${n}%,${this.a})`:`hsl(${e},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,r,n){const i=this.clone();return i[e]=ka(r,n),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const r=e.replace("#","");function n(i,s){return parseInt(r[i]+r[s||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:e,s:r,l:n,a:i}){if(this._h=e%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const d=Lt(n*255);this.r=d,this.g=d,this.b=d}let s=0,a=0,o=0;const l=e/60,c=(1-Math.abs(2*n-1))*r,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(s=c,a=u):l>=1&&l<2?(s=u,a=c):l>=2&&l<3?(a=c,o=u):l>=3&&l<4?(a=u,o=c):l>=4&&l<5?(s=u,o=c):l>=5&&l<6&&(s=c,o=u);const h=n-c/2;this.r=Lt((s+h)*255),this.g=Lt((a+h)*255),this.b=Lt((o+h)*255)}fromHsv({h:e,s:r,v:n,a:i}){this._h=e%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const s=Lt(n*255);if(this.r=s,this.g=s,this.b=s,r<=0)return;const a=e/60,o=Math.floor(a),l=a-o,c=Lt(n*(1-r)*255),u=Lt(n*(1-r*l)*255),h=Lt(n*(1-r*(1-l))*255);switch(o){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const r=vf(e,$m);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){const r=vf(e,$m);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){const r=vf(e,(n,i)=>i.includes("%")?Lt(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var ql=2,Hm=.16,Hx=.05,zx=.05,Bx=.15,hb=5,fb=4,Wx=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function zm(t,e,r){var n;return Math.round(t.h)>=60&&Math.round(t.h)<=240?n=r?Math.round(t.h)-ql*e:Math.round(t.h)+ql*e:n=r?Math.round(t.h)+ql*e:Math.round(t.h)-ql*e,n<0?n+=360:n>=360&&(n-=360),n}function Bm(t,e,r){if(t.h===0&&t.s===0)return t.s;var n;return r?n=t.s-Hm*e:e===fb?n=t.s+Hm:n=t.s+Hx*e,n>1&&(n=1),r&&e===hb&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function Wm(t,e,r){var n;return r?n=t.v+zx*e:n=t.v-Bx*e,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function m$(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=new Xl(t),i=n.toHsv(),s=hb;s>0;s-=1){var a=new Xl({h:zm(i,s,!0),s:Bm(i,s,!0),v:Wm(i,s,!0)});r.push(a)}r.push(n);for(var o=1;o<=fb;o+=1){var l=new Xl({h:zm(i,o),s:Bm(i,o),v:Wm(i,o)});r.push(l)}return e.theme==="dark"?Wx.map(function(c){var u=c.index,h=c.amount;return new Xl(e.backgroundColor||"#141414").mix(r[u],h).toHexString()}):r.map(function(c){return c.toHexString()})}var y$={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},tp=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];tp.primary=tp[5];var rp=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];rp.primary=rp[5];var np=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];np.primary=np[5];var ip=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ip.primary=ip[5];var sp=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];sp.primary=sp[5];var ap=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];ap.primary=ap[5];var op=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];op.primary=op[5];var lp=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];lp.primary=lp[5];var cp=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];cp.primary=cp[5];var up=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];up.primary=up[5];var hp=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];hp.primary=hp[5];var fp=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];fp.primary=fp[5];var dp=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];dp.primary=dp[5];var T$={red:tp,volcano:rp,orange:np,gold:ip,yellow:sp,lime:ap,green:op,cyan:lp,blue:cp,geekblue:up,purple:hp,magenta:fp,grey:dp};function E$(t,e,r){return e=hs(e),eb(t,wh()?Reflect.construct(e,r||[],hs(t).constructor):e.apply(t,r))}const Ym=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Xm=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",Vl=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return Xm(r.overflowY,e)||Xm(r.overflowX,e)||(n=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(t)}return!1},jl=(t,e,r,n,i,s,a,o)=>s<t&&a>e||s>t&&a<e?0:s<=t&&o<=r||a>=e&&o>=r?s-t-n:a>e&&o<r||s<t&&o>r?a-e+i:0,Yx=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},qm=(t,e)=>{var r,n,i,s;if(typeof document>"u")return[];const{scrollMode:a,block:o,inline:l,boundary:c,skipOverflowHiddenElements:u}=e,h=typeof c=="function"?c:_=>_!==c;if(!Ym(t))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,f=[];let p=t;for(;Ym(p)&&h(p);){if(p=Yx(p),p===d){f.push(p);break}p!=null&&p===document.body&&Vl(p)&&!Vl(document.documentElement)||p!=null&&Vl(p,u)&&f.push(p)}const g=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,v=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:m,scrollY:y}=window,{height:T,width:b,top:A,right:R,bottom:w,left:S}=t.getBoundingClientRect(),{top:N,right:I,bottom:C,left:M}=(_=>{const x=window.getComputedStyle(_);return{top:parseFloat(x.scrollMarginTop)||0,right:parseFloat(x.scrollMarginRight)||0,bottom:parseFloat(x.scrollMarginBottom)||0,left:parseFloat(x.scrollMarginLeft)||0}})(t);let k=o==="start"||o==="nearest"?A-N:o==="end"?w+C:A+T/2-N+C,E=l==="center"?S+b/2-M+I:l==="end"?R+I:S-M;const O=[];for(let _=0;_<f.length;_++){const x=f[_],{height:L,width:D,top:P,right:U,bottom:z,left:H}=x.getBoundingClientRect();if(a==="if-needed"&&A>=0&&S>=0&&w<=v&&R<=g&&(x===d&&!Vl(x)||A>=P&&w<=z&&S>=H&&R<=U))return O;const V=getComputedStyle(x),W=parseInt(V.borderLeftWidth,10),q=parseInt(V.borderTopWidth,10),ee=parseInt(V.borderRightWidth,10),Z=parseInt(V.borderBottomWidth,10);let $=0,Y=0;const X="offsetWidth"in x?x.offsetWidth-x.clientWidth-W-ee:0,j="offsetHeight"in x?x.offsetHeight-x.clientHeight-q-Z:0,ne="offsetWidth"in x?x.offsetWidth===0?0:D/x.offsetWidth:0,K="offsetHeight"in x?x.offsetHeight===0?0:L/x.offsetHeight:0;if(d===x)$=o==="start"?k:o==="end"?k-v:o==="nearest"?jl(y,y+v,v,q,Z,y+k,y+k+T,T):k-v/2,Y=l==="start"?E:l==="center"?E-g/2:l==="end"?E-g:jl(m,m+g,g,W,ee,m+E,m+E+b,b),$=Math.max(0,$+y),Y=Math.max(0,Y+m);else{$=o==="start"?k-P-q:o==="end"?k-z+Z+j:o==="nearest"?jl(P,z,L,q,Z+j,k,k+T,T):k-(P+L/2)+j/2,Y=l==="start"?E-H-W:l==="center"?E-(H+D/2)+X/2:l==="end"?E-U+ee+X:jl(H,U,D,W,ee+X,E,E+b,b);const{scrollLeft:Ge,scrollTop:Ae}=x;$=K===0?0:Math.max(0,Math.min(Ae+$/K,x.scrollHeight-L/K+j)),Y=ne===0?0:Math.max(0,Math.min(Ge+Y/ne,x.scrollWidth-D/ne+X)),k+=Ae-$,E+=Ge-Y}O.push({el:x,top:$,left:Y})}return O},Xx=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function b$(t,e){if(!t.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(t))return;const r=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(qm(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:s,left:a}of qm(t,Xx(e))){const o=s-r.top+r.bottom,l=a-r.left+r.right;i.scroll({top:o,left:l,behavior:n})}}function db(t,e){this.v=t,this.k=e}function Qt(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Qt=function(a,o,l,c){if(o)i?i(a,o,{value:l,enumerable:!c,configurable:!c,writable:!c}):a[o]=l;else{var u=function(d,f){Qt(a,d,function(p){return this._invoke(d,f,p)})};u("next",0),u("throw",1),u("return",2)}},Qt(t,e,r,n)}function cv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(f,p,g,v){var m=p&&p.prototype instanceof o?p:o,y=Object.create(m.prototype);return Qt(y,"_invoke",function(T,b,A){var R,w,S,N=0,I=A||[],C=!1,M={p:0,n:0,v:t,a:k,f:k.bind(t,4),d:function(O,_){return R=O,w=0,S=t,M.n=_,a}};function k(E,O){for(w=E,S=O,e=0;!C&&N&&!_&&e<I.length;e++){var _,x=I[e],L=M.p,D=x[2];E>3?(_=D===O)&&(S=x[(w=x[4])?5:(w=3,3)],x[4]=x[5]=t):x[0]<=L&&((_=E<2&&L<x[1])?(w=0,M.v=O,M.n=x[1]):L<D&&(_=E<3||x[0]>O||O>D)&&(x[4]=E,x[5]=O,M.n=D,w=0))}if(_||E>1)return a;throw C=!0,O}return function(E,O,_){if(N>1)throw TypeError("Generator is already running");for(C&&O===1&&k(O,_),w=O,S=_;(e=w<2?t:S)||!C;){R||(w?w<3?(w>1&&(M.n=-1),k(w,S)):M.n=S:M.v=S);try{if(N=2,R){if(w||(E="next"),e=R[E]){if(!(e=e.call(R,S)))throw TypeError("iterator result is not an object");if(!e.done)return e;S=e.value,w<2&&(w=0)}else w===1&&(e=R.return)&&e.call(R),w<2&&(S=TypeError("The iterator does not provide a '"+E+"' method"),w=1);R=t}else if((e=(C=M.n<0)?S:T.call(b,M))!==a)break}catch(x){R=t,w=1,S=x}finally{N=1}}return{value:e,done:C}}}(f,g,v),!0),y}var a={};function o(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Qt(e={},n,function(){return this}),e),h=c.prototype=o.prototype=Object.create(u);function d(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,c):(f.__proto__=c,Qt(f,i,"GeneratorFunction")),f.prototype=Object.create(h),f}return l.prototype=c,Qt(h,"constructor",c),Qt(c,"constructor",l),l.displayName="GeneratorFunction",Qt(c,i,"GeneratorFunction"),Qt(h),Qt(h,i,"Generator"),Qt(h,n,function(){return this}),Qt(h,"toString",function(){return"[object Generator]"}),(cv=function(){return{w:s,m:d}})()}function Eu(t,e){function r(i,s,a,o){try{var l=t[i](s),c=l.value;return c instanceof db?e.resolve(c.v).then(function(u){r("next",u,a,o)},function(u){r("throw",u,a,o)}):e.resolve(c).then(function(u){l.value=u,a(l)},function(u){return r("throw",u,a,o)})}catch(u){o(u)}}var n;this.next||(Qt(Eu.prototype),Qt(Eu.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Qt(this,"_invoke",function(i,s,a){function o(){return new e(function(l,c){r(i,a,l,c)})}return n=n?n.then(o,o):o()},!0)}function pb(t,e,r,n,i){return new Eu(cv().w(t,e,r,n),i||Promise)}function qx(t,e,r,n,i){var s=pb(t,e,r,n,i);return s.next().then(function(a){return a.done?a.value:s.next()})}function Vx(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function i(){for(;r.length;)if((n=r.pop())in e)return i.value=n,i.done=!1,i;return i.done=!0,i}}function Vm(t){if(t!=null){var e=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(tr(t)+" is not iterable")}function jm(){var t=cv(),e=t.m(jm),r=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function n(a){var o=typeof a=="function"&&a.constructor;return!!o&&(o===r||(o.displayName||o.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function s(a){var o,l;return function(c){o||(o={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(h,d){return l(c.a,i[h],d)},delegateYield:function(h,d,f){return o.resultName=d,l(c.d,Vm(h),f)},finish:function(h){return l(c.f,h)}},l=function(h,d,f){c.p=o.prev,c.n=o.next;try{return h(d,f)}finally{o.next=c.n}}),o.resultName&&(o[o.resultName]=c.v,o.resultName=void 0),o.sent=c.v,o.next=c.n;try{return a.call(this,o)}finally{c.p=o.prev,c.n=o.next}}}return(jm=function(){return{wrap:function(l,c,u,h){return t.w(s(l),c,u,h&&h.reverse())},isGeneratorFunction:n,mark:t.m,awrap:function(l,c){return new db(l,c)},AsyncIterator:Eu,async:function(l,c,u,h,d){return(n(c)?pb:qx)(s(l),c,u,h,d)},keys:Vx,values:Vm}})()}function Km(t,e,r,n,i,s,a){try{var o=t[s](a),l=o.value}catch(c){return void r(c)}o.done?e(l):Promise.resolve(l).then(n,i)}function w$(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function a(l){Km(s,n,i,a,o,"next",l)}function o(l){Km(s,n,i,a,o,"throw",l)}a(void 0)})}}function pp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var gp=pp();function jx(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Kx(t,e,r){if(wh())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&cl(i,r.prototype),i}function vp(t){var e=typeof Map=="function"?new Map:void 0;return vp=function(n){if(n===null||!jx(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Kx(n,arguments,hs(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),cl(i,n)},vp(t)}var Zx=/%[sdj%]/g,Qx=function(){};function mp(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function Mr(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=0,s=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var a=t.replace(Zx,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return o}});return a}return t}function Jx(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Nt(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Jx(e)&&typeof t=="string"&&!t)}function eR(t,e,r){var n=[],i=0,s=t.length;function a(o){n.push.apply(n,qs(o||[])),i++,i===s&&r(n)}t.forEach(function(o){e(o,a)})}function Zm(t,e,r){var n=0,i=t.length;function s(a){if(a&&a.length){r(a);return}var o=n;n=n+1,o<i?e(t[o],s):r([])}s([])}function tR(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,qs(t[r]||[]))}),e}var Qm=function(t){Tx(r,t);var e=Ex(r);function r(n,i){var s;return Eh(this,r),s=e.call(this,"Async Validation Error"),Ue(Qd(s),"errors",void 0),Ue(Qd(s),"fields",void 0),s.errors=n,s.fields=i,s}return bh(r)}(vp(Error));function rR(t,e,r,n,i){if(e.first){var s=new Promise(function(d,f){var p=function(m){return n(m),m.length?f(new Qm(m,mp(m))):d(i)},g=tR(t);Zm(g,r,p)});return s.catch(function(d){return d}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),l=o.length,c=0,u=[],h=new Promise(function(d,f){var p=function(v){if(u.push.apply(u,v),c++,c===l)return n(u),u.length?f(new Qm(u,mp(u))):d(i)};o.length||(n(u),d(i)),o.forEach(function(g){var v=t[g];a.indexOf(g)!==-1?Zm(v,r,p):eR(v,r,p)})});return h.catch(function(d){return d}),h}function nR(t){return!!(t&&t.message!==void 0)}function iR(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function Jm(t,e){return function(r){var n;return t.fullFields?n=iR(e,t.fullFields):n=e[r.field||t.fullField],nR(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function e0(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];tr(n)==="object"&&tr(t[r])==="object"?t[r]=fi(fi({},t[r]),n):t[r]=n}}return t}var Ms="enum",sR=function(e,r,n,i,s){e[Ms]=Array.isArray(e[Ms])?e[Ms]:[],e[Ms].indexOf(r)===-1&&i.push(Mr(s.messages[Ms],e.fullField,e[Ms].join(", ")))},aR=function(e,r,n,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||i.push(Mr(s.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(r)||i.push(Mr(s.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},oR=function(e,r,n,i,s){var a=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=r,h=null,d=typeof r=="number",f=typeof r=="string",p=Array.isArray(r);if(d?h="number":f?h="string":p&&(h="array"),!h)return!1;p&&(u=r.length),f&&(u=r.replace(c,"_").length),a?u!==e.len&&i.push(Mr(s.messages[h].len,e.fullField,e.len)):o&&!l&&u<e.min?i.push(Mr(s.messages[h].min,e.fullField,e.min)):l&&!o&&u>e.max?i.push(Mr(s.messages[h].max,e.fullField,e.max)):o&&l&&(u<e.min||u>e.max)&&i.push(Mr(s.messages[h].range,e.fullField,e.min,e.max))},gb=function(e,r,n,i,s,a){e.required&&(!n.hasOwnProperty(e.field)||Nt(r,a||e.type))&&i.push(Mr(s.messages.required,e.fullField))},Kl;const lR=function(){if(Kl)return Kl;var t="[a-fA-F\\d:]",e=function(R){return R&&R.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],s="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(i.join("|"),")").concat(s),o=new RegExp("(?:^".concat(r,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(r,"$")),c=new RegExp("^".concat(a,"$")),u=function(R){return R&&R.exact?o:new RegExp("(?:".concat(e(R)).concat(r).concat(e(R),")|(?:").concat(e(R)).concat(a).concat(e(R),")"),"g")};u.v4=function(A){return A&&A.exact?l:new RegExp("".concat(e(A)).concat(r).concat(e(A)),"g")},u.v6=function(A){return A&&A.exact?c:new RegExp("".concat(e(A)).concat(a).concat(e(A)),"g")};var h="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=u.v4().source,p=u.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',b="(?:".concat(h,"|www\\.)").concat(d,"(?:localhost|").concat(f,"|").concat(p,"|").concat(g).concat(v).concat(m,")").concat(y).concat(T);return Kl=new RegExp("(?:^".concat(b,"$)"),"i"),Kl};var t0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},lo={integer:function(e){return lo.number(e)&&parseInt(e,10)===e},float:function(e){return lo.number(e)&&!lo.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return tr(e)==="object"&&!lo.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(t0.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(lR())},hex:function(e){return typeof e=="string"&&!!e.match(t0.hex)}},cR=function(e,r,n,i,s){if(e.required&&r===void 0){gb(e,r,n,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?lo[o](r)||i.push(Mr(s.messages.types[o],e.fullField,e.type)):o&&tr(r)!==e.type&&i.push(Mr(s.messages.types[o],e.fullField,e.type))},uR=function(e,r,n,i,s){(/^\s+$/.test(r)||r==="")&&i.push(Mr(s.messages.whitespace,e.fullField))};const Me={required:gb,whitespace:uR,type:cR,range:oR,enum:sR,pattern:aR};var hR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s)}n(a)},fR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(r==null&&!e.required)return n();Me.required(e,r,i,a,s,"array"),r!=null&&(Me.type(e,r,i,a,s),Me.range(e,r,i,a,s))}n(a)},dR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&Me.type(e,r,i,a,s)}n(a)},pR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r,"date")&&!e.required)return n();if(Me.required(e,r,i,a,s),!Nt(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),Me.type(e,l,i,a,s),l&&Me.range(e,l.getTime(),i,a,s)}}n(a)},gR="enum",vR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&Me[gR](e,r,i,a,s)}n(a)},mR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&(Me.type(e,r,i,a,s),Me.range(e,r,i,a,s))}n(a)},yR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&(Me.type(e,r,i,a,s),Me.range(e,r,i,a,s))}n(a)},TR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&Me.type(e,r,i,a,s)}n(a)},ER=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(r===""&&(r=void 0),Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&(Me.type(e,r,i,a,s),Me.range(e,r,i,a,s))}n(a)},bR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),r!==void 0&&Me.type(e,r,i,a,s)}n(a)},wR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r,"string")&&!e.required)return n();Me.required(e,r,i,a,s),Nt(r,"string")||Me.pattern(e,r,i,a,s)}n(a)},AR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r)&&!e.required)return n();Me.required(e,r,i,a,s),Nt(r)||Me.type(e,r,i,a,s)}n(a)},_R=function(e,r,n,i,s){var a=[],o=Array.isArray(r)?"array":tr(r);Me.required(e,r,i,a,s,o),n(a)},SR=function(e,r,n,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Nt(r,"string")&&!e.required)return n();Me.required(e,r,i,a,s,"string"),Nt(r,"string")||(Me.type(e,r,i,a,s),Me.range(e,r,i,a,s),Me.pattern(e,r,i,a,s),e.whitespace===!0&&Me.whitespace(e,r,i,a,s))}n(a)},mf=function(e,r,n,i,s){var a=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Nt(r,a)&&!e.required)return n();Me.required(e,r,i,o,s,a),Nt(r,a)||Me.type(e,r,i,o,s)}n(o)};const Ko={string:SR,method:TR,number:ER,boolean:dR,regexp:AR,integer:yR,float:mR,array:fR,object:bR,enum:vR,pattern:wR,date:pR,url:mf,hex:mf,email:mf,required:_R,any:hR};var Sh=function(){function t(e){Eh(this,t),Ue(this,"rules",null),Ue(this,"_messages",gp),this.define(e)}return bh(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(tr(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var s=r[i];n.rules[i]=Array.isArray(s)?s:[s]})}},{key:"messages",value:function(r){return r&&(this._messages=e0(pp(),r)),this._messages}},{key:"validate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=r,o=i,l=s;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(p){var g=[],v={};function m(T){if(Array.isArray(T)){var b;g=(b=g).concat.apply(b,qs(T))}else g.push(T)}for(var y=0;y<p.length;y++)m(p[y]);g.length?(v=mp(g),l(g,v)):l(null,a)}if(o.messages){var u=this.messages();u===gp&&(u=pp()),e0(u,o.messages),o.messages=u}else o.messages=this.messages();var h={},d=o.keys||Object.keys(this.rules);d.forEach(function(p){var g=n.rules[p],v=a[p];g.forEach(function(m){var y=m;typeof y.transform=="function"&&(a===r&&(a=fi({},a)),v=a[p]=y.transform(v),v!=null&&(y.type=y.type||(Array.isArray(v)?"array":tr(v)))),typeof y=="function"?y={validator:y}:y=fi({},y),y.validator=n.getValidationMethod(y),y.validator&&(y.field=p,y.fullField=y.fullField||p,y.type=n.getType(y),h[p]=h[p]||[],h[p].push({rule:y,value:v,source:a,field:p}))})});var f={};return rR(h,o,function(p,g){var v=p.rule,m=(v.type==="object"||v.type==="array")&&(tr(v.fields)==="object"||tr(v.defaultField)==="object");m=m&&(v.required||!v.required&&p.value),v.field=p.field;function y(w,S){return fi(fi({},S),{},{fullField:"".concat(v.fullField,".").concat(w),fullFields:v.fullFields?[].concat(qs(v.fullFields),[w]):[w]})}function T(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=Array.isArray(w)?w:[w];!o.suppressWarning&&S.length&&t.warning("async-validator:",S),S.length&&v.message!==void 0&&(S=[].concat(v.message));var N=S.map(Jm(v,a));if(o.first&&N.length)return f[v.field]=1,g(N);if(!m)g(N);else{if(v.required&&!p.value)return v.message!==void 0?N=[].concat(v.message).map(Jm(v,a)):o.error&&(N=[o.error(v,Mr(o.messages.required,v.field))]),g(N);var I={};v.defaultField&&Object.keys(p.value).map(function(k){I[k]=v.defaultField}),I=fi(fi({},I),p.rule.fields);var C={};Object.keys(I).forEach(function(k){var E=I[k],O=Array.isArray(E)?E:[E];C[k]=O.map(y.bind(null,k))});var M=new t(C);M.messages(o.messages),p.rule.options&&(p.rule.options.messages=o.messages,p.rule.options.error=o.error),M.validate(p.value,p.rule.options||o,function(k){var E=[];N&&N.length&&E.push.apply(E,qs(N)),k&&k.length&&E.push.apply(E,qs(k)),g(E.length?E:null)})}}var b;if(v.asyncValidator)b=v.asyncValidator(v,p.value,T,p.source,o);else if(v.validator){try{b=v.validator(v,p.value,T,p.source,o)}catch(w){var A,R;(A=(R=console).error)===null||A===void 0||A.call(R,w),o.suppressValidatorError||setTimeout(function(){throw w},0),T(w.message)}b===!0?T():b===!1?T(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||"".concat(v.fullField||v.field," fails")):b instanceof Array?T(b):b instanceof Error&&T(b.message)}b&&b.then&&b.then(function(){return T()},function(w){return T(w)})},function(p){c(p)},a)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Ko.hasOwnProperty(r.type))throw new Error(Mr("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),i=n.indexOf("message");return i!==-1&&n.splice(i,1),n.length===1&&n[0]==="required"?Ko.required:Ko[this.getType(r)]||void 0}}]),t}();Ue(Sh,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ko[e]=r});Ue(Sh,"warning",Qx);Ue(Sh,"messages",gp);Ue(Sh,"validators",Ko);function xR(t,e,r){var n=r||{},i=n.noTrailing,s=i===void 0?!1:i,a=n.noLeading,o=a===void 0?!1:a,l=n.debounceMode,c=l===void 0?void 0:l,u,h=!1,d=0;function f(){u&&clearTimeout(u)}function p(v){var m=v||{},y=m.upcomingOnly,T=y===void 0?!1:y;f(),h=!T}function g(){for(var v=arguments.length,m=new Array(v),y=0;y<v;y++)m[y]=arguments[y];var T=this,b=Date.now()-d;if(h)return;function A(){d=Date.now(),e.apply(T,m)}function R(){u=void 0}!o&&c&&!u&&A(),f(),c===void 0&&b>t?o?(d=Date.now(),s||(u=setTimeout(c?R:A,t))):A():s!==!0&&(u=setTimeout(c?R:A,c===void 0?t-b:t))}return g.cancel=p,g}function A$(t,e,r){var n={},i=n.atBegin,s=i===void 0?!1:i;return xR(t,e,{debounceMode:s!==!1})}function yp(){return typeof BigInt=="function"}function vb(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function Zo(t){var e=t.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",i=n.split("."),s=i[0]||"0",a=i[1]||"0";s==="0"&&a==="0"&&(r=!1);var o=r?"-":"";return{negative:r,negativeStr:o,trimStr:n,integerStr:s,decimalStr:a,fullStr:"".concat(o).concat(n)}}function uv(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function co(t){var e=String(t);if(uv(t)){var r=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return e.includes(".")&&yb(e)?e.length-e.indexOf(".")-1:0}function mb(t){var e=String(t);if(uv(t)){if(t>Number.MAX_SAFE_INTEGER)return String(yp()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(yp()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(co(e))}return Zo(e).fullStr}function yb(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var RR=function(){function t(e){if(Eh(this,t),Ue(this,"origin",""),Ue(this,"negative",void 0),Ue(this,"integer",void 0),Ue(this,"decimal",void 0),Ue(this,"decimalLen",void 0),Ue(this,"empty",void 0),Ue(this,"nan",void 0),vb(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if(uv(r)&&(r=Number(r)),r=typeof r=="string"?r:mb(r),yb(r)){var n=Zo(r);this.negative=n.negative;var i=n.trimStr.split(".");this.integer=BigInt(i[0]);var s=i[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return bh(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new t(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,i){var s=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),a=this.alignDecimal(s),o=r.alignDecimal(s),l=n(a,o).toString(),c=i(s),u=Zo(l),h=u.negativeStr,d=u.trimStr,f="".concat(h).concat(d.padStart(c+1,"0"));return new t("".concat(f.slice(0,-c),".").concat(f.slice(-c)))}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=new t(r);return n.isInvalidate()?this:this.cal(n,function(i,s){return i+s},function(i){return i})}},{key:"multi",value:function(r){var n=new t(r);return this.isInvalidate()||n.isInvalidate()?new t(NaN):this.cal(n,function(i,s){return i*s},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Zo("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),NR=function(){function t(e){if(Eh(this,t),Ue(this,"origin",""),Ue(this,"number",void 0),Ue(this,"empty",void 0),vb(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return bh(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=Number(r);if(Number.isNaN(n))return this;var i=this.number+n;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var s=Math.max(co(this.number),co(n));return new t(i.toFixed(s))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new t(NaN);var i=this.number*n;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var s=Math.max(co(this.number),co(n));return new t(i.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":mb(this.number):this.origin}}]),t}();function LR(t){return yp()?new RR(t):new NR(t)}function OR(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=Zo(t),s=i.negativeStr,a=i.integerStr,o=i.decimalStr,l="".concat(e).concat(o),c="".concat(s).concat(a);if(r>=0){var u=Number(o[r]);if(u>=5&&!n){var h=LR(t).add("".concat(s,"0.").concat("0".repeat(r)).concat(10-u));return OR(h.toString(),e,r,n)}return r===0?c:"".concat(c).concat(e).concat(o.padEnd(r,"0").slice(0,r))}return l===".0"?c:"".concat(c).concat(l)}function _$(t){if(t==null)throw new TypeError("Cannot destructure "+t)}var yf,r0;function CR(){return r0||(r0=1,yf=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}}),yf}var Tf,n0;function MR(){if(n0)return Tf;n0=1;var t=CR(),e={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function n(s){var a=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return s.replace(/#{\s*key\s*}/g,a)}function i(s,a){var o,l,c,u,h,d,f=!1;a||(a={}),o=a.debug||!1;try{c=t(),u=document.createRange(),h=document.getSelection(),d=document.createElement("span"),d.textContent=s,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(g){if(g.stopPropagation(),a.format)if(g.preventDefault(),typeof g.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=e[a.format]||e.default;window.clipboardData.setData(v,s)}else g.clipboardData.clearData(),g.clipboardData.setData(a.format,s);a.onCopy&&(g.preventDefault(),a.onCopy(g.clipboardData))}),document.body.appendChild(d),u.selectNodeContents(d),h.addRange(u);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");f=!0}catch(g){o&&console.error("unable to copy using execCommand: ",g),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",s),a.onCopy&&a.onCopy(window.clipboardData),f=!0}catch(v){o&&console.error("unable to copy using clipboardData: ",v),o&&console.error("falling back to prompt"),l=n("message"in a?a.message:r),window.prompt(l,s)}}finally{h&&(typeof h.removeRange=="function"?h.removeRange(u):h.removeAllRanges()),d&&document.body.removeChild(d),c()}return f}return Tf=i,Tf}var IR=MR();const S$=nv(IR);var Ef={exports:{}},i0;function x$(){return i0||(i0=1,function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ef)),Ef.exports}var bf={exports:{}},wf={exports:{}},Af={exports:{}},_f={exports:{}},s0;function Tb(){return s0||(s0=1,function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(_f)),_f.exports}var Sf={exports:{}},a0;function kR(){return a0||(a0=1,function(t){var e=Tb().default;function r(n,i){if(e(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,i||"default");if(e(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Sf)),Sf.exports}var o0;function PR(){return o0||(o0=1,function(t){var e=Tb().default,r=kR();function n(i){var s=r(i,"string");return e(s)=="symbol"?s:s+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Af)),Af.exports}var l0;function DR(){return l0||(l0=1,function(t){var e=PR();function r(n,i,s){return(i=e(i))in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(wf)),wf.exports}var c0;function R$(){return c0||(c0=1,function(t){var e=DR();function r(i,s){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);s&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,o)}return a}function n(i){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?r(Object(a),!0).forEach(function(o){e(i,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))})}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(bf)),bf.exports}var u0=function(){return u0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},u0.apply(this,arguments)};function N$(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var et="-ms-",Qo="-moz-",He="-webkit-",Eb="comm",hv="rule",fv="decl",FR="@import",bb="@keyframes",UR="@layer",wb=Math.abs,dv=String.fromCharCode,Tp=Object.assign;function GR(t,e){return It(t,0)^45?(((e<<2^It(t,0))<<2^It(t,1))<<2^It(t,2))<<2^It(t,3):0}function Ab(t){return t.trim()}function Wn(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,r){return t.replace(e,r)}function zc(t,e,r){return t.indexOf(e,r)}function It(t,e){return t.charCodeAt(e)|0}function da(t,e,r){return t.slice(e,r)}function Ln(t){return t.length}function _b(t){return t.length}function uo(t,e){return e.push(t),t}function $R(t,e){return t.map(e).join("")}function h0(t,e){return t.filter(function(r){return!Wn(r,e)})}var xh=1,pa=1,Sb=0,Jr=0,mt=0,Aa="";function Rh(t,e,r,n,i,s,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:xh,column:pa,length:a,return:"",siblings:o}}function ci(t,e){return Tp(Rh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Is(t){for(;t.root;)t=ci(t.root,{children:[t]});uo(t,t.siblings)}function HR(){return mt}function zR(){return mt=Jr>0?It(Aa,--Jr):0,pa--,mt===10&&(pa=1,xh--),mt}function hn(){return mt=Jr<Sb?It(Aa,Jr++):0,pa++,mt===10&&(pa=1,xh++),mt}function os(){return It(Aa,Jr)}function Bc(){return Jr}function Nh(t,e){return da(Aa,t,e)}function Ep(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BR(t){return xh=pa=1,Sb=Ln(Aa=t),Jr=0,[]}function WR(t){return Aa="",t}function xf(t){return Ab(Nh(Jr-1,bp(t===91?t+2:t===40?t+1:t)))}function YR(t){for(;(mt=os())&&mt<33;)hn();return Ep(t)>2||Ep(mt)>3?"":" "}function XR(t,e){for(;--e&&hn()&&!(mt<48||mt>102||mt>57&&mt<65||mt>70&&mt<97););return Nh(t,Bc()+(e<6&&os()==32&&hn()==32))}function bp(t){for(;hn();)switch(mt){case t:return Jr;case 34:case 39:t!==34&&t!==39&&bp(mt);break;case 40:t===41&&bp(t);break;case 92:hn();break}return Jr}function qR(t,e){for(;hn()&&t+mt!==57;)if(t+mt===84&&os()===47)break;return"/*"+Nh(e,Jr-1)+"*"+dv(t===47?t:hn())}function VR(t){for(;!Ep(os());)hn();return Nh(t,Jr)}function L$(t){return WR(Wc("",null,null,null,[""],t=BR(t),0,[0],t))}function Wc(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,g=1,v=1,m=1,y=0,T="",b=i,A=s,R=n,w=T;v;)switch(p=y,y=hn()){case 40:if(p!=108&&It(w,h-1)==58){zc(w+=xe(xf(y),"&","&\f"),"&\f",wb(c?o[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:w+=xf(y);break;case 9:case 10:case 13:case 32:w+=YR(p);break;case 92:w+=XR(Bc()-1,7);continue;case 47:switch(os()){case 42:case 47:uo(jR(qR(hn(),Bc()),e,r,l),l);break;default:w+="/"}break;case 123*g:o[c++]=Ln(w)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:m==-1&&(w=xe(w,/\f/g,"")),f>0&&Ln(w)-h&&uo(f>32?d0(w+";",n,r,h-1,l):d0(xe(w," ","")+";",n,r,h-2,l),l);break;case 59:w+=";";default:if(uo(R=f0(w,e,r,c,u,i,o,T,b=[],A=[],h,s),s),y===123)if(u===0)Wc(w,e,R,R,b,s,h,o,A);else switch(d===99&&It(w,3)===110?100:d){case 100:case 108:case 109:case 115:Wc(t,R,R,n&&uo(f0(t,R,R,0,0,i,o,T,i,b=[],h,A),A),i,A,h,o,n?b:A);break;default:Wc(w,R,R,R,[""],A,0,o,A)}}c=u=f=0,g=m=1,T=w="",h=a;break;case 58:h=1+Ln(w),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&zR()==125)continue}switch(w+=dv(y),y*g){case 38:m=u>0?1:(w+="\f",-1);break;case 44:o[c++]=(Ln(w)-1)*m,m=1;break;case 64:os()===45&&(w+=xf(hn())),d=os(),u=h=Ln(T=w+=VR(Bc())),y++;break;case 45:p===45&&Ln(w)==2&&(g=0)}}return s}function f0(t,e,r,n,i,s,a,o,l,c,u,h){for(var d=i-1,f=i===0?s:[""],p=_b(f),g=0,v=0,m=0;g<n;++g)for(var y=0,T=da(t,d+1,d=wb(v=a[g])),b=t;y<p;++y)(b=Ab(v>0?f[y]+" "+T:xe(T,/&\f/g,f[y])))&&(l[m++]=b);return Rh(t,e,r,i===0?hv:o,l,c,u,h)}function jR(t,e,r,n){return Rh(t,e,r,Eb,dv(HR()),da(t,2,-2),0,n)}function d0(t,e,r,n,i){return Rh(t,e,r,fv,da(t,0,n),da(t,n+1,-1),n,i)}function xb(t,e,r){switch(GR(t,e)){case 5103:return He+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+t+t;case 4789:return Qo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return He+t+Qo+t+et+t+t;case 5936:switch(It(t,e+11)){case 114:return He+t+et+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return He+t+et+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return He+t+et+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return He+t+et+t+t;case 6165:return He+t+et+"flex-"+t+t;case 5187:return He+t+xe(t,/(\w+).+(:[^]+)/,He+"box-$1$2"+et+"flex-$1$2")+t;case 5443:return He+t+et+"flex-item-"+xe(t,/flex-|-self/g,"")+(Wn(t,/flex-|baseline/)?"":et+"grid-row-"+xe(t,/flex-|-self/g,""))+t;case 4675:return He+t+et+"flex-line-pack"+xe(t,/align-content|flex-|-self/g,"")+t;case 5548:return He+t+et+xe(t,"shrink","negative")+t;case 5292:return He+t+et+xe(t,"basis","preferred-size")+t;case 6060:return He+"box-"+xe(t,"-grow","")+He+t+et+xe(t,"grow","positive")+t;case 4554:return He+xe(t,/([^-])(transform)/g,"$1"+He+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+et+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+t+t;case 4200:if(!Wn(t,/flex-|baseline/))return et+"grid-column-align"+da(t,e)+t;break;case 2592:case 3360:return et+xe(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Wn(n.props,/grid-\w+-end/)})?~zc(t+(r=r[e].value),"span",0)?t:et+xe(t,"-start","")+t+et+"grid-row-span:"+(~zc(r,"span",0)?Wn(r,/\d+/):+Wn(r,/\d+/)-+Wn(t,/\d+/))+";":et+xe(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Wn(n.props,/grid-\w+-start/)})?t:et+xe(xe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,He+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ln(t)-1-e>6)switch(It(t,e+1)){case 109:if(It(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+Qo+(It(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zc(t,"stretch",0)?xb(xe(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return xe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,a,o,l,c){return et+i+":"+s+c+(a?et+i+"-span:"+(o?l:+l-+s)+c:"")+t});case 4949:if(It(t,e+6)===121)return xe(t,":",":"+He)+t;break;case 6444:switch(It(t,It(t,14)===45?18:11)){case 120:return xe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+He+(It(t,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+et+"$2box$3")+t;case 100:return xe(t,":",":"+et)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xe(t,"scroll-","scroll-snap-")+t}return t}function wp(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function O$(t,e,r,n){switch(t.type){case UR:if(t.children.length)break;case FR:case fv:return t.return=t.return||t.value;case Eb:return"";case bb:return t.return=t.value+"{"+wp(t.children,n)+"}";case hv:if(!Ln(t.value=t.props.join(",")))return""}return Ln(r=wp(t.children,n))?t.return=t.value+"{"+r+"}":""}function C$(t){var e=_b(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function M$(t){return function(e){e.root||(e=e.return)&&t(e)}}function I$(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case fv:t.return=xb(t.value,t.length,r);return;case bb:return wp([ci(t,{value:xe(t.value,"@","@"+He)})],n);case hv:if(t.length)return $R(r=t.props,function(i){switch(Wn(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Is(ci(t,{props:[xe(i,/:(read-\w+)/,":"+Qo+"$1")]})),Is(ci(t,{props:[i]})),Tp(t,{props:h0(r,n)});break;case"::placeholder":Is(ci(t,{props:[xe(i,/:(plac\w+)/,":"+He+"input-$1")]})),Is(ci(t,{props:[xe(i,/:(plac\w+)/,":"+Qo+"$1")]})),Is(ci(t,{props:[xe(i,/:(plac\w+)/,et+"input-$1")]})),Is(ci(t,{props:[i]})),Tp(t,{props:h0(r,n)});break}return""})}}var Rb=Symbol.for("immer-nothing"),p0=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function on(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ga=Object.getPrototypeOf;function va(t){return!!t&&!!t[Ur]}function fs(t){var e;return t?Nb(t)||Array.isArray(t)||!!t[p0]||!!((e=t.constructor)!=null&&e[p0])||Oh(t)||Ch(t):!1}var KR=Object.prototype.constructor.toString();function Nb(t){if(!t||typeof t!="object")return!1;const e=ga(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===KR}function bu(t,e){Lh(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Lh(t){const e=t[Ur];return e?e.type_:Array.isArray(t)?1:Oh(t)?2:Ch(t)?3:0}function Ap(t,e){return Lh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Lb(t,e,r){const n=Lh(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function ZR(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Oh(t){return t instanceof Map}function Ch(t){return t instanceof Set}function ji(t){return t.copy_||t.base_}function _p(t,e){if(Oh(t))return new Map(t);if(Ch(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Nb(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ur];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(ga(t),n)}else{const n=ga(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function pv(t,e=!1){return Mh(t)||va(t)||!fs(t)||(Lh(t)>1&&(t.set=t.add=t.clear=t.delete=QR),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>pv(n,!0))),t}function QR(){on(2)}function Mh(t){return Object.isFrozen(t)}var JR={};function ds(t){const e=JR[t];return e||on(0,t),e}var hl;function Ob(){return hl}function eN(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g0(t,e){e&&(ds("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sp(t){xp(t),t.drafts_.forEach(tN),t.drafts_=null}function xp(t){t===hl&&(hl=t.parent_)}function v0(t){return hl=eN(hl,t)}function tN(t){const e=t[Ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function m0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ur].modified_&&(Sp(e),on(4)),fs(t)&&(t=wu(e,t),e.parent_||Au(e,t)),e.patches_&&ds("Patches").generateReplacementPatches_(r[Ur].base_,t,e.patches_,e.inversePatches_)):t=wu(e,r,[]),Sp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Rb?t:void 0}function wu(t,e,r){if(Mh(e))return e;const n=e[Ur];if(!n)return bu(e,(i,s)=>y0(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Au(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),bu(s,(o,l)=>y0(t,n,i,o,l,r,a)),Au(t,i,!1),r&&t.patches_&&ds("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function y0(t,e,r,n,i,s,a){if(va(i)){const o=s&&e&&e.type_!==3&&!Ap(e.assigned_,n)?s.concat(n):void 0,l=wu(t,i,o);if(Lb(r,n,l),va(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(fs(i)&&!Mh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wu(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Au(t,i)}}function Au(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pv(e,r)}function rN(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Ob(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=gv;r&&(i=[n],s=fl);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var gv={get(t,e){if(e===Ur)return t;const r=ji(t);if(!Ap(r,e))return nN(t,r,e);const n=r[e];return t.finalized_||!fs(n)?n:n===Rf(t.base_,e)?(Nf(t),t.copy_[e]=Np(n,t)):n},has(t,e){return e in ji(t)},ownKeys(t){return Reflect.ownKeys(ji(t))},set(t,e,r){const n=Cb(ji(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Rf(ji(t),e),s=i==null?void 0:i[Ur];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(ZR(r,i)&&(r!==void 0||Ap(t.base_,e)))return!0;Nf(t),Rp(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Rf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Nf(t),Rp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ji(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){on(11)},getPrototypeOf(t){return ga(t.base_)},setPrototypeOf(){on(12)}},fl={};bu(gv,(t,e)=>{fl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fl.deleteProperty=function(t,e){return fl.set.call(this,t,e,void 0)};fl.set=function(t,e,r){return gv.set.call(this,t[0],e,r,t[0])};function Rf(t,e){const r=t[Ur];return(r?ji(r):t)[e]}function nN(t,e,r){var i;const n=Cb(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Cb(t,e){if(!(e in t))return;let r=ga(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=ga(r)}}function Rp(t){t.modified_||(t.modified_=!0,t.parent_&&Rp(t.parent_))}function Nf(t){t.copy_||(t.copy_=_p(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iN=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&on(6),n!==void 0&&typeof n!="function"&&on(7);let i;if(fs(e)){const s=v0(this),a=Np(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?Sp(s):xp(s)}return g0(s,n),m0(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Rb&&(i=void 0),this.autoFreeze_&&pv(i,!0),n){const s=[],a=[];ds("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else on(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){fs(t)||on(8),va(t)&&(t=sN(t));const e=v0(this),r=Np(t,void 0);return r[Ur].isManual_=!0,xp(e),r}finishDraft(t,e){const r=t&&t[Ur];(!r||!r.isManual_)&&on(9);const{scope_:n}=r;return g0(n,e),m0(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ds("Patches").applyPatches_;return va(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Np(t,e){const r=Oh(t)?ds("MapSet").proxyMap_(t,e):Ch(t)?ds("MapSet").proxySet_(t,e):rN(t,e);return(e?e.scope_:Ob()).drafts_.push(r),r}function sN(t){return va(t)||on(10,t),Mb(t)}function Mb(t){if(!fs(t)||Mh(t))return t;const e=t[Ur];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=_p(t,e.scope_.immer_.useStrictShallowCopy_)}else r=_p(t,!0);return bu(r,(n,i)=>{Lb(r,n,Mb(i))}),e&&(e.finalized_=!1),r}var Gr=new iN,k$=Gr.produce;Gr.produceWithPatches.bind(Gr);Gr.setAutoFreeze.bind(Gr);Gr.setUseStrictShallowCopy.bind(Gr);Gr.applyPatches.bind(Gr);Gr.createDraft.bind(Gr);Gr.finishDraft.bind(Gr);function aN(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function oN(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lN(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var T0=t=>Array.isArray(t)?t:[t];function cN(t){const e=Array.isArray(t[0])?t[0]:t;return lN(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uN(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var hN=class{constructor(t){this.value=t}deref(){return this.value}},fN=typeof WeakRef<"u"?WeakRef:hN,dN=0,E0=1;function Zl(){return{s:dN,v:void 0,o:null,p:null}}function Ib(t,e={}){let r=Zl();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(p);v===void 0?(o=Zl(),g.set(p,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(p);v===void 0?(o=Zl(),g.set(p,o)):o=v}}const c=o;let u;if(o.s===E0)u=o.v;else if(u=t.apply(null,arguments),s++,n){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&n(d,u)&&(u=d,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new fN(u):u}return c.s=E0,c.v=u,u}return a.clearCache=()=>{r=Zl(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function pN(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),aN(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=Ib,argsMemoizeOptions:p=[]}=u,g=T0(d),v=T0(p),m=cN(i),y=h(function(){return s++,c.apply(null,arguments)},...g),T=f(function(){a++;const A=uN(m,arguments);return o=y.apply(null,A),o},...v);return Object.assign(T,{resultFunc:c,memoizedResultFunc:y,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var gN=pN(Ib),vN=Object.assign((t,e=gN)=>{oN(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>vN});const mN={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},Ot=Math.round;function Lf(t,e){const r=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=e(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const b0=(t,e,r)=>r===0?t:t/100;function Pa(t,e){const r=e||255;return t>r?r:t<0?0:t}class Vs{constructor(e){be(this,"isValid",!0);be(this,"r",0);be(this,"g",0);be(this,"b",0);be(this,"a",1);be(this,"_h");be(this,"_s");be(this,"_l");be(this,"_v");be(this,"_max");be(this,"_min");be(this,"_brightness");function r(n){return n[0]in e&&n[1]in e&&n[2]in e}if(e)if(typeof e=="string"){let i=function(s){return n.startsWith(s)};const n=e.trim();if(/^#?[A-F\d]{3,8}$/i.test(n))this.fromHexString(n);else if(i("rgb"))this.fromRgbString(n);else if(i("hsl"))this.fromHslString(n);else if(i("hsv")||i("hsb"))this.fromHsvString(n);else{const s=mN[n.toLowerCase()];s&&this.fromHexString(parseInt(s,36).toString(16).padStart(6,"0"))}}else if(e instanceof Vs)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r("rgb"))this.r=Pa(e.r),this.g=Pa(e.g),this.b=Pa(e.b),this.a=typeof e.a=="number"?Pa(e.a,1):1;else if(r("hsl"))this.fromHsl(e);else if(r("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(s){const a=s/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const r=e(this.r),n=e(this.g),i=e(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ot(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(e,r=50){const n=this._c(e),i=r/100,s=o=>(n[o]-this[o])*i+this[o],a={r:Ot(s("r")),g:Ot(s("g")),b:Ot(s("b")),a:Ot(s("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const r=this._c(e),n=this.a+r.a*(1-this.a),i=s=>Ot((this[s]*this.a+r[s]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const r=(this.r||0).toString(16);e+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);e+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=Ot(this.a*255).toString(16);e+=s.length===2?s:"0"+s}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),r=Ot(this.getSaturation()*100),n=Ot(this.getLightness()*100);return this.a!==1?`hsla(${e},${r}%,${n}%,${this.a})`:`hsl(${e},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,r,n){const i=this.clone();return i[e]=Pa(r,n),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const r=e.replace("#","");function n(i,s){return parseInt(r[i]+r[s||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:e,s:r,l:n,a:i}){if(this._h=e%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const d=Ot(n*255);this.r=d,this.g=d,this.b=d}let s=0,a=0,o=0;const l=e/60,c=(1-Math.abs(2*n-1))*r,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(s=c,a=u):l>=1&&l<2?(s=u,a=c):l>=2&&l<3?(a=c,o=u):l>=3&&l<4?(a=u,o=c):l>=4&&l<5?(s=u,o=c):l>=5&&l<6&&(s=c,o=u);const h=n-c/2;this.r=Ot((s+h)*255),this.g=Ot((a+h)*255),this.b=Ot((o+h)*255)}fromHsv({h:e,s:r,v:n,a:i}){this._h=e%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const s=Ot(n*255);if(this.r=s,this.g=s,this.b=s,r<=0)return;const a=e/60,o=Math.floor(a),l=a-o,c=Ot(n*(1-r)*255),u=Ot(n*(1-r*l)*255),h=Ot(n*(1-r*(1-l))*255);switch(o){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const r=Lf(e,b0);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){const r=Lf(e,b0);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){const r=Lf(e,(n,i)=>i.includes("%")?Ot(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}const Ql=2,w0=.16,yN=.05,TN=.05,EN=.15,kb=5,Pb=4,bN=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function A0(t,e,r){let n;return Math.round(t.h)>=60&&Math.round(t.h)<=240?n=r?Math.round(t.h)-Ql*e:Math.round(t.h)+Ql*e:n=r?Math.round(t.h)+Ql*e:Math.round(t.h)-Ql*e,n<0?n+=360:n>=360&&(n-=360),n}function _0(t,e,r){if(t.h===0&&t.s===0)return t.s;let n;return r?n=t.s-w0*e:e===Pb?n=t.s+w0:n=t.s+yN*e,n>1&&(n=1),r&&e===kb&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function S0(t,e,r){let n;return r?n=t.v+TN*e:n=t.v-EN*e,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function P$(t,e={}){const r=[],n=new Vs(t),i=n.toHsv();for(let s=kb;s>0;s-=1){const a=new Vs({h:A0(i,s,!0),s:_0(i,s,!0),v:S0(i,s,!0)});r.push(a)}r.push(n);for(let s=1;s<=Pb;s+=1){const a=new Vs({h:A0(i,s),s:_0(i,s),v:S0(i,s)});r.push(a)}return e.theme==="dark"?bN.map(({index:s,amount:a})=>new Vs(e.backgroundColor||"#141414").mix(r[s],a).toHexString()):r.map(s=>s.toHexString())}const x0=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];x0.primary=x0[5];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lp=function(t,e){return Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Lp(t,e)};function Ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R0=function(){return R0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},R0.apply(this,arguments)},wN=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),AN=function(){function t(){this.browser=new wN,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),ot=new AN;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ot.wxa=!0,ot.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ot.worker=!0:!ot.hasGlobalWindow||"Deno"in window?(ot.node=!0,ot.svgSupported=!0):_N(navigator.userAgent,ot);function _N(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),s=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),s&&(r.edge=!0,r.version=s[1],r.newEdge=+s[1].split(".")[0]>18),a&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var vv=12,Db="sans-serif",ps=vv+"px "+Db,SN=20,xN=100,RN="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function NN(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-SN)/xN;e[n]=i}return e}var LN=NN(RN),dl={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=dl.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||ps),t.measureText(r);r=r||"",n=n||ps;var s=/((?:\d+)?\.?\d*)px/.exec(n),a=s&&+s[1]||vv,o=0;if(n.indexOf("mono")>=0)o=a*r.length;else for(var l=0;l<r.length;l++){var c=LN[r[l]];o+=c==null?a:c*a}return{width:o}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}};function D$(t){for(var e in dl)t[e]&&(dl[e]=t[e])}var Fb=Ll(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),Ub=Ll(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),_a=Object.prototype.toString,Ih=Array.prototype,ON=Ih.forEach,CN=Ih.filter,mv=Ih.slice,MN=Ih.map,N0=(function(){}).constructor,Jl=N0?N0.prototype:null,yv="__proto__",IN=2311;function Tv(){return IN++}function Ev(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Ei(t){if(t==null||typeof t!="object")return t;var e=t,r=_a.call(t);if(r==="[object Array]"){if(!ta(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=Ei(t[n])}}else if(Ub[r]){if(!ta(t)){var s=t.constructor;if(s.from)e=s.from(t);else{e=new s(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!Fb[r]&&!ta(t)&&!Su(t)){e={};for(var a in t)t.hasOwnProperty(a)&&a!==yv&&(e[a]=Ei(t[a]))}return e}function bv(t,e,r){if(!Zn(e)||!Zn(t))return r?Ei(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==yv){var i=t[n],s=e[n];Zn(s)&&Zn(i)&&!ma(s)&&!ma(i)&&!Su(s)&&!Su(i)&&!Op(s)&&!Op(i)&&!ta(s)&&!ta(i)?bv(i,s,r):(r||!(n in t))&&(t[n]=Ei(e[n]))}return t}function kN(t,e){for(var r=t[0],n=1,i=t.length;n<i;n++)r=bv(r,t[n],e);return r}function Xe(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==yv&&(t[r]=e[r]);return t}function $r(t,e,r){for(var n=tt(e),i=0,s=n.length;i<s;i++){var a=n[i];(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}var PN=dl.createCanvas;function Cn(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function DN(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function wv(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var s=n[i];s!=="constructor"&&(r?e[s]!=null:t[s]==null)&&(t[s]=e[s])}else $r(t,e,r)}function pn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function yr(t,e,r){if(t&&e)if(t.forEach&&t.forEach===ON)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var s in t)t.hasOwnProperty(s)&&e.call(r,t[s],s,t)}function yt(t,e,r){if(!t)return[];if(!e)return Av(t);if(t.map&&t.map===MN)return t.map(e,r);for(var n=[],i=0,s=t.length;i<s;i++)n.push(e.call(r,t[i],i,t));return n}function Ll(t,e,r,n){if(t&&e){for(var i=0,s=t.length;i<s;i++)r=e.call(n,r,t[i],i,t);return r}}function _u(t,e,r){if(!t)return[];if(!e)return Av(t);if(t.filter&&t.filter===CN)return t.filter(e,r);for(var n=[],i=0,s=t.length;i<s;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function FN(t,e,r){if(t&&e){for(var n=0,i=t.length;n<i;n++)if(e.call(r,t[n],n,t))return t[n]}}function tt(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function UN(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(mv.call(arguments)))}}var GN=Jl&&Sa(Jl.bind)?Jl.call.bind(Jl.bind):UN;function $N(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(mv.call(arguments)))}}function ma(t){return Array.isArray?Array.isArray(t):_a.call(t)==="[object Array]"}function Sa(t){return typeof t=="function"}function gn(t){return typeof t=="string"}function HN(t){return _a.call(t)==="[object String]"}function Jo(t){return typeof t=="number"}function Zn(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function Op(t){return!!Fb[_a.call(t)]}function Gb(t){return!!Ub[_a.call(t)]}function Su(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function kh(t){return t.colorStops!=null}function zN(t){return t.image!=null}function BN(t){return _a.call(t)==="[object RegExp]"}function $b(t){return t!==t}function WN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function ut(t,e){return t??e}function el(t,e,r){return t??e??r}function Av(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return mv.apply(t,e)}function Hb(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function Cp(t,e){if(!t)throw new Error(e)}function es(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var zb="__ec_primitive__";function YN(t){t[zb]=!0}function ta(t){return t[zb]}var XN=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return tt(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),Bb=typeof Map=="function";function qN(){return Bb?new Map:new XN}var Wb=function(){function t(e){var r=ma(e);this.data=qN();var n=this;e instanceof t?e.each(i):e&&yr(e,i);function i(s,a){r?n.set(s,a):n.set(a,s)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return Bb?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function VN(t){return new Wb(t)}function jN(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function Ol(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&Xe(r,e),r}function KN(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function pl(t,e){return t.hasOwnProperty(e)}function mi(){}var Yc=180/Math.PI;const F$=Object.freeze({__proto__:null,HashMap:Wb,RADIAN_TO_DEGREE:Yc,assert:Cp,bind:GN,clone:Ei,concatArray:jN,createCanvas:PN,createHashMap:VN,createObject:Ol,curry:$N,defaults:$r,disableUserSelect:KN,each:yr,eqNaN:$b,extend:Xe,filter:_u,find:FN,guid:Tv,hasOwn:pl,indexOf:Cn,inherits:DN,isArray:ma,isArrayLike:pn,isBuiltInObject:Op,isDom:Su,isFunction:Sa,isGradientObject:kh,isImagePatternObject:zN,isNumber:Jo,isObject:Zn,isPrimitive:ta,isRegExp:BN,isString:gn,isStringSafe:HN,isTypedArray:Gb,keys:tt,logError:Ev,map:yt,merge:bv,mergeAll:kN,mixin:wv,noop:mi,normalizeCssArray:Hb,reduce:Ll,retrieve:WN,retrieve2:ut,retrieve3:el,setAsPrimitive:YN,slice:Av,trim:es});function Ss(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function ZN(t,e){return t[0]=e[0],t[1]=e[1],t}function Yb(t){return[t[0],t[1]]}function QN(t,e,r){return t[0]=e,t[1]=r,t}function Mp(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function JN(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Xb(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function _v(t){return Math.sqrt(Sv(t))}var eL=_v;function Sv(t){return t[0]*t[0]+t[1]*t[1]}var tL=Sv;function rL(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function nL(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function iL(t,e){return t[0]*e[0]+t[1]*e[1]}function Xc(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function qb(t,e){var r=_v(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function xu(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Vb=xu;function jb(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var ls=jb;function sL(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Kb(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function ra(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function ts(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function rs(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}const U$=Object.freeze({__proto__:null,add:Mp,applyTransform:ra,clone:Yb,copy:ZN,create:Ss,dist:Vb,distSquare:ls,distance:xu,distanceSquare:jb,div:nL,dot:iL,len:_v,lenSquare:Sv,length:eL,lengthSquare:tL,lerp:Kb,max:rs,min:ts,mul:rL,negate:sL,normalize:qb,scale:Xc,scaleAndAdd:JN,set:QN,sub:Xb});var ks=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),aL=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new ks(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,s=n-this._x,a=i-this._y;this._x=n,this._y=i,r.drift(s,a,e),this.handler.dispatchToElement(new ks(r,e),"drag",e.event);var o=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new ks(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new ks(o,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new ks(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new ks(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),Cl=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var s=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var a=this._$eventProcessor;r!=null&&a&&a.normalizeQuery&&(r=a.normalizeQuery(r)),s[e]||(s[e]=[]);for(var o=0;o<s[e].length;o++)if(s[e][o].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},c=s[e].length-1,u=s[e][c];return u&&u.callAtLast?s[e].splice(c,0,l):s[e].push(l),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],s=0,a=n[e].length;s<a;s++)n[e][s].h!==r&&i.push(n[e][s]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],s=this._$eventProcessor;if(i)for(var a=r.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(s&&s.filter&&c.query!=null&&!s.filter(e,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,r[0]);break;case 2:c.h.call(c.ctx,r[0],r[1]);break;default:c.h.apply(c.ctx,r);break}}return s&&s.afterTrigger&&s.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],s=this._$eventProcessor;if(i)for(var a=r.length,o=r[a-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(s&&s.filter&&u.query!=null&&!s.filter(e,u.query)))switch(a){case 0:u.h.call(o);break;case 1:u.h.call(o,r[0]);break;case 2:u.h.call(o,r[0],r[1]);break;default:u.h.apply(o,r.slice(1,a-1));break}}return s&&s.afterTrigger&&s.afterTrigger(e),this},t}(),oL=Math.log(2);function Ip(t,e,r,n,i,s){var a=n+"-"+i,o=t.length;if(s.hasOwnProperty(a))return s[a];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/oL);return t[r][l]}for(var c=n|1<<r,u=r+1;n&1<<u;)u++;for(var h=0,d=0,f=0;d<o;d++){var p=1<<d;p&i||(h+=(f%2?-1:1)*t[r][d]*Ip(t,e-1,u,c,i|p,s),f++)}return s[a]=h,h}function L0(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=Ip(r,8,0,0,0,n);if(i!==0){for(var s=[],a=0;a<8;a++)for(var o=0;o<8;o++)s[o]==null&&(s[o]=0),s[o]+=((a+o)%2?-1:1)*Ip(r,7,a===0?1:0,1<<a,1<<o,n)/i*e[a];return function(l,c,u){var h=c*s[6]+u*s[7]+1;l[0]=(c*s[0]+u*s[1]+s[2])/h,l[1]=(c*s[3]+u*s[4]+s[5])/h}}}var O0="___zrEVENTSAVED",Of=[];function G$(t,e,r,n,i){return kp(Of,e,n,i,!0)&&kp(t,r,Of[0],Of[1])}function kp(t,e,r,n,i){if(e.getBoundingClientRect&&ot.domSupported&&!Zb(e)){var s=e[O0]||(e[O0]={}),a=lL(e,s),o=cL(a,s,i);if(o)return o(t,r,n),!0}return!1}function lL(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],s=0;s<4;s++){var a=document.createElement("div"),o=a.style,l=s%2,c=(s>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),t.appendChild(a),r.push(a)}return r}function cL(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],s=e.srcCoords,a=[],o=[],l=!0,c=0;c<4;c++){var u=t[c].getBoundingClientRect(),h=2*c,d=u.left,f=u.top;a.push(d,f),l=l&&s&&d===s[h]&&f===s[h+1],o.push(t[c].offsetLeft,t[c].offsetTop)}return l&&i?i:(e.srcCoords=a,e[n]=r?L0(o,a):L0(a,o))}function Zb(t){return t.nodeName.toUpperCase()==="CANVAS"}var uL=/([&<>"'])/g,hL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fL(t){return t==null?"":(t+"").replace(uL,function(e,r){return hL[r]})}var dL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Cf=[],pL=ot.browser.firefox&&+ot.browser.version.split(".")[0]<39;function Pp(t,e,r,n){return r=r||{},n?C0(t,e,r):pL&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):C0(t,e,r),r}function C0(t,e,r){if(ot.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(Zb(t)){var s=t.getBoundingClientRect();r.zrX=n-s.left,r.zrY=i-s.top;return}else if(kp(Cf,t,n,i)){r.zrX=Cf[0],r.zrY=Cf[1];return}}r.zrX=r.zrY=0}function xv(t){return t||window.event}function nn(t,e,r){if(e=xv(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var a=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&Pp(t,a,e,r)}else{Pp(t,e,e,r);var s=gL(e);e.zrDelta=s?s/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&dL.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function gL(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),s=n>0?-1:n<0?1:r>0?-1:1;return 3*i*s}function vL(t,e,r,n){t.addEventListener(e,r,n)}function mL(t,e,r,n){t.removeEventListener(e,r,n)}var yL=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function $$(t){return t.which===2||t.which===3}var TL=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var s={points:[],touches:[],target:r,event:e},a=0,o=i.length;a<o;a++){var l=i[a],c=Pp(n,l,{});s.points.push([c.zrX,c.zrY]),s.touches.push(l)}this._track.push(s)}},t.prototype._recognize=function(e){for(var r in Mf)if(Mf.hasOwnProperty(r)){var n=Mf[r](this._track,e);if(n)return n}},t}();function M0(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function EL(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Mf={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var s=M0(n)/M0(i);!isFinite(s)&&(s=1),e.pinchScale=s;var a=EL(n);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}};function yi(){return[1,0,0,1,0,0]}function Qb(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Rv(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function na(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],s=e[0]*r[2]+e[2]*r[3],a=e[1]*r[2]+e[3]*r[3],o=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t}function Ru(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Nv(t,e,r,n){n===void 0&&(n=[0,0]);var i=e[0],s=e[2],a=e[4],o=e[1],l=e[3],c=e[5],u=Math.sin(r),h=Math.cos(r);return t[0]=i*h+o*u,t[1]=-i*u+o*h,t[2]=s*h+l*u,t[3]=-s*u+h*l,t[4]=h*(a-n[0])+u*(c-n[1])+n[0],t[5]=h*(c-n[1])-u*(a-n[0])+n[1],t}function Lv(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Jb(t,e){var r=e[0],n=e[2],i=e[4],s=e[1],a=e[3],o=e[5],l=r*a-s*n;return l?(l=1/l,t[0]=a*l,t[1]=-s*l,t[2]=-n*l,t[3]=r*l,t[4]=(n*o-a*i)*l,t[5]=(s*i-r*o)*l,t):null}function bL(t){var e=yi();return Rv(e,t),e}const H$=Object.freeze({__proto__:null,clone:bL,copy:Rv,create:yi,identity:Qb,invert:Jb,mul:na,rotate:Nv,scale:Lv,translate:Ru});var De=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var s=1-i;e.x=s*r.x+i*n.x,e.y=s*r.y+i*n.y},t}(),ec=Math.min,tc=Math.max,Ci=new De,Mi=new De,Ii=new De,ki=new De,Da=new De,Fa=new De,Rt=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=ec(e.x,this.x),n=ec(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=tc(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=tc(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,s=yi();return Ru(s,s,[-r.x,-r.y]),Lv(s,s,[n,i]),Ru(s,s,[e.x,e.y]),s},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,s=n.x+n.width,a=n.y,o=n.y+n.height,l=e.x,c=e.x+e.width,u=e.y,h=e.y+e.height,d=!(s<l||c<i||o<u||h<a);if(r){var f=1/0,p=0,g=Math.abs(s-l),v=Math.abs(c-i),m=Math.abs(o-u),y=Math.abs(h-a),T=Math.min(g,v),b=Math.min(m,y);s<l||c<i?T>p&&(p=T,g<v?De.set(Fa,-g,0):De.set(Fa,v,0)):T<f&&(f=T,g<v?De.set(Da,g,0):De.set(Da,-v,0)),o<u||h<a?b>p&&(p=b,m<y?De.set(Fa,0,-m):De.set(Fa,0,y)):T<f&&(f=T,m<y?De.set(Da,0,m):De.set(Da,0,-y))}return r&&De.copy(r,d?Da:Fa),d},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],s=n[3],a=n[4],o=n[5];e.x=r.x*i+a,e.y=r.y*s+o,e.width=r.width*i,e.height=r.height*s,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Ci.x=Ii.x=r.x,Ci.y=ki.y=r.y,Mi.x=ki.x=r.x+r.width,Mi.y=Ii.y=r.y+r.height,Ci.transform(n),ki.transform(n),Mi.transform(n),Ii.transform(n),e.x=ec(Ci.x,Mi.x,Ii.x,ki.x),e.y=ec(Ci.y,Mi.y,Ii.y,ki.y);var l=tc(Ci.x,Mi.x,Ii.x,ki.x),c=tc(Ci.y,Mi.y,Ii.y,ki.y);e.width=l-e.x,e.height=c-e.y},t}(),ew="silent";function wL(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:AL}}function AL(){yL(this.event)}var _L=function(t){Ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Cl),Ua=function(){function t(e,r){this.x=e,this.y=r}return t}(),SL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],If=new Rt(0,0,0,0),tw=function(t){Ze(e,t);function e(r,n,i,s,a){var o=t.call(this)||this;return o._hovered=new Ua(0,0),o.storage=r,o.painter=n,o.painterRoot=s,o._pointerSize=a,i=i||new _L,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new aL(o),o}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(yr(SL,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,s=rw(this,n,i),a=this._hovered,o=a.target;o&&!o.__zr&&(a=this.findHover(a.x,a.y),o=a.target);var l=this._hovered=s?new Ua(n,i):this.findHover(n,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(a,"mouseout",r),this.dispatchToElement(l,"mousemove",r),c&&c!==o&&this.dispatchToElement(l,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Ua(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var s=r.target;if(!(s&&s.silent)){for(var a="on"+n,o=wL(n,r,i);s&&(s[a]&&(o.cancelBubble=!!s[a].call(s,o)),s.trigger(n,o),s=s.__hostTarget?s.__hostTarget:s.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(r,n,i){var s=this.storage.getDisplayList(),a=new Ua(r,n);if(I0(s,a,r,n,i),this._pointerSize&&!a.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Rt(r-c,n-c,l,l),h=s.length-1;h>=0;h--){var d=s[h];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(If.copy(d.getBoundingRect()),d.transform&&If.applyTransform(d.transform),If.intersect(u)&&o.push(d))}if(o.length)for(var f=4,p=Math.PI/12,g=Math.PI*2,v=0;v<c;v+=f)for(var m=0;m<g;m+=p){var y=r+v*Math.cos(m),T=n+v*Math.sin(m);if(I0(o,a,y,T,i),a.target)return a}}return a},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new TL);var i=this._gestureMgr;n==="start"&&i.clear();var s=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),s){var a=s.type;r.gestureEvent=a;var o=new Ua;o.target=s.target,this.dispatchToElement(o,a,s.event)}},e}(Cl);yr(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){tw.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=rw(this,r,n),s,a;if((t!=="mouseup"||!i)&&(s=this.findHover(r,n),a=s.target),t==="mousedown")this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if(t==="mouseup")this._upEl=a;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Vb(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,t,e)}});function xL(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,s=!1;n;){if(n.ignoreClip&&(s=!0),!s){var a=n.getClipPath();if(a&&!a.contain(e,r))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?ew:!0}return!1}function I0(t,e,r,n,i){for(var s=t.length-1;s>=0;s--){var a=t[s],o=void 0;if(a!==i&&!a.ignore&&(o=xL(a,r,n))&&(!e.topTarget&&(e.topTarget=a),o!==ew)){e.target=a;break}}}function rw(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var nw=32,Ga=7;function RL(t){for(var e=0;t>=nw;)e|=t&1,t>>=1;return t+e}function k0(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;NL(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function NL(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function P0(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var s=t[n],a=e,o=n,l;a<o;)l=a+o>>>1,i(s,t[l])<0?o=l:a=l+1;var c=n-a;switch(c){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;c>0;)t[a+c]=t[a+c-1],c--}t[a]=s}}function kf(t,e,r,n,i,s){var a=0,o=0,l=1;if(s(t,e[r+i])>0){for(o=n-i;l<o&&s(t,e[r+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}else{for(o=i+1;l<o&&s(t,e[r+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}for(a++;a<l;){var u=a+(l-a>>>1);s(t,e[r+u])>0?a=u+1:l=u}return l}function Pf(t,e,r,n,i,s){var a=0,o=0,l=1;if(s(t,e[r+i])<0){for(o=i+1;l<o&&s(t,e[r+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}else{for(o=n-i;l<o&&s(t,e[r+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}for(a++;a<l;){var u=a+(l-a>>>1);s(t,e[r+u])<0?l=u:a=u+1}return l}function LL(t,e){var r=Ga,n,i,s=0,a=[];n=[],i=[];function o(f,p){n[s]=f,i[s]=p,s+=1}function l(){for(;s>1;){var f=s-2;if(f>=1&&i[f-1]<=i[f]+i[f+1]||f>=2&&i[f-2]<=i[f]+i[f-1])i[f-1]<i[f+1]&&f--;else if(i[f]>i[f+1])break;u(f)}}function c(){for(;s>1;){var f=s-2;f>0&&i[f-1]<i[f+1]&&f--,u(f)}}function u(f){var p=n[f],g=i[f],v=n[f+1],m=i[f+1];i[f]=g+m,f===s-3&&(n[f+1]=n[f+2],i[f+1]=i[f+2]),s--;var y=Pf(t[v],t,p,g,0,e);p+=y,g-=y,g!==0&&(m=kf(t[p+g-1],t,v,m,m-1,e),m!==0&&(g<=m?h(p,g,v,m):d(p,g,v,m)))}function h(f,p,g,v){var m=0;for(m=0;m<p;m++)a[m]=t[f+m];var y=0,T=g,b=f;if(t[b++]=t[T++],--v===0){for(m=0;m<p;m++)t[b+m]=a[y+m];return}if(p===1){for(m=0;m<v;m++)t[b+m]=t[T+m];t[b+v]=a[y];return}for(var A=r,R,w,S;;){R=0,w=0,S=!1;do if(e(t[T],a[y])<0){if(t[b++]=t[T++],w++,R=0,--v===0){S=!0;break}}else if(t[b++]=a[y++],R++,w=0,--p===1){S=!0;break}while((R|w)<A);if(S)break;do{if(R=Pf(t[T],a,y,p,0,e),R!==0){for(m=0;m<R;m++)t[b+m]=a[y+m];if(b+=R,y+=R,p-=R,p<=1){S=!0;break}}if(t[b++]=t[T++],--v===0){S=!0;break}if(w=kf(a[y],t,T,v,0,e),w!==0){for(m=0;m<w;m++)t[b+m]=t[T+m];if(b+=w,T+=w,v-=w,v===0){S=!0;break}}if(t[b++]=a[y++],--p===1){S=!0;break}A--}while(R>=Ga||w>=Ga);if(S)break;A<0&&(A=0),A+=2}if(r=A,r<1&&(r=1),p===1){for(m=0;m<v;m++)t[b+m]=t[T+m];t[b+v]=a[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)t[b+m]=a[y+m]}}function d(f,p,g,v){var m=0;for(m=0;m<v;m++)a[m]=t[g+m];var y=f+p-1,T=v-1,b=g+v-1,A=0,R=0;if(t[b--]=t[y--],--p===0){for(A=b-(v-1),m=0;m<v;m++)t[A+m]=a[m];return}if(v===1){for(b-=p,y-=p,R=b+1,A=y+1,m=p-1;m>=0;m--)t[R+m]=t[A+m];t[b]=a[T];return}for(var w=r;;){var S=0,N=0,I=!1;do if(e(a[T],t[y])<0){if(t[b--]=t[y--],S++,N=0,--p===0){I=!0;break}}else if(t[b--]=a[T--],N++,S=0,--v===1){I=!0;break}while((S|N)<w);if(I)break;do{if(S=p-Pf(a[T],t,f,p,p-1,e),S!==0){for(b-=S,y-=S,p-=S,R=b+1,A=y+1,m=S-1;m>=0;m--)t[R+m]=t[A+m];if(p===0){I=!0;break}}if(t[b--]=a[T--],--v===1){I=!0;break}if(N=v-kf(t[y],a,0,v,v-1,e),N!==0){for(b-=N,T-=N,v-=N,R=b+1,A=T+1,m=0;m<N;m++)t[R+m]=a[A+m];if(v<=1){I=!0;break}}if(t[b--]=t[y--],--p===0){I=!0;break}w--}while(S>=Ga||N>=Ga);if(I)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),v===1){for(b-=p,y-=p,R=b+1,A=y+1,m=p-1;m>=0;m--)t[R+m]=t[A+m];t[b]=a[T]}else{if(v===0)throw new Error;for(A=b-(v-1),m=0;m<v;m++)t[A+m]=a[m]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function OL(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var s=0;if(i<nw){s=k0(t,r,n,e),P0(t,r,n,r+s,e);return}var a=LL(t,e),o=RL(i);do{if(s=k0(t,r,n,e),s<o){var l=i;l>o&&(l=o),P0(t,r,r+l,r+s,e),s=l}a.pushRun(r,s),a.mergeRuns(),i-=s,r+=s}while(i!==0);a.forceMergeRuns()}}var jn=1,ho=2,$a=4,D0=!1;function Df(){D0||(D0=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function F0(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var CL=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=F0}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,s=r.length;i<s;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,OL(n,F0)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var s=i,a=e;s;)s.parent=a,s.updateTransform(),r.push(s),a=s,s=s.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var c=o[l];e.__dirty&&(c.__dirty|=jn),this._updateAndAddDisplayable(c,r,n)}e.__dirty=0}else{var u=e;r&&r.length?u.__clipPaths=r:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Df(),u.z=0),isNaN(u.z2)&&(Df(),u.z2=0),isNaN(u.zlevel)&&(Df(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,r,n);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=Cn(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Dp;Dp=ot.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var tl={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-tl.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?tl.bounceIn(t*2)*.5:tl.bounceOut(t*2-1)*.5+.5}},rc=Math.pow,Ti=Math.sqrt,Nu=1e-8,iw=1e-4,U0=Ti(3),nc=1/3,Mn=Ss(),jr=Ss(),ia=Ss();function pi(t){return t>-Nu&&t<Nu}function sw(t){return t>Nu||t<-Nu}function Gt(t,e,r,n,i){var s=1-i;return s*s*(s*t+3*i*e)+i*i*(i*n+3*s*r)}function G0(t,e,r,n,i){var s=1-i;return 3*(((e-t)*s+2*(r-e)*i)*s+(n-r)*i*i)}function aw(t,e,r,n,i,s){var a=n+3*(e-r)-t,o=3*(r-e*2+t),l=3*(e-t),c=t-i,u=o*o-3*a*l,h=o*l-9*a*c,d=l*l-3*o*c,f=0;if(pi(u)&&pi(h))if(pi(o))s[0]=0;else{var p=-l/o;p>=0&&p<=1&&(s[f++]=p)}else{var g=h*h-4*u*d;if(pi(g)){var v=h/u,p=-o/a+v,m=-v/2;p>=0&&p<=1&&(s[f++]=p),m>=0&&m<=1&&(s[f++]=m)}else if(g>0){var y=Ti(g),T=u*o+1.5*a*(-h+y),b=u*o+1.5*a*(-h-y);T<0?T=-rc(-T,nc):T=rc(T,nc),b<0?b=-rc(-b,nc):b=rc(b,nc);var p=(-o-(T+b))/(3*a);p>=0&&p<=1&&(s[f++]=p)}else{var A=(2*u*o-3*a*h)/(2*Ti(u*u*u)),R=Math.acos(A)/3,w=Ti(u),S=Math.cos(R),p=(-o-2*w*S)/(3*a),m=(-o+w*(S+U0*Math.sin(R)))/(3*a),N=(-o+w*(S-U0*Math.sin(R)))/(3*a);p>=0&&p<=1&&(s[f++]=p),m>=0&&m<=1&&(s[f++]=m),N>=0&&N<=1&&(s[f++]=N)}}return f}function ow(t,e,r,n,i){var s=6*r-12*e+6*t,a=9*e+3*n-3*t-9*r,o=3*e-3*t,l=0;if(pi(a)){if(sw(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(pi(u))i[0]=-s/(2*a);else if(u>0){var h=Ti(u),c=(-s+h)/(2*a),d=(-s-h)/(2*a);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function bi(t,e,r,n,i,s){var a=(e-t)*i+t,o=(r-e)*i+e,l=(n-r)*i+r,c=(o-a)*i+a,u=(l-o)*i+o,h=(u-c)*i+c;s[0]=t,s[1]=a,s[2]=c,s[3]=h,s[4]=h,s[5]=u,s[6]=l,s[7]=n}function ML(t,e,r,n,i,s,a,o,l,c,u){var h,d=.005,f=1/0,p,g,v,m;Mn[0]=l,Mn[1]=c;for(var y=0;y<1;y+=.05)jr[0]=Gt(t,r,i,a,y),jr[1]=Gt(e,n,s,o,y),v=ls(Mn,jr),v<f&&(h=y,f=v);f=1/0;for(var T=0;T<32&&!(d<iw);T++)p=h-d,g=h+d,jr[0]=Gt(t,r,i,a,p),jr[1]=Gt(e,n,s,o,p),v=ls(jr,Mn),p>=0&&v<f?(h=p,f=v):(ia[0]=Gt(t,r,i,a,g),ia[1]=Gt(e,n,s,o,g),m=ls(ia,Mn),g<=1&&m<f?(h=g,f=m):d*=.5);return u&&(u[0]=Gt(t,r,i,a,h),u[1]=Gt(e,n,s,o,h)),Ti(f)}function IL(t,e,r,n,i,s,a,o,l){for(var c=t,u=e,h=0,d=1/l,f=1;f<=l;f++){var p=f*d,g=Gt(t,r,i,a,p),v=Gt(e,n,s,o,p),m=g-c,y=v-u;h+=Math.sqrt(m*m+y*y),c=g,u=v}return h}function Jt(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function $0(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function kL(t,e,r,n,i){var s=t-2*e+r,a=2*(e-t),o=t-n,l=0;if(pi(s)){if(sw(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(pi(u)){var c=-a/(2*s);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var h=Ti(u),c=(-a+h)/(2*s),d=(-a-h)/(2*s);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function lw(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function Lu(t,e,r,n,i){var s=(e-t)*n+t,a=(r-e)*n+e,o=(a-s)*n+s;i[0]=t,i[1]=s,i[2]=o,i[3]=o,i[4]=a,i[5]=r}function PL(t,e,r,n,i,s,a,o,l){var c,u=.005,h=1/0;Mn[0]=a,Mn[1]=o;for(var d=0;d<1;d+=.05){jr[0]=Jt(t,r,i,d),jr[1]=Jt(e,n,s,d);var f=ls(Mn,jr);f<h&&(c=d,h=f)}h=1/0;for(var p=0;p<32&&!(u<iw);p++){var g=c-u,v=c+u;jr[0]=Jt(t,r,i,g),jr[1]=Jt(e,n,s,g);var f=ls(jr,Mn);if(g>=0&&f<h)c=g,h=f;else{ia[0]=Jt(t,r,i,v),ia[1]=Jt(e,n,s,v);var m=ls(ia,Mn);v<=1&&m<h?(c=v,h=m):u*=.5}}return l&&(l[0]=Jt(t,r,i,c),l[1]=Jt(e,n,s,c)),Ti(h)}function DL(t,e,r,n,i,s,a){for(var o=t,l=e,c=0,u=1/a,h=1;h<=a;h++){var d=h*u,f=Jt(t,r,i,d),p=Jt(e,n,s,d),g=f-o,v=p-l;c+=Math.sqrt(g*g+v*v),o=f,l=p}return c}var FL=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ov(t){var e=t&&FL.exec(t);if(e){var r=e[1].split(","),n=+es(r[0]),i=+es(r[1]),s=+es(r[2]),a=+es(r[3]);if(isNaN(n+i+s+a))return;var o=[];return function(l){return l<=0?0:l>=1?1:aw(0,n,s,1,l,o)&&Gt(0,i,a,1,o[0])}}}var UL=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||mi,this.ondestroy=e.ondestroy||mi,this.onrestart=e.onrestart||mi,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,s=i/n;s<0&&(s=0),s=Math.min(s,1);var a=this.easingFunc,o=a?a(s):s;if(this.onframe(o),s===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Sa(e)?e:tl[e]||Ov(e)},t}(),cw=function(){function t(e){this.value=e}return t}(),GL=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new cw(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Cv=function(){function t(e){this._list=new GL,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,s=null;if(i[e]==null){var a=n.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],s=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new cw(r),o.key=e,n.insertEntry(o),i[e]=o}return s},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),H0={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fn(t){return t=Math.round(t),t<0?0:t>255?255:t}function $L(t){return t=Math.round(t),t<0?0:t>360?360:t}function gl(t){return t<0?0:t>1?1:t}function Ff(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?fn(parseFloat(e)/100*255):fn(parseInt(e,10))}function cs(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?gl(parseFloat(e)/100):gl(parseFloat(e))}function Uf(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function gi(t,e,r){return t+(e-t)*r}function qr(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Fp(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var uw=new Cv(20),ic=null;function Ps(t,e){ic&&Fp(ic,e),ic=uw.put(t,ic||e.slice())}function kr(t,e){if(t){e=e||[];var r=uw.get(t);if(r)return Fp(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in H0)return Fp(e,H0[n]),Ps(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var s=parseInt(n.slice(1,4),16);if(!(s>=0&&s<=4095)){qr(e,0,0,0,1);return}return qr(e,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Ps(t,e),e}else if(i===7||i===9){var s=parseInt(n.slice(1,7),16);if(!(s>=0&&s<=16777215)){qr(e,0,0,0,1);return}return qr(e,(s&16711680)>>16,(s&65280)>>8,s&255,i===9?parseInt(n.slice(7),16)/255:1),Ps(t,e),e}return}var a=n.indexOf("("),o=n.indexOf(")");if(a!==-1&&o+1===i){var l=n.substr(0,a),c=n.substr(a+1,o-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?qr(e,+c[0],+c[1],+c[2],1):qr(e,0,0,0,1);u=cs(c.pop());case"rgb":if(c.length>=3)return qr(e,Ff(c[0]),Ff(c[1]),Ff(c[2]),c.length===3?u:cs(c[3])),Ps(t,e),e;qr(e,0,0,0,1);return;case"hsla":if(c.length!==4){qr(e,0,0,0,1);return}return c[3]=cs(c[3]),Up(c,e),Ps(t,e),e;case"hsl":if(c.length!==3){qr(e,0,0,0,1);return}return Up(c,e),Ps(t,e),e;default:return}}qr(e,0,0,0,1)}}function Up(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=cs(t[1]),i=cs(t[2]),s=i<=.5?i*(n+1):i+n-i*n,a=i*2-s;return e=e||[],qr(e,fn(Uf(a,s,r+1/3)*255),fn(Uf(a,s,r)*255),fn(Uf(a,s,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function HL(t){if(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=s-i,o=(s+i)/2,l,c;if(a===0)l=0,c=0;else{o<.5?c=a/(s+i):c=a/(2-s-i);var u=((s-e)/6+a/2)/a,h=((s-r)/6+a/2)/a,d=((s-n)/6+a/2)/a;e===s?l=d-h:r===s?l=1/3+u-d:n===s&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var f=[l*360,c,o];return t[3]!=null&&f.push(t[3]),f}}function Gp(t,e){var r=kr(t);if(r){for(var n=0;n<3;n++)e<0?r[n]=r[n]*(1-e)|0:r[n]=(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return xs(r,r.length===4?"rgba":"rgb")}}function zL(t){var e=kr(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function hw(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var n=t*(e.length-1),i=Math.floor(n),s=Math.ceil(n),a=e[i],o=e[s],l=n-i;return r[0]=fn(gi(a[0],o[0],l)),r[1]=fn(gi(a[1],o[1],l)),r[2]=fn(gi(a[2],o[2],l)),r[3]=gl(gi(a[3],o[3],l)),r}}var BL=hw;function fw(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),s=Math.ceil(n),a=kr(e[i]),o=kr(e[s]),l=n-i,c=xs([fn(gi(a[0],o[0],l)),fn(gi(a[1],o[1],l)),fn(gi(a[2],o[2],l)),gl(gi(a[3],o[3],l))],"rgba");return r?{color:c,leftIndex:i,rightIndex:s,value:n}:c}}var WL=fw;function YL(t,e,r,n){var i=kr(t);if(t)return i=HL(i),e!=null&&(i[0]=$L(e)),r!=null&&(i[1]=cs(r)),n!=null&&(i[2]=cs(n)),xs(Up(i),"rgba")}function XL(t,e){var r=kr(t);if(r&&e!=null)return r[3]=gl(e),xs(r,"rgba")}function xs(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function vl(t,e){var r=kr(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function qL(){return xs([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var z0=new Cv(100);function dw(t){if(gn(t)){var e=z0.get(t);return e||(e=Gp(t,-.1),z0.put(t,e)),e}else if(kh(t)){var r=Xe({},t);return r.colorStops=yt(t.colorStops,function(n){return{offset:n.offset,color:Gp(n.color,-.1)}}),r}return t}const z$=Object.freeze({__proto__:null,fastLerp:hw,fastMapToColor:BL,lerp:fw,lift:Gp,liftColor:dw,lum:vl,mapToColor:WL,modifyAlpha:XL,modifyHSL:YL,parse:kr,random:qL,stringify:xs,toHex:zL});var Ou=Math.round;function ml(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var r=kr(t);r&&(t="rgb("+r[0]+","+r[1]+","+r[2]+")",e=r[3])}return{color:t,opacity:e??1}}var B0=1e-4;function vi(t){return t<B0&&t>-B0}function sc(t){return Ou(t*1e3)/1e3}function $p(t){return Ou(t*1e4)/1e4}function VL(t){return"matrix("+sc(t[0])+","+sc(t[1])+","+sc(t[2])+","+sc(t[3])+","+$p(t[4])+","+$p(t[5])+")"}var jL={left:"start",right:"end",center:"middle",middle:"middle"};function KL(t,e,r){return r==="top"?t+=e/2:r==="bottom"&&(t-=e/2),t}function ZL(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function QL(t){var e=t.style,r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function pw(t){return t&&!!t.image}function JL(t){return t&&!!t.svgElement}function Mv(t){return pw(t)||JL(t)}function gw(t){return t.type==="linear"}function vw(t){return t.type==="radial"}function mw(t){return t&&(t.type==="linear"||t.type==="radial")}function Ph(t){return"url(#"+t+")"}function yw(t){var e=t.getGlobalScale(),r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function Tw(t){var e=t.x||0,r=t.y||0,n=(t.rotation||0)*Yc,i=ut(t.scaleX,1),s=ut(t.scaleY,1),a=t.skewX||0,o=t.skewY||0,l=[];return(e||r)&&l.push("translate("+e+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||s!==1)&&l.push("scale("+i+","+s+")"),(a||o)&&l.push("skew("+Ou(a*Yc)+"deg, "+Ou(o*Yc)+"deg)"),l.join(" ")}var eO=function(){return ot.hasGlobalWindow&&Sa(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),Hp=Array.prototype.slice;function Yn(t,e,r){return(e-t)*r+t}function Gf(t,e,r,n){for(var i=e.length,s=0;s<i;s++)t[s]=Yn(e[s],r[s],n);return t}function tO(t,e,r,n){for(var i=e.length,s=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var o=0;o<s;o++)t[a][o]=Yn(e[a][o],r[a][o],n)}return t}function ac(t,e,r,n){for(var i=e.length,s=0;s<i;s++)t[s]=e[s]+r[s]*n;return t}function W0(t,e,r,n){for(var i=e.length,s=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var o=0;o<s;o++)t[a][o]=e[a][o]+r[a][o]*n}return t}function rO(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,s=Math.min(r,n),a=i[s-1]||{color:[0,0,0,0],offset:0},o=s;o<Math.max(r,n);o++)i.push({offset:a.offset,color:a.color.slice()})}function nO(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var s=n.length,a=i.length;if(s!==a){var o=s>a;if(o)n.length=a;else for(var l=s;l<a;l++)n.push(r===1?i[l]:Hp.call(i[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=i[l][u])}}function qc(t){if(pn(t)){var e=t.length;if(pn(t[0])){for(var r=[],n=0;n<e;n++)r.push(Hp.call(t[n]));return r}return Hp.call(t)}return t}function Vc(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function iO(t){return pn(t&&t[0])?2:1}var oc=0,jc=1,Ew=2,fo=3,zp=4,Bp=5,Y0=6;function X0(t){return t===zp||t===Bp}function lc(t){return t===jc||t===Ew}var Ha=[0,0,0,0],sO=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,s=i.length,a=!1,o=Y0,l=r;if(pn(r)){var c=iO(r);o=c,(c===1&&!Jo(r[0])||c===2&&!Jo(r[0][0]))&&(a=!0)}else if(Jo(r)&&!$b(r))o=oc;else if(gn(r))if(!isNaN(+r))o=oc;else{var u=kr(r);u&&(l=u,o=fo)}else if(kh(r)){var h=Xe({},l);h.colorStops=yt(r.colorStops,function(f){return{offset:f.offset,color:kr(f.color)}}),gw(r)?o=zp:vw(r)&&(o=Bp),l=h}s===0?this.valType=o:(o!==this.valType||o===Y0)&&(a=!0),this.discrete=this.discrete||a;var d={time:e,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=Sa(n)?n:tl[n]||Ov(n)),i.push(d),d},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,v){return g.time-v.time});for(var i=this.valType,s=n.length,a=n[s-1],o=this.discrete,l=lc(i),c=X0(i),u=0;u<s;u++){var h=n[u],d=h.value,f=a.value;h.percent=h.time/e,o||(l&&u!==s-1?nO(d,f,i):c&&rO(d.colorStops,f.colorStops))}if(!o&&i!==Bp&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var p=n[0].value,u=0;u<s;u++)i===oc?n[u].additiveValue=n[u].value-p:i===fo?n[u].additiveValue=ac([],n[u].value,p,-1):lc(i)&&(n[u].additiveValue=i===jc?ac([],n[u].value,p,-1):W0([],n[u].value,p,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",s=this.valType,a=this.keyframes,o=a.length,l=this.propName,c=s===fo,u,h=this._lastFr,d=Math.min,f,p;if(o===1)f=p=a[0];else{if(r<0)u=0;else if(r<this._lastFrP){var g=d(h+1,o-1);for(u=g;u>=0&&!(a[u].percent<=r);u--);u=d(u,o-2)}else{for(u=h;u<o&&!(a[u].percent>r);u++);u=d(u-1,o-2)}p=a[u+1],f=a[u]}if(f&&p){this._lastFr=u,this._lastFrP=r;var v=p.percent-f.percent,m=v===0?1:d((r-f.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var y=n?this._additiveValue:c?Ha:e[l];if((lc(s)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=m<1?f.rawValue:p.rawValue;else if(lc(s))s===jc?Gf(y,f[i],p[i],m):tO(y,f[i],p[i],m);else if(X0(s)){var T=f[i],b=p[i],A=s===zp;e[l]={type:A?"linear":"radial",x:Yn(T.x,b.x,m),y:Yn(T.y,b.y,m),colorStops:yt(T.colorStops,function(w,S){var N=b.colorStops[S];return{offset:Yn(w.offset,N.offset,m),color:Vc(Gf([],w.color,N.color,m))}}),global:b.global},A?(e[l].x2=Yn(T.x2,b.x2,m),e[l].y2=Yn(T.y2,b.y2,m)):e[l].r=Yn(T.r,b.r,m)}else if(c)Gf(y,f[i],p[i],m),n||(e[l]=Vc(y));else{var R=Yn(f[i],p[i],m);n?this._additiveValue=R:e[l]=R}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===oc?e[n]=e[n]+i:r===fo?(kr(e[n],Ha),ac(Ha,Ha,i,1),e[n]=Vc(Ha)):r===jc?ac(e[n],e[n],i,1):r===Ew&&W0(e[n],e[n],i,1)},t}(),Iv=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){Ev("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,tt(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var s=this._tracks,a=0;a<n.length;a++){var o=n[a],l=s[o];if(!l){l=s[o]=new sO(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var h=u.keyframes,d=h[h.length-1];c=d&&d.value,u.valType===fo&&c&&(c=Vc(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,qc(c),i),this._trackKeys.push(o)}l.addKeyframe(e,qc(r[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var s=n[i].getTrack(e);s&&(r=s)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,s=0;s<this._trackKeys.length;s++){var a=this._trackKeys[s],o=this._tracks[a],l=this._getAdditiveTrack(a),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=c[u-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var d=new UL({life:i,loop:this._loop,delay:this._delay||0,onframe:function(f){r._started=2;var p=r._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var v=0;v<n.length;v++)n[v].step(r._target,f);var m=r._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](r._target,f)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return yt(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,s=0;s<e.length;s++){var a=n[e[s]];a&&!a.isFinished()&&(r?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var o=!0,s=0;s<i.length;s++)if(!n[i[s]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var s=r[i],a=this._tracks[s];if(!(!a||a.isFinished())){var o=a.keyframes,l=o[n?0:o.length-1];l&&(e[s]=qc(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||tt(e);for(var n=0;n<r.length;n++){var i=r[n],s=this._tracks[i];if(s){var a=s.keyframes;if(a.length>1){var o=a.pop();s.addKeyframe(o.time,e[i]),s.prepare(this._maxTime,s.getAdditiveTrack())}}}},t}();function js(){return new Date().getTime()}var aO=function(t){Ze(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=js()-this._pausedTime,i=n-this._time,s=this._head;s;){var a=s.next,o=s.step(n,i);o&&(s.ondestroy(),this.removeClip(s)),s=a}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Dp(n),!r._paused&&r.update())}Dp(n)},e.prototype.start=function(){this._running||(this._time=js(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=js(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=js()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new Iv(r,n.loop);return this.addAnimator(i),i},e}(Cl),oO=300,$f=ot.domSupported,Hf=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=yt(t,function(i){var s=i.replace("mouse","pointer");return r.hasOwnProperty(s)?s:i});return{mouse:t,touch:e,pointer:n}}(),q0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},V0=!1;function Wp(t){var e=t.pointerType;return e==="pen"||e==="touch"}function lO(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function zf(t){t&&(t.zrByTouch=!0)}function cO(t,e){return nn(t.dom,new uO(t,e),!0)}function bw(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var uO=function(){function t(e,r){this.stopPropagation=mi,this.stopImmediatePropagation=mi,this.preventDefault=mi,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),sn={mousedown:function(t){t=nn(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=nn(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=nn(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=nn(this.dom,t);var e=t.toElement||t.relatedTarget;bw(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){V0=!0,t=nn(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){V0||(t=nn(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=nn(this.dom,t),zf(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),sn.mousemove.call(this,t),sn.mousedown.call(this,t)},touchmove:function(t){t=nn(this.dom,t),zf(t),this.handler.processGesture(t,"change"),sn.mousemove.call(this,t)},touchend:function(t){t=nn(this.dom,t),zf(t),this.handler.processGesture(t,"end"),sn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<oO&&sn.click.call(this,t)},pointerdown:function(t){sn.mousedown.call(this,t)},pointermove:function(t){Wp(t)||sn.mousemove.call(this,t)},pointerup:function(t){sn.mouseup.call(this,t)},pointerout:function(t){Wp(t)||sn.mouseout.call(this,t)}};yr(["click","dblclick","contextmenu"],function(t){sn[t]=function(e){e=nn(this.dom,e),this.trigger(t,e)}});var Yp={pointermove:function(t){Wp(t)||Yp.mousemove.call(this,t)},pointerup:function(t){Yp.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function hO(t,e){var r=e.domHandlers;ot.pointerEventsSupported?yr(Hf.pointer,function(n){Kc(e,n,function(i){r[n].call(t,i)})}):(ot.touchEventsSupported&&yr(Hf.touch,function(n){Kc(e,n,function(i){r[n].call(t,i),lO(e)})}),yr(Hf.mouse,function(n){Kc(e,n,function(i){i=xv(i),e.touching||r[n].call(t,i)})}))}function fO(t,e){ot.pointerEventsSupported?yr(q0.pointer,r):ot.touchEventsSupported||yr(q0.mouse,r);function r(n){function i(s){s=xv(s),bw(t,s.target)||(s=cO(t,s),e.domHandlers[n].call(t,s))}Kc(e,n,i,{capture:!0})}}function Kc(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,vL(t.domTarget,e,r,n)}function Bf(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&mL(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var j0=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),dO=function(t){Ze(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new j0(r,sn),$f&&(i._globalHandlerScope=new j0(document,Yp)),hO(i,i._localHandlerScope),i}return e.prototype.dispose=function(){Bf(this._localHandlerScope),$f&&Bf(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,$f&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?fO(this,n):Bf(n)}},e}(Cl),ww=1;ot.hasGlobalWindow&&(ww=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var K0=ww,Xp=.4,qp="#333",Vp="#ccc",pO="#eee",Z0=Qb,Q0=5e-5;function Pi(t){return t>Q0||t<-Q0}var Di=[],Ds=[],Wf=yi(),Yf=Math.abs,kv=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Pi(this.rotation)||Pi(this.x)||Pi(this.y)||Pi(this.scaleX-1)||Pi(this.scaleY-1)||Pi(this.skewX)||Pi(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(Z0(n),this.invTransform=null);return}n=n||yi(),r?this.getLocalTransform(n):Z0(n),e&&(r?na(n,e,n):Rv(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Di);var n=Di[0]<0?-1:1,i=Di[1]<0?-1:1,s=((Di[0]-n)*r+n)/Di[0]||0,a=((Di[1]-i)*r+i)/Di[1]||0;e[0]*=s,e[1]*=s,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||yi(),Jb(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),s=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(s),r=Math.sqrt(r),this.skewX=s,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||yi(),na(Ds,e.invTransform,r),r=Ds);var n=this.originX,i=this.originY;(n||i)&&(Wf[4]=n,Wf[5]=i,na(Ds,r,Wf),Ds[4]-=n,Ds[5]-=i,r=Ds),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&ra(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&ra(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&Yf(e[0]-1)>1e-10&&Yf(e[3]-1)>1e-10?Math.sqrt(Yf(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){Aw(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,s=e.scaleX,a=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,h=e.y,d=e.skewX?Math.tan(e.skewX):0,f=e.skewY?Math.tan(-e.skewY):0;if(n||i||o||l){var p=n+o,g=i+l;r[4]=-p*s-d*g*a,r[5]=-g*a-f*p*s}else r[4]=r[5]=0;return r[0]=s,r[3]=a,r[1]=f*s,r[2]=d*a,c&&Nv(r,r,c),r[4]+=n+u,r[5]+=i+h,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),yl=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Aw(t,e){for(var r=0;r<yl.length;r++){var n=yl[r];t[n]=e[n]}}var J0={};function Pr(t,e){e=e||ps;var r=J0[e];r||(r=J0[e]=new Cv(500));var n=r.get(t);return n==null&&(n=dl.measureText(t,e).width,r.put(t,n)),n}function ey(t,e,r,n){var i=Pr(t,e),s=Dh(e),a=po(0,i,r),o=Ws(0,s,n),l=new Rt(a,o,i,s);return l}function gO(t,e,r,n){var i=((t||"")+"").split(`
`),s=i.length;if(s===1)return ey(i[0],e,r,n);for(var a=new Rt(0,0,0,0),o=0;o<i.length;o++){var l=ey(i[o],e,r,n);o===0?a.copy(l):a.union(l)}return a}function po(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Ws(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function Dh(t){return Pr("",t)}function Tl(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function vO(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,s=r.height,a=r.width,o=s/2,l=r.x,c=r.y,u="left",h="top";if(n instanceof Array)l+=Tl(n[0],r.width),c+=Tl(n[1],r.height),u=null,h=null;else switch(n){case"left":l-=i,c+=o,u="right",h="middle";break;case"right":l+=i+a,c+=o,h="middle";break;case"top":l+=a/2,c-=i,u="center",h="bottom";break;case"bottom":l+=a/2,c+=s+i,u="center";break;case"inside":l+=a/2,c+=o,u="center",h="middle";break;case"insideLeft":l+=i,c+=o,h="middle";break;case"insideRight":l+=a-i,c+=o,u="right",h="middle";break;case"insideTop":l+=a/2,c+=i,u="center";break;case"insideBottom":l+=a/2,c+=s-i,u="center",h="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=a-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=s-i,h="bottom";break;case"insideBottomRight":l+=a-i,c+=s-i,u="right",h="bottom";break}return t=t||{},t.x=l,t.y=c,t.align=u,t.verticalAlign=h,t}var Xf="__zr_normal__",qf=yl.concat(["ignore"]),mO=Ll(yl,function(t,e){return t[e]=!0,t},{ignore:!1}),Fs={},yO=new Rt(0,0,0,0),Fh=function(){function t(e){this.id=Tv(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,s=r.innerTransformable,a=void 0,o=void 0,l=!1;s.parent=i?this:null;var c=!1;if(s.copyTransform(r),n.position!=null){var u=yO;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Fs,n,u):vO(Fs,n,u),s.x=Fs.x,s.y=Fs.y,a=Fs.align,o=Fs.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var d=void 0,f=void 0;h==="center"?(d=u.width*.5,f=u.height*.5):(d=Tl(h[0],u.width),f=Tl(h[1],u.height)),c=!0,s.originX=-s.x+d+(i?0:u.x),s.originY=-s.y+f+(i?0:u.y)}}n.rotation!=null&&(s.rotation=n.rotation);var p=n.offset;p&&(s.x+=p[0],s.y+=p[1],c||(s.originX=-p[0],s.originY=-p[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,T=void 0;g&&this.canBeInsideText()?(m=n.insideFill,y=n.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),T=!0)):(m=n.outsideFill,y=n.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),T=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||T!==v.autoStroke||a!==v.align||o!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=y,v.autoStroke=T,v.align=a,v.verticalAlign=o,r.setDefaultTextStyle(v)),r.__dirty|=jn,l&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Vp:qp},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&kr(r);n||(n=[255,255,255,1]);for(var i=n[3],s=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*i+(s?0:255)*(1-i);return n[3]=1,xs(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Xe(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(Zn(e))for(var n=e,i=tt(n),s=0;s<i.length;s++){var a=i[s];this.attrKV(a,e[a])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],s=i.__fromStateTransition;if(!(i.getLoop()||s&&s!==Xf)){var a=i.targetName,o=a?r[a]:r;i.saveTo(o)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,qf)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var s=n[i];e[s]!=null&&!(s in r)&&(r[s]=this[s])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(Xf,!1,e)},t.prototype.useState=function(e,r,n,i){var s=e===Xf,a=this.hasState();if(!(!a&&s)){var o=this.currentStates,l=this.stateTransition;if(!(Cn(o,e)>=0&&(r||o.length===1))){var c;if(this.stateProxy&&!s&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!s){Ev("State "+e+" not exists.");return}s||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,d=this._textGuide;return h&&h.useState(e,r,n,u),d&&d.useState(e,r,n,u),s?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn),c}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],s=this.currentStates,a=e.length,o=a===s.length;if(o){for(var l=0;l<a;l++)if(e[l]!==s[l]){o=!1;break}}if(o)return;for(var l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var h=i[a-1],d=!!(h&&h.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(e.join(","),f,this._normalState,!1,!r&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(e,r,d),v&&v.useStates(e,r,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn)}},t.prototype.isSilent=function(){for(var e=this.silent,r=this.parent;!e&&r;){if(r.silent){e=!0;break}r=r.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Cn(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),s=Cn(i,e),a=Cn(i,r)>=0;s>=0?a?i.splice(s,1):i[s]=r:n&&!a&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var s=e[i];Xe(r,s),s.textConfig&&(n=n||{},Xe(n,s.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,s,a){var o=!(r&&i);r&&r.textConfig?(this.textConfig=Xe({},i?this.textConfig:n.textConfig),Xe(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<qf.length;u++){var h=qf[u],d=s&&mO[h];r&&r[h]!=null?d?(c=!0,l[h]=r[h]):this[h]=r[h]:o&&n[h]!=null&&(d?(c=!0,l[h]=n[h]):this[h]=n[h])}if(!s)for(var u=0;u<this.animators.length;u++){var f=this.animators[u],p=f.targetName;f.getLoop()||f.__changeFinalValue(p?(r||n)[p]:r||n)}c&&this._transitionState(e,l,a)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new kv,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Xe(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=jn;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,s=new Iv(i,r,n);return e&&(s.targetName=e),this.addAnimator(s,e),s},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var s=i.animators,a=Cn(s,e);a>=0&&s.splice(a,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,s=[],a=0;a<i;a++){var o=n[a];!e||e===o.scope?o.stop(r):s.push(o)}return this.animators=s,this},t.prototype.animateTo=function(e,r,n){Vf(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){Vf(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var s=Vf(this,r,n,i),a=0;a<s.length;a++)s[a].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=jn;function r(n,i,s,a){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[s]=l[0],this[a]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[s]},set:function(u){l[s]=u}}),Object.defineProperty(c,1,{get:function(){return l[a]},set:function(u){l[a]=u}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();wv(Fh,Cl);wv(Fh,kv);function Vf(t,e,r,n,i){r=r||{};var s=[];_w(t,"",t,e,r,n,s,i);var a=s.length,o=!1,l=r.done,c=r.aborted,u=function(){o=!0,a--,a<=0&&(o?l&&l():c&&c())},h=function(){a--,a<=0&&(o?l&&l():c&&c())};a||l&&l(),s.length>0&&r.during&&s[0].during(function(p,g){r.during(g)});for(var d=0;d<s.length;d++){var f=s[d];u&&f.done(u),h&&f.aborted(h),r.force&&f.duration(r.duration),f.start(r.easing)}return s}function jf(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function TO(t){return pn(t[0])}function EO(t,e,r){if(pn(e[r]))if(pn(t[r])||(t[r]=[]),Gb(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),jf(t[r],e[r],n))}else{var i=e[r],s=t[r],a=i.length;if(TO(i))for(var o=i[0].length,l=0;l<a;l++)s[l]?jf(s[l],i[l],o):s[l]=Array.prototype.slice.call(i[l]);else jf(s,i,a);s.length=i.length}else t[r]=e[r]}function bO(t,e){return t===e||pn(t)&&pn(e)&&wO(t,e)}function wO(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function _w(t,e,r,n,i,s,a,o){for(var l=tt(n),c=i.duration,u=i.delay,h=i.additive,d=i.setToFinal,f=!Zn(s),p=t.animators,g=[],v=0;v<l.length;v++){var m=l[v],y=n[m];if(y!=null&&r[m]!=null&&(f||s[m]))if(Zn(y)&&!pn(y)&&!kh(y)){if(e){o||(r[m]=y,t.updateDuringAnimation(e));continue}_w(t,m,r[m],y,i,s&&s[m],a,o)}else g.push(m);else o||(r[m]=y,t.updateDuringAnimation(e),g.push(m))}var T=g.length;if(!h&&T)for(var b=0;b<p.length;b++){var A=p[b];if(A.targetName===e){var R=A.stopTracks(g);if(R){var w=Cn(p,A);p.splice(w,1)}}}if(i.force||(g=_u(g,function(C){return!bO(n[C],r[C])}),T=g.length),T>0||i.force&&!a.length){var S=void 0,N=void 0,I=void 0;if(o){N={},d&&(S={});for(var b=0;b<T;b++){var m=g[b];N[m]=r[m],d?S[m]=n[m]:r[m]=n[m]}}else if(d){I={};for(var b=0;b<T;b++){var m=g[b];I[m]=qc(r[m]),EO(r,n,m)}}var A=new Iv(r,!1,!1,h?_u(p,function(M){return M.targetName===e}):null);A.targetName=e,i.scope&&(A.scope=i.scope),d&&S&&A.whenWithKeys(0,S,g),I&&A.whenWithKeys(0,I,g),A.whenWithKeys(c??500,o?N:n,g).delay(u||0),t.addAnimator(A,e),a.push(A)}}var Qi=function(t){Ze(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,s=i.indexOf(n);s>=0&&(i.splice(s,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=Cn(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,s=i[n];if(r&&r!==this&&r.parent!==this&&r!==s){i[n]=r,s.parent=null;var a=this.__zr;a&&s.removeSelfFromZr(a),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,s=Cn(i,r);return s<0?this:(i.splice(s,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var s=r[i];n&&s.removeSelfFromZr(n),s.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,s=0;s<i.length;s++){var a=i[s];r.call(n,a,s)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var s=this._children[i],a=r.call(n,s);s.isGroup&&!a&&s.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Rt(0,0,0,0),i=r||this._children,s=[],a=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(s);u?(Rt.applyTransform(n,c,u),a=a||n.clone(),a.union(n)):(a=a||c.clone(),a.union(c))}}return a||n},e}(Fh);Qi.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Zc={},ns={};function AO(t){delete ns[t]}function _O(t){if(!t)return!1;if(typeof t=="string")return vl(t,1)<Xp;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=vl(e[i].color,1);return r/=n,r<Xp}return!1}var SO=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var s=new CL,a=n.renderer||"canvas";Zc[a]||(a=tt(Zc)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new Zc[a](r,s,n,e),l=n.ssr||o.ssrOnly;this.storage=s,this.painter=o;var c=!ot.node&&!ot.worker&&!l?new dO(o.getViewportRoot(),o.root):null,u=n.useCoarsePointer,h=u==null||u==="auto"?ot.touchEventsSupported:!!u,d=44,f;h&&(f=ut(n.pointerSize,d)),this.handler=new tw(s,o,c,o.root,f),this.animation=new aO({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=_O(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=js();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=js();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Qi&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,AO(this.id))},t}();function xO(t,e){var r=new SO(Tv(),t,e);return ns[r.id]=r,r}function RO(t){t.dispose()}function NO(){for(var t in ns)ns.hasOwnProperty(t)&&ns[t].dispose();ns={}}function LO(t){return ns[t]}function OO(t,e){Zc[t]=e}var jp;function Sw(t){if(typeof jp=="function")return jp(t)}function CO(t){jp=t}var MO="5.6.1";const B$=Object.freeze({__proto__:null,dispose:RO,disposeAll:NO,getElementSSRData:Sw,getInstance:LO,init:xO,registerPainter:OO,registerSSRDataGetter:CO,version:MO});var Kf=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function W$(t,e,r,n,i){var s={};return xw(s,t,e,r,n,i),s.text}function xw(t,e,r,n,i,s){if(!r){t.text="",t.isTruncated=!1;return}var a=(e+"").split(`
`);s=Rw(r,n,i,s);for(var o=!1,l={},c=0,u=a.length;c<u;c++)Nw(l,a[c],s),a[c]=l.textLine,o=o||l.isTruncated;t.text=a.join(`
`),t.isTruncated=o}function Rw(t,e,r,n){n=n||{};var i=Xe({},n);i.font=e,r=ut(r,"..."),i.maxIterations=ut(n.maxIterations,2);var s=i.minChar=ut(n.minChar,0);i.cnCharWidth=Pr("",e);var a=i.ascCharWidth=Pr("a",e);i.placeholder=ut(n.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;l<s&&o>=a;l++)o-=a;var c=Pr(r,e);return c>o&&(r="",c=0),o=t-c,i.ellipsis=r,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=t,i}function Nw(t,e,r){var n=r.containerWidth,i=r.font,s=r.contentWidth;if(!n){t.textLine="",t.isTruncated=!1;return}var a=Pr(e,i);if(a<=n){t.textLine=e,t.isTruncated=!1;return}for(var o=0;;o++){if(a<=s||o>=r.maxIterations){e+=r.ellipsis;break}var l=o===0?IO(e,s,r.ascCharWidth,r.cnCharWidth):a>0?Math.floor(e.length*s/a):0;e=e.substr(0,l),a=Pr(e,i)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function IO(t,e,r,n){for(var i=0,s=0,a=t.length;s<a&&i<e;s++){var o=t.charCodeAt(s);i+=0<=o&&o<=127?r:n}return s}function kO(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,s=r==="truncate",a=Dh(i),o=ut(e.lineHeight,a),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=!1,h=e.width,d;h!=null&&(r==="break"||r==="breakAll")?d=t?Lw(t,e.font,h,r==="breakAll",0).lines:[]:d=t?t.split(`
`):[];var f=d.length*o,p=ut(e.height,f);if(f>p&&c){var g=Math.floor(p/o);u=u||d.length>g,d=d.slice(0,g)}if(t&&s&&h!=null)for(var v=Rw(h,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m={},y=0;y<d.length;y++)Nw(m,d[y],v),d[y]=m.textLine,u=u||m.isTruncated;for(var T=p,b=0,y=0;y<d.length;y++)b=Math.max(Pr(d[y],i),b);h==null&&(h=b);var A=b;return n&&(T+=n[0]+n[2],A+=n[1]+n[3],h+=n[1]+n[3]),l&&(A=h),{lines:d,height:p,outerWidth:A,outerHeight:T,lineHeight:o,calculatedLineHeight:a,contentWidth:b,contentHeight:f,width:h,isTruncated:u}}var PO=function(){function t(){}return t}(),ty=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),DO=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function FO(t,e){var r=new DO;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,s=e.overflow,a=(s==="break"||s==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:s==="breakAll"}:null,o=Kf.lastIndex=0,l;(l=Kf.exec(t))!=null;){var c=l.index;c>o&&Zf(r,t.substring(o,c),e,a),Zf(r,l[2],e,a,l[1]),o=Kf.lastIndex}o<t.length&&Zf(r,t.substring(o,t.length),e,a);var u=[],h=0,d=0,f=e.padding,p=s==="truncate",g=e.lineOverflow==="truncate",v={};function m(P,U,z){P.width=U,P.lineHeight=z,h+=z,d=Math.max(d,U)}e:for(var y=0;y<r.lines.length;y++){for(var T=r.lines[y],b=0,A=0,R=0;R<T.tokens.length;R++){var w=T.tokens[R],S=w.styleName&&e.rich[w.styleName]||{},N=w.textPadding=S.padding,I=N?N[1]+N[3]:0,C=w.font=S.font||e.font;w.contentHeight=Dh(C);var M=ut(S.height,w.contentHeight);if(w.innerHeight=M,N&&(M+=N[0]+N[2]),w.height=M,w.lineHeight=el(S.lineHeight,e.lineHeight,M),w.align=S&&S.align||e.align,w.verticalAlign=S&&S.verticalAlign||"middle",g&&i!=null&&h+w.lineHeight>i){var k=r.lines.length;R>0?(T.tokens=T.tokens.slice(0,R),m(T,A,b),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y),r.isTruncated=r.isTruncated||r.lines.length<k;break e}var E=S.width,O=E==null||E==="auto";if(typeof E=="string"&&E.charAt(E.length-1)==="%")w.percentWidth=E,u.push(w),w.contentWidth=Pr(w.text,C);else{if(O){var _=S.backgroundColor,x=_&&_.image;x&&(x=WS(x),YS(x)&&(w.width=Math.max(w.width,x.width*M/x.height)))}var L=p&&n!=null?n-A:null;L!=null&&L<w.width?!O||L<I?(w.text="",w.width=w.contentWidth=0):(xw(v,w.text,L-I,C,e.ellipsis,{minChar:e.truncateMinChar}),w.text=v.text,r.isTruncated=r.isTruncated||v.isTruncated,w.width=w.contentWidth=Pr(w.text,C)):w.contentWidth=Pr(w.text,C)}w.width+=I,A+=w.width,S&&(b=Math.max(b,w.lineHeight))}m(T,A,b)}r.outerWidth=r.width=ut(n,d),r.outerHeight=r.height=ut(i,h),r.contentHeight=h,r.contentWidth=d,f&&(r.outerWidth+=f[1]+f[3],r.outerHeight+=f[0]+f[2]);for(var y=0;y<u.length;y++){var w=u[y],D=w.percentWidth;w.width=parseInt(D,10)/100*r.width}return r}function Zf(t,e,r,n,i){var s=e==="",a=i&&r.rich[i]||{},o=t.lines,l=a.font||r.font,c=!1,u,h;if(n){var d=a.padding,f=d?d[1]+d[3]:0;if(a.width!=null&&a.width!=="auto"){var p=Tl(a.width,n.width)+f;o.length>0&&p+n.accumWidth>n.width&&(u=e.split(`
`),c=!0),n.accumWidth=p}else{var g=Lw(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+f,h=g.linesWidths,u=g.lines}}else u=e.split(`
`);for(var v=0;v<u.length;v++){var m=u[v],y=new PO;if(y.styleName=i,y.text=m,y.isLineHolder=!m&&!s,typeof a.width=="number"?y.width=a.width:y.width=h?h[v]:Pr(m,l),!v&&!c){var T=(o[o.length-1]||(o[0]=new ty)).tokens,b=T.length;b===1&&T[0].isLineHolder?T[0]=y:(m||!b||s)&&T.push(y)}else o.push(new ty([y]))}}function UO(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var GO=Ll(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function $O(t){return UO(t)?!!GO[t]:!0}function Lw(t,e,r,n,i){for(var s=[],a=[],o="",l="",c=0,u=0,h=0;h<t.length;h++){var d=t.charAt(h);if(d===`
`){l&&(o+=l,u+=c),s.push(o),a.push(u),o="",l="",c=0,u=0;continue}var f=Pr(d,e),p=n?!1:!$O(d);if(s.length?u+f>r:i+u+f>r){u?(o||l)&&(p?(o||(o=l,l="",c=0,u=c),s.push(o),a.push(u-c),l+=d,c+=f,o="",u=c):(l&&(o+=l,l="",c=0),s.push(o),a.push(u),o=d,u=f)):p?(s.push(l),a.push(c),l=d,c=f):(s.push(d),a.push(f));continue}u+=f,p?(l+=d,c+=f):(l&&(o+=l,l="",c=0),o+=d)}return!s.length&&!o&&(o=t,l="",c=0),l&&(o+=l),o&&(s.push(o),a.push(u)),s.length===1&&(u+=i),{accumWidth:u,lines:s,linesWidths:a}}var Kp="__zr_style_"+Math.round(Math.random()*10),Uh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Gh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Uh[Kp]=!0;var ry=["z","z2","invisible"],HO=["invisible"],Ml=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=tt(r),i=0;i<n.length;i++){var s=n[i];s==="style"?this.useStyle(r[s]):t.prototype.attrKV.call(this,s,r[s])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,s){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&zO(this,r,n)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(s&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();return s.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),s=this.style,a=s.shadowBlur||0,o=s.shadowOffsetX||0,l=s.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Rt(0,0,0,0)),n?Rt.applyTransform(r,i,n):r.copy(i),(a||o||l)&&(r.width+=a*2+Math.abs(o),r.height+=a*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-a),r.y=Math.min(r.y,r.y+l-a));var c=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-c),r.y=Math.floor(r.y-c),r.width=Math.ceil(r.width+1+c*2),r.height=Math.ceil(r.height+1+c*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Rt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Xe(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=ho,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&ho)},e.prototype.styleUpdated=function(){this.__dirty&=~ho},e.prototype.createStyle=function(r){return Ol(Uh,r)},e.prototype.useStyle=function(r){r[Kp]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[Kp]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,ry)},e.prototype._applyStateObj=function(r,n,i,s,a,o){t.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.style?a?s?c=n.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),s?this.style:i.style),this._mergeStyle(c,n.style)):l&&(c=i.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=tt(u),d=0;d<h.length;d++){var f=h[d];f in c&&(c[f]=c[f],this.style[f]=u[f])}for(var p=tt(c),d=0;d<p.length;d++){var f=p[d];this.style[f]=this.style[f]}this._transitionState(r,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var g=this.__inHover?HO:ry,d=0;d<g.length;d++){var f=g[d];n&&n[f]!=null?this[f]=n[f]:l&&i[f]!=null&&(this[f]=i[f])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return Xe(r,n),r},e.prototype.getAnimationStyleProps=function(){return Gh},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=jn|ho}(),e}(Fh),Qf=new Rt(0,0,0,0),Jf=new Rt(0,0,0,0);function zO(t,e,r){return Qf.copy(t.getBoundingRect()),t.transform&&Qf.applyTransform(t.transform),Jf.width=e,Jf.height=r,!Qf.intersect(Jf)}var vr=Math.min,mr=Math.max,ed=Math.sin,td=Math.cos,Fi=Math.PI*2,cc=Ss(),uc=Ss(),hc=Ss();function Ow(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],s=n[0],a=n[1],o=n[1],l=1;l<t.length;l++)n=t[l],i=vr(i,n[0]),s=mr(s,n[0]),a=vr(a,n[1]),o=mr(o,n[1]);e[0]=i,e[1]=a,r[0]=s,r[1]=o}}function ny(t,e,r,n,i,s){i[0]=vr(t,r),i[1]=vr(e,n),s[0]=mr(t,r),s[1]=mr(e,n)}var iy=[],sy=[];function BO(t,e,r,n,i,s,a,o,l,c){var u=ow,h=Gt,d=u(t,r,i,a,iy);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var f=0;f<d;f++){var p=h(t,r,i,a,iy[f]);l[0]=vr(p,l[0]),c[0]=mr(p,c[0])}d=u(e,n,s,o,sy);for(var f=0;f<d;f++){var g=h(e,n,s,o,sy[f]);l[1]=vr(g,l[1]),c[1]=mr(g,c[1])}l[0]=vr(t,l[0]),c[0]=mr(t,c[0]),l[0]=vr(a,l[0]),c[0]=mr(a,c[0]),l[1]=vr(e,l[1]),c[1]=mr(e,c[1]),l[1]=vr(o,l[1]),c[1]=mr(o,c[1])}function WO(t,e,r,n,i,s,a,o){var l=lw,c=Jt,u=mr(vr(l(t,r,i),1),0),h=mr(vr(l(e,n,s),1),0),d=c(t,r,i,u),f=c(e,n,s,h);a[0]=vr(t,i,d),a[1]=vr(e,s,f),o[0]=mr(t,i,d),o[1]=mr(e,s,f)}function YO(t,e,r,n,i,s,a,o,l){var c=ts,u=rs,h=Math.abs(i-s);if(h%Fi<1e-4&&h>1e-4){o[0]=t-r,o[1]=e-n,l[0]=t+r,l[1]=e+n;return}if(cc[0]=td(i)*r+t,cc[1]=ed(i)*n+e,uc[0]=td(s)*r+t,uc[1]=ed(s)*n+e,c(o,cc,uc),u(l,cc,uc),i=i%Fi,i<0&&(i=i+Fi),s=s%Fi,s<0&&(s=s+Fi),i>s&&!a?s+=Fi:i<s&&a&&(i+=Fi),a){var d=s;s=i,i=d}for(var f=0;f<s;f+=Math.PI/2)f>i&&(hc[0]=td(f)*r+t,hc[1]=ed(f)*n+e,c(o,hc,o),u(l,hc,l))}var $e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ui=[],Gi=[],En=[],oi=[],bn=[],wn=[],rd=Math.min,nd=Math.max,$i=Math.cos,Hi=Math.sin,Gn=Math.abs,Zp=Math.PI,ui=Zp*2,id=typeof Float32Array<"u",za=[];function sd(t){var e=Math.round(t/Zp*1e8)/1e8;return e%2*Zp}function XO(t,e){var r=sd(t[0]);r<0&&(r+=ui);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=ui?i=r+ui:e&&r-i>=ui?i=r-ui:!e&&r>i?i=r+(ui-sd(r-i)):e&&r<i&&(i=r-(ui-sd(i-r))),t[0]=r,t[1]=i}var gs=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=Gn(n/K0/e)||0,this._uy=Gn(n/K0/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData($e.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=Gn(e-this._xi),i=Gn(r-this._yi),s=n>this._ux||i>this._uy;if(this.addData($e.L,e,r),this._ctx&&s&&this._ctx.lineTo(e,r),s)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var a=n*n+i*i;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=a)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,s,a){return this._drawPendingPt(),this.addData($e.C,e,r,n,i,s,a),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,s,a),this._xi=s,this._yi=a,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData($e.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,s,a){this._drawPendingPt(),za[0]=i,za[1]=s,XO(za,a),i=za[0],s=za[1];var o=s-i;return this.addData($e.A,e,r,n,n,i,o,0,a?0:1),this._ctx&&this._ctx.arc(e,r,n,i,s,a),this._xi=$i(s)*n+e,this._yi=Hi(s)*n+r,this},t.prototype.arcTo=function(e,r,n,i,s){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,s),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData($e.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData($e.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&id&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,s=0;s<r;s++)n+=e[s].len();id&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var s=0;s<r;s++)for(var a=e[s].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},t.prototype.addData=function(e,r,n,i,s,a,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,id&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){En[0]=En[1]=bn[0]=bn[1]=Number.MAX_VALUE,oi[0]=oi[1]=wn[0]=wn[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,s=0,a;for(a=0;a<this._len;){var o=e[a++],l=a===1;switch(l&&(r=e[a],n=e[a+1],i=r,s=n),o){case $e.M:r=i=e[a++],n=s=e[a++],bn[0]=i,bn[1]=s,wn[0]=i,wn[1]=s;break;case $e.L:ny(r,n,e[a],e[a+1],bn,wn),r=e[a++],n=e[a++];break;case $e.C:BO(r,n,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],bn,wn),r=e[a++],n=e[a++];break;case $e.Q:WO(r,n,e[a++],e[a++],e[a],e[a+1],bn,wn),r=e[a++],n=e[a++];break;case $e.A:var c=e[a++],u=e[a++],h=e[a++],d=e[a++],f=e[a++],p=e[a++]+f;a+=1;var g=!e[a++];l&&(i=$i(f)*h+c,s=Hi(f)*d+u),YO(c,u,h,d,f,p,g,bn,wn),r=$i(p)*h+c,n=Hi(p)*d+u;break;case $e.R:i=r=e[a++],s=n=e[a++];var v=e[a++],m=e[a++];ny(i,s,i+v,s+m,bn,wn);break;case $e.Z:r=i,n=s;break}ts(En,En,bn),rs(oi,oi,wn)}return a===0&&(En[0]=En[1]=oi[0]=oi[1]=0),new Rt(En[0],En[1],oi[0]-En[0],oi[1]-En[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,s=0,a=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,h=0,d=0;d<r;){var f=e[d++],p=d===1;p&&(s=e[d],a=e[d+1],o=s,l=a);var g=-1;switch(f){case $e.M:s=o=e[d++],a=l=e[d++];break;case $e.L:{var v=e[d++],m=e[d++],y=v-s,T=m-a;(Gn(y)>n||Gn(T)>i||d===r-1)&&(g=Math.sqrt(y*y+T*T),s=v,a=m);break}case $e.C:{var b=e[d++],A=e[d++],v=e[d++],m=e[d++],R=e[d++],w=e[d++];g=IL(s,a,b,A,v,m,R,w,10),s=R,a=w;break}case $e.Q:{var b=e[d++],A=e[d++],v=e[d++],m=e[d++];g=DL(s,a,b,A,v,m,10),s=v,a=m;break}case $e.A:var S=e[d++],N=e[d++],I=e[d++],C=e[d++],M=e[d++],k=e[d++],E=k+M;d+=1,p&&(o=$i(M)*I+S,l=Hi(M)*C+N),g=nd(I,C)*rd(ui,Math.abs(k)),s=$i(E)*I+S,a=Hi(E)*C+N;break;case $e.R:{o=s=e[d++],l=a=e[d++];var O=e[d++],_=e[d++];g=O*2+_*2;break}case $e.Z:{var y=o-s,T=l-a;g=Math.sqrt(y*y+T*T),s=o,a=l;break}}g>=0&&(c[h++]=g,u+=g)}return this._pathLen=u,u},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,s=this._uy,a=this._len,o,l,c,u,h,d,f=r<1,p,g,v=0,m=0,y,T=0,b,A;if(!(f&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,y=r*g,!y)))e:for(var R=0;R<a;){var w=n[R++],S=R===1;switch(S&&(c=n[R],u=n[R+1],o=c,l=u),w!==$e.L&&T>0&&(e.lineTo(b,A),T=0),w){case $e.M:o=c=n[R++],l=u=n[R++],e.moveTo(c,u);break;case $e.L:{h=n[R++],d=n[R++];var N=Gn(h-c),I=Gn(d-u);if(N>i||I>s){if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;e.lineTo(c*(1-M)+h*M,u*(1-M)+d*M);break e}v+=C}e.lineTo(h,d),c=h,u=d,T=0}else{var k=N*N+I*I;k>T&&(b=h,A=d,T=k)}break}case $e.C:{var E=n[R++],O=n[R++],_=n[R++],x=n[R++],L=n[R++],D=n[R++];if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;bi(c,E,_,L,M,Ui),bi(u,O,x,D,M,Gi),e.bezierCurveTo(Ui[1],Gi[1],Ui[2],Gi[2],Ui[3],Gi[3]);break e}v+=C}e.bezierCurveTo(E,O,_,x,L,D),c=L,u=D;break}case $e.Q:{var E=n[R++],O=n[R++],_=n[R++],x=n[R++];if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;Lu(c,E,_,M,Ui),Lu(u,O,x,M,Gi),e.quadraticCurveTo(Ui[1],Gi[1],Ui[2],Gi[2]);break e}v+=C}e.quadraticCurveTo(E,O,_,x),c=_,u=x;break}case $e.A:var P=n[R++],U=n[R++],z=n[R++],H=n[R++],V=n[R++],W=n[R++],q=n[R++],ee=!n[R++],Z=z>H?z:H,$=Gn(z-H)>.001,Y=V+W,X=!1;if(f){var C=p[m++];v+C>y&&(Y=V+W*(y-v)/C,X=!0),v+=C}if($&&e.ellipse?e.ellipse(P,U,z,H,q,V,Y,ee):e.arc(P,U,Z,V,Y,ee),X)break e;S&&(o=$i(V)*z+P,l=Hi(V)*H+U),c=$i(Y)*z+P,u=Hi(Y)*H+U;break;case $e.R:o=c=n[R],l=u=n[R+1],h=n[R++],d=n[R++];var j=n[R++],ne=n[R++];if(f){var C=p[m++];if(v+C>y){var K=y-v;e.moveTo(h,d),e.lineTo(h+rd(K,j),d),K-=j,K>0&&e.lineTo(h+j,d+rd(K,ne)),K-=ne,K>0&&e.lineTo(h+nd(j-K,0),d+ne),K-=j,K>0&&e.lineTo(h,d+nd(ne-K,0));break e}v+=C}e.rect(h,d,j,ne);break;case $e.Z:if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;e.lineTo(c*(1-M)+o*M,u*(1-M)+l*M);break e}v+=C}e.closePath(),c=o,u=l}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=$e,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function Us(t,e,r,n,i,s,a){if(i===0)return!1;var o=i,l=0,c=t;if(a>e+o&&a>n+o||a<e-o&&a<n-o||s>t+o&&s>r+o||s<t-o&&s<r-o)return!1;if(t!==r)l=(e-n)/(t-r),c=(t*n-r*e)/(t-r);else return Math.abs(s-t)<=o/2;var u=l*s-a+c,h=u*u/(l*l+1);return h<=o/2*o/2}function qO(t,e,r,n,i,s,a,o,l,c,u){if(l===0)return!1;var h=l;if(u>e+h&&u>n+h&&u>s+h&&u>o+h||u<e-h&&u<n-h&&u<s-h&&u<o-h||c>t+h&&c>r+h&&c>i+h&&c>a+h||c<t-h&&c<r-h&&c<i-h&&c<a-h)return!1;var d=ML(t,e,r,n,i,s,a,o,c,u,null);return d<=h/2}function VO(t,e,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;if(l>e+c&&l>n+c&&l>s+c||l<e-c&&l<n-c&&l<s-c||o>t+c&&o>r+c&&o>i+c||o<t-c&&o<r-c&&o<i-c)return!1;var u=PL(t,e,r,n,i,s,o,l,null);return u<=c/2}var ay=Math.PI*2;function fc(t){return t%=ay,t<0&&(t+=ay),t}var Ba=Math.PI*2;function jO(t,e,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;o-=t,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>r||u+c<r)return!1;if(Math.abs(n-i)%Ba<1e-4)return!0;if(s){var h=n;n=fc(i),i=fc(h)}else n=fc(n),i=fc(i);n>i&&(i+=Ba);var d=Math.atan2(l,o);return d<0&&(d+=Ba),d>=n&&d<=i||d+Ba>=n&&d+Ba<=i}function Xn(t,e,r,n,i,s){if(s>e&&s>n||s<e&&s<n||n===e)return 0;var a=(s-e)/(n-e),o=n<e?1:-1;(a===1||a===0)&&(o=n<e?.5:-.5);var l=a*(r-t)+t;return l===i?1/0:l>i?o:0}var li=gs.CMD,zi=Math.PI*2,KO=1e-4;function ZO(t,e){return Math.abs(t-e)<KO}var sr=[-1,-1,-1],Vr=[-1,-1];function QO(){var t=Vr[0];Vr[0]=Vr[1],Vr[1]=t}function JO(t,e,r,n,i,s,a,o,l,c){if(c>e&&c>n&&c>s&&c>o||c<e&&c<n&&c<s&&c<o)return 0;var u=aw(e,n,s,o,c,sr);if(u===0)return 0;for(var h=0,d=-1,f=void 0,p=void 0,g=0;g<u;g++){var v=sr[g],m=v===0||v===1?.5:1,y=Gt(t,r,i,a,v);y<l||(d<0&&(d=ow(e,n,s,o,Vr),Vr[1]<Vr[0]&&d>1&&QO(),f=Gt(e,n,s,o,Vr[0]),d>1&&(p=Gt(e,n,s,o,Vr[1]))),d===2?v<Vr[0]?h+=f<e?m:-m:v<Vr[1]?h+=p<f?m:-m:h+=o<p?m:-m:v<Vr[0]?h+=f<e?m:-m:h+=o<f?m:-m)}return h}function eC(t,e,r,n,i,s,a,o){if(o>e&&o>n&&o>s||o<e&&o<n&&o<s)return 0;var l=kL(e,n,s,o,sr);if(l===0)return 0;var c=lw(e,n,s);if(c>=0&&c<=1){for(var u=0,h=Jt(e,n,s,c),d=0;d<l;d++){var f=sr[d]===0||sr[d]===1?.5:1,p=Jt(t,r,i,sr[d]);p<a||(sr[d]<c?u+=h<e?f:-f:u+=s<h?f:-f)}return u}else{var f=sr[0]===0||sr[0]===1?.5:1,p=Jt(t,r,i,sr[0]);return p<a?0:s<e?f:-f}}function tC(t,e,r,n,i,s,a,o){if(o-=e,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);sr[0]=-l,sr[1]=l;var c=Math.abs(n-i);if(c<1e-4)return 0;if(c>=zi-1e-4){n=0,i=zi;var u=s?1:-1;return a>=sr[0]+t&&a<=sr[1]+t?u:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=zi,i+=zi);for(var d=0,f=0;f<2;f++){var p=sr[f];if(p+t>a){var g=Math.atan2(o,p),u=s?1:-1;g<0&&(g=zi+g),(g>=n&&g<=i||g+zi>=n&&g+zi<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(u=-u),d+=u)}}return d}function Cw(t,e,r,n,i){for(var s=t.data,a=t.len(),o=0,l=0,c=0,u=0,h=0,d,f,p=0;p<a;){var g=s[p++],v=p===1;switch(g===li.M&&p>1&&(r||(o+=Xn(l,c,u,h,n,i))),v&&(l=s[p],c=s[p+1],u=l,h=c),g){case li.M:u=s[p++],h=s[p++],l=u,c=h;break;case li.L:if(r){if(Us(l,c,s[p],s[p+1],e,n,i))return!0}else o+=Xn(l,c,s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.C:if(r){if(qO(l,c,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],e,n,i))return!0}else o+=JO(l,c,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.Q:if(r){if(VO(l,c,s[p++],s[p++],s[p],s[p+1],e,n,i))return!0}else o+=eC(l,c,s[p++],s[p++],s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.A:var m=s[p++],y=s[p++],T=s[p++],b=s[p++],A=s[p++],R=s[p++];p+=1;var w=!!(1-s[p++]);d=Math.cos(A)*T+m,f=Math.sin(A)*b+y,v?(u=d,h=f):o+=Xn(l,c,d,f,n,i);var S=(n-m)*b/T+m;if(r){if(jO(m,y,b,A,A+R,w,e,S,i))return!0}else o+=tC(m,y,b,A,A+R,w,S,i);l=Math.cos(A+R)*T+m,c=Math.sin(A+R)*b+y;break;case li.R:u=l=s[p++],h=c=s[p++];var N=s[p++],I=s[p++];if(d=u+N,f=h+I,r){if(Us(u,h,d,h,e,n,i)||Us(d,h,d,f,e,n,i)||Us(d,f,u,f,e,n,i)||Us(u,f,u,h,e,n,i))return!0}else o+=Xn(d,h,d,f,n,i),o+=Xn(u,f,u,h,n,i);break;case li.Z:if(r){if(Us(l,c,u,h,e,n,i))return!0}else o+=Xn(l,c,u,h,n,i);l=u,c=h;break}}return!r&&!ZO(c,h)&&(o+=Xn(l,c,u,h,n,i)||0),o!==0}function rC(t,e,r){return Cw(t,0,!1,e,r)}function nC(t,e,r,n){return Cw(t,e,!0,r,n)}var Cu=$r({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Uh),iC={style:$r({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Gh.style)},ad=yl.concat(["invisible","culling","z","z2","zlevel","parent"]),Pt=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var s=i.style;for(var a in n)s[a]!==n[a]&&(s[a]=n[a]);s.fill=n.fill?n.decal:null,s.decal=null,s.shadowColor=null,n.strokeFirst&&(s.stroke=null);for(var o=0;o<ad.length;++o)i[ad[o]]=this[ad[o]];i.__dirty|=jn}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=tt(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var s=0;s<n.length;s++){var a=n[s],o=r[a];a==="style"?this.style?Xe(this.style,o):this.useStyle(o):a==="shape"?Xe(this.shape,o):t.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(gn(r)){var n=vl(r,0);return n>.5?qp:n>.2?pO:Vp}else if(r)return Vp}return qp},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(gn(n)){var i=this.__zr,s=!!(i&&i.isDarkMode()),a=vl(r,0)<Xp;if(s===a)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~$a},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new gs(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var s=!1;this.path||(s=!0,this.createPathProxy());var a=this.path;(s||this.__dirty&$a)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),r=a.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect(),a=this.style;if(r=i[0],n=i[1],s.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),nC(o,l/c,r,n)))return!0}if(this.hasFill())return rC(o,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=$a,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Xe(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&$a)},e.prototype.createStyle=function(r){return Ol(Cu,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Xe({},this.shape))},e.prototype._applyStateObj=function(r,n,i,s,a,o){t.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.shape?a?s?c=n.shape:(c=Xe({},i.shape),Xe(c,n.shape)):(c=Xe({},s?this.shape:i.shape),Xe(c,n.shape)):l&&(c=i.shape),c)if(a){this.shape=Xe({},this.shape);for(var u={},h=tt(c),d=0;d<h.length;d++){var f=h[d];typeof c[f]=="object"?this.shape[f]=c[f]:u[f]=c[f]}this._transitionState(r,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return iC},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(s){Ze(a,s);function a(o){var l=s.call(this,o)||this;return r.init&&r.init.call(l,o),l}return a.prototype.getDefaultStyle=function(){return Ei(r.style)},a.prototype.getDefaultShape=function(){return Ei(r.shape)},a}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=jn|ho|$a}(),e}(Ml),sC=$r({strokeFirst:!0,font:ps,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Cu),El=function(t){Ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return Ol(sC,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=gO(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var s=r.lineWidth;i.x-=s/2,i.y-=s/2,i.width+=s,i.height+=s}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(Ml);El.prototype.type="tspan";var aC=$r({x:0,y:0},Uh),oC={style:$r({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Gh.style)};function lC(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var Il=function(t){Ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return Ol(aC,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var s=lC(n.image)?n.image:this.__image;if(!s)return 0;var a=r==="width"?"height":"width",o=n[a];return o==null?s[r]:s[r]/s[a]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return oC},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Rt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Ml);Il.prototype.type="image";function cC(t,e){var r=e.x,n=e.y,i=e.width,s=e.height,a=e.r,o,l,c,u;i<0&&(r=r+i,i=-i),s<0&&(n=n+s,s=-s),typeof a=="number"?o=l=c=u=a:a instanceof Array?a.length===1?o=l=c=u=a[0]:a.length===2?(o=c=a[0],l=u=a[1]):a.length===3?(o=a[0],l=u=a[1],c=a[2]):(o=a[0],l=a[1],c=a[2],u=a[3]):o=l=c=u=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),c+u>i&&(h=c+u,c*=i/h,u*=i/h),l+c>s&&(h=l+c,l*=s/h,c*=s/h),o+u>s&&(h=o+u,o*=s/h,u*=s/h),t.moveTo(r+o,n),t.lineTo(r+i-l,n),l!==0&&t.arc(r+i-l,n+l,l,-Math.PI/2,0),t.lineTo(r+i,n+s-c),c!==0&&t.arc(r+i-c,n+s-c,c,0,Math.PI/2),t.lineTo(r+u,n+s),u!==0&&t.arc(r+u,n+s-u,u,Math.PI/2,Math.PI),t.lineTo(r,n+o),o!==0&&t.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var Ks=Math.round;function uC(t,e,r){if(e){var n=e.x1,i=e.x2,s=e.y1,a=e.y2;t.x1=n,t.x2=i,t.y1=s,t.y2=a;var o=r&&r.lineWidth;return o&&(Ks(n*2)===Ks(i*2)&&(t.x1=t.x2=Zs(n,o,!0)),Ks(s*2)===Ks(a*2)&&(t.y1=t.y2=Zs(s,o,!0))),t}}function hC(t,e,r){if(e){var n=e.x,i=e.y,s=e.width,a=e.height;t.x=n,t.y=i,t.width=s,t.height=a;var o=r&&r.lineWidth;return o&&(t.x=Zs(n,o,!0),t.y=Zs(i,o,!0),t.width=Math.max(Zs(n+s,o,!1)-t.x,s===0?0:1),t.height=Math.max(Zs(i+a,o,!1)-t.y,a===0?0:1)),t}}function Zs(t,e,r){if(!e)return t;var n=Ks(t*2);return(n+Ks(e))%2===0?n/2:(n+(r?1:-1))/2}var fC=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),dC={},bl=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new fC},e.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=hC(dC,n,this.style);i=l.x,s=l.y,a=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,s=n.y,a=n.width,o=n.height;n.r?cC(r,n):r.rect(i,s,a,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Pt);bl.prototype.type="rect";var oy={fill:"#000"},ly=2,pC={style:$r({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Gh.style)},gC=function(t){Ze(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=oy,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,yC(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Rt(0,0,0,0),n=this._children,i=[],s=null,a=0;a<n.length;a++){var o=n[a],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(r.copy(l),r.applyTransform(c),s=s||r.clone(),s.union(r)):(s=s||l.clone(),s.union(l))}this._rect=s||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||oy},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,s=r.rich||i&&{};return Xe(r,n),i&&s?(this._mergeRich(s,i),r.rich=s):s&&(r.rich=s),r},e.prototype._mergeRich=function(r,n){for(var i=tt(n),s=0;s<i.length;s++){var a=i[s];r[a]=r[a]||{},Xe(r[a],n[a])}},e.prototype.getAnimationStyleProps=function(){return pC},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||ps,i=r.padding,s=gy(r),a=kO(s,r),o=od(r),l=!!r.backgroundColor,c=a.outerHeight,u=a.outerWidth,h=a.contentWidth,d=a.lines,f=a.lineHeight,p=this._defaultStyle;this.isTruncated=!!a.isTruncated;var g=r.x||0,v=r.y||0,m=r.align||p.align||"left",y=r.verticalAlign||p.verticalAlign||"top",T=g,b=Ws(v,a.contentHeight,y);if(o||i){var A=po(g,u,m),R=Ws(v,c,y);o&&this._renderBackground(r,r,A,R,u,c)}b+=f/2,i&&(T=py(g,m,i),y==="top"?b+=i[0]:y==="bottom"&&(b-=i[2]));for(var w=0,S=!1,N=dy("fill"in r?r.fill:(S=!0,p.fill)),I=fy("stroke"in r?r.stroke:!l&&(!p.autoStroke||S)?(w=ly,p.stroke):null),C=r.textShadowBlur>0,M=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),k=a.calculatedLineHeight,E=0;E<d.length;E++){var O=this._getOrCreateChild(El),_=O.createStyle();O.useStyle(_),_.text=d[E],_.x=T,_.y=b,_.textAlign=m,_.textBaseline="middle",_.opacity=r.opacity,_.strokeFirst=!0,C&&(_.shadowBlur=r.textShadowBlur||0,_.shadowColor=r.textShadowColor||"transparent",_.shadowOffsetX=r.textShadowOffsetX||0,_.shadowOffsetY=r.textShadowOffsetY||0),_.stroke=I,_.fill=N,I&&(_.lineWidth=r.lineWidth||w,_.lineDash=r.lineDash,_.lineDashOffset=r.lineDashOffset||0),_.font=n,uy(_,r),b+=f,M&&O.setBoundingRect(new Rt(po(_.x,h,_.textAlign),Ws(_.y,k,_.textBaseline),h,k))}},e.prototype._updateRichTexts=function(){var r=this.style,n=gy(r),i=FO(n,r),s=i.width,a=i.outerWidth,o=i.outerHeight,l=r.padding,c=r.x||0,u=r.y||0,h=this._defaultStyle,d=r.align||h.align,f=r.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var p=po(c,a,d),g=Ws(u,o,f),v=p,m=g;l&&(v+=l[3],m+=l[0]);var y=v+s;od(r)&&this._renderBackground(r,r,p,g,a,o);for(var T=!!r.backgroundColor,b=0;b<i.lines.length;b++){for(var A=i.lines[b],R=A.tokens,w=R.length,S=A.lineHeight,N=A.width,I=0,C=v,M=y,k=w-1,E=void 0;I<w&&(E=R[I],!E.align||E.align==="left");)this._placeToken(E,r,S,m,C,"left",T),N-=E.width,C+=E.width,I++;for(;k>=0&&(E=R[k],E.align==="right");)this._placeToken(E,r,S,m,M,"right",T),N-=E.width,M-=E.width,k--;for(C+=(s-(C-v)-(y-M)-N)/2;I<=k;)E=R[I],this._placeToken(E,r,S,m,C+E.width/2,"center",T),C+=E.width,I++;m+=S}},e.prototype._placeToken=function(r,n,i,s,a,o,l){var c=n.rich[r.styleName]||{};c.text=r.text;var u=r.verticalAlign,h=s+i/2;u==="top"?h=s+r.height/2:u==="bottom"&&(h=s+i-r.height/2);var d=!r.isLineHolder&&od(c);d&&this._renderBackground(c,n,o==="right"?a-r.width:o==="center"?a-r.width/2:a,h-r.height/2,r.width,r.height);var f=!!c.backgroundColor,p=r.textPadding;p&&(a=py(a,o,p),h-=r.height/2-p[0]-r.innerHeight/2);var g=this._getOrCreateChild(El),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,T=0,b=dy("fill"in c?c.fill:"fill"in n?n.fill:(y=!0,m.fill)),A=fy("stroke"in c?c.stroke:"stroke"in n?n.stroke:!f&&!l&&(!m.autoStroke||y)?(T=ly,m.stroke):null),R=c.textShadowBlur>0||n.textShadowBlur>0;v.text=r.text,v.x=a,v.y=h,R&&(v.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,v.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=r.font||ps,v.opacity=el(c.opacity,n.opacity,1),uy(v,c),A&&(v.lineWidth=el(c.lineWidth,n.lineWidth,T),v.lineDash=ut(c.lineDash,n.lineDash),v.lineDashOffset=n.lineDashOffset||0,v.stroke=A),b&&(v.fill=b);var w=r.contentWidth,S=r.contentHeight;g.setBoundingRect(new Rt(po(v.x,w,v.textAlign),Ws(v.y,S,v.textBaseline),w,S))},e.prototype._renderBackground=function(r,n,i,s,a,o){var l=r.backgroundColor,c=r.borderWidth,u=r.borderColor,h=l&&l.image,d=l&&!h,f=r.borderRadius,p=this,g,v;if(d||r.lineHeight||c&&u){g=this._getOrCreateChild(bl),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=i,m.y=s,m.width=a,m.height=o,m.r=f,g.dirtyShape()}if(d){var y=g.style;y.fill=l||null,y.fillOpacity=ut(r.fillOpacity,1)}else if(h){v=this._getOrCreateChild(Il),v.onload=function(){p.dirtyStyle()};var T=v.style;T.image=l.image,T.x=i,T.y=s,T.width=a,T.height=o}if(c&&u){var y=g.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=ut(r.strokeOpacity,1),y.lineDash=r.borderDash,y.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var b=(g||v).style;b.shadowBlur=r.shadowBlur||0,b.shadowColor=r.shadowColor||"transparent",b.shadowOffsetX=r.shadowOffsetX||0,b.shadowOffsetY=r.shadowOffsetY||0,b.opacity=el(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return Iw(r)&&(n=[r.fontStyle,r.fontWeight,Mw(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&es(n)||r.textFont||r.font},e}(Ml),vC={left:!0,right:1,center:1},mC={top:1,bottom:1,middle:1},cy=["fontStyle","fontWeight","fontSize","fontFamily"];function Mw(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?vv+"px":t+"px"}function uy(t,e){for(var r=0;r<cy.length;r++){var n=cy[r],i=e[n];i!=null&&(t[n]=i)}}function Iw(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function yC(t){return hy(t),yr(t.rich,hy),t}function hy(t){if(t){t.font=gC.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||vC[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||mC[r]?r:"top";var n=t.padding;n&&(t.padding=Hb(t.padding))}}function fy(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function dy(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function py(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function gy(t){var e=t.text;return e!=null&&(e+=""),e}function od(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Gs=gs.CMD,TC=[[],[],[]],vy=Math.sqrt,EC=Math.atan2;function kw(t,e){if(e){var r=t.data,n=t.len(),i,s,a,o,l,c,u=Gs.M,h=Gs.C,d=Gs.L,f=Gs.R,p=Gs.A,g=Gs.Q;for(a=0,o=0;a<n;){switch(i=r[a++],o=a,s=0,i){case u:s=1;break;case d:s=1;break;case h:s=3;break;case g:s=2;break;case p:var v=e[4],m=e[5],y=vy(e[0]*e[0]+e[1]*e[1]),T=vy(e[2]*e[2]+e[3]*e[3]),b=EC(-e[1]/T,e[0]/y);r[a]*=y,r[a++]+=v,r[a]*=T,r[a++]+=m,r[a++]*=y,r[a++]*=T,r[a++]+=b,r[a++]+=b,a+=2,o=a;break;case f:c[0]=r[a++],c[1]=r[a++],ra(c,c,e),r[o++]=c[0],r[o++]=c[1],c[0]+=r[a++],c[1]+=r[a++],ra(c,c,e),r[o++]=c[0],r[o++]=c[1]}for(l=0;l<s;l++){var A=TC[l];A[0]=r[a++],A[1]=r[a++],ra(A,A,e),r[o++]=A[0],r[o++]=A[1]}}t.increaseVersion()}}var ld=Math.sqrt,dc=Math.sin,pc=Math.cos,Wa=Math.PI;function my(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qp(t,e){return(t[0]*e[0]+t[1]*e[1])/(my(t)*my(e))}function yy(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qp(t,e))}function Ty(t,e,r,n,i,s,a,o,l,c,u){var h=l*(Wa/180),d=pc(h)*(t-r)/2+dc(h)*(e-n)/2,f=-1*dc(h)*(t-r)/2+pc(h)*(e-n)/2,p=d*d/(a*a)+f*f/(o*o);p>1&&(a*=ld(p),o*=ld(p));var g=(i===s?-1:1)*ld((a*a*(o*o)-a*a*(f*f)-o*o*(d*d))/(a*a*(f*f)+o*o*(d*d)))||0,v=g*a*f/o,m=g*-o*d/a,y=(t+r)/2+pc(h)*v-dc(h)*m,T=(e+n)/2+dc(h)*v+pc(h)*m,b=yy([1,0],[(d-v)/a,(f-m)/o]),A=[(d-v)/a,(f-m)/o],R=[(-1*d-v)/a,(-1*f-m)/o],w=yy(A,R);if(Qp(A,R)<=-1&&(w=Wa),Qp(A,R)>=1&&(w=0),w<0){var S=Math.round(w/Wa*1e6)/1e6;w=Wa*2+S%2*Wa}u.addData(c,y,T,a,o,b,w,h,s)}var bC=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,wC=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function AC(t){var e=new gs;if(!t)return e;var r=0,n=0,i=r,s=n,a,o=gs.CMD,l=t.match(bC);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),d=void 0,f=u.match(wC)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var m=void 0,y=void 0,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=r,N=n,I=void 0,C=void 0;switch(h){case"l":r+=f[v++],n+=f[v++],d=o.L,e.addData(d,r,n);break;case"L":r=f[v++],n=f[v++],d=o.L,e.addData(d,r,n);break;case"m":r+=f[v++],n+=f[v++],d=o.M,e.addData(d,r,n),i=r,s=n,h="l";break;case"M":r=f[v++],n=f[v++],d=o.M,e.addData(d,r,n),i=r,s=n,h="L";break;case"h":r+=f[v++],d=o.L,e.addData(d,r,n);break;case"H":r=f[v++],d=o.L,e.addData(d,r,n);break;case"v":n+=f[v++],d=o.L,e.addData(d,r,n);break;case"V":n=f[v++],d=o.L,e.addData(d,r,n);break;case"C":d=o.C,e.addData(d,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),r=f[v-2],n=f[v-1];break;case"c":d=o.C,e.addData(d,f[v++]+r,f[v++]+n,f[v++]+r,f[v++]+n,f[v++]+r,f[v++]+n),r+=f[v-2],n+=f[v-1];break;case"S":m=r,y=n,I=e.len(),C=e.data,a===o.C&&(m+=r-C[I-4],y+=n-C[I-3]),d=o.C,S=f[v++],N=f[v++],r=f[v++],n=f[v++],e.addData(d,m,y,S,N,r,n);break;case"s":m=r,y=n,I=e.len(),C=e.data,a===o.C&&(m+=r-C[I-4],y+=n-C[I-3]),d=o.C,S=r+f[v++],N=n+f[v++],r+=f[v++],n+=f[v++],e.addData(d,m,y,S,N,r,n);break;case"Q":S=f[v++],N=f[v++],r=f[v++],n=f[v++],d=o.Q,e.addData(d,S,N,r,n);break;case"q":S=f[v++]+r,N=f[v++]+n,r+=f[v++],n+=f[v++],d=o.Q,e.addData(d,S,N,r,n);break;case"T":m=r,y=n,I=e.len(),C=e.data,a===o.Q&&(m+=r-C[I-4],y+=n-C[I-3]),r=f[v++],n=f[v++],d=o.Q,e.addData(d,m,y,r,n);break;case"t":m=r,y=n,I=e.len(),C=e.data,a===o.Q&&(m+=r-C[I-4],y+=n-C[I-3]),r+=f[v++],n+=f[v++],d=o.Q,e.addData(d,m,y,r,n);break;case"A":T=f[v++],b=f[v++],A=f[v++],R=f[v++],w=f[v++],S=r,N=n,r=f[v++],n=f[v++],d=o.A,Ty(S,N,r,n,R,w,T,b,A,d,e);break;case"a":T=f[v++],b=f[v++],A=f[v++],R=f[v++],w=f[v++],S=r,N=n,r+=f[v++],n+=f[v++],d=o.A,Ty(S,N,r,n,R,w,T,b,A,d,e);break}}(h==="z"||h==="Z")&&(d=o.Z,e.addData(d),r=i,n=s),a=d}return e.toStatic(),e}var Pw=function(t){Ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(Pt);function Dw(t){return t.setData!=null}function Fw(t,e){var r=AC(t),n=Xe({},e);return n.buildPath=function(i){if(Dw(i)){i.setData(r.data);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=i;r.rebuildPath(s,1)}},n.applyTransform=function(i){kw(r,i),this.dirtyShape()},n}function _C(t,e){return new Pw(Fw(t,e))}function Y$(t,e){var r=Fw(t,e),n=function(i){Ze(s,i);function s(a){var o=i.call(this,a)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return s}(Pw);return n}function X$(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var s=t[i];r.push(s.getUpdatedPathProxy(!0))}var a=new Pt(e);return a.createPathProxy(),a.buildPath=function(o){if(Dw(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},a}function Uw(t,e){e=e||{};var r=new Pt;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?kw(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var SC=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Gw=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new SC},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Pt);Gw.prototype.type="circle";var xC=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),$w=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new xC},e.prototype.buildPath=function(r,n){var i=.5522848,s=n.cx,a=n.cy,o=n.rx,l=n.ry,c=o*i,u=l*i;r.moveTo(s-o,a),r.bezierCurveTo(s-o,a-u,s-c,a-l,s,a-l),r.bezierCurveTo(s+c,a-l,s+o,a-u,s+o,a),r.bezierCurveTo(s+o,a+u,s+c,a+l,s,a+l),r.bezierCurveTo(s-c,a+l,s-o,a+u,s-o,a),r.closePath()},e}(Pt);$w.prototype.type="ellipse";var Hw=Math.PI,cd=Hw*2,Bi=Math.sin,$s=Math.cos,RC=Math.acos,Kt=Math.atan2,Ey=Math.abs,rl=Math.sqrt,go=Math.max,An=Math.min,rn=1e-4;function NC(t,e,r,n,i,s,a,o){var l=r-t,c=n-e,u=a-i,h=o-s,d=h*l-u*c;if(!(d*d<rn))return d=(u*(e-s)-h*(t-i))/d,[t+d*l,e+d*c]}function gc(t,e,r,n,i,s,a){var o=t-r,l=e-n,c=(a?s:-s)/rl(o*o+l*l),u=c*l,h=-c*o,d=t+u,f=e+h,p=r+u,g=n+h,v=(d+p)/2,m=(f+g)/2,y=p-d,T=g-f,b=y*y+T*T,A=i-s,R=d*g-p*f,w=(T<0?-1:1)*rl(go(0,A*A*b-R*R)),S=(R*T-y*w)/b,N=(-R*y-T*w)/b,I=(R*T+y*w)/b,C=(-R*y+T*w)/b,M=S-v,k=N-m,E=I-v,O=C-m;return M*M+k*k>E*E+O*O&&(S=I,N=C),{cx:S,cy:N,x0:-u,y0:-h,x1:S*(i/A-1),y1:N*(i/A-1)}}function LC(t){var e;if(ma(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function OC(t,e){var r,n=go(e.r,0),i=go(e.r0||0,0),s=n>0,a=i>0;if(!(!s&&!a)){if(s||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,h=e.cy,d=!!e.clockwise,f=Ey(c-l),p=f>cd&&f%cd;if(p>rn&&(f=p),!(n>rn))t.moveTo(u,h);else if(f>cd-rn)t.moveTo(u+n*$s(l),h+n*Bi(l)),t.arc(u,h,n,l,c,!d),i>rn&&(t.moveTo(u+i*$s(c),h+i*Bi(c)),t.arc(u,h,i,c,l,d));else{var g=void 0,v=void 0,m=void 0,y=void 0,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0,M=void 0,k=void 0,E=void 0,O=n*$s(l),_=n*Bi(l),x=i*$s(c),L=i*Bi(c),D=f>rn;if(D){var P=e.cornerRadius;P&&(r=LC(P),g=r[0],v=r[1],m=r[2],y=r[3]);var U=Ey(n-i)/2;if(T=An(U,m),b=An(U,y),A=An(U,g),R=An(U,v),N=w=go(T,b),I=S=go(A,R),(w>rn||S>rn)&&(C=n*$s(c),M=n*Bi(c),k=i*$s(l),E=i*Bi(l),f<Hw)){var z=NC(O,_,k,E,C,M,x,L);if(z){var H=O-z[0],V=_-z[1],W=C-z[0],q=M-z[1],ee=1/Bi(RC((H*W+V*q)/(rl(H*H+V*V)*rl(W*W+q*q)))/2),Z=rl(z[0]*z[0]+z[1]*z[1]);N=An(w,(n-Z)/(ee+1)),I=An(S,(i-Z)/(ee-1))}}}if(!D)t.moveTo(u+O,h+_);else if(N>rn){var $=An(m,N),Y=An(y,N),X=gc(k,E,O,_,n,$,d),j=gc(C,M,x,L,n,Y,d);t.moveTo(u+X.cx+X.x0,h+X.cy+X.y0),N<w&&$===Y?t.arc(u+X.cx,h+X.cy,N,Kt(X.y0,X.x0),Kt(j.y0,j.x0),!d):($>0&&t.arc(u+X.cx,h+X.cy,$,Kt(X.y0,X.x0),Kt(X.y1,X.x1),!d),t.arc(u,h,n,Kt(X.cy+X.y1,X.cx+X.x1),Kt(j.cy+j.y1,j.cx+j.x1),!d),Y>0&&t.arc(u+j.cx,h+j.cy,Y,Kt(j.y1,j.x1),Kt(j.y0,j.x0),!d))}else t.moveTo(u+O,h+_),t.arc(u,h,n,l,c,!d);if(!(i>rn)||!D)t.lineTo(u+x,h+L);else if(I>rn){var $=An(g,I),Y=An(v,I),X=gc(x,L,C,M,i,-Y,d),j=gc(O,_,k,E,i,-$,d);t.lineTo(u+X.cx+X.x0,h+X.cy+X.y0),I<S&&$===Y?t.arc(u+X.cx,h+X.cy,I,Kt(X.y0,X.x0),Kt(j.y0,j.x0),!d):(Y>0&&t.arc(u+X.cx,h+X.cy,Y,Kt(X.y0,X.x0),Kt(X.y1,X.x1),!d),t.arc(u,h,i,Kt(X.cy+X.y1,X.cx+X.x1),Kt(j.cy+j.y1,j.cx+j.x1),d),$>0&&t.arc(u+j.cx,h+j.cy,$,Kt(j.y1,j.x1),Kt(j.y0,j.x0),!d))}else t.lineTo(u+x,h+L),t.arc(u,h,i,c,l,d)}t.closePath()}}}var CC=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Jp=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new CC},e.prototype.buildPath=function(r,n){OC(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Pt);Jp.prototype.type="sector";var MC=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),IC=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new MC},e.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.PI*2;r.moveTo(i+n.r,s),r.arc(i,s,n.r,0,a,!1),r.moveTo(i+n.r0,s),r.arc(i,s,n.r0,0,a,!0)},e}(Pt);IC.prototype.type="ring";function kC(t,e,r,n){var i=[],s=[],a=[],o=[],l,c,u,h;if(n){u=[1/0,1/0],h=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)ts(u,u,t[d]),rs(h,h,t[d]);ts(u,u,n[0]),rs(h,h,n[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(r)l=t[d?d-1:f-1],c=t[(d+1)%f];else if(d===0||d===f-1){i.push(Yb(t[d]));continue}else l=t[d-1],c=t[d+1];Xb(s,c,l),Xc(s,s,e);var g=xu(p,l),v=xu(p,c),m=g+v;m!==0&&(g/=m,v/=m),Xc(a,s,-g),Xc(o,s,v);var y=Mp([],p,a),T=Mp([],p,o);n&&(rs(y,y,u),ts(y,y,h),rs(T,T,u),ts(T,T,h)),i.push(y),i.push(T)}return r&&i.push(i.shift()),i}function zw(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var s=kC(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,o=0;o<(r?a:a-1);o++){var l=s[o*2],c=s[o*2+1],u=i[(o+1)%a];t.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)t.lineTo(i[o][0],i[o][1])}r&&t.closePath()}}var PC=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Pv=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new PC},e.prototype.buildPath=function(r,n){zw(r,n,!0)},e}(Pt);Pv.prototype.type="polygon";var DC=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Bw=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new DC},e.prototype.buildPath=function(r,n){zw(r,n,!1)},e}(Pt);Bw.prototype.type="polyline";var FC={},UC=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Ww=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new UC},e.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=uC(FC,n,this.style);i=l.x1,s=l.y1,a=l.x2,o=l.y2}else i=n.x1,s=n.y1,a=n.x2,o=n.y2;var c=n.percent;c!==0&&(r.moveTo(i,s),c<1&&(a=i*(1-c)+a*c,o=s*(1-c)+o*c),r.lineTo(a,o))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(Pt);Ww.prototype.type="line";var pr=[],GC=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function by(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?G0:Gt)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?G0:Gt)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?$0:Jt)(t.x1,t.cpx1,t.x2,e),(r?$0:Jt)(t.y1,t.cpy1,t.y2,e)]}var $C=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new GC},e.prototype.buildPath=function(r,n){var i=n.x1,s=n.y1,a=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,h=n.cpy2,d=n.percent;d!==0&&(r.moveTo(i,s),u==null||h==null?(d<1&&(Lu(i,l,a,d,pr),l=pr[1],a=pr[2],Lu(s,c,o,d,pr),c=pr[1],o=pr[2]),r.quadraticCurveTo(l,c,a,o)):(d<1&&(bi(i,l,u,a,d,pr),l=pr[1],u=pr[2],a=pr[3],bi(s,c,h,o,d,pr),c=pr[1],h=pr[2],o=pr[3]),r.bezierCurveTo(l,c,u,h,a,o)))},e.prototype.pointAt=function(r){return by(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=by(this.shape,r,!0);return qb(n,n)},e}(Pt);$C.prototype.type="bezier-curve";var HC=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),zC=function(t){Ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new HC},e.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(o),h=Math.sin(o);r.moveTo(u*a+i,h*a+s),r.arc(i,s,a,o,l,!c)},e}(Pt);zC.prototype.type="arc";var BC=function(t){Ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],s=0;s<i.length;s++)i[s].buildPath(r,i[s].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Pt.prototype.getBoundingRect.call(this)},e}(Pt),Yw=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}(),WC=function(t){Ze(e,t);function e(r,n,i,s,a,o){var l=t.call(this,a)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=s??0,l.type="linear",l.global=o||!1,l}return e}(Yw),YC=function(t){Ze(e,t);function e(r,n,i,s,a){var o=t.call(this,s)||this;return o.x=r??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=a||!1,o}return e}(Yw),Wi=[0,0],Yi=[0,0],vc=new De,mc=new De,q$=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new De;for(var n=0;n<2;n++)this._axes[n]=new De;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,s=e.x,a=e.y,o=s+e.width,l=a+e.height;if(n[0].set(s,a),n[1].set(o,a),n[2].set(o,l),n[3].set(s,l),r)for(var c=0;c<4;c++)n[c].transform(r);De.sub(i[0],n[1],n[0]),De.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,i=!r;return vc.set(1/0,1/0),mc.set(0,0),!this._intersectCheckOneSide(this,e,vc,mc,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,vc,mc,i,-1)&&(n=!1,i)||i||De.copy(r,n?vc:mc),n},t.prototype._intersectCheckOneSide=function(e,r,n,i,s,a){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Wi),this._getProjMinMaxOnAxis(l,r._corners,Yi),Wi[1]<Yi[0]||Wi[0]>Yi[1]){if(o=!1,s)return o;var u=Math.abs(Yi[0]-Wi[1]),h=Math.abs(Wi[0]-Yi[1]);Math.min(u,h)>i.len()&&(u<h?De.scale(i,c,-u*a):De.scale(i,c,h*a))}else if(n){var u=Math.abs(Yi[0]-Wi[1]),h=Math.abs(Wi[0]-Yi[1]);Math.min(u,h)<n.len()&&(u<h?De.scale(n,c,u*a):De.scale(n,c,-h*a))}}return o},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],s=this._origin,a=r[0].dot(i)+s[e],o=a,l=a,c=1;c<r.length;c++){var u=r[c].dot(i)+s[e];o=Math.min(u,o),l=Math.max(u,l)}n[0]=o,n[1]=l},t}(),XC=[],V$=function(t){Ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Rt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],s=i.getBoundingRect().clone();i.needLocalTransform()&&s.applyTransform(i.getLocalTransform(XC)),r.union(s)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();if(s.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var o=this._displayables[a];if(o.contain(r,n))return!0}return!1},e}(Ml),qC=Math.round(Math.random()*9),VC=typeof Object.defineProperty=="function",j$=function(){function t(){this._id="__ec_inner_"+qC++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return VC?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),jC=1e-8;function wy(t,e){return Math.abs(t-e)<jC}function K$(t,e,r){var n=0,i=t[0];if(!i)return!1;for(var s=1;s<t.length;s++){var a=t[s];n+=Xn(i[0],i[1],a[0],a[1],e,r),i=a}var o=t[0];return(!wy(i[0],o[0])||!wy(i[1],o[1]))&&(n+=Xn(i[0],i[1],o[0],o[1],e,r)),n!==0}var ud=Math.sin,hd=Math.cos,Xw=Math.PI,Xi=Math.PI*2,KC=180/Xw,qw=function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,r){this._add("M",e,r)},t.prototype.lineTo=function(e,r){this._add("L",e,r)},t.prototype.bezierCurveTo=function(e,r,n,i,s,a){this._add("C",e,r,n,i,s,a)},t.prototype.quadraticCurveTo=function(e,r,n,i){this._add("Q",e,r,n,i)},t.prototype.arc=function(e,r,n,i,s,a){this.ellipse(e,r,n,n,0,i,s,a)},t.prototype.ellipse=function(e,r,n,i,s,a,o,l){var c=o-a,u=!l,h=Math.abs(c),d=vi(h-Xi)||(u?c>=Xi:-c>=Xi),f=c>0?c%Xi:c%Xi+Xi,p=!1;d?p=!0:vi(h)?p=!1:p=f>=Xw==!!u;var g=e+n*hd(a),v=r+i*ud(a);this._start&&this._add("M",g,v);var m=Math.round(s*KC);if(d){var y=1/this._p,T=(u?1:-1)*(Xi-y);this._add("A",n,i,m,1,+u,e+n*hd(a+T),r+i*ud(a+T)),y>.01&&this._add("A",n,i,m,0,+u,g,v)}else{var b=e+n*hd(o),A=r+i*ud(o);this._add("A",n,i,m,+p,+u,b,A)}},t.prototype.rect=function(e,r,n,i){this._add("M",e,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,r,n,i,s,a,o,l,c){for(var u=[],h=this._p,d=1;d<arguments.length;d++){var f=arguments[d];if(isNaN(f)){this._invalid=!0;return}u.push(Math.round(f*h)/h)}this._d.push(e+u.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Dv="none",ZC=Math.round;function QC(t){var e=t.fill;return e!=null&&e!==Dv}function JC(t){var e=t.stroke;return e!=null&&e!==Dv}var eg=["lineCap","miterLimit","lineJoin"],eM=yt(eg,function(t){return"stroke-"+t.toLowerCase()});function tM(t,e,r,n){var i=e.opacity==null?1:e.opacity;if(r instanceof Il){t("opacity",i);return}if(QC(e)){var s=ml(e.fill);t("fill",s.color);var a=e.fillOpacity!=null?e.fillOpacity*s.opacity*i:s.opacity*i;a<1&&t("fill-opacity",a)}else t("fill",Dv);if(JC(e)){var o=ml(e.stroke);t("stroke",o.color);var l=e.strokeNoScale?r.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,h=e.strokeFirst;if(c!==1&&t("stroke-width",c),h&&t("paint-order",h?"stroke":"fill"),u<1&&t("stroke-opacity",u),e.lineDash){var d=BS(r),f=d[0],p=d[1];f&&(p=ZC(p||0),t("stroke-dasharray",f.join(",")),(p||n)&&t("stroke-dashoffset",p))}for(var g=0;g<eg.length;g++){var v=eg[g];if(e[v]!==Cu[v]){var m=e[v]||Cu[v];m&&t(eM[g],m)}}}}var Vw="http://www.w3.org/2000/svg",jw="http://www.w3.org/1999/xlink",rM="http://www.w3.org/2000/xmlns/",nM="http://www.w3.org/XML/1998/namespace",Ay="ecmeta_";function Kw(t){return document.createElementNS(Vw,t)}function xt(t,e,r,n,i){return{tag:t,attrs:r||{},children:n,text:i,key:e}}function iM(t,e){var r=[];if(e)for(var n in e){var i=e[n],s=n;i!==!1&&(i!==!0&&i!=null&&(s+='="'+i+'"'),r.push(s))}return"<"+t+" "+r.join(" ")+">"}function sM(t){return"</"+t+">"}function Fv(t,e){e=e||{};var r=e.newline?`
`:"";function n(i){var s=i.children,a=i.tag,o=i.attrs,l=i.text;return iM(a,o)+(a!=="style"?fL(l):l||"")+(s?""+r+yt(s,function(c){return n(c)}).join(r)+r:"")+sM(a)}return n(t)}function aM(t,e,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,s=n+"}",a=yt(tt(t),function(l){return l+i+yt(tt(t[l]),function(c){return c+":"+t[l][c]+";"}).join(n)+s}).join(n),o=yt(tt(e),function(l){return"@keyframes "+l+i+yt(tt(e[l]),function(c){return c+i+yt(tt(e[l][c]),function(u){var h=e[l][c][u];return u==="d"&&(h='path("'+h+'")'),u+":"+h+";"}).join(n)+s}).join(n)+s}).join(n);return!a&&!o?"":["<![CDATA[",a,o,"]]>"].join(n)}function tg(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function _y(t,e,r,n){return xt("svg","root",{width:t,height:e,xmlns:Vw,"xmlns:xlink":jw,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+t+" "+e:!1},r)}var oM=0;function Zw(){return oM++}var Sy={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ki="transform-origin";function lM(t,e,r){var n=Xe({},t.shape);Xe(n,e),t.buildPath(r,n);var i=new qw;return i.reset(yw(t)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function cM(t,e){var r=e.originX,n=e.originY;(r||n)&&(t[Ki]=r+"px "+n+"px")}var uM={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Qw(t,e){var r=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[r]=t,r}function hM(t,e,r){var n=t.shape.paths,i={},s,a;if(yr(n,function(l){var c=tg(r.zrId);c.animation=!0,$h(l,{},c,!0);var u=c.cssAnims,h=c.cssNodes,d=tt(u),f=d.length;if(f){a=d[f-1];var p=u[a];for(var g in p){var v=p[g];i[g]=i[g]||{d:""},i[g].d+=v.d||""}for(var m in h){var y=h[m].animation;y.indexOf(a)>=0&&(s=y)}}}),!!s){e.d=!1;var o=Qw(i,r);return s.replace(a,o)}}function xy(t){return gn(t)?Sy[t]?"cubic-bezier("+Sy[t]+")":Ov(t)?t:"":""}function $h(t,e,r,n){var i=t.animators,s=i.length,a=[];if(t instanceof BC){var o=hM(t,e,r);if(o)a.push(o);else if(!s)return}else if(!s)return;for(var l={},c=0;c<s;c++){var u=i[c],h=[u.getMaxTime()/1e3+"s"],d=xy(u.getClip().easing),f=u.getDelay();d?h.push(d):h.push("linear"),f&&h.push(f/1e3+"s"),u.getLoop()&&h.push("infinite");var p=h.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(u)}function g(y){var T=y[1],b=T.length,A={},R={},w={},S="animation-timing-function";function N(Z,$,Y){for(var X=Z.getTracks(),j=Z.getMaxTime(),ne=0;ne<X.length;ne++){var K=X[ne];if(K.needsAnimate()){var Ge=K.keyframes,Ae=K.propName;if(Y&&(Ae=Y(Ae)),Ae)for(var Dt=0;Dt<Ge.length;Dt++){var Et=Ge[Dt],Oe=Math.round(Et.time/j*100)+"%",Wt=xy(Et.easing),Yt=Et.rawValue;(gn(Yt)||Jo(Yt))&&($[Oe]=$[Oe]||{},$[Oe][Ae]=Et.rawValue,Wt&&($[Oe][S]=Wt))}}}}for(var I=0;I<b;I++){var C=T[I],M=C.targetName;M?M==="shape"&&N(C,R):!n&&N(C,A)}for(var k in A){var E={};Aw(E,t),Xe(E,A[k]);var O=Tw(E),_=A[k][S];w[k]=O?{transform:O}:{},cM(w[k],E),_&&(w[k][S]=_)}var x,L=!0;for(var k in R){w[k]=w[k]||{};var D=!x,_=R[k][S];D&&(x=new gs);var P=x.len();x.reset(),w[k].d=lM(t,R[k],x);var U=x.len();if(!D&&P!==U){L=!1;break}_&&(w[k][S]=_)}if(!L)for(var k in w)delete w[k].d;if(!n)for(var I=0;I<b;I++){var C=T[I],M=C.targetName;M==="style"&&N(C,w,function(X){return uM[X]})}for(var z=tt(w),H=!0,V,I=1;I<z.length;I++){var W=z[I-1],q=z[I];if(w[W][Ki]!==w[q][Ki]){H=!1;break}V=w[W][Ki]}if(H&&V){for(var k in w)w[k][Ki]&&delete w[k][Ki];e[Ki]=V}if(_u(z,function(Z){return tt(w[Z]).length>0}).length){var ee=Qw(w,r);return ee+" "+y[0]+" both"}}for(var v in l){var o=g(l[v]);o&&a.push(o)}if(a.length){var m=r.zrId+"-cls-"+Zw();r.cssNodes["."+m]={animation:a.join(",")},e.class=m}}function fM(t,e,r){if(!t.ignore)if(t.isSilent()){var n={"pointer-events":"none"};Ry(n,e,r)}else{var i=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},s=i.fill;if(!s){var a=t.style&&t.style.fill,o=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&o||a;l&&(s=dw(l))}var c=i.lineWidth;if(c){var u=!i.strokeNoScale&&t.transform?t.transform[0]:1;c=c/u}var n={cursor:"pointer"};s&&(n.fill=s),i.stroke&&(n.stroke=i.stroke),c&&(n["stroke-width"]=c),Ry(n,e,r)}}function Ry(t,e,r,n){var i=JSON.stringify(t),s=r.cssStyleCache[i];s||(s=r.zrId+"-cls-"+Zw(),r.cssStyleCache[i]=s,r.cssNodes["."+s+":hover"]=t),e.class=e.class?e.class+" "+s:s}var wl=Math.round;function Jw(t){return t&&gn(t.src)}function eA(t){return t&&Sa(t.toDataURL)}function Uv(t,e,r,n){tM(function(i,s){var a=i==="fill"||i==="stroke";a&&mw(s)?rA(e,t,i,n):a&&Mv(s)?nA(r,t,i,n):t[i]=s,a&&n.ssr&&s==="none"&&(t["pointer-events"]="visible")},e,r,!1),TM(r,t,n)}function Gv(t,e){var r=Sw(e);r&&(r.each(function(n,i){n!=null&&(t[(Ay+i).toLowerCase()]=n+"")}),e.isSilent()&&(t[Ay+"silent"]="true"))}function Ny(t){return vi(t[0]-1)&&vi(t[1])&&vi(t[2])&&vi(t[3]-1)}function dM(t){return vi(t[4])&&vi(t[5])}function $v(t,e,r){if(e&&!(dM(e)&&Ny(e))){var n=1e4;t.transform=Ny(e)?"translate("+wl(e[4]*n)/n+" "+wl(e[5]*n)/n+")":VL(e)}}function Ly(t,e,r){for(var n=t.points,i=[],s=0;s<n.length;s++)i.push(wl(n[s][0]*r)/r),i.push(wl(n[s][1]*r)/r);e.points=i.join(" ")}function Oy(t){return!t.smooth}function pM(t){var e=yt(t,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var s=0;s<e.length;s++){var a=e[s],o=r[a[0]];o!=null&&(n[a[1]]=wl(o*i)/i)}}}var gM={circle:[pM(["cx","cy","r"])],polyline:[Ly,Oy],polygon:[Ly,Oy]};function vM(t){for(var e=t.animators,r=0;r<e.length;r++)if(e[r].targetName==="shape")return!0;return!1}function tA(t,e){var r=t.style,n=t.shape,i=gM[t.type],s={},a=e.animation,o="path",l=t.style.strokePercent,c=e.compress&&yw(t)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](n))&&!(a&&vM(t))&&!(l<1)){o=t.type;var u=Math.pow(10,c);i[0](n,s,u)}else{var h=!t.path||t.shapeChanged();t.path||t.createPathProxy();var d=t.path;h&&(d.beginPath(),t.buildPath(d,t.shape),t.pathUpdated());var f=d.getVersion(),p=t,g=p.__svgPathBuilder;(p.__svgPathVersion!==f||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new qw),g.reset(c),d.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=f,p.__svgPathStrokePercent=l),s.d=g.getStr()}return $v(s,t.transform),Uv(s,r,t,e),Gv(s,t),e.animation&&$h(t,s,e),e.emphasis&&fM(t,s,e),xt(o,t.id+"",s)}function mM(t,e){var r=t.style,n=r.image;if(n&&!gn(n)&&(Jw(n)?n=n.src:eA(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,s=r.y||0,a=r.width,o=r.height,l={href:n,width:a,height:o};return i&&(l.x=i),s&&(l.y=s),$v(l,t.transform),Uv(l,r,t,e),Gv(l,t),e.animation&&$h(t,l,e),xt("image",t.id+"",l)}}function yM(t,e){var r=t.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||ps,s=r.x||0,a=KL(r.y||0,Dh(i),r.textBaseline),o=jL[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Iw(r)){var c="",u=r.fontStyle,h=Mw(r.fontSize);if(!parseFloat(h))return;var d=r.fontFamily||Db,f=r.fontWeight;c+="font-size:"+h+";font-family:"+d+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),f&&f!=="normal"&&(c+="font-weight:"+f+";"),l.style=c}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),s&&(l.x=s),a&&(l.y=a),$v(l,t.transform),Uv(l,r,t,e),Gv(l,t),e.animation&&$h(t,l,e),xt("text",t.id+"",l,void 0,n)}}function Cy(t,e){if(t instanceof Pt)return tA(t,e);if(t instanceof Il)return mM(t,e);if(t instanceof El)return yM(t,e)}function TM(t,e,r){var n=t.style;if(ZL(n)){var i=QL(t),s=r.shadowCache,a=s[i];if(!a){var o=t.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var u=n.shadowOffsetX||0,h=n.shadowOffsetY||0,d=n.shadowBlur,f=ml(n.shadowColor),p=f.opacity,g=f.color,v=d/2/l,m=d/2/c,y=v+" "+m;a=r.zrId+"-s"+r.shadowIdx++,r.defs[a]=xt("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[xt("feDropShadow","",{dx:u/l,dy:h/c,stdDeviation:y,"flood-color":g,"flood-opacity":p})]),s[i]=a}e.filter=Ph(a)}}function rA(t,e,r,n){var i=t[r],s,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(gw(i))s="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(vw(i))s="radialGradient",a.cx=ut(i.x,.5),a.cy=ut(i.y,.5),a.r=ut(i.r,.5);else return;for(var o=i.colorStops,l=[],c=0,u=o.length;c<u;++c){var h=$p(o[c].offset)*100+"%",d=o[c].color,f=ml(d),p=f.color,g=f.opacity,v={offset:h};v["stop-color"]=p,g<1&&(v["stop-opacity"]=g),l.push(xt("stop",c+"",v))}var m=xt(s,"",a,l),y=Fv(m),T=n.gradientCache,b=T[y];b||(b=n.zrId+"-g"+n.gradientIdx++,T[y]=b,a.id=b,n.defs[b]=xt(s,b,a,l)),e[r]=Ph(b)}function nA(t,e,r,n){var i=t.style[r],s=t.getBoundingRect(),a={},o=i.repeat,l=o==="no-repeat",c=o==="repeat-x",u=o==="repeat-y",h;if(pw(i)){var d=i.imageWidth,f=i.imageHeight,p=void 0,g=i.image;if(gn(g)?p=g:Jw(g)?p=g.src:eA(g)&&(p=g.toDataURL()),typeof Image>"u"){var v="Image width/height must been given explictly in svg-ssr renderer.";Cp(d,v),Cp(f,v)}else if(d==null||f==null){var m=function(I,C){if(I){var M=I.elm,k=d||C.width,E=f||C.height;I.tag==="pattern"&&(c?(E=1,k/=s.width):u&&(k=1,E/=s.height)),I.attrs.width=k,I.attrs.height=E,M&&(M.setAttribute("width",k),M.setAttribute("height",E))}},y=XS(p,null,t,function(I){l||m(R,I),m(h,I)});y&&y.width&&y.height&&(d=d||y.width,f=f||y.height)}h=xt("image","img",{href:p,width:d,height:f}),a.width=d,a.height=f}else i.svgElement&&(h=Ei(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(h){var T,b;l?T=b=1:c?(b=1,T=a.width/s.width):u?(T=1,b=a.height/s.height):a.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(a.width=T),b!=null&&!isNaN(b)&&(a.height=b);var A=Tw(i);A&&(a.patternTransform=A);var R=xt("pattern","",a,[h]),w=Fv(R),S=n.patternCache,N=S[w];N||(N=n.zrId+"-p"+n.patternIdx++,S[w]=N,a.id=N,R=n.defs[N]=xt("pattern",N,a,[h])),e[r]=Ph(N)}}function EM(t,e,r){var n=r.clipPathCache,i=r.defs,s=n[t.id];if(!s){s=r.zrId+"-c"+r.clipPathIdx++;var a={id:s};n[t.id]=s,i[s]=xt("clipPath",s,a,[tA(t,r)])}e["clip-path"]=Ph(s)}function My(t){return document.createTextNode(t)}function Ji(t,e,r){t.insertBefore(e,r)}function Iy(t,e){t.removeChild(e)}function ky(t,e){t.appendChild(e)}function iA(t){return t.parentNode}function sA(t){return t.nextSibling}function fd(t,e){t.textContent=e}var Py=58,bM=120,wM=xt("","");function rg(t){return t===void 0}function Nn(t){return t!==void 0}function AM(t,e,r){for(var n={},i=e;i<=r;++i){var s=t[i].key;s!==void 0&&(n[s]=i)}return n}function vo(t,e){var r=t.key===e.key,n=t.tag===e.tag;return n&&r}function Al(t){var e,r=t.children,n=t.tag;if(Nn(n)){var i=t.elm=Kw(n);if(Hv(wM,t),ma(r))for(e=0;e<r.length;++e){var s=r[e];s!=null&&ky(i,Al(s))}else Nn(t.text)&&!Zn(t.text)&&ky(i,My(t.text))}else t.elm=My(t.text);return t.elm}function aA(t,e,r,n,i){for(;n<=i;++n){var s=r[n];s!=null&&Ji(t,Al(s),e)}}function Mu(t,e,r,n){for(;r<=n;++r){var i=e[r];if(i!=null)if(Nn(i.tag)){var s=iA(i.elm);Iy(s,i.elm)}else Iy(t,i.elm)}}function Hv(t,e){var r,n=e.elm,i=t&&t.attrs||{},s=e.attrs||{};if(i!==s){for(r in s){var a=s[r],o=i[r];o!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r==="style"?n.style.cssText=a:r.charCodeAt(0)!==bM?n.setAttribute(r,a):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(rM,r,a):r.charCodeAt(3)===Py?n.setAttributeNS(nM,r,a):r.charCodeAt(5)===Py?n.setAttributeNS(jw,r,a):n.setAttribute(r,a))}for(r in i)r in s||n.removeAttribute(r)}}function _M(t,e,r){for(var n=0,i=0,s=e.length-1,a=e[0],o=e[s],l=r.length-1,c=r[0],u=r[l],h,d,f,p;n<=s&&i<=l;)a==null?a=e[++n]:o==null?o=e[--s]:c==null?c=r[++i]:u==null?u=r[--l]:vo(a,c)?(Ys(a,c),a=e[++n],c=r[++i]):vo(o,u)?(Ys(o,u),o=e[--s],u=r[--l]):vo(a,u)?(Ys(a,u),Ji(t,a.elm,sA(o.elm)),a=e[++n],u=r[--l]):vo(o,c)?(Ys(o,c),Ji(t,o.elm,a.elm),o=e[--s],c=r[++i]):(rg(h)&&(h=AM(e,n,s)),d=h[c.key],rg(d)?Ji(t,Al(c),a.elm):(f=e[d],f.tag!==c.tag?Ji(t,Al(c),a.elm):(Ys(f,c),e[d]=void 0,Ji(t,f.elm,a.elm))),c=r[++i]);(n<=s||i<=l)&&(n>s?(p=r[l+1]==null?null:r[l+1].elm,aA(t,p,r,i,l)):Mu(t,e,n,s))}function Ys(t,e){var r=e.elm=t.elm,n=t.children,i=e.children;t!==e&&(Hv(t,e),rg(e.text)?Nn(n)&&Nn(i)?n!==i&&_M(r,n,i):Nn(i)?(Nn(t.text)&&fd(r,""),aA(r,null,i,0,i.length-1)):Nn(n)?Mu(r,n,0,n.length-1):Nn(t.text)&&fd(r,""):t.text!==e.text&&(Nn(n)&&Mu(r,n,0,n.length-1),fd(r,e.text)))}function SM(t,e){if(vo(t,e))Ys(t,e);else{var r=t.elm,n=iA(r);Al(e),n!==null&&(Ji(n,e.elm,sA(r)),Mu(n,[t],0,0))}return e}var xM=0,Z$=function(){function t(e,r,n){if(this.type="svg",this.refreshHover=Dy(),this.configLayer=Dy(),this.storage=r,this._opts=n=Xe({},n),this.root=e,this._id="zr"+xM++,this._oldVNode=_y(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var s=this._svgDom=this._oldVNode.elm=Kw("svg");Hv(null,this._oldVNode),i.appendChild(s),e.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",SM(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return Cy(e,tg(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,s=tg(this._id);s.animation=e.animation,s.willUpdate=e.willUpdate,s.compress=e.compress,s.emphasis=e.emphasis,s.ssr=this._opts.ssr;var a=[],o=this._bgVNode=RM(n,i,this._backgroundColor,s);o&&a.push(o);var l=e.compress?null:this._mainVNode=xt("g","main",{},[]);this._paintList(r,s,l?l.children:a),l&&a.push(l);var c=yt(tt(s.defs),function(d){return s.defs[d]});if(c.length&&a.push(xt("defs","defs",{},c)),e.animation){var u=aM(s.cssNodes,s.cssAnims,{newline:!0});if(u){var h=xt("style","stl",{},[],u);a.push(h)}}return _y(n,i,a,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},Fv(this.renderToVNode({animation:ut(e.cssAnimation,!0),emphasis:ut(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ut(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,r,n){for(var i=e.length,s=[],a=0,o,l,c=0,u=0;u<i;u++){var h=e[u];if(!h.invisible){var d=h.__clipPaths,f=d&&d.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(f-1,p-1);g>=0&&!(d&&l&&d[g]===l[g]);g--);for(var v=p-1;v>g;v--)a--,o=s[a-1];for(var m=g+1;m<f;m++){var y={};EM(d[m],y,r);var T=xt("g","clip-g-"+c++,y,[]);(o?o.children:n).push(T),s[a++]=T,o=T}l=d;var b=Cy(h,r);b&&(o?o.children:n).push(b)}}},t.prototype.resize=function(e,r){var n=this._opts,i=this.root,s=this._viewport;if(e!=null&&(n.width=e),r!=null&&(n.height=r),i&&s&&(s.style.display="none",e=xm(i,0,n),r=xm(i,1,n),s.style.display=""),this._width!==e||this._height!==r){if(this._width=e,this._height=r,s){var a=s.style;a.width=e+"px",a.height=r+"px"}if(Mv(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",r))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var r=this.renderToString(),n="data:image/svg+xml;";return e?(r=eO(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},t}();function Dy(t){return function(){}}function RM(t,e,r,n){var i;if(r&&r!=="none")if(i=xt("rect","bg",{width:t,height:e,x:"0",y:"0"}),mw(r))rA({fill:r},i.attrs,"fill",n);else if(Mv(r))nA({style:{fill:r},dirty:mi,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",n);else{var s=ml(r),a=s.color,o=s.opacity;i.attrs.fill=a,o<1&&(i.attrs["fill-opacity"]=o)}return i}function NM(t){if(gn(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var dd,Iu={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Fy=tt(Iu),ku={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Uy=tt(ku),LM=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(e,r){r=r||{};var n=NM(e);this._defsUsePending=[];var i=new Qi;this._root=i;var s=[],a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Nr(n,i,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,i,s,null,!1,!1),c=c.nextSibling;MM(this._defs,this._defsUsePending),this._defsUsePending=[];var u,h;if(a){var d=Hh(a);d.length>=4&&(u={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(u&&o!=null&&l!=null&&(h=FM(u,{x:0,y:0,width:o,height:l}),!r.ignoreViewBox)){var f=i;i=new Qi,i.add(f),f.scaleX=f.scaleY=h.scale,f.x=h.x,f.y=h.y}return!r.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new bl({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:u,viewBoxTransform:h,named:s}},t.prototype._parseNode=function(e,r,n,i,s,a){var o=e.nodeName.toLowerCase(),l,c=i;if(o==="defs"&&(s=!0),o==="text"&&(a=!0),o==="defs"||o==="switch")l=r;else{if(!s){var u=dd[o];if(u&&pl(dd,o)){l=u.call(this,e,r);var h=e.getAttribute("name");if(h){var d={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(d),o==="g"&&(c=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});r.add(l)}}var f=Gy[o];if(f&&pl(Gy,o)){var p=f.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var v=e.firstChild;v;)v.nodeType===1?this._parseNode(v,l,n,c,s,a):v.nodeType===3&&a&&this._parseText(v,l),v=v.nextSibling},t.prototype._parseText=function(e,r){var n=new El({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),OM(n,r);var i=n.style,s=i.fontSize;s&&s<9&&(i.fontSize=9,n.scaleX*=s/9,n.scaleY*=s/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var o=n.getBoundingRect();return this._textX+=o.width,r.add(n),n},t.internalField=function(){dd={g:function(e,r){var n=new Qi;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n},rect:function(e,r){var n=new bl;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,r){var n=new Gw;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,r){var n=new Ww;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,r){var n=new $w;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,r){var n=e.getAttribute("points"),i;n&&(i=zy(n));var s=new Pv({shape:{points:i||[]},silent:!0});return Xr(r,s),Nr(e,s,this._defsUsePending,!1,!1),s},polyline:function(e,r){var n=e.getAttribute("points"),i;n&&(i=zy(n));var s=new Bw({shape:{points:i||[]},silent:!0});return Xr(r,s),Nr(e,s,this._defsUsePending,!1,!1),s},image:function(e,r){var n=new Il;return Xr(r,n),Nr(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,r){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",s=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(s),this._textY=parseFloat(i)+parseFloat(a);var o=new Qi;return Xr(r,o),Nr(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,r){var n=e.getAttribute("x"),i=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var s=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",o=new Qi;return Xr(r,o),Nr(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(s),this._textY+=parseFloat(a),o},path:function(e,r){var n=e.getAttribute("d")||"",i=_C(n);return Xr(r,i),Nr(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),t}(),Gy={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),r=parseInt(t.getAttribute("y1")||"0",10),n=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),s=new WC(e,r,n,i);return $y(t,s),Hy(t,s),s},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),r=parseInt(t.getAttribute("cy")||"0",10),n=parseInt(t.getAttribute("r")||"0",10),i=new YC(e,r,n);return $y(t,i),Hy(t,i),i}};function $y(t,e){var r=t.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(e.global=!0)}function Hy(t,e){for(var r=t.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var s={};oA(r,s,s);var a=s.stopColor||r.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:a})}r=r.nextSibling}}function Xr(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),$r(e.__inheritedStyle,t.__inheritedStyle))}function zy(t){for(var e=Hh(t),r=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),s=parseFloat(e[n+1]);r.push([i,s])}return r}function Nr(t,e,r,n,i){var s=e,a=s.__inheritedStyle=s.__inheritedStyle||{},o={};t.nodeType===1&&(PM(t,e),oA(t,a,o),n||DM(t,a,o)),s.style=s.style||{},a.fill!=null&&(s.style.fill=By(s,"fill",a.fill,r)),a.stroke!=null&&(s.style.stroke=By(s,"stroke",a.stroke,r)),yr(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(s.style[l]=parseFloat(a[l]))}),yr(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(s.style[l]=a[l])}),i&&(s.__selfStyle=o),a.lineDash&&(s.style.lineDash=yt(Hh(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(s.invisible=!0),a.display==="none"&&(s.ignore=!0)}function OM(t,e){var r=e.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),t.style.textBaseline=i}var s=e.__inheritedStyle;if(s){var a=s.textAlign,o=a;a&&(a==="middle"&&(o="center"),t.style.textAlign=o)}}var CM=/^url\(\s*#(.*?)\)/;function By(t,e,r,n){var i=r&&r.match(CM);if(i){var s=es(i[1]);n.push([t,e,s]);return}return r==="none"&&(r=null),r}function MM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n[0].style[n[1]]=t[n[2]]}}var IM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Hh(t){return t.match(IM)||[]}var kM=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,pd=Math.PI/180;function PM(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(kM,function(h,d,f){return n.push(d,f),""});for(var s=n.length-1;s>0;s-=2){var a=n[s],o=n[s-1],l=Hh(a);switch(i=i||yi(),o){case"translate":Ru(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Lv(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Nv(i,i,-parseFloat(l[0])*pd,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*pd);na(i,[1,0,c,1,0,0],i);break;case"skewY":var u=Math.tan(parseFloat(l[0])*pd);na(i,[1,u,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var Wy=/([^\s:;]+)\s*:\s*([^:;]+)/g;function oA(t,e,r){var n=t.getAttribute("style");if(n){Wy.lastIndex=0;for(var i;(i=Wy.exec(n))!=null;){var s=i[1],a=pl(Iu,s)?Iu[s]:null;a&&(e[a]=i[2]);var o=pl(ku,s)?ku[s]:null;o&&(r[o]=i[2])}}}function DM(t,e,r){for(var n=0;n<Fy.length;n++){var i=Fy[n],s=t.getAttribute(i);s!=null&&(e[Iu[i]]=s)}for(var n=0;n<Uy.length;n++){var i=Uy[n],s=t.getAttribute(i);s!=null&&(r[ku[i]]=s)}}function FM(t,e){var r=e.width/t.width,n=e.height/t.height,i=Math.min(r,n);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}function Q$(t,e){var r=new LM;return r.parse(t,e)}var _n=gs.CMD;function Qs(t,e){return Math.abs(t-e)<1e-5}function ng(t){var e=t.data,r=t.len(),n=[],i,s=0,a=0,o=0,l=0;function c(k,E){i&&i.length>2&&n.push(i),i=[k,E]}function u(k,E,O,_){Qs(k,O)&&Qs(E,_)||i.push(k,E,O,_,O,_)}function h(k,E,O,_,x,L){var D=Math.abs(E-k),P=Math.tan(D/4)*4/3,U=E<k?-1:1,z=Math.cos(k),H=Math.sin(k),V=Math.cos(E),W=Math.sin(E),q=z*x+O,ee=H*L+_,Z=V*x+O,$=W*L+_,Y=x*P*U,X=L*P*U;i.push(q-Y*H,ee+X*z,Z+Y*W,$-X*V,Z,$)}for(var d,f,p,g,v=0;v<r;){var m=e[v++],y=v===1;switch(y&&(s=e[v],a=e[v+1],o=s,l=a,(m===_n.L||m===_n.C||m===_n.Q)&&(i=[o,l])),m){case _n.M:s=o=e[v++],a=l=e[v++],c(o,l);break;case _n.L:d=e[v++],f=e[v++],u(s,a,d,f),s=d,a=f;break;case _n.C:i.push(e[v++],e[v++],e[v++],e[v++],s=e[v++],a=e[v++]);break;case _n.Q:d=e[v++],f=e[v++],p=e[v++],g=e[v++],i.push(s+2/3*(d-s),a+2/3*(f-a),p+2/3*(d-p),g+2/3*(f-g),p,g),s=p,a=g;break;case _n.A:var T=e[v++],b=e[v++],A=e[v++],R=e[v++],w=e[v++],S=e[v++]+w;v+=1;var N=!e[v++];d=Math.cos(w)*A+T,f=Math.sin(w)*R+b,y?(o=d,l=f,c(o,l)):u(s,a,d,f),s=Math.cos(S)*A+T,a=Math.sin(S)*R+b;for(var I=(N?-1:1)*Math.PI/2,C=w;N?C>S:C<S;C+=I){var M=N?Math.max(C+I,S):Math.min(C+I,S);h(C,M,T,b,A,R)}break;case _n.R:o=s=e[v++],l=a=e[v++],d=o+e[v++],f=l+e[v++],c(d,l),u(d,l,d,f),u(d,f,o,f),u(o,f,o,l),u(o,l,d,l);break;case _n.Z:i&&u(s,a,o,l),s=o,a=l;break}}return i&&i.length>2&&n.push(i),n}function ig(t,e,r,n,i,s,a,o,l,c){if(Qs(t,r)&&Qs(e,n)&&Qs(i,a)&&Qs(s,o)){l.push(a,o);return}var u=2/c,h=u*u,d=a-t,f=o-e,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=r-t,v=n-e,m=i-a,y=s-o,T=g*g+v*v,b=m*m+y*y;if(T<h&&b<h){l.push(a,o);return}var A=d*g+f*v,R=-d*m-f*y,w=T-A*A,S=b-R*R;if(w<h&&A>=0&&S<h&&R>=0){l.push(a,o);return}var N=[],I=[];bi(t,r,i,a,.5,N),bi(e,n,s,o,.5,I),ig(N[0],I[0],N[1],I[1],N[2],I[2],N[3],I[3],l,c),ig(N[4],I[4],N[5],I[5],N[6],I[6],N[7],I[7],l,c)}function UM(t,e){var r=ng(t),n=[];e=e||1;for(var i=0;i<r.length;i++){var s=r[i],a=[],o=s[0],l=s[1];a.push(o,l);for(var c=2;c<s.length;){var u=s[c++],h=s[c++],d=s[c++],f=s[c++],p=s[c++],g=s[c++];ig(o,l,u,h,d,f,p,g,a,e),o=p,l=g}n.push(a)}return n}function lA(t,e,r){var n=t[e],i=t[1-e],s=Math.abs(n/i),a=Math.ceil(Math.sqrt(s*r)),o=Math.floor(r/a);o===0&&(o=1,a=r);for(var l=[],c=0;c<a;c++)l.push(o);var u=a*o,h=r-u;if(h>0)for(var c=0;c<h;c++)l[c%a]+=1;return l}function Yy(t,e,r){for(var n=t.r0,i=t.r,s=t.startAngle,a=t.endAngle,o=Math.abs(a-s),l=o*i,c=i-n,u=l>Math.abs(c),h=lA([l,c],u?0:1,e),d=(u?o:c)/h.length,f=0;f<h.length;f++)for(var p=(u?c:o)/h[f],g=0;g<h[f];g++){var v={};u?(v.startAngle=s+d*f,v.endAngle=s+d*(f+1),v.r0=n+p*g,v.r=n+p*(g+1)):(v.startAngle=s+p*g,v.endAngle=s+p*(g+1),v.r0=n+d*f,v.r=n+d*(f+1)),v.clockwise=t.clockwise,v.cx=t.cx,v.cy=t.cy,r.push(v)}}function GM(t,e,r){for(var n=t.width,i=t.height,s=n>i,a=lA([n,i],s?0:1,e),o=s?"width":"height",l=s?"height":"width",c=s?"x":"y",u=s?"y":"x",h=t[o]/a.length,d=0;d<a.length;d++)for(var f=t[l]/a[d],p=0;p<a[d];p++){var g={};g[c]=d*h,g[u]=p*f,g[o]=h,g[l]=f,g.x+=t.x,g.y+=t.y,r.push(g)}}function Xy(t,e,r,n){return t*n-r*e}function $M(t,e,r,n,i,s,a,o){var l=r-t,c=n-e,u=a-i,h=o-s,d=Xy(u,h,l,c);if(Math.abs(d)<1e-6)return null;var f=t-i,p=e-s,g=Xy(f,p,u,h)/d;return g<0||g>1?null:new De(g*l+t,g*c+e)}function HM(t,e,r){var n=new De;De.sub(n,r,e),n.normalize();var i=new De;De.sub(i,t,e);var s=i.dot(n);return s}function Hs(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function zM(t,e,r){for(var n=t.length,i=[],s=0;s<n;s++){var a=t[s],o=t[(s+1)%n],l=$M(a[0],a[1],o[0],o[1],e.x,e.y,r.x,r.y);l&&i.push({projPt:HM(l,e,r),pt:l,idx:s})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(v,m){return v.projPt-m.projPt});var c=i[0],u=i[i.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}for(var d=[c.pt.x,c.pt.y],f=[u.pt.x,u.pt.y],p=[d],g=[f],s=c.idx+1;s<=u.idx;s++)Hs(p,t[s].slice());Hs(p,f),Hs(p,d);for(var s=u.idx+1;s<=c.idx+n;s++)Hs(g,t[s%n].slice());return Hs(g,d),Hs(g,f),[{points:p},{points:g}]}function qy(t){var e=t.points,r=[],n=[];Ow(e,r,n);var i=new Rt(r[0],r[1],n[0]-r[0],n[1]-r[1]),s=i.width,a=i.height,o=i.x,l=i.y,c=new De,u=new De;return s>a?(c.x=u.x=o+s/2,c.y=l,u.y=l+a):(c.y=u.y=l+a/2,c.x=o,u.x=o+s),zM(e,c,u)}function Pu(t,e,r,n){if(r===1)n.push(e);else{var i=Math.floor(r/2),s=t(e);Pu(t,s[0],i,n),Pu(t,s[1],r-i,n)}return n}function BM(t,e){for(var r=[],n=0;n<e;n++)r.push(Uw(t));return r}function WM(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function YM(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function XM(t,e){var r=[],n=t.shape,i;switch(t.type){case"rect":GM(n,e,r),i=bl;break;case"sector":Yy(n,e,r),i=Jp;break;case"circle":Yy({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),i=Jp;break;default:var s=t.getComputedTransform(),a=s?Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3])):1,o=yt(UM(t.getUpdatedPathProxy(),a),function(m){return YM(m)}),l=o.length;if(l===0)Pu(qy,{points:o[0]},e,r);else if(l===e)for(var c=0;c<l;c++)r.push({points:o[c]});else{var u=0,h=yt(o,function(m){var y=[],T=[];Ow(m,y,T);var b=(T[1]-y[1])*(T[0]-y[0]);return u+=b,{poly:m,area:b}});h.sort(function(m,y){return y.area-m.area});for(var d=e,c=0;c<l;c++){var f=h[c];if(d<=0)break;var p=c===l-1?d:Math.ceil(f.area/u*e);p<0||(Pu(qy,{points:f.poly},p,r),d-=p)}}i=Pv;break}if(!i)return BM(t,e);for(var g=[],c=0;c<r.length;c++){var v=new i;v.setShape(r[c]),WM(t,v),g.push(v)}return g}function qM(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var i=[],s=[],a=r<n?t:e,o=Math.min(r,n),l=Math.abs(n-r)/6,c=(o-2)/6,u=Math.ceil(l/c)+1,h=[a[0],a[1]],d=l,f=2;f<o;){var p=a[f-2],g=a[f-1],v=a[f++],m=a[f++],y=a[f++],T=a[f++],b=a[f++],A=a[f++];if(d<=0){h.push(v,m,y,T,b,A);continue}for(var R=Math.min(d,u-1)+1,w=1;w<=R;w++){var S=w/R;bi(p,v,y,b,S,i),bi(g,m,T,A,S,s),p=i[3],g=s[3],h.push(i[1],s[1],i[2],s[2],p,g),v=i[5],m=s[5],y=i[6],T=s[6]}d-=R-1}return a===t?[h,e]:[t,h]}function Vy(t,e){for(var r=t.length,n=t[r-2],i=t[r-1],s=[],a=0;a<e.length;)s[a++]=n,s[a++]=i;return s}function VM(t,e){for(var r,n,i,s=[],a=[],o=0;o<Math.max(t.length,e.length);o++){var l=t[o],c=e[o],u=void 0,h=void 0;l?c?(r=qM(l,c),u=r[0],h=r[1],n=u,i=h):(h=Vy(i||l,l),u=l):(u=Vy(n||c,c),h=c),s.push(u),a.push(h)}return[s,a]}function jy(t){for(var e=0,r=0,n=0,i=t.length,s=0,a=i-2;s<i;a=s,s+=2){var o=t[a],l=t[a+1],c=t[s],u=t[s+1],h=o*u-c*l;e+=h,r+=(o+c)*h,n+=(l+u)*h}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function jM(t,e,r,n){for(var i=(t.length-2)/6,s=1/0,a=0,o=t.length,l=o-2,c=0;c<i;c++){for(var u=c*6,h=0,d=0;d<o;d+=2){var f=d===0?u:(u+d-2)%l+2,p=t[f]-r[0],g=t[f+1]-r[1],v=e[d]-n[0],m=e[d+1]-n[1],y=v-p,T=m-g;h+=y*y+T*T}h<s&&(s=h,a=c)}return a}function KM(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function ZM(t,e,r,n){for(var i=[],s,a=0;a<t.length;a++){var o=t[a],l=e[a],c=jy(o),u=jy(l);s==null&&(s=c[2]<0!=u[2]<0);var h=[],d=[],f=0,p=1/0,g=[],v=o.length;s&&(o=KM(o));for(var m=jM(o,l,c,u)*6,y=v-2,T=0;T<y;T+=2){var b=(m+T)%y+2;h[T+2]=o[b]-c[0],h[T+3]=o[b+1]-c[1]}h[0]=o[m]-c[0],h[1]=o[m+1]-c[1];for(var A=n/r,R=-n/2;R<=n/2;R+=A){for(var w=Math.sin(R),S=Math.cos(R),N=0,T=0;T<o.length;T+=2){var I=h[T],C=h[T+1],M=l[T]-u[0],k=l[T+1]-u[1],E=M*S-k*w,O=M*w+k*S;g[T]=E,g[T+1]=O;var _=E-I,x=O-C;N+=_*_+x*x}if(N<p){p=N,f=R;for(var L=0;L<g.length;L++)d[L]=g[L]}}i.push({from:h,to:d,fromCp:c,toCp:u,rotation:-f})}return i}function sg(t){return t.__isCombineMorphing}var cA="__mOriginal_";function Du(t,e,r){var n=cA+e,i=t[n]||t[e];t[n]||(t[n]=t[e]);var s=r.replace,a=r.after,o=r.before;t[e]=function(){var l=arguments,c;return o&&o.apply(this,l),s?c=s.apply(this,l):c=i.apply(this,l),a&&a.apply(this,l),c}}function nl(t,e){var r=cA+e;t[r]&&(t[e]=t[r],t[r]=null)}function Ky(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;){var s=n[i],a=n[i+1];n[i++]=e[0]*s+e[2]*a+e[4],n[i++]=e[1]*s+e[3]*a+e[5]}}function uA(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=VM(ng(r),ng(n)),s=i[0],a=i[1],o=t.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}o&&Ky(s,o),l&&Ky(a,l),Du(e,"updateTransform",{replace:c}),e.transform=null;var u=ZM(s,a,10,Math.PI),h=[];Du(e,"buildPath",{replace:function(d){for(var f=e.__morphT,p=1-f,g=[],v=0;v<u.length;v++){var m=u[v],y=m.from,T=m.to,b=m.rotation*f,A=m.fromCp,R=m.toCp,w=Math.sin(b),S=Math.cos(b);Kb(g,A,R,f);for(var N=0;N<y.length;N+=2){var I=y[N],C=y[N+1],M=T[N],k=T[N+1],E=I*p+M*f,O=C*p+k*f;h[N]=E*S-O*w+g[0],h[N+1]=E*w+O*S+g[1]}var _=h[0],x=h[1];d.moveTo(_,x);for(var N=2;N<y.length;){var M=h[N++],k=h[N++],L=h[N++],D=h[N++],P=h[N++],U=h[N++];_===M&&x===k&&L===P&&D===U?d.lineTo(P,U):d.bezierCurveTo(M,k,L,D,P,U),_=P,x=U}}}})}function hA(t,e,r){if(!t||!e)return e;var n=r.done,i=r.during;uA(t,e),e.__morphT=0;function s(){nl(e,"buildPath"),nl(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},$r({during:function(a){e.dirtyShape(),i&&i(a)},done:function(){s(),n&&n()}},r)),e}function QM(t,e,r,n,i,s){var a=16;t=i===r?0:Math.round(32767*(t-r)/(i-r)),e=s===n?0:Math.round(32767*(e-n)/(s-n));for(var o=0,l,c=(1<<a)/2;c>0;c/=2){var u=0,h=0;(t&c)>0&&(u=1),(e&c)>0&&(h=1),o+=c*c*(3*u^h),h===0&&(u===1&&(t=c-1-t,e=c-1-e),l=t,t=e,e=l)}return o}function Fu(t){var e=1/0,r=1/0,n=-1/0,i=-1/0,s=yt(t,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return e=Math.min(u,e),r=Math.min(h,r),n=Math.max(u,n),i=Math.max(h,i),[u,h]}),a=yt(s,function(o,l){return{cp:o,z:QM(o[0],o[1],e,r,n,i),path:t[l]}});return a.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function fA(t){return XM(t.path,t.count)}function ag(){return{fromIndividuals:[],toIndividuals:[],count:0}}function J$(t,e,r){var n=[];function i(A){for(var R=0;R<A.length;R++){var w=A[R];sg(w)?i(w.childrenRef()):w instanceof Pt&&n.push(w)}}i(t);var s=n.length;if(!s)return ag();var a=r.dividePath||fA,o=a({path:e,count:s});if(o.length!==s)return console.error("Invalid morphing: unmatched splitted path"),ag();n=Fu(n),o=Fu(o);for(var l=r.done,c=r.during,u=r.individualDelay,h=new kv,d=0;d<s;d++){var f=n[d],p=o[d];p.parent=e,p.copyTransform(h),u||uA(f,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function g(A){for(var R=0;R<o.length;R++)o[R].addSelfToZr(A)}Du(e,"addSelfToZr",{after:function(A){g(A)}}),Du(e,"removeSelfFromZr",{after:function(A){for(var R=0;R<o.length;R++)o[R].removeSelfFromZr(A)}});function v(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,nl(e,"addSelfToZr"),nl(e,"removeSelfFromZr")}var m=o.length;if(u)for(var y=m,T=function(){y--,y===0&&(v(),l&&l())},d=0;d<m;d++){var b=u?$r({delay:(r.delay||0)+u(d,m,n[d],o[d]),done:T},r):r;hA(n[d],o[d],b)}else e.__morphT=0,e.animateTo({__morphT:1},$r({during:function(A){for(var R=0;R<m;R++){var w=o[R];w.__morphT=e.__morphT,w.dirtyShape()}c&&c(A)},done:function(){v();for(var A=0;A<t.length;A++)nl(t[A],"updateTransform");l&&l()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:o,count:m}}function e3(t,e,r){var n=e.length,i=[],s=r.dividePath||fA;function a(f){for(var p=0;p<f.length;p++){var g=f[p];sg(g)?a(g.childrenRef()):g instanceof Pt&&i.push(g)}}if(sg(t)){a(t.childrenRef());var o=i.length;if(o<n)for(var l=0,c=o;c<n;c++)i.push(Uw(i[l++%o]));i.length=n}else{i=s({path:t,count:n});for(var u=t.getComputedTransform(),c=0;c<i.length;c++)i[c].setLocalTransform(u);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),ag()}i=Fu(i),e=Fu(e);for(var h=r.individualDelay,c=0;c<n;c++){var d=h?$r({delay:(r.delay||0)+h(c,n,i[c],e[c])},r):r;hA(i[c],e[c],d)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}var $n={},Hn={},gd={},Zy;function JM(){return Zy||(Zy=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1,r=function(){return"".concat(e++)};t.default=r}(gd)),gd}var Ya={},Xa={},vd={},Qy;function dA(){return Qy||(Qy=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,s=null;return function(){for(var a=this,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];clearTimeout(s),s=setTimeout(function(){n.apply(a,l)},i)}};t.default=e}(vd)),vd}var zn={},Jy;function zv(){if(Jy)return zn;Jy=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.SizeSensorId=zn.SensorTabIndex=zn.SensorClassName=void 0;var t="size-sensor-id";zn.SizeSensorId=t;var e="size-sensor-object";zn.SensorClassName=e;var r="-1";return zn.SensorTabIndex=r,zn}var e1;function eI(){if(e1)return Xa;e1=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.createSensor=void 0;var t=r(dA()),e=zv();function r(i){return i&&i.__esModule?i:{default:i}}var n=function(s,a){var o=void 0,l=[],c=function(){getComputedStyle(s).position==="static"&&(s.style.position="relative");var g=document.createElement("object");return g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",u),u()},g.style.display="block",g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.height="100%",g.style.width="100%",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.zIndex="-1",g.style.opacity="0",g.setAttribute("class",e.SensorClassName),g.setAttribute("tabindex",e.SensorTabIndex),g.type="text/html",s.appendChild(g),g.data="about:blank",g},u=(0,t.default)(function(){l.forEach(function(p){p(s)})}),h=function(g){o||(o=c()),l.indexOf(g)===-1&&l.push(g)},d=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",u),o.parentNode.removeChild(o),s.removeAttribute(e.SizeSensorId),o=void 0,l=[],a&&a())},f=function(g){var v=l.indexOf(g);v!==-1&&l.splice(v,1),l.length===0&&o&&d()};return{element:s,bind:h,destroy:d,unbind:f}};return Xa.createSensor=n,Xa}var qa={},t1;function tI(){if(t1)return qa;t1=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.createSensor=void 0;var t=zv(),e=r(dA());function r(i){return i&&i.__esModule?i:{default:i}}var n=function(s,a){var o=void 0,l=[],c=(0,e.default)(function(){l.forEach(function(p){p(s)})}),u=function(){var g=new ResizeObserver(c);return g.observe(s),c(),g},h=function(g){o||(o=u()),l.indexOf(g)===-1&&l.push(g)},d=function(){o.disconnect(),l=[],o=void 0,s.removeAttribute(t.SizeSensorId),a&&a()},f=function(g){var v=l.indexOf(g);v!==-1&&l.splice(v,1),l.length===0&&o&&d()};return{element:s,bind:h,destroy:d,unbind:f}};return qa.createSensor=n,qa}var r1;function rI(){if(r1)return Ya;r1=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.createSensor=void 0;var t=eI(),e=tI(),r=typeof ResizeObserver<"u"?e.createSensor:t.createSensor;return Ya.createSensor=r,Ya}var n1;function nI(){if(n1)return Hn;n1=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.removeSensor=Hn.getSensor=Hn.Sensors=void 0;var t=n(JM()),e=rI(),r=zv();function n(l){return l&&l.__esModule?l:{default:l}}var i={};Hn.Sensors=i;function s(l){l&&i[l]&&delete i[l]}var a=function(c){var u=c.getAttribute(r.SizeSensorId);if(u&&i[u])return i[u];var h=(0,t.default)();c.setAttribute(r.SizeSensorId,h);var d=(0,e.createSensor)(c,function(){return s(h)});return i[h]=d,d};Hn.getSensor=a;var o=function(c){var u=c.element.getAttribute(r.SizeSensorId);c.destroy(),s(u)};return Hn.removeSensor=o,Hn}var i1;function iI(){if(i1)return $n;i1=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.ver=$n.clear=$n.bind=void 0;var t=nI(),e=function(s,a){var o=(0,t.getSensor)(s);return o.bind(a),function(){o.unbind(a)}};$n.bind=e;var r=function(s){var a=(0,t.getSensor)(s);(0,t.removeSensor)(a)};$n.clear=r;var n="1.0.2";return $n.ver=n,$n}var t3=iI(),md,s1;function sI(){return s1||(s1=1,md=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}),md}var aI=sI();const r3=nv(aI);class n3 extends Map{constructor(e,r=cI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(a1(this,e))}has(e){return super.has(a1(this,e))}set(e,r){return super.set(oI(this,e),r)}delete(e){return super.delete(lI(this,e))}}function a1({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function oI({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function lI({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function cI(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Qc={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,s=2*r-i;switch(n){case"r":return Qc.hue2rgb(s,i,t+1/3)*255;case"g":return Qc.hue2rgb(s,i,t)*255;case"b":return Qc.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},uI={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},hI={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Te={channel:Qc,lang:uI,unit:hI},hi={};for(let t=0;t<=255;t++)hi[t]=Te.unit.dec2hex(t);const Zt={ALL:0,RGB:1,HSL:2};let fI=class{constructor(){this.type=Zt.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Zt.ALL}is(e){return this.type===e}};class dI{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new fI}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=Zt.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=Te.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=Te.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Te.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=Te.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=Te.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Te.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),Te.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),Te.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),Te.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),Te.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),Te.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),Te.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Zt.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Zt.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Zt.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Zt.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Zt.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Zt.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const zh=new dI({r:0,g:0,b:0,a:0},"transparent"),sa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(sa.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,u=a?255:15;return zh.set({r:(n>>l*(c+3)&u)*o,g:(n>>l*(c+2)&u)*o,b:(n>>l*(c+1)&u)*o,a:s?(n&u)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${hi[Math.round(e)]}${hi[Math.round(r)]}${hi[Math.round(n)]}${hi[Math.round(i*255)]}`:`#${hi[Math.round(e)]}${hi[Math.round(r)]}${hi[Math.round(n)]}`}},is={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(is.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return Te.channel.clamp.h(parseFloat(r)*.9);case"rad":return Te.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Te.channel.clamp.h(parseFloat(r)*360)}}return Te.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(is.re);if(!r)return;const[,n,i,s,a,o]=r;return zh.set({h:is._hue2deg(n),s:Te.channel.clamp.s(parseFloat(i)),l:Te.channel.clamp.l(parseFloat(s)),a:a?Te.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${Te.lang.round(e)}, ${Te.lang.round(r)}%, ${Te.lang.round(n)}%, ${i})`:`hsl(${Te.lang.round(e)}, ${Te.lang.round(r)}%, ${Te.lang.round(n)}%)`}},il={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=il.colors[t];if(e)return sa.parse(e)},stringify:t=>{const e=sa.stringify(t);for(const r in il.colors)if(il.colors[r]===e)return r}},mo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(mo.re);if(!r)return;const[,n,i,s,a,o,l,c,u]=r;return zh.set({r:Te.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Te.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:Te.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?Te.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${Te.lang.round(e)}, ${Te.lang.round(r)}, ${Te.lang.round(n)}, ${Te.lang.round(i)})`:`rgb(${Te.lang.round(e)}, ${Te.lang.round(r)}, ${Te.lang.round(n)})`}},vn={format:{keyword:il,hex:sa,rgb:mo,rgba:mo,hsl:is,hsla:is},parse:t=>{if(typeof t!="string")return t;const e=sa.parse(t)||mo.parse(t)||is.parse(t)||il.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Zt.HSL)||t.data.r===void 0?is.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?mo.stringify(t):sa.stringify(t)},pA=(t,e)=>{const r=vn.parse(t);for(const n in e)r[n]=Te.channel.clamp[n](e[n]);return vn.stringify(r)},pI=(t,e,r=0,n=1)=>{if(typeof t!="number")return pA(t,{a:e});const i=zh.set({r:Te.channel.clamp.r(t),g:Te.channel.clamp.g(e),b:Te.channel.clamp.b(r),a:Te.channel.clamp.a(n)});return vn.stringify(i)},s3=(t,e)=>Te.lang.round(vn.parse(t)[e]),gI=t=>{const{r:e,g:r,b:n}=vn.parse(t),i=.2126*Te.channel.toLinear(e)+.7152*Te.channel.toLinear(r)+.0722*Te.channel.toLinear(n);return Te.lang.round(i)},vI=t=>gI(t)>=.5,a3=t=>!vI(t),gA=(t,e,r)=>{const n=vn.parse(t),i=n[e],s=Te.channel.clamp[e](i+r);return i!==s&&(n[e]=s),vn.stringify(n)},o3=(t,e)=>gA(t,"l",e),l3=(t,e)=>gA(t,"l",-e),c3=(t,e)=>{const r=vn.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return pA(t,n)},mI=(t,e,r=50)=>{const{r:n,g:i,b:s,a}=vn.parse(t),{r:o,g:l,b:c,a:u}=vn.parse(e),h=r/100,d=h*2-1,f=a-u,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,v=1-g,m=n*g+o*v,y=i*g+l*v,T=s*g+c*v,b=a*h+u*(1-h);return pI(m,y,T,b)},u3=(t,e=100)=>{const r=vn.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,mI(r,t,e)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:vA,setPrototypeOf:o1,isFrozen:yI,getPrototypeOf:TI,getOwnPropertyDescriptor:EI}=Object;let{freeze:lr,seal:en,create:mA}=Object,{apply:og,construct:lg}=typeof Reflect<"u"&&Reflect;lr||(lr=function(e){return e});en||(en=function(e){return e});og||(og=function(e,r,n){return e.apply(r,n)});lg||(lg=function(e,r){return new e(...r)});const yc=cr(Array.prototype.forEach),bI=cr(Array.prototype.lastIndexOf),l1=cr(Array.prototype.pop),Va=cr(Array.prototype.push),wI=cr(Array.prototype.splice),Jc=cr(String.prototype.toLowerCase),yd=cr(String.prototype.toString),c1=cr(String.prototype.match),ja=cr(String.prototype.replace),AI=cr(String.prototype.indexOf),_I=cr(String.prototype.trim),an=cr(Object.prototype.hasOwnProperty),ir=cr(RegExp.prototype.test),Ka=SI(TypeError);function cr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return og(t,e,n)}}function SI(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return lg(t,r)}}function Le(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jc;o1&&o1(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const s=r(i);s!==i&&(yI(e)||(e[n]=s),i=s)}t[i]=!0}return t}function xI(t){for(let e=0;e<t.length;e++)an(t,e)||(t[e]=null);return t}function Bn(t){const e=mA(null);for(const[r,n]of vA(t))an(t,r)&&(Array.isArray(n)?e[r]=xI(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Bn(n):e[r]=n);return e}function Za(t,e){for(;t!==null;){const n=EI(t,e);if(n){if(n.get)return cr(n.get);if(typeof n.value=="function")return cr(n.value)}t=TI(t)}function r(){return null}return r}const u1=lr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Td=lr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ed=lr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),RI=lr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bd=lr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),NI=lr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h1=lr(["#text"]),f1=lr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wd=lr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),d1=lr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tc=lr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),LI=en(/\{\{[\w\W]*|[\w\W]*\}\}/gm),OI=en(/<%[\w\W]*|[\w\W]*%>/gm),CI=en(/\$\{[\w\W]*/gm),MI=en(/^data-[\-\w.\u00B7-\uFFFF]+$/),II=en(/^aria-[\-\w]+$/),yA=en(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kI=en(/^(?:\w+script|data):/i),PI=en(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),TA=en(/^html$/i),DI=en(/^[a-z][.\w]*(-[.\w]+)+$/i);var p1=Object.freeze({__proto__:null,ARIA_ATTR:II,ATTR_WHITESPACE:PI,CUSTOM_ELEMENT:DI,DATA_ATTR:MI,DOCTYPE_NAME:TA,ERB_EXPR:OI,IS_ALLOWED_URI:yA,IS_SCRIPT_OR_DATA:kI,MUSTACHE_EXPR:LI,TMPLIT_EXPR:CI});const Qa={element:1,text:3,progressingInstruction:7,comment:8,document:9},FI=function(){return typeof window>"u"?null:window},UI=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},g1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function EA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FI();const e=oe=>EA(oe);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Qa.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,p=l.prototype,g=Za(p,"cloneNode"),v=Za(p,"remove"),m=Za(p,"nextSibling"),y=Za(p,"childNodes"),T=Za(p,"parentNode");if(typeof a=="function"){const oe=r.createElement("template");oe.content&&oe.content.ownerDocument&&(r=oe.content.ownerDocument)}let b,A="";const{implementation:R,createNodeIterator:w,createDocumentFragment:S,getElementsByTagName:N}=r,{importNode:I}=n;let C=g1();e.isSupported=typeof vA=="function"&&typeof T=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:k,TMPLIT_EXPR:E,DATA_ATTR:O,ARIA_ATTR:_,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:D}=p1;let{IS_ALLOWED_URI:P}=p1,U=null;const z=Le({},[...u1,...Td,...Ed,...bd,...h1]);let H=null;const V=Le({},[...f1,...wd,...d1,...Tc]);let W=Object.seal(mA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,ee=null,Z=!0,$=!0,Y=!1,X=!0,j=!1,ne=!0,K=!1,Ge=!1,Ae=!1,Dt=!1,Et=!1,Oe=!1,Wt=!0,Yt=!1;const Oi="user-content-";let bt=!0,Wr=!1,ft={},Xt=null;const Pn=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ii=null;const nr=Le({},["audio","video","img","source","image","track"]);let Sr=null;const dr=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Q="http://www.w3.org/1998/Math/MathML",te="http://www.w3.org/2000/svg",se="http://www.w3.org/1999/xhtml";let ue=se,le=!1,Ee=null;const Qe=Le({},[Q,te,se],yd);let Ie=Le({},["mi","mo","mn","ms","mtext"]),ce=Le({},["annotation-xml"]);const ae=Le({},["title","style","font","a","script"]);let Ne=null;const je=["application/xhtml+xml","text/html"],ke="text/html";let Ce=null,me=null;const pe=r.createElement("form"),Fe=function(F){return F instanceof RegExp||F instanceof Function},fe=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(me&&me===F)){if((!F||typeof F!="object")&&(F={}),F=Bn(F),Ne=je.indexOf(F.PARSER_MEDIA_TYPE)===-1?ke:F.PARSER_MEDIA_TYPE,Ce=Ne==="application/xhtml+xml"?yd:Jc,U=an(F,"ALLOWED_TAGS")?Le({},F.ALLOWED_TAGS,Ce):z,H=an(F,"ALLOWED_ATTR")?Le({},F.ALLOWED_ATTR,Ce):V,Ee=an(F,"ALLOWED_NAMESPACES")?Le({},F.ALLOWED_NAMESPACES,yd):Qe,Sr=an(F,"ADD_URI_SAFE_ATTR")?Le(Bn(dr),F.ADD_URI_SAFE_ATTR,Ce):dr,ii=an(F,"ADD_DATA_URI_TAGS")?Le(Bn(nr),F.ADD_DATA_URI_TAGS,Ce):nr,Xt=an(F,"FORBID_CONTENTS")?Le({},F.FORBID_CONTENTS,Ce):Pn,q=an(F,"FORBID_TAGS")?Le({},F.FORBID_TAGS,Ce):Bn({}),ee=an(F,"FORBID_ATTR")?Le({},F.FORBID_ATTR,Ce):Bn({}),ft=an(F,"USE_PROFILES")?F.USE_PROFILES:!1,Z=F.ALLOW_ARIA_ATTR!==!1,$=F.ALLOW_DATA_ATTR!==!1,Y=F.ALLOW_UNKNOWN_PROTOCOLS||!1,X=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,j=F.SAFE_FOR_TEMPLATES||!1,ne=F.SAFE_FOR_XML!==!1,K=F.WHOLE_DOCUMENT||!1,Dt=F.RETURN_DOM||!1,Et=F.RETURN_DOM_FRAGMENT||!1,Oe=F.RETURN_TRUSTED_TYPE||!1,Ae=F.FORCE_BODY||!1,Wt=F.SANITIZE_DOM!==!1,Yt=F.SANITIZE_NAMED_PROPS||!1,bt=F.KEEP_CONTENT!==!1,Wr=F.IN_PLACE||!1,P=F.ALLOWED_URI_REGEXP||yA,ue=F.NAMESPACE||se,Ie=F.MATHML_TEXT_INTEGRATION_POINTS||Ie,ce=F.HTML_INTEGRATION_POINTS||ce,W=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&Fe(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Fe(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),j&&($=!1),Et&&(Dt=!0),ft&&(U=Le({},h1),H=[],ft.html===!0&&(Le(U,u1),Le(H,f1)),ft.svg===!0&&(Le(U,Td),Le(H,wd),Le(H,Tc)),ft.svgFilters===!0&&(Le(U,Ed),Le(H,wd),Le(H,Tc)),ft.mathMl===!0&&(Le(U,bd),Le(H,d1),Le(H,Tc))),F.ADD_TAGS&&(U===z&&(U=Bn(U)),Le(U,F.ADD_TAGS,Ce)),F.ADD_ATTR&&(H===V&&(H=Bn(H)),Le(H,F.ADD_ATTR,Ce)),F.ADD_URI_SAFE_ATTR&&Le(Sr,F.ADD_URI_SAFE_ATTR,Ce),F.FORBID_CONTENTS&&(Xt===Pn&&(Xt=Bn(Xt)),Le(Xt,F.FORBID_CONTENTS,Ce)),bt&&(U["#text"]=!0),K&&Le(U,["html","head","body"]),U.table&&(Le(U,["tbody"]),delete q.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ka('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ka('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=F.TRUSTED_TYPES_POLICY,A=b.createHTML("")}else b===void 0&&(b=UI(f,i)),b!==null&&typeof A=="string"&&(A=b.createHTML(""));lr&&lr(F),me=F}},he=Le({},[...Td,...Ed,...RI]),wt=Le({},[...bd,...NI]),Re=function(F){let J=T(F);(!J||!J.tagName)&&(J={namespaceURI:ue,tagName:"template"});const ie=Jc(F.tagName),qe=Jc(J.tagName);return Ee[F.namespaceURI]?F.namespaceURI===te?J.namespaceURI===se?ie==="svg":J.namespaceURI===Q?ie==="svg"&&(qe==="annotation-xml"||Ie[qe]):!!he[ie]:F.namespaceURI===Q?J.namespaceURI===se?ie==="math":J.namespaceURI===te?ie==="math"&&ce[qe]:!!wt[ie]:F.namespaceURI===se?J.namespaceURI===te&&!ce[qe]||J.namespaceURI===Q&&!Ie[qe]?!1:!wt[ie]&&(ae[ie]||!he[ie]):!!(Ne==="application/xhtml+xml"&&Ee[F.namespaceURI]):!1},we=function(F){Va(e.removed,{element:F});try{T(F).removeChild(F)}catch{v(F)}},At=function(F,J){try{Va(e.removed,{attribute:J.getAttributeNode(F),from:J})}catch{Va(e.removed,{attribute:null,from:J})}if(J.removeAttribute(F),F==="is")if(Dt||Et)try{we(J)}catch{}else try{J.setAttribute(F,"")}catch{}},ht=function(F){let J=null,ie=null;if(Ae)F="<remove></remove>"+F;else{const it=c1(F,/^[\r\n\t ]+/);ie=it&&it[0]}Ne==="application/xhtml+xml"&&ue===se&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");const qe=b?b.createHTML(F):F;if(ue===se)try{J=new d().parseFromString(qe,Ne)}catch{}if(!J||!J.documentElement){J=R.createDocument(ue,"template",null);try{J.documentElement.innerHTML=le?A:qe}catch{}}const _t=J.body||J.documentElement;return F&&ie&&_t.insertBefore(r.createTextNode(ie),_t.childNodes[0]||null),ue===se?N.call(J,K?"html":"body")[0]:K?J.documentElement:_t},qt=function(F){return w.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Je=function(F){return F instanceof h&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof u)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},xr=function(F){return typeof o=="function"&&F instanceof o};function Vt(oe,F,J){yc(oe,ie=>{ie.call(e,F,J,me)})}const Os=function(F){let J=null;if(Vt(C.beforeSanitizeElements,F,null),Je(F))return we(F),!0;const ie=Ce(F.nodeName);if(Vt(C.uponSanitizeElement,F,{tagName:ie,allowedTags:U}),ne&&F.hasChildNodes()&&!xr(F.firstElementChild)&&ir(/<[/\w!]/g,F.innerHTML)&&ir(/<[/\w!]/g,F.textContent)||F.nodeType===Qa.progressingInstruction||ne&&F.nodeType===Qa.comment&&ir(/<[/\w]/g,F.data))return we(F),!0;if(!U[ie]||q[ie]){if(!q[ie]&&Dn(ie)&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,ie)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ie)))return!1;if(bt&&!Xt[ie]){const qe=T(F)||F.parentNode,_t=y(F)||F.childNodes;if(_t&&qe){const it=_t.length;for(let jt=it-1;jt>=0;--jt){const Rr=g(_t[jt],!0);Rr.__removalCount=(F.__removalCount||0)+1,qe.insertBefore(Rr,m(F))}}}return we(F),!0}return F instanceof l&&!Re(F)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&ir(/<\/no(script|embed|frames)/i,F.innerHTML)?(we(F),!0):(j&&F.nodeType===Qa.text&&(J=F.textContent,yc([M,k,E],qe=>{J=ja(J,qe," ")}),F.textContent!==J&&(Va(e.removed,{element:F.cloneNode()}),F.textContent=J)),Vt(C.afterSanitizeElements,F,null),!1)},Tn=function(F,J,ie){if(Wt&&(J==="id"||J==="name")&&(ie in r||ie in pe))return!1;if(!($&&!ee[J]&&ir(O,J))){if(!(Z&&ir(_,J))){if(!H[J]||ee[J]){if(!(Dn(F)&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,F)||W.tagNameCheck instanceof Function&&W.tagNameCheck(F))&&(W.attributeNameCheck instanceof RegExp&&ir(W.attributeNameCheck,J)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(J))||J==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,ie)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ie))))return!1}else if(!Sr[J]){if(!ir(P,ja(ie,L,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&F!=="script"&&AI(ie,"data:")===0&&ii[F])){if(!(Y&&!ir(x,ja(ie,L,"")))){if(ie)return!1}}}}}}return!0},Dn=function(F){return F!=="annotation-xml"&&c1(F,D)},Fn=function(F){Vt(C.beforeSanitizeAttributes,F,null);const{attributes:J}=F;if(!J||Je(F))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let qe=J.length;for(;qe--;){const _t=J[qe],{name:it,namespaceURI:jt,value:Rr}=_t,si=Ce(it),Cs=Rr;let dt=it==="value"?Cs:_I(Cs);if(ie.attrName=si,ie.attrValue=dt,ie.keepAttr=!0,ie.forceKeepAttr=void 0,Vt(C.uponSanitizeAttribute,F,ie),dt=ie.attrValue,Yt&&(si==="id"||si==="name")&&(At(it,F),dt=Oi+dt),ne&&ir(/((--!?|])>)|<\/(style|title)/i,dt)){At(it,F);continue}if(ie.forceKeepAttr)continue;if(!ie.keepAttr){At(it,F);continue}if(!X&&ir(/\/>/i,dt)){At(it,F);continue}j&&yc([M,k,E],pt=>{dt=ja(dt,pt," ")});const Ma=Ce(F.nodeName);if(!Tn(Ma,si,dt)){At(it,F);continue}if(b&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!jt)switch(f.getAttributeType(Ma,si)){case"TrustedHTML":{dt=b.createHTML(dt);break}case"TrustedScriptURL":{dt=b.createScriptURL(dt);break}}if(dt!==Cs)try{jt?F.setAttributeNS(jt,it,dt):F.setAttribute(it,dt),Je(F)?we(F):l1(e.removed)}catch{At(it,F)}}Vt(C.afterSanitizeAttributes,F,null)},Un=function oe(F){let J=null;const ie=qt(F);for(Vt(C.beforeSanitizeShadowDOM,F,null);J=ie.nextNode();)Vt(C.uponSanitizeShadowNode,J,null),Os(J),Fn(J),J.content instanceof s&&oe(J.content);Vt(C.afterSanitizeShadowDOM,F,null)};return e.sanitize=function(oe){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,ie=null,qe=null,_t=null;if(le=!oe,le&&(oe="<!-->"),typeof oe!="string"&&!xr(oe))if(typeof oe.toString=="function"){if(oe=oe.toString(),typeof oe!="string")throw Ka("dirty is not a string, aborting")}else throw Ka("toString is not a function");if(!e.isSupported)return oe;if(Ge||fe(F),e.removed=[],typeof oe=="string"&&(Wr=!1),Wr){if(oe.nodeName){const Rr=Ce(oe.nodeName);if(!U[Rr]||q[Rr])throw Ka("root node is forbidden and cannot be sanitized in-place")}}else if(oe instanceof o)J=ht("<!---->"),ie=J.ownerDocument.importNode(oe,!0),ie.nodeType===Qa.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?J=ie:J.appendChild(ie);else{if(!Dt&&!j&&!K&&oe.indexOf("<")===-1)return b&&Oe?b.createHTML(oe):oe;if(J=ht(oe),!J)return Dt?null:Oe?A:""}J&&Ae&&we(J.firstChild);const it=qt(Wr?oe:J);for(;qe=it.nextNode();)Os(qe),Fn(qe),qe.content instanceof s&&Un(qe.content);if(Wr)return oe;if(Dt){if(Et)for(_t=S.call(J.ownerDocument);J.firstChild;)_t.appendChild(J.firstChild);else _t=J;return(H.shadowroot||H.shadowrootmode)&&(_t=I.call(n,_t,!0)),_t}let jt=K?J.outerHTML:J.innerHTML;return K&&U["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&ir(TA,J.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+jt),j&&yc([M,k,E],Rr=>{jt=ja(jt,Rr," ")}),b&&Oe?b.createHTML(jt):jt},e.setConfig=function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fe(oe),Ge=!0},e.clearConfig=function(){me=null,Ge=!1},e.isValidAttribute=function(oe,F,J){me||fe({});const ie=Ce(oe),qe=Ce(F);return Tn(ie,qe,J)},e.addHook=function(oe,F){typeof F=="function"&&Va(C[oe],F)},e.removeHook=function(oe,F){if(F!==void 0){const J=bI(C[oe],F);return J===-1?void 0:wI(C[oe],J,1)[0]}return l1(C[oe])},e.removeHooks=function(oe){C[oe]=[]},e.removeAllHooks=function(){C=g1()},e}var h3=EA();const GI=Object.freeze({left:0,top:0,width:16,height:16}),Uu=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),bA=Object.freeze({...GI,...Uu}),$I=Object.freeze({...bA,body:"",hidden:!1}),HI=Object.freeze({width:null,height:null}),zI=Object.freeze({...HI,...Uu}),f3=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return Ad(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return Ad(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return Ad(o,r)?o:null}return null},Ad=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function BI(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function v1(t,e){const r=BI(t,e);for(const n in $I)n in Uu?n in t&&!(n in r)&&(r[n]=Uu[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function WI(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function m1(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=v1(n[o]||i[o],s)}return a(e),r.forEach(a),v1(t,s)}function d3(t,e){if(t.icons[e])return m1(t,e,[]);const r=WI(t,[e])[e];return r?m1(t,e,r):null}const YI=/(-?[0-9.]*[0-9]+[0-9.]*)/g,XI=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function y1(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(YI);if(n===null||!n.length)return t;const i=[];let s=n.shift(),a=XI.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function qI(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;r+=t.slice(i+1,s).trim(),t=t.slice(0,n).trim()+t.slice(a+1)}return{defs:r,content:t}}function VI(t,e){return t?"<defs>"+t+"</defs>"+e:e}function jI(t,e,r){const n=qI(t);return VI(n.defs,e+n.content+r)}const KI=t=>t==="unset"||t==="undefined"||t==="none";function p3(t,e){const r={...bA,...t},n={...zI,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(g=>{const v=[],m=g.hFlip,y=g.vFlip;let T=g.rotate;m?y?T+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):y&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let b;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:b=i.height/2+i.top,v.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,v.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}T%2===1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),v.length&&(s=jI(s,'<g transform="'+v.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let u,h;a===null?(h=o===null?"1em":o==="auto"?c:o,u=y1(h,l/c)):(u=a==="auto"?l:a,h=o===null?y1(u,c/l):o==="auto"?c:o);const d={},f=(g,v)=>{KI(v)||(d[g]=v.toString())};f("width",u),f("height",h);const p=[i.left,i.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const ZI=/\sid="(\S+)"/g,QI="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let JI=0;function g3(t,e=QI){const r=[];let n;for(;n=ZI.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const a=typeof e=="function"?e(s):e+(JI++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function v3(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}var Ja={},St={},T1;function ek(){return T1||(T1=1,Object.defineProperty(St,"__esModule",{value:!0}),St.BLANK_URL=St.relativeFirstCharacters=St.whitespaceEscapeCharsRegex=St.urlSchemeRegex=St.ctrlCharactersRegex=St.htmlCtrlEntityRegex=St.htmlEntitiesRegex=St.invalidProtocolRegex=void 0,St.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,St.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,St.htmlCtrlEntityRegex=/&(newline|tab);/gi,St.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,St.urlSchemeRegex=/^.+(:|&colon;)/gim,St.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,St.relativeFirstCharacters=[".","/"],St.BLANK_URL="about:blank"),St}var E1;function tk(){if(E1)return Ja;E1=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.sanitizeUrl=void 0;var t=ek();function e(a){return t.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return t.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var u=c.trimStart(),h=u.match(t.urlSchemeRegex);if(!h)return c;var d=h[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(d))return t.BLANK_URL;var f=u.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!n(f))return t.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return Ja.sanitizeUrl=s,Ja}var m3=tk();function Bv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Rs=Bv();function wA(t){Rs=t}var sl={exec:()=>null};function Be(t,e=""){let r=typeof t=="string"?t:t.source;const n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(ar.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,e)};return n}var ar={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},rk=/^(?:[ \t]*(?:\n|$))+/,nk=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ik=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,kl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,sk=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wv=/(?:[*+-]|\d{1,9}[.)])/,AA=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_A=Be(AA).replace(/bull/g,Wv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ak=Be(AA).replace(/bull/g,Wv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Yv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ok=/^[^\n]+/,Xv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,lk=Be(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Xv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ck=Be(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wv).getRegex(),Bh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",qv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,uk=Be("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",qv).replace("tag",Bh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),SA=Be(Yv).replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bh).getRegex(),hk=Be(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",SA).getRegex(),Vv={blockquote:hk,code:nk,def:lk,fences:ik,heading:sk,hr:kl,html:uk,lheading:_A,list:ck,newline:rk,paragraph:SA,table:sl,text:ok},b1=Be("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bh).getRegex(),fk={...Vv,lheading:ak,table:b1,paragraph:Be(Yv).replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",b1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bh).getRegex()},dk={...Vv,html:Be(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",qv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:sl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Be(Yv).replace("hr",kl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_A).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pk=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gk=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xA=/^( {2,}|\\)\n(?!\s*$)/,vk=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Wh=/[\p{P}\p{S}]/u,jv=/[\s\p{P}\p{S}]/u,RA=/[^\s\p{P}\p{S}]/u,mk=Be(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,jv).getRegex(),NA=/(?!~)[\p{P}\p{S}]/u,yk=/(?!~)[\s\p{P}\p{S}]/u,Tk=/(?:[^\s\p{P}\p{S}]|~)/u,Ek=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,LA=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bk=Be(LA,"u").replace(/punct/g,Wh).getRegex(),wk=Be(LA,"u").replace(/punct/g,NA).getRegex(),OA="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ak=Be(OA,"gu").replace(/notPunctSpace/g,RA).replace(/punctSpace/g,jv).replace(/punct/g,Wh).getRegex(),_k=Be(OA,"gu").replace(/notPunctSpace/g,Tk).replace(/punctSpace/g,yk).replace(/punct/g,NA).getRegex(),Sk=Be("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,RA).replace(/punctSpace/g,jv).replace(/punct/g,Wh).getRegex(),xk=Be(/\\(punct)/,"gu").replace(/punct/g,Wh).getRegex(),Rk=Be(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Nk=Be(qv).replace("(?:-->|$)","-->").getRegex(),Lk=Be("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Nk).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Gu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ok=Be(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Gu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),CA=Be(/^!?\[(label)\]\[(ref)\]/).replace("label",Gu).replace("ref",Xv).getRegex(),MA=Be(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xv).getRegex(),Ck=Be("reflink|nolink(?!\\()","g").replace("reflink",CA).replace("nolink",MA).getRegex(),Kv={_backpedal:sl,anyPunctuation:xk,autolink:Rk,blockSkip:Ek,br:xA,code:gk,del:sl,emStrongLDelim:bk,emStrongRDelimAst:Ak,emStrongRDelimUnd:Sk,escape:pk,link:Ok,nolink:MA,punctuation:mk,reflink:CA,reflinkSearch:Ck,tag:Lk,text:vk,url:sl},Mk={...Kv,link:Be(/^!?\[(label)\]\((.*?)\)/).replace("label",Gu).getRegex(),reflink:Be(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gu).getRegex()},cg={...Kv,emStrongRDelimAst:_k,emStrongLDelim:wk,url:Be(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ik={...cg,br:Be(xA).replace("{2,}","*").getRegex(),text:Be(cg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ec={normal:Vv,gfm:fk,pedantic:dk},eo={normal:Kv,gfm:cg,breaks:Ik,pedantic:Mk},kk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w1=t=>kk[t];function xn(t,e){if(e){if(ar.escapeTest.test(t))return t.replace(ar.escapeReplace,w1)}else if(ar.escapeTestNoEncode.test(t))return t.replace(ar.escapeReplaceNoEncode,w1);return t}function A1(t){try{t=encodeURI(t).replace(ar.percentDecode,"%")}catch{return null}return t}function _1(t,e){var s;const r=t.replace(ar.findPipe,(a,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(ar.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(ar.slashPipe,"|");return n}function to(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n&&t.charAt(n-i-1)===e;)i++;return t.slice(0,n-i)}function Pk(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function S1(t,e,r,n,i){const s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;const l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function Dk(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(n===null)return e;const i=n[1];return e.split(`
`).map(s=>{const a=s.match(r.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var $u=class{constructor(t){be(this,"options");be(this,"rules");be(this,"lexer");this.options=t||Rs}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:to(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],n=Dk(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){const n=to(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:to(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let r=to(e[0],`
`).split(`
`),n="",i="";const s=[];for(;r.length>0;){let a=!1;const o=[];let l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))o.push(r[l]),a=!0;else if(!a)o.push(r[l]);else break;r=r.slice(l);const c=o.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,i=i?`${i}
${u}`:u;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=h,r.length===0)break;const d=s.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){const f=d,p=f.raw+`
`+r.join(`
`),g=this.blockquote(p);s[s.length-1]=g,n=n.substring(0,n.length-f.raw.length)+g.raw,i=i.substring(0,i.length-f.text.length)+g.text;break}else if((d==null?void 0:d.type)==="list"){const f=d,p=f.raw+`
`+r.join(`
`),g=this.list(p);s[s.length-1]=g,n=n.substring(0,n.length-d.raw.length)+g.raw,i=i.substring(0,i.length-f.raw.length)+g.raw,r=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const s=this.rules.other.listItemRegex(r);let a=!1;for(;t;){let l=!1,c="",u="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),d=t.split(`
`,1)[0],f=!h.trim(),p=0;if(this.options.pedantic?(p=2,u=h.trimStart()):f?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=h.slice(p),p+=e[1].length),f&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,t=t.substring(d.length+1),l=!0),!l){const m=this.rules.other.nextBulletRegex(p),y=this.rules.other.hrRegex(p),T=this.rules.other.fencesBeginRegex(p),b=this.rules.other.headingBeginRegex(p),A=this.rules.other.htmlBeginRegex(p);for(;t;){const R=t.split(`
`,1)[0];let w;if(d=R,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),w=d):w=d.replace(this.rules.other.tabCharGlobal,"    "),T.test(d)||b.test(d)||A.test(d)||m.test(d)||y.test(d))break;if(w.search(this.rules.other.nonSpaceChar)>=p||!d.trim())u+=`
`+w.slice(p);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||T.test(h)||b.test(h)||y.test(h))break;u+=`
`+d}!f&&!d.trim()&&(f=!0),c+=R+`
`,t=t.substring(R.length+1),h=w.slice(p)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let g=null,v;this.options.gfm&&(g=this.rules.other.listIsTask.exec(u),g&&(v=g[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!g,checked:v,loose:!1,text:u,tokens:[]}),i.raw+=c}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const c=i.items[l].tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:i}}}table(t){var a;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const r=_1(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(const o of i)s.rows.push(_1(o,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const s=to(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Pk(e[2],"()");if(s===-2)return;if(s>-1){const o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),S1(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return S1(r,i,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...n[0]].length-1;let a,o,l=s,c=0;const u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(n=u.exec(e))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(o=[...a].length,n[3]||n[4]){l+=o;continue}else if((n[5]||n[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);const h=[...n[0]][0].length,d=t.slice(0,s+n.index+h+o);if(Math.min(s,o)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let n,i;if(e[2]==="@")n=e[0],i="mailto:"+n;else{let s;do s=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(s!==e[0]);n=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Qn=class ug{constructor(e){be(this,"tokens");be(this,"options");be(this,"state");be(this,"tokenizer");be(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Rs,this.options.tokenizer=this.options.tokenizer||new $u,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:ar,block:Ec.normal,inline:eo.normal};this.options.pedantic?(r.block=Ec.pedantic,r.inline=eo.pedantic):this.options.gfm&&(r.block=Ec.gfm,this.options.breaks?r.inline=eo.breaks:r.inline=eo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ec,inline:eo}}static lex(e,r){return new ug(r).lex(e)}static lexInline(e,r){return new ug(r).inlineTokens(e)}lex(e){e=e.replace(ar.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(ar.tabCharGlobal,"    ").replace(ar.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);const c=r.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),r.push(o);continue}let l=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0;const u=e.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o),n=l.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var o,l,c;let n=e,i=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;e;){s||(a=""),s=!1;let u;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(d=>(u=d.call({lexer:this},e,r))?(e=e.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const d=r.at(-1);u.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(e,n,a)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),r.push(u);continue}let h=e;if((c=this.options.extensions)!=null&&c.startInline){let d=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),s=!0;const d=r.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},Hu=class{constructor(t){be(this,"options");be(this,"parser");this.options=t||Rs}space(t){return""}code({text:t,lang:e,escaped:r}){var s;const n=(s=(e||"").match(ar.notSpaceStart))==null?void 0:s[0],i=t.replace(ar.endingNewline,"")+`
`;return n?'<pre><code class="language-'+xn(n)+'">'+(r?i:xn(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:xn(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,r=t.start;let n="";for(let a=0;a<t.items.length;a++){const o=t.items[a];n+=this.listitem(o)}const i=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(t){var r;let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+xn(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let i=0;i<t.header.length;i++)r+=this.tablecell(t.header[i]);e+=this.tablerow({text:r});let n="";for(let i=0;i<t.rows.length;i++){const s=t.rows[i];r="";for(let a=0;a<s.length;a++)r+=this.tablecell(s[a]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${xn(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),i=A1(t);if(i===null)return n;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+xn(e)+'"'),s+=">"+n+"</a>",s}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));const i=A1(t);if(i===null)return xn(r);t=i;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${xn(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:xn(t.text)}},Zv=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Jn=class hg{constructor(e){be(this,"options");be(this,"renderer");be(this,"textRenderer");this.options=e||Rs,this.options.renderer=this.options.renderer||new Hu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zv}static parse(e,r){return new hg(r).parse(e)}static parseInline(e,r){return new hg(r).parseInline(e)}parse(e,r=!0){var i,s;let n="";for(let a=0;a<e.length;a++){const o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(e,r=this.renderer){var i,s;let n="";for(let a=0;a<e.length;a++){const o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Kd,eu=(Kd=class{constructor(t){be(this,"options");be(this,"block");this.options=t||Rs}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Qn.lex:Qn.lexInline}provideParser(){return this.block?Jn.parse:Jn.parseInline}},be(Kd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Kd),Fk=class{constructor(...t){be(this,"defaults",Bv());be(this,"options",this.setOptions);be(this,"parse",this.parseMarkdown(!0));be(this,"parseInline",this.parseMarkdown(!1));be(this,"Parser",Jn);be(this,"Renderer",Hu);be(this,"TextRenderer",Zv);be(this,"Lexer",Qn);be(this,"Tokenizer",$u);be(this,"Hooks",eu);this.use(...t)}walkTokens(t,e){var n,i;let r=[];for(const s of t)switch(r=r.concat(e.call(this,s)),s.type){case"table":{const a=s;for(const o of a.header)r=r.concat(this.walkTokens(o.tokens,e));for(const o of a.rows)for(const l of o)r=r.concat(this.walkTokens(l.tokens,e));break}case"list":{const a=s;r=r.concat(this.walkTokens(a.items,e));break}default:{const a=s;(i=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const l=a[o].flat(1/0);r=r.concat(this.walkTokens(l,e))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),r.renderer){const i=this.defaults.renderer||new Hu(this.defaults);for(const s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,o=r.renderer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}n.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new $u(this.defaults);for(const s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,o=r.tokenizer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}n.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new eu;for(const s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,o=r.hooks[a],l=i[a];eu.passThroughHooks.has(s)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(i,c)).then(h=>l.call(i,h));const u=o.call(i,c);return l.call(i,u)}:i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}n.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Qn.lex(t,e??this.defaults)}parser(t,e){return Jn.parse(t,e??this.defaults)}parseMarkdown(t){return(r,n)=>{const i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);const o=s.hooks?s.hooks.provideLexer():t?Qn.lex:Qn.lexInline,l=s.hooks?s.hooks.provideParser():t?Jn.parse:Jn.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let c=o(r,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=l(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return a(c)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const n="<p>An error occurred:</p><pre>"+xn(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},vs=new Fk;function Ve(t,e){return vs.parse(t,e)}Ve.options=Ve.setOptions=function(t){return vs.setOptions(t),Ve.defaults=vs.defaults,wA(Ve.defaults),Ve};Ve.getDefaults=Bv;Ve.defaults=Rs;Ve.use=function(...t){return vs.use(...t),Ve.defaults=vs.defaults,wA(Ve.defaults),Ve};Ve.walkTokens=function(t,e){return vs.walkTokens(t,e)};Ve.parseInline=vs.parseInline;Ve.Parser=Jn;Ve.parser=Jn.parse;Ve.Renderer=Hu;Ve.TextRenderer=Zv;Ve.Lexer=Qn;Ve.lexer=Qn.lex;Ve.Tokenizer=$u;Ve.Hooks=eu;Ve.parse=Ve;Ve.options;Ve.setOptions;Ve.use;Ve.walkTokens;Ve.parseInline;Jn.parse;Qn.lex;function y3(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(u){var h,d;return(d=(h=u.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return e.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),u=c?c[1]:"",h=o;typeof o=="string"&&o.includes(`
`)&&(h=String(o).split(`
`).map(function(d,f){return f===0?d:""+u+d}).join(`
`)),a+=h+n[l+1]}),a}function _d(t,e,r){if(t&&t.length){const[n,i]=e,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of t){const[c,u]=l;l[0]=(c-n)*a-(u-i)*o+n,l[1]=(c-n)*o+(u-i)*a+i}}}function Uk(t,e){return t[0]===e[0]&&t[1]===e[1]}function Gk(t,e,r,n=1){const i=r,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of a)_d(c,o,i);const l=function(c,u,h){const d=[];for(const y of c){const T=[...y];Uk(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&d.push(T)}const f=[];u=Math.max(u,.1);const p=[];for(const y of d)for(let T=0;T<y.length-1;T++){const b=y[T],A=y[T+1];if(b[1]!==A[1]){const R=Math.min(b[1],A[1]);p.push({ymin:R,ymax:Math.max(b[1],A[1]),x:R===b[1]?b[0]:A[0],islope:(A[0]-b[0])/(A[1]-b[1])})}}if(p.sort((y,T)=>y.ymin<T.ymin?-1:y.ymin>T.ymin?1:y.x<T.x?-1:y.x>T.x?1:y.ymax===T.ymax?0:(y.ymax-T.ymax)/Math.abs(y.ymax-T.ymax)),!p.length)return f;let g=[],v=p[0].ymin,m=0;for(;g.length||p.length;){if(p.length){let y=-1;for(let T=0;T<p.length&&!(p[T].ymin>v);T++)y=T;p.splice(0,y+1).forEach(T=>{g.push({s:v,edge:T})})}if(g=g.filter(y=>!(y.edge.ymax<=v)),g.sort((y,T)=>y.edge.x===T.edge.x?0:(y.edge.x-T.edge.x)/Math.abs(y.edge.x-T.edge.x)),(h!==1||m%u==0)&&g.length>1)for(let y=0;y<g.length;y+=2){const T=y+1;if(T>=g.length)break;const b=g[y].edge,A=g[T].edge;f.push([[Math.round(b.x),v],[Math.round(A.x),v]])}v+=h,g.forEach(y=>{y.edge.x=y.edge.x+h*y.edge.islope}),m++}return f}(a,s,n);if(i){for(const c of a)_d(c,o,-i);(function(c,u,h){const d=[];c.forEach(f=>d.push(...f)),_d(d,u,h)})(l,o,-i)}return l}function Pl(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),Gk(t,i,n,s||1)}class Qv{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Pl(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Yh(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class $k extends Qv{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Pl(e,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,u]of i)Yh([c,u])&&a.push([[c[0]-o,c[1]+l],[...u]],[[c[0]+o,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class Hk extends Qv{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(e,i);return n.ops=n.ops.concat(s.ops),n}}class zk{constructor(e){this.helper=e}fillPolygons(e,r){const n=Pl(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of e){const l=Yh(o),c=l/i,u=Math.ceil(c)-1,h=l-u*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<u;p++){const g=f+h+p*i,v=d-a+2*Math.random()*a,m=g-a+2*Math.random()*a,y=this.helper.ellipse(v,m,s,s,r);n.push(...y.ops)}}return{type:"fillSketch",ops:n}}}class Bk{constructor(e){this.helper=e}fillPolygons(e,r){const n=Pl(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return e.forEach(a=>{const o=Yh(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let u=a[0],h=a[1];u[0]>h[0]&&(u=a[1],h=a[0]);const d=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let f=0;f<l;f++){const p=f*(n+i),g=p+n,v=[u[0]+p*Math.cos(d)+c*Math.cos(d),u[1]+p*Math.sin(d)+c*Math.sin(d)],m=[u[0]+g*Math.cos(d)+c*Math.cos(d),u[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(v[0],v[1],m[0],m[1],r))}}),s}}class Wk{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=Pl(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(s=>{const a=Yh(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<o;h++){const d=2*h*r,f=2*(h+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+d*Math.cos(u),l[1]+d*Math.sin(u)],v=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],m=[g[0]+p*Math.cos(u+Math.PI/4),g[1]+p*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],m[0],m[1],n),...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n))}}),i}}const gr={};class Yk{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Xk=0,Sd=1,x1=2,bc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function xd(t,e){return t.type===e}function Jv(t){const e=[],r=function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:Xk,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Sd,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:x1,text:""},o}(t);let n="BOD",i=0,s=r[i];for(;!xd(s,x1);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return Jv("M0,0"+t);i++,a=bc[s.text],n=s.text}else xd(s,Sd)?a=bc[n]:(i++,a=bc[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!xd(c,Sd))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof bc[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function IA(t){let e=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case"M":s.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],s.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":s.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],s.push({key:"L",data:[e,r]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((c,u)=>u%2?c+r:c+e);s.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((c,u)=>u%2?c+r:c+e);s.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((c,u)=>u%2?c+r:c+e);s.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],s.push({key:"T",data:[e,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=n,r=i}return s}function kA(t){const e=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[n,i]=u,[s,a]=u;break;case"C":e.push({key:"C",data:[...u]}),n=u[4],i=u[5],o=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],e.push({key:"L",data:[n,i]});break;case"V":i=u[0],e.push({key:"L",data:[n,i]});break;case"S":{let h=0,d=0;r==="C"||r==="S"?(h=n+(n-o),d=i+(i-l)):(h=n,d=i),e.push({key:"C",data:[h,d,...u]}),o=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[h,d]=u;let f=0,p=0;r==="Q"||r==="T"?(f=n+(n-o),p=i+(i-l)):(f=n,p=i);const g=n+2*(f-n)/3,v=i+2*(p-i)/3,m=h+2*(f-h)/3,y=d+2*(p-d)/3;e.push({key:"C",data:[g,v,m,y,h,d]}),o=f,l=p,n=h,i=d;break}case"Q":{const[h,d,f,p]=u,g=n+2*(h-n)/3,v=i+2*(d-i)/3,m=f+2*(h-f)/3,y=p+2*(d-p)/3;e.push({key:"C",data:[g,v,m,y,f,p]}),o=h,l=d,n=f,i=p;break}case"A":{const h=Math.abs(u[0]),d=Math.abs(u[1]),f=u[2],p=u[3],g=u[4],v=u[5],m=u[6];h===0||d===0?(e.push({key:"C",data:[n,i,v,m,v,m]}),n=v,i=m):(n!==v||i!==m)&&(PA(n,i,v,m,h,d,f,p,g).forEach(function(y){e.push({key:"C",data:y})}),n=v,i=m);break}case"Z":e.push({key:"Z",data:[]}),n=s,i=a}r=c}return e}function ro(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function PA(t,e,r,n,i,s,a,o,l,c){const u=(h=a,Math.PI*h/180);var h;let d=[],f=0,p=0,g=0,v=0;if(c)[f,p,g,v]=c;else{[t,e]=ro(t,e,-u),[r,n]=ro(r,n,-u);const k=(t-r)/2,E=(e-n)/2;let O=k*k/(i*i)+E*E/(s*s);O>1&&(O=Math.sqrt(O),i*=O,s*=O);const _=i*i,x=s*s,L=_*x-_*E*E-x*k*k,D=_*E*E+x*k*k,P=(o===l?-1:1)*Math.sqrt(Math.abs(L/D));g=P*i*E/s+(t+r)/2,v=P*-s*k/i+(e+n)/2,f=Math.asin(parseFloat(((e-v)/s).toFixed(9))),p=Math.asin(parseFloat(((n-v)/s).toFixed(9))),t<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let m=p-f;if(Math.abs(m)>120*Math.PI/180){const k=p,E=r,O=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=PA(r=g+i*Math.cos(p),n=v+s*Math.sin(p),E,O,i,s,a,0,l,[p,k,g,v])}m=p-f;const y=Math.cos(f),T=Math.sin(f),b=Math.cos(p),A=Math.sin(p),R=Math.tan(m/4),w=4/3*i*R,S=4/3*s*R,N=[t,e],I=[t+w*T,e-S*y],C=[r+w*A,n-S*b],M=[r,n];if(I[0]=2*N[0]-I[0],I[1]=2*N[1]-I[1],c)return[I,C,M].concat(d);{d=[I,C,M].concat(d);const k=[];for(let E=0;E<d.length;E+=3){const O=ro(d[E][0],d[E][1],u),_=ro(d[E+1][0],d[E+1][1],u),x=ro(d[E+2][0],d[E+2][1],u);k.push([O[0],O[1],_[0],_[1],x[0],x[1]])}return k}}const qk={randOffset:function(t,e){return ve(t,e)},randOffsetWithRange:function(t,e,r){return zu(t,e,r)},ellipse:function(t,e,r,n,i){const s=FA(r,n,i);return fg(t,e,i,s).opset},doubleLineOps:function(t,e,r,n,i){return wi(t,e,r,n,i,!0)}};function DA(t,e,r,n,i){return{type:"path",ops:wi(t,e,r,n,i)}}function tu(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...wi(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&i.push(...wi(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?DA(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function Vk(t,e,r,n,i){return function(s,a){return tu(s,!0,a)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function R1(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=wc(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:wc(r[0],1.5*(1+.22*e.roughness),O1(e));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=wc(a,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:wc(a,1.5*(1+.22*e.roughness),O1(e));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function FA(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return a+=ve(a*l,r),o+=ve(o*l,r),{increment:s,rx:a,ry:o}}function fg(t,e,r,n){const[i,s]=C1(n.increment,t,e,n.rx,n.ry,1,n.increment*zu(.1,zu(.4,1,r),r),r);let a=Bu(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=C1(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=Bu(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function N1(t,e,r,n,i,s,a,o,l){const c=t,u=e;let h=Math.abs(r/2),d=Math.abs(n/2);h+=ve(.01*h,l),d+=ve(.01*d,l);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,v=Math.min(g/2,(p-f)/2),m=M1(v,c,u,h,d,f,p,1,l);if(!l.disableMultiStroke){const y=M1(v,c,u,h,d,f,p,1.5,l);m.push(...y)}return a&&(o?m.push(...wi(c,u,c+h*Math.cos(f),u+d*Math.sin(f),l),...wi(c,u,c+h*Math.cos(p),u+d*Math.sin(p),l)):m.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(f),u+d*Math.sin(f)]})),{type:"path",ops:m}}function L1(t,e){const r=kA(IA(Jv(t))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...wi(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[l,c,u,h,d,f]=o;n.push(...jk(l,c,u,h,d,f,s,e)),s=[d,f];break}case"Z":n.push(...wi(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Rd(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+ve(i,e),n[0][1]+ve(i,e)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+ve(i,e),n[a][1]+ve(i,e)]})}}return{type:"fillPath",ops:r}}function zs(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!gr[i])switch(i){case"zigzag":gr[i]||(gr[i]=new $k(n));break;case"cross-hatch":gr[i]||(gr[i]=new Hk(n));break;case"dots":gr[i]||(gr[i]=new zk(n));break;case"dashed":gr[i]||(gr[i]=new Bk(n));break;case"zigzag-line":gr[i]||(gr[i]=new Wk(n));break;default:i="hachure",gr[i]||(gr[i]=new Qv(n))}return gr[i]}(e,qk).fillPolygons(t,e)}function O1(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function UA(t){return t.randomizer||(t.randomizer=new Yk(t.seed||0)),t.randomizer.next()}function zu(t,e,r,n=1){return r.roughness*n*(UA(r)*(e-t)+t)}function ve(t,e,r=1){return zu(-t,t,e,r)}function wi(t,e,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=dg(t,e,r,n,i,!0,!1);if(a)return o;const l=dg(t,e,r,n,i,!0,!0);return o.concat(l)}function dg(t,e,r,n,i,s,a){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=l/10);const h=u/2,d=.2+.2*UA(i);let f=i.bowing*i.maxRandomnessOffset*(n-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-r)/200;f=ve(f,i,c),p=ve(p,i,c);const g=[],v=()=>ve(h,i,c),m=()=>ve(u,i,c),y=i.preserveVertices;return a?g.push({op:"move",data:[t+(y?0:v()),e+(y?0:v())]}):g.push({op:"move",data:[t+(y?0:ve(u,i,c)),e+(y?0:ve(u,i,c))]}),a?g.push({op:"bcurveTo",data:[f+t+(r-t)*d+v(),p+e+(n-e)*d+v(),f+t+2*(r-t)*d+v(),p+e+2*(n-e)*d+v(),r+(y?0:v()),n+(y?0:v())]}):g.push({op:"bcurveTo",data:[f+t+(r-t)*d+m(),p+e+(n-e)*d+m(),f+t+2*(r-t)*d+m(),p+e+2*(n-e)*d+m(),r+(y?0:m()),n+(y?0:m())]}),g}function wc(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+ve(e,r),t[0][1]+ve(e,r)]),n.push([t[0][0]+ve(e,r),t[0][1]+ve(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+ve(e,r),t[i][1]+ve(e,r)]),i===t.length-1&&n.push([t[i][0]+ve(e,r),t[i][1]+ve(e,r)]);return Bu(n,null,r)}function Bu(t,e,r){const n=t.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*t[o+1][0]-a*t[o-1][0])/6,l[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...dg(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function C1(t,e,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let u=0;u<=2*Math.PI;u+=t){const h=[e+n*Math.cos(u),r+i*Math.sin(u)];l.push(h),c.push(h)}c.push([e+n*Math.cos(0),r+i*Math.sin(0)]),c.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const u=ve(.5,o)-Math.PI/2;c.push([ve(s,o)+e+.9*n*Math.cos(u-t),ve(s,o)+r+.9*i*Math.sin(u-t)]);const h=2*Math.PI+u-.01;for(let d=u;d<h;d+=t){const f=[ve(s,o)+e+n*Math.cos(d),ve(s,o)+r+i*Math.sin(d)];l.push(f),c.push(f)}c.push([ve(s,o)+e+n*Math.cos(u+2*Math.PI+.5*a),ve(s,o)+r+i*Math.sin(u+2*Math.PI+.5*a)]),c.push([ve(s,o)+e+.98*n*Math.cos(u+a),ve(s,o)+r+.98*i*Math.sin(u+a)]),c.push([ve(s,o)+e+.9*n*Math.cos(u+.5*a),ve(s,o)+r+.9*i*Math.sin(u+.5*a)])}return[c,l]}function M1(t,e,r,n,i,s,a,o,l){const c=s+ve(.1,l),u=[];u.push([ve(o,l)+e+.9*n*Math.cos(c-t),ve(o,l)+r+.9*i*Math.sin(c-t)]);for(let h=c;h<=a;h+=t)u.push([ve(o,l)+e+n*Math.cos(h),ve(o,l)+r+i*Math.sin(h)]);return u.push([e+n*Math.cos(a),r+i*Math.sin(a)]),u.push([e+n*Math.cos(a),r+i*Math.sin(a)]),Bu(u,null,l)}function jk(t,e,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let u=[0,0];const h=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<h;f++)f===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:ve(c[0],o)),a[1]+(d?0:ve(c[0],o))]}),u=d?[i,s]:[i+ve(c[f],o),s+ve(c[f],o)],l.push({op:"bcurveTo",data:[t+ve(c[f],o),e+ve(c[f],o),r+ve(c[f],o),n+ve(c[f],o),u[0],u[1]]});return l}function no(t){return[...t]}function I1(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(no(t[0]),no(t[1]),no(t[2]),no(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;n.push(no(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function ru(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Kk(t,e,r){const n=ru(e,r);if(n===0)return ru(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),ru(t,Zi(e,r,i))}function Zi(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function pg(t,e,r,n){const i=n||[];if(function(o,l){const c=o[l+0],u=o[l+1],h=o[l+2],d=o[l+3];let f=3*u[0]-2*c[0]-d[0];f*=f;let p=3*u[1]-2*c[1]-d[1];p*=p;let g=3*h[0]-2*d[0]-c[0];g*=g;let v=3*h[1]-2*d[1]-c[1];return v*=v,f<g&&(f=g),p<v&&(p=v),f+p}(t,e)<r){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(ru(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],u=t[e+2],h=t[e+3],d=Zi(l,c,.5),f=Zi(c,u,.5),p=Zi(u,h,.5),g=Zi(d,f,.5),v=Zi(f,p,.5),m=Zi(g,v,.5);pg([l,d,g,m],0,r,i),pg([m,v,p,h],0,r,i)}var s,a;return i}function Zk(t,e){return Wu(t,0,t.length,e)}function Wu(t,e,r,n,i){const s=i||[],a=t[e],o=t[r-1];let l=0,c=1;for(let u=e+1;u<r-1;++u){const h=Kk(t[u],a,o);h>l&&(l=h,c=u)}return Math.sqrt(l)>n?(Wu(t,e,c+1,n,s),Wu(t,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function Nd(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let s=0;s<i;s++)pg(t,3*s,e,n);return r&&r>0?Wu(n,0,n.length,r):n}const Lr="none";class Yu{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,s){const a=this._o(s);return this._d("line",[DA(e,r,n,i,a)],a)}rectangle(e,r,n,i,s){const a=this._o(s),o=[],l=Vk(e,r,n,i,a);if(a.fill){const c=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];a.fillStyle==="solid"?o.push(Rd([c],a)):o.push(zs([c],a))}return a.stroke!==Lr&&o.push(l),this._d("rectangle",o,a)}ellipse(e,r,n,i,s){const a=this._o(s),o=[],l=FA(n,i,a),c=fg(e,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const u=fg(e,r,a,l).opset;u.type="fillPath",o.push(u)}else o.push(zs([c.estimatedPoints],a));return a.stroke!==Lr&&o.push(c.opset),this._d("ellipse",o,a)}circle(e,r,n,i){const s=this.ellipse(e,r,n,n,i);return s.shape="circle",s}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[tu(e,!1,n)],n)}arc(e,r,n,i,s,a,o=!1,l){const c=this._o(l),u=[],h=N1(e,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=N1(e,r,n,i,s,a,!0,!1,d);f.type="fillPath",u.push(f)}else u.push(function(d,f,p,g,v,m,y){const T=d,b=f;let A=Math.abs(p/2),R=Math.abs(g/2);A+=ve(.01*A,y),R+=ve(.01*R,y);let w=v,S=m;for(;w<0;)w+=2*Math.PI,S+=2*Math.PI;S-w>2*Math.PI&&(w=0,S=2*Math.PI);const N=(S-w)/y.curveStepCount,I=[];for(let C=w;C<=S;C+=N)I.push([T+A*Math.cos(C),b+R*Math.sin(C)]);return I.push([T+A*Math.cos(S),b+R*Math.sin(S)]),I.push([T,b]),zs([I],y)}(e,r,n,i,s,a,c));return c.stroke!==Lr&&u.push(h),this._d("arc",u,c)}curve(e,r){const n=this._o(r),i=[],s=R1(e,n);if(n.fill&&n.fill!==Lr)if(n.fillStyle==="solid"){const a=R1(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...Nd(I1([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...Nd(I1(c),10,(1+n.roughness)/2))}a.length&&i.push(zs([a],n))}return n.stroke!==Lr&&i.push(s),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],s=tu(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Rd([e],n)):i.push(zs([e],n))),n.stroke!==Lr&&i.push(s),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==Lr,a=n.stroke!==Lr,o=!!(n.simplification&&n.simplification<1),l=function(u,h,d){const f=kA(IA(Jv(u))),p=[];let g=[],v=[0,0],m=[];const y=()=>{m.length>=4&&g.push(...Nd(m,h)),m=[]},T=()=>{y(),g.length&&(p.push(g),g=[])};for(const{key:A,data:R}of f)switch(A){case"M":T(),v=[R[0],R[1]],g.push(v);break;case"L":y(),g.push([R[0],R[1]]);break;case"C":if(!m.length){const w=g.length?g[g.length-1]:v;m.push([w[0],w[1]])}m.push([R[0],R[1]]),m.push([R[2],R[3]]),m.push([R[4],R[5]]);break;case"Z":y(),g.push([v[0],v[1]])}if(T(),!d)return p;const b=[];for(const A of p){const R=Zk(A,d);R.length&&b.push(R)}return b}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=L1(e,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const u=L1(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(Rd(l,n));else i.push(zs(l,n));return a&&(o?l.forEach(u=>{i.push(tu(u,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const s=typeof r=="number"&&r>=0?i.data.map(a=>+a.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Lr};break;case"fillPath":a={d:this.opsToPath(s),stroke:Lr,strokeWidth:0,fill:n.fill||Lr};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Lr,strokeWidth:n,fill:Lr}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class Qk{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Yu(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map(o=>+o.toFixed(n)):s.data;switch(s.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a),a}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a),a}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a),a}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s),s}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c),c}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const Ac="http://www.w3.org/2000/svg";class Jk{constructor(e,r){this.svg=e,this.gen=new Yu(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Ac,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Ac,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Ac,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=e.createElementNS(Ac,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a)}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a)}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a)}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var T3={canvas:(t,e)=>new Qk(t,e),svg:(t,e)=>new Jk(t,e),generator:t=>new Yu(t),newSeed:()=>Yu.newSeed()};function GA(t,e){return function(){return t.apply(e,arguments)}}const{toString:eP}=Object.prototype,{getPrototypeOf:em}=Object,{iterator:Xh,toStringTag:$A}=Symbol,qh=(t=>e=>{const r=eP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),e=>qh(e)===t),Vh=t=>e=>typeof e===t,{isArray:xa}=Array,_l=Vh("undefined");function tP(t){return t!==null&&!_l(t)&&t.constructor!==null&&!_l(t.constructor)&&Tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HA=yn("ArrayBuffer");function rP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HA(t.buffer),e}const nP=Vh("string"),Tr=Vh("function"),zA=Vh("number"),jh=t=>t!==null&&typeof t=="object",iP=t=>t===!0||t===!1,nu=t=>{if(qh(t)!=="object")return!1;const e=em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($A in t)&&!(Xh in t)},sP=yn("Date"),aP=yn("File"),oP=yn("Blob"),lP=yn("FileList"),cP=t=>jh(t)&&Tr(t.pipe),uP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tr(t.append)&&((e=qh(t))==="formdata"||e==="object"&&Tr(t.toString)&&t.toString()==="[object FormData]"))},hP=yn("URLSearchParams"),[fP,dP,pP,gP]=["ReadableStream","Request","Response","Headers"].map(yn),vP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dl(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),xa(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function BA(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,WA=t=>!_l(t)&&t!==ss;function gg(){const{caseless:t}=WA(this)&&this||{},e={},r=(n,i)=>{const s=t&&BA(e,i)||i;nu(e[s])&&nu(n)?e[s]=gg(e[s],n):nu(n)?e[s]=gg({},n):xa(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Dl(arguments[n],r);return e}const mP=(t,e,r,{allOwnKeys:n}={})=>(Dl(e,(i,s)=>{r&&Tr(i)?t[s]=GA(i,r):t[s]=i},{allOwnKeys:n}),t),yP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TP=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},EP=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&em(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},bP=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},wP=t=>{if(!t)return null;if(xa(t))return t;let e=t.length;if(!zA(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},AP=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&em(Uint8Array)),_P=(t,e)=>{const n=(t&&t[Xh]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},SP=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},xP=yn("HTMLFormElement"),RP=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),k1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),NP=yn("RegExp"),YA=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Dl(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},LP=t=>{YA(t,(e,r)=>{if(Tr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Tr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},OP=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return xa(t)?n(t):n(String(t).split(e)),r},CP=()=>{},MP=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function IP(t){return!!(t&&Tr(t.append)&&t[$A]==="FormData"&&t[Xh])}const kP=t=>{const e=new Array(10),r=(n,i)=>{if(jh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=xa(n)?[]:{};return Dl(n,(a,o)=>{const l=r(a,i+1);!_l(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},PP=yn("AsyncFunction"),DP=t=>t&&(jh(t)||Tr(t))&&Tr(t.then)&&Tr(t.catch),XA=((t,e)=>t?setImmediate:e?((r,n)=>(ss.addEventListener("message",({source:i,data:s})=>{i===ss&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ss.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Tr(ss.postMessage)),FP=typeof queueMicrotask<"u"?queueMicrotask.bind(ss):typeof process<"u"&&process.nextTick||XA,UP=t=>t!=null&&Tr(t[Xh]),B={isArray:xa,isArrayBuffer:HA,isBuffer:tP,isFormData:uP,isArrayBufferView:rP,isString:nP,isNumber:zA,isBoolean:iP,isObject:jh,isPlainObject:nu,isReadableStream:fP,isRequest:dP,isResponse:pP,isHeaders:gP,isUndefined:_l,isDate:sP,isFile:aP,isBlob:oP,isRegExp:NP,isFunction:Tr,isStream:cP,isURLSearchParams:hP,isTypedArray:AP,isFileList:lP,forEach:Dl,merge:gg,extend:mP,trim:vP,stripBOM:yP,inherits:TP,toFlatObject:EP,kindOf:qh,kindOfTest:yn,endsWith:bP,toArray:wP,forEachEntry:_P,matchAll:SP,isHTMLForm:xP,hasOwnProperty:k1,hasOwnProp:k1,reduceDescriptors:YA,freezeMethods:LP,toObjectSet:OP,toCamelCase:RP,noop:CP,toFiniteNumber:MP,findKey:BA,global:ss,isContextDefined:WA,isSpecCompliantForm:IP,toJSONObject:kP,isAsyncFn:PP,isThenable:DP,setImmediate:XA,asap:FP,isIterable:UP};function _e(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const qA=_e.prototype,VA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VA[t]={value:t}});Object.defineProperties(_e,VA);Object.defineProperty(qA,"isAxiosError",{value:!0});_e.from=(t,e,r,n,i,s)=>{const a=Object.create(qA);return B.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),_e.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const GP=null;function vg(t){return B.isPlainObject(t)||B.isArray(t)}function jA(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function P1(t,e,r){return t?t.concat(e).map(function(i,s){return i=jA(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function $P(t){return B.isArray(t)&&!t.some(vg)}const HP=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Kh(t,e,r){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!B.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(B.isDate(p))return p.toISOString();if(B.isBoolean(p))return p.toString();if(!l&&B.isBlob(p))throw new _e("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(p)||B.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,v){let m=p;if(p&&!v&&typeof p=="object"){if(B.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(B.isArray(p)&&$P(p)||(B.isFileList(p)||B.endsWith(g,"[]"))&&(m=B.toArray(p)))return g=jA(g),m.forEach(function(T,b){!(B.isUndefined(T)||T===null)&&e.append(a===!0?P1([g],b,s):a===null?g:g+"[]",c(T))}),!1}return vg(p)?!0:(e.append(P1(v,g,s),c(p)),!1)}const h=[],d=Object.assign(HP,{defaultVisitor:u,convertValue:c,isVisitable:vg});function f(p,g){if(!B.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),B.forEach(p,function(m,y){(!(B.isUndefined(m)||m===null)&&i.call(e,m,B.isString(y)?y.trim():y,g,d))===!0&&f(m,g?g.concat(y):[y])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return f(t),e}function D1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function tm(t,e){this._pairs=[],t&&Kh(t,this,e)}const KA=tm.prototype;KA.append=function(e,r){this._pairs.push([e,r])};KA.toString=function(e){const r=e?function(n){return e.call(this,n,D1)}:D1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function zP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZA(t,e,r){if(!e)return t;const n=r&&r.encode||zP;B.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=B.isURLSearchParams(e)?e.toString():new tm(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class F1{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(n){n!==null&&e(n)})}}const QA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BP=typeof URLSearchParams<"u"?URLSearchParams:tm,WP=typeof FormData<"u"?FormData:null,YP=typeof Blob<"u"?Blob:null,XP={isBrowser:!0,classes:{URLSearchParams:BP,FormData:WP,Blob:YP},protocols:["http","https","file","blob","url","data"]},rm=typeof window<"u"&&typeof document<"u",mg=typeof navigator=="object"&&navigator||void 0,qP=rm&&(!mg||["ReactNative","NativeScript","NS"].indexOf(mg.product)<0),VP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jP=rm&&window.location.href||"http://localhost",KP=Object.freeze({__proto__:null,hasBrowserEnv:rm,hasStandardBrowserEnv:qP,hasStandardBrowserWebWorkerEnv:VP,navigator:mg,origin:jP}),er={...KP,...XP};function ZP(t,e){return Kh(t,new er.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return er.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function QP(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JP(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function JA(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&B.isArray(i)?i.length:a,l?(B.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!B.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&B.isArray(i[a])&&(i[a]=JP(i[a])),!o)}if(B.isFormData(t)&&B.isFunction(t.entries)){const r={};return B.forEachEntry(t,(n,i)=>{e(QP(n),i,r,0)}),r}return null}function eD(t,e,r){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Fl={transitional:QA,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(JA(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ZP(e,this.formSerializer).toString();if((o=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kh(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),eD(e)):e}],transformResponse:[function(e){const r=this.transitional||Fl.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?_e.from(o,_e.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Fl.headers[t]={}});const tD=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rD=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&tD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},U1=Symbol("internals");function io(t){return t&&String(t).trim().toLowerCase()}function iu(t){return t===!1||t==null?t:B.isArray(t)?t.map(iu):String(t)}function nD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const iD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ld(t,e,r,n,i){if(B.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!B.isString(e)){if(B.isString(n))return e.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(e)}}function sD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function aD(t,e){const r=B.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Er=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const u=io(l);if(!u)throw new Error("header name must be a non-empty string");const h=B.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=iu(o))}const a=(o,l)=>B.forEach(o,(c,u)=>s(c,u,l));if(B.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(B.isString(e)&&(e=e.trim())&&!iD(e))a(rD(e),r);else if(B.isObject(e)&&B.isIterable(e)){let o={},l,c;for(const u of e){if(!B.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?B.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=io(e),e){const n=B.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return nD(i);if(B.isFunction(r))return r.call(this,i,n);if(B.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=io(e),e){const n=B.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ld(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=io(a),a){const o=B.findKey(n,a);o&&(!r||Ld(n,n[o],o,r))&&(delete n[o],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Ld(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return B.forEach(this,(i,s)=>{const a=B.findKey(n,s);if(a){r[a]=iu(i),delete r[s];return}const o=e?sD(s):String(s).trim();o!==s&&delete r[s],r[o]=iu(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return B.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[U1]=this[U1]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=io(a);n[o]||(aD(i,a),n[o]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Er.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});B.freezeMethods(Er);function Od(t,e){const r=this||Fl,n=e||r,i=Er.from(n.headers);let s=n.data;return B.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function e_(t){return!!(t&&t.__CANCEL__)}function Ra(t,e,r){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,r),this.name="CanceledError"}B.inherits(Ra,_e,{__CANCEL__:!0});function t_(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function oD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lD(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,d=0;for(;h!==i;)d+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function cD(t,e){let r=0,n=1e3/e,i,s;const a=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Xu=(t,e,r=3)=>{let n=0;const i=lD(50,250);return cD(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),u=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},G1=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},$1=t=>(...e)=>B.asap(()=>t(...e)),uD=er.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,er.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,hD=er.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];B.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),B.isString(n)&&a.push("path="+n),B.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function r_(t,e,r){let n=!fD(e);return t&&(n||r==!1)?dD(t,e):e}const H1=t=>t instanceof Er?{...t}:t;function ms(t,e){e=e||{};const r={};function n(c,u,h,d){return B.isPlainObject(c)&&B.isPlainObject(u)?B.merge.call({caseless:d},c,u):B.isPlainObject(u)?B.merge({},u):B.isArray(u)?u.slice():u}function i(c,u,h,d){if(B.isUndefined(u)){if(!B.isUndefined(c))return n(void 0,c,h,d)}else return n(c,u,h,d)}function s(c,u){if(!B.isUndefined(u))return n(void 0,u)}function a(c,u){if(B.isUndefined(u)){if(!B.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in e)return n(c,u);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,h)=>i(H1(c),H1(u),h,!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||i,d=h(t[u],e[u],u);B.isUndefined(d)&&h!==o||(r[u]=d)}),r}const n_=t=>{const e=ms({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Er.from(a),e.url=ZA(r_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(B.isFormData(r)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(er.hasStandardBrowserEnv&&(n&&B.isFunction(n)&&(n=n(e)),n||n!==!1&&uD(e.url))){const c=i&&s&&hD.read(s);c&&a.set(i,c)}return e},pD=typeof XMLHttpRequest<"u",gD=pD&&function(t){return new Promise(function(r,n){const i=n_(t);let s=i.data;const a=Er.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,h,d,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const T=Er.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:T,config:t,request:v};t_(function(w){r(w),g()},function(w){n(w),g()},A),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(n(new _e("Request aborted",_e.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new _e("Network Error",_e.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||QA;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new _e(b,A.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&B.forEach(a.toJSON(),function(b,A){v.setRequestHeader(A,b)}),B.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),c&&([d,p]=Xu(c,!0),v.addEventListener("progress",d)),l&&v.upload&&([h,f]=Xu(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=T=>{v&&(n(!T||T.type?new Ra(null,t,v):T),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=oD(i.url);if(y&&er.protocols.indexOf(y)===-1){n(new _e("Unsupported protocol "+y+":",_e.ERR_BAD_REQUEST,t));return}v.send(s||null)})},vD=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof _e?u:new Ra(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new _e(`timeout ${e} of ms exceeded`,_e.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>B.asap(o),l}},mD=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},yD=async function*(t,e){for await(const r of TD(t))yield*mD(r,e)},TD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},z1=(t,e,r,n)=>{const i=yD(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let h=u.byteLength;if(r){let d=s+=h;r(d)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Zh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i_=Zh&&typeof ReadableStream=="function",ED=Zh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),s_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bD=i_&&s_(()=>{let t=!1;const e=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),B1=64*1024,yg=i_&&s_(()=>B.isReadableStream(new Response("").body)),qu={stream:yg&&(t=>t.body)};Zh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qu[e]&&(qu[e]=B.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new _e(`Response type '${e}' is not supported`,_e.ERR_NOT_SUPPORT,n)})})})(new Response);const wD=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(er.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await ED(t)).byteLength},AD=async(t,e)=>{const r=B.toFiniteNumber(t.getContentLength());return r??wD(e)},_D=Zh&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=n_(t);c=c?(c+"").toLowerCase():"text";let f=vD([i,s&&s.toAbortSignal()],a),p;const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&bD&&r!=="get"&&r!=="head"&&(v=await AD(u,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(B.isFormData(n)&&(R=A.headers.get("content-type"))&&u.setContentType(R),A.body){const[w,S]=G1(v,Xu($1(l)));n=z1(A.body,B1,w,S)}}B.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;p=new Request(e,{...d,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?h:void 0});let y=await fetch(p,d);const T=yg&&(c==="stream"||c==="response");if(yg&&(o||T&&g)){const A={};["status","statusText","headers"].forEach(N=>{A[N]=y[N]});const R=B.toFiniteNumber(y.headers.get("content-length")),[w,S]=o&&G1(R,Xu($1(o),!0))||[];y=new Response(z1(y.body,B1,w,()=>{S&&S(),g&&g()}),A)}c=c||"text";let b=await qu[B.findKey(qu,c)||"text"](y,t);return!T&&g&&g(),await new Promise((A,R)=>{t_(A,R,{data:b,headers:Er.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,t,p),{cause:m.cause||m}):_e.from(m,m&&m.code,t,p)}}),Tg={http:GP,xhr:gD,fetch:_D};B.forEach(Tg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W1=t=>`- ${t}`,SD=t=>B.isFunction(t)||t===null||t===!1,a_={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!SD(r)&&(n=Tg[(a=String(r)).toLowerCase()],n===void 0))throw new _e(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(W1).join(`
`):" "+W1(s[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Tg};function Cd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ra(null,t)}function Y1(t){return Cd(t),t.headers=Er.from(t.headers),t.data=Od.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),a_.getAdapter(t.adapter||Fl.adapter)(t).then(function(n){return Cd(t),n.data=Od.call(t,t.transformResponse,n),n.headers=Er.from(n.headers),n},function(n){return e_(n)||(Cd(t),n&&n.response&&(n.response.data=Od.call(t,t.transformResponse,n.response),n.response.headers=Er.from(n.response.headers))),Promise.reject(n)})}const o_="1.10.0",Qh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const X1={};Qh.transitional=function(e,r,n){function i(s,a){return"[Axios v"+o_+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new _e(i(a," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!X1[a]&&(X1[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Qh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function xD(t,e,r){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new _e("option "+s+" must be "+l,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+s,_e.ERR_BAD_OPTION)}}const su={assertOptions:xD,validators:Qh},Sn=su.validators;let us=class{constructor(e){this.defaults=e||{},this.interceptors={request:new F1,response:new F1}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ms(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&su.assertOptions(n,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),i!=null&&(B.isFunction(i)?r.paramsSerializer={serialize:i}:su.assertOptions(i,{encode:Sn.function,serialize:Sn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),su.assertOptions(r,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&B.merge(s.common,s[r.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Er.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,d;if(!l){const p=[Y1.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),d=p.length,u=Promise.resolve(r);h<d;)u=u.then(p[h++],p[h++]);return u}d=o.length;let f=r;for(h=0;h<d;){const p=o[h++],g=o[h++];try{f=p(f)}catch(v){g.call(this,v);break}}try{u=Y1.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ms(this.defaults,e);const r=r_(e.baseURL,e.url,e.allowAbsoluteUrls);return ZA(r,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){us.prototype[e]=function(r,n){return this.request(ms(n||{},{method:e,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(ms(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}us.prototype[e]=r(),us.prototype[e+"Form"]=r(!0)});let RD=class l_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Ra(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new l_(function(i){e=i}),cancel:e}}};function ND(t){return function(r){return t.apply(null,r)}}function LD(t){return B.isObject(t)&&t.isAxiosError===!0}const Eg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eg).forEach(([t,e])=>{Eg[e]=t});function c_(t){const e=new us(t),r=GA(us.prototype.request,e);return B.extend(r,us.prototype,e,{allOwnKeys:!0}),B.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return c_(ms(t,i))},r}const Tt=c_(Fl);Tt.Axios=us;Tt.CanceledError=Ra;Tt.CancelToken=RD;Tt.isCancel=e_;Tt.VERSION=o_;Tt.toFormData=Kh;Tt.AxiosError=_e;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=ND;Tt.isAxiosError=LD;Tt.mergeConfig=ms;Tt.AxiosHeaders=Er;Tt.formToJSON=t=>JA(B.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=a_.getAdapter;Tt.HttpStatusCode=Eg;Tt.default=Tt;const{Axios:w3,AxiosError:A3,CanceledError:_3,isCancel:S3,CancelToken:x3,VERSION:R3,all:N3,Cancel:L3,isAxiosError:O3,spread:C3,toFormData:M3,AxiosHeaders:I3,HttpStatusCode:k3,formToJSON:P3,getAdapter:D3,mergeConfig:F3}=Tt;function rr(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function In(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function OD(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function au(t){return typeof t=="object"&&t!==null&&rr(t.container)&&In(t.reference)&&typeof t.message=="string"}class CD{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return rr(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const s=this.computeIsSubtype(e,r);return n[r]=s,s}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const s of n)this.isSubtype(s,e)&&i.push(s);return this.allSubtypes[e]=i,i}}}function Sl(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function u_(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function h_(t){return Sl(t)&&typeof t.fullText=="string"}class $t{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){return new $t(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return Or})}join(e=","){const r=this.iterator();let n="",i,s=!1;do i=r.next(),i.done||(s&&(n+=e),n+=MD(i.value)),s=!0;while(!i.done);return n}indexOf(e,r=0){const n=this.iterator();let i=0,s=n.next();for(;!s.done;){if(i>=r&&s.value===e)return i;s=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new $t(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?Or:{done:!1,value:e(i)}})}filter(e){return new $t(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return Or})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,s=n.next();for(;!s.done;)i===void 0?i=s.value:i=e(i,s.value),s=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const s=this.recursiveReduce(e,r,n);return s===void 0?i.value:r(s,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new $t(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const s=r.iterator.next();if(s.done)r.iterator=void 0;else return s}const{done:n,value:i}=this.nextFn(r.this);if(!n){const s=e(i);if(Vu(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(r.iterator);return Or})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new $t(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const a=n.iterator.next();if(a.done)n.iterator=void 0;else return a}const{done:i,value:s}=r.nextFn(n.this);if(!i)if(Vu(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(n.iterator);return Or})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new $t(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new $t(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?Or:this.nextFn(r.state)))}distinct(e){return new $t(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){const i=e?e(n.value):n.value;if(!r.set.has(i))return r.set.add(i),n}while(!n.done);return Or})}exclude(e,r){const n=new Set;for(const i of e){const s=r?r(i):i;n.add(s)}return this.filter(i=>{const s=r?r(i):i;return!n.has(s)})}}function MD(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function Vu(t){return!!t&&typeof t[Symbol.iterator]=="function"}const ID=new $t(()=>{},()=>Or),Or=Object.freeze({done:!0,value:void 0});function Ht(...t){if(t.length===1){const e=t[0];if(e instanceof $t)return e;if(Vu(e))return new $t(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new $t(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:Or)}return t.length>1?new $t(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];Vu(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return Or}):ID}class nm extends $t{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(a.done)i.iterators.pop();else return i.iterators.push(r(a.value)[Symbol.iterator]()),a}return Or})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var bg;(function(t){function e(s){return s.reduce((a,o)=>a+o,0)}t.sum=e;function r(s){return s.reduce((a,o)=>a*o,0)}t.product=r;function n(s){return s.reduce((a,o)=>Math.min(a,o))}t.min=n;function i(s){return s.reduce((a,o)=>Math.max(a,o))}t.max=i})(bg||(bg={}));function wg(t){return new nm(t,e=>Sl(e)?e.content:[],{includeRoot:!0})}function kD(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function Ag(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function ju(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var Vn;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(Vn||(Vn={}));function PD(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return Vn.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return Vn.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?Vn.Inside:r?Vn.OverlapBack:n?Vn.OverlapFront:Vn.Outside}function DD(t,e){return PD(t,e)>Vn.After}const FD=/^[\w\p{L}]$/u;function UD(t,e){if(t){const r=GD(t,!0);if(r&&q1(r,e))return r;if(h_(t)){const n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const s=t.content[i];if(q1(s,e))return s}}}}function q1(t,e){return u_(t)&&e.includes(t.tokenType.name)}function GD(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}class f_ extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}}function Ul(t){throw new Error("Error! The input value was not handled.")}const _c="AbstractRule",Sc="AbstractType",Md="Condition",V1="TypeDefinition",Id="ValueLiteral",yo="AbstractElement";function $D(t){return We.isInstance(t,yo)}const xc="ArrayLiteral",Rc="ArrayType",To="BooleanLiteral";function HD(t){return We.isInstance(t,To)}const Eo="Conjunction";function zD(t){return We.isInstance(t,Eo)}const bo="Disjunction";function BD(t){return We.isInstance(t,bo)}const Nc="Grammar",kd="GrammarImport",wo="InferredType";function d_(t){return We.isInstance(t,wo)}const Ao="Interface";function p_(t){return We.isInstance(t,Ao)}const Pd="NamedArgument",_o="Negation";function WD(t){return We.isInstance(t,_o)}const Lc="NumberLiteral",Oc="Parameter",So="ParameterReference";function YD(t){return We.isInstance(t,So)}const xo="ParserRule";function tn(t){return We.isInstance(t,xo)}const Cc="ReferenceType",ou="ReturnType";function XD(t){return We.isInstance(t,ou)}const Ro="SimpleType";function qD(t){return We.isInstance(t,Ro)}const Mc="StringLiteral",Xs="TerminalRule";function Ns(t){return We.isInstance(t,Xs)}const No="Type";function g_(t){return We.isInstance(t,No)}const Dd="TypeAttribute",Ic="UnionType",Lo="Action";function Jh(t){return We.isInstance(t,Lo)}const Oo="Alternatives";function v_(t){return We.isInstance(t,Oo)}const Co="Assignment";function ys(t){return We.isInstance(t,Co)}const Mo="CharacterRange";function VD(t){return We.isInstance(t,Mo)}const Io="CrossReference";function im(t){return We.isInstance(t,Io)}const ko="EndOfFile";function jD(t){return We.isInstance(t,ko)}const Po="Group";function sm(t){return We.isInstance(t,Po)}const Do="Keyword";function Ts(t){return We.isInstance(t,Do)}const Fo="NegatedToken";function KD(t){return We.isInstance(t,Fo)}const Uo="RegexToken";function ZD(t){return We.isInstance(t,Uo)}const Go="RuleCall";function Es(t){return We.isInstance(t,Go)}const $o="TerminalAlternatives";function QD(t){return We.isInstance(t,$o)}const Ho="TerminalGroup";function JD(t){return We.isInstance(t,Ho)}const zo="TerminalRuleCall";function e2(t){return We.isInstance(t,zo)}const Bo="UnorderedGroup";function m_(t){return We.isInstance(t,Bo)}const Wo="UntilToken";function t2(t){return We.isInstance(t,Wo)}const Yo="Wildcard";function r2(t){return We.isInstance(t,Yo)}class y_ extends CD{getAllTypes(){return[yo,_c,Sc,Lo,Oo,xc,Rc,Co,To,Mo,Md,Eo,Io,bo,ko,Nc,kd,Po,wo,Ao,Do,Pd,Fo,_o,Lc,Oc,So,xo,Cc,Uo,ou,Go,Ro,Mc,$o,Ho,Xs,zo,No,Dd,V1,Ic,Bo,Wo,Id,Yo]}computeIsSubtype(e,r){switch(e){case Lo:case Oo:case Co:case Mo:case Io:case ko:case Po:case Do:case Fo:case Uo:case Go:case $o:case Ho:case zo:case Bo:case Wo:case Yo:return this.isSubtype(yo,r);case xc:case Lc:case Mc:return this.isSubtype(Id,r);case Rc:case Cc:case Ro:case Ic:return this.isSubtype(V1,r);case To:return this.isSubtype(Md,r)||this.isSubtype(Id,r);case Eo:case bo:case _o:case So:return this.isSubtype(Md,r);case wo:case Ao:case No:return this.isSubtype(Sc,r);case xo:return this.isSubtype(_c,r)||this.isSubtype(Sc,r);case Xs:return this.isSubtype(_c,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Sc;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return _c;case"Grammar:usedGrammars":return Nc;case"NamedArgument:parameter":case"ParameterReference:parameter":return Oc;case"TerminalRuleCall:rule":return Xs;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case yo:return{name:yo,properties:[{name:"cardinality"},{name:"lookahead"}]};case xc:return{name:xc,properties:[{name:"elements",defaultValue:[]}]};case Rc:return{name:Rc,properties:[{name:"elementType"}]};case To:return{name:To,properties:[{name:"true",defaultValue:!1}]};case Eo:return{name:Eo,properties:[{name:"left"},{name:"right"}]};case bo:return{name:bo,properties:[{name:"left"},{name:"right"}]};case Nc:return{name:Nc,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case kd:return{name:kd,properties:[{name:"path"}]};case wo:return{name:wo,properties:[{name:"name"}]};case Ao:return{name:Ao,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Pd:return{name:Pd,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case _o:return{name:_o,properties:[{name:"value"}]};case Lc:return{name:Lc,properties:[{name:"value"}]};case Oc:return{name:Oc,properties:[{name:"name"}]};case So:return{name:So,properties:[{name:"parameter"}]};case xo:return{name:xo,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Cc:return{name:Cc,properties:[{name:"referenceType"}]};case ou:return{name:ou,properties:[{name:"name"}]};case Ro:return{name:Ro,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Mc:return{name:Mc,properties:[{name:"value"}]};case Xs:return{name:Xs,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case No:return{name:No,properties:[{name:"name"},{name:"type"}]};case Dd:return{name:Dd,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Ic:return{name:Ic,properties:[{name:"types",defaultValue:[]}]};case Lo:return{name:Lo,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Oo:return{name:Oo,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Co:return{name:Co,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Mo:return{name:Mo,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Io:return{name:Io,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case ko:return{name:ko,properties:[{name:"cardinality"},{name:"lookahead"}]};case Po:return{name:Po,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Do:return{name:Do,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Fo:return{name:Fo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Uo:return{name:Uo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Go:return{name:Go,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case $o:return{name:$o,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ho:return{name:Ho,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case zo:return{name:zo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Bo:return{name:Bo,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Wo:return{name:Wo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Yo:return{name:Yo,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const We=new y_;function n2(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{rr(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):rr(r)&&(r.$container=t,r.$containerProperty=e))}function ef(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function Ai(t){const r=_g(t).$document;if(!r)throw new Error("AST node has no document.");return r}function _g(t){for(;t.$container;)t=t.$container;return t}function am(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new $t(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const s=t[i];if(rr(s)){if(n.keyIndex++,j1(s,r))return{done:!1,value:s}}else if(Array.isArray(s)){for(;n.arrayIndex<s.length;){const a=n.arrayIndex++,o=s[a];if(rr(o)&&j1(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return Or})}function Gl(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new nm(t,r=>am(r,e))}function aa(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new nm(t,r=>am(r,e),{includeRoot:!0})}function j1(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return n?DD(n,e):!1}function T_(t){return new $t(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(In(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,s=n[i];if(In(s))return{done:!1,value:{reference:s,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return Or})}function i2(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=E_(i.defaultValue))}function E_(t){return Array.isArray(t)?[...t.map(E_)]:t}function ye(t){return t.charCodeAt(0)}function Fd(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function so(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Bs(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function s2(){throw Error("Internal Error - Should never get here!")}function K1(t){return t.type==="Character"}const Ku=[];for(let t=ye("0");t<=ye("9");t++)Ku.push(t);const Zu=[ye("_")].concat(Ku);for(let t=ye("a");t<=ye("z");t++)Zu.push(t);for(let t=ye("A");t<=ye("Z");t++)Zu.push(t);const Z1=[ye(" "),ye("\f"),ye(`
`),ye("\r"),ye("	"),ye("\v"),ye("	"),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye(""),ye("\u2028"),ye("\u2029"),ye(""),ye(""),ye(""),ye("\uFEFF")],a2=/[0-9a-fA-F]/,kc=/[0-9]/,o2=/[1-9]/;class b_{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":so(n,"global");break;case"i":so(n,"ignoreCase");break;case"m":so(n,"multiLine");break;case"u":so(n,"unicode");break;case"y":so(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Bs(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return s2()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),r={atLeast:i,atMost:s}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;Bs(r);break}if(!(e===!0&&r===void 0)&&Bs(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Bs(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ye(`
`),ye("\r"),ye("\u2028"),ye("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=Ku;break;case"D":e=Ku,r=!0;break;case"s":e=Z1;break;case"S":e=Z1,r=!0;break;case"w":e=Zu;break;case"W":e=Zu,r=!0;break}if(Bs(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=ye("\f");break;case"n":e=ye(`
`);break;case"r":e=ye("\r");break;case"t":e=ye("	");break;case"v":e=ye("\v");break}if(Bs(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ye("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:ye(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:ye(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,K1(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,K1(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else Fd(n.value,e),e.push(ye("-")),Fd(i.value,e)}else Fd(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ye("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(o2.test(e)===!1)throw Error("Expecting a positive integer");for(;kc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(kc.test(e)===!1)throw Error("Expecting an integer");for(;kc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ye(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return kc.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){const s=this.popChar();if(a2.test(s)===!1)throw Error("Expecting a HexDecimal digits");r+=s}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class tf{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const l2=/\r?\n/gm,c2=new b_;class u2 extends tf{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=rf(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){const r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const Ud=new u2;function h2(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),Ud.reset(t),Ud.visit(c2.pattern(t)),Ud.multiline}catch{return!1}}const f2=`\f
\r	\v \u2028\u2029\uFEFF`.split("");function Sg(t){const e=typeof t=="string"?new RegExp(t):t;return f2.some(r=>e.test(r))}function rf(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d2(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:rf(e)).join("")}function p2(t,e){const r=g2(t),n=e.match(r);return!!n&&n[0].length>0}function g2(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;function i(){let s="",a;function o(c){s+=r.substr(n,c),n+=c}function l(c){s+="(?:"+r.substr(n,c)+"|$)",n+=c}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=n,a=a.exec(r)||[],l(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=n,a=a.exec(r),a?o(a[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":s+="(?:",n+=3,s+=i()+"|$)";break;case"=":s+="(?=",n+=3,s+=i()+")";break;case"!":a=n,n+=3,i(),s+=r.substr(a,n-a);break;case"<":switch(r[n+3]){case"=":case"!":a=n,n+=4,i(),s+=r.substr(a,n-a);break;default:o(r.indexOf(">",n)-n+1),s+=i()+"|$)";break}break}else o(1),s+=i()+"|$)";break;case")":return++n,s;default:l(1);break}return s}return new RegExp(i(),t.flags)}function v2(t){return t.rules.find(e=>tn(e)&&e.entry)}function m2(t){return t.rules.filter(e=>Ns(e)&&e.hidden)}function w_(t,e){const r=new Set,n=v2(t);if(!n)return new Set(t.rules);const i=[n].concat(m2(t));for(const a of i)A_(a,r,e);const s=new Set;for(const a of t.rules)(r.has(a.name)||Ns(a)&&a.hidden)&&s.add(a);return s}function A_(t,e,r){e.add(t.name),Gl(t).forEach(n=>{if(Es(n)||r){const i=n.rule.ref;i&&!e.has(i.name)&&A_(i,e,r)}})}function y2(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=S_(t.type.ref);return e==null?void 0:e.terminal}}function T2(t){return t.hidden&&!Sg(um(t))}function E2(t,e){return!t||!e?[]:om(t,e,t.astNode,!0)}function __(t,e,r){if(!t||!e)return;const n=om(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function om(t,e,r,n){if(!n){const i=ef(t.grammarSource,ys);if(i&&i.feature===e)return[t]}return Sl(t)&&t.astNode===r?t.content.flatMap(i=>om(i,e,r,!1)):[]}function b2(t,e,r){if(!t)return;const n=w2(t,e,t==null?void 0:t.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function w2(t,e,r){if(t.astNode!==r)return[];if(Ts(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=wg(t).iterator();let i;const s=[];do if(i=n.next(),!i.done){const a=i.value;a.astNode===r?Ts(a.grammarSource)&&a.grammarSource.value===e&&s.push(a):n.prune()}while(!i.done);return s}function A2(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=ef(t.grammarSource,ys);if(n)return n;t=t.container}}function S_(t){let e=t;return d_(e)&&(Jh(e.$container)?e=e.$container.$container:tn(e.$container)?e=e.$container:Ul(e.$container)),x_(t,e,new Map)}function x_(t,e,r){var n;function i(s,a){let o;return ef(s,ys)||(o=x_(a,a,r)),r.set(t,o),o}if(r.has(t))return r.get(t);r.set(t,void 0);for(const s of Gl(e)){if(ys(s)&&s.feature.toLowerCase()==="name")return r.set(t,s),s;if(Es(s)&&tn(s.rule.ref))return i(s,s.rule.ref);if(qD(s)&&(!((n=s.typeRef)===null||n===void 0)&&n.ref))return i(s,s.typeRef.ref)}}function R_(t){return N_(t,new Set)}function N_(t,e){if(e.has(t))return!0;e.add(t);for(const r of Gl(t))if(Es(r)){if(!r.rule.ref||tn(r.rule.ref)&&!N_(r.rule.ref,e))return!1}else{if(ys(r))return!1;if(Jh(r))return!1}return!!t.definition}function lm(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(tn(e))return e.name;if(p_(e)||g_(e))return e.name}}}function cm(t){var e;if(tn(t))return R_(t)?t.name:(e=lm(t))!==null&&e!==void 0?e:t.name;if(p_(t)||g_(t)||XD(t))return t.name;if(Jh(t)){const r=_2(t);if(r)return r}else if(d_(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function _2(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return cm(t.type.ref)}function S2(t){var e,r,n;return Ns(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":(n=lm(t))!==null&&n!==void 0?n:t.name}function um(t){const e={s:!1,i:!1,u:!1},r=Na(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const hm=/[\s\S]/.source;function Na(t,e){if(QD(t))return x2(t);if(JD(t))return R2(t);if(VD(t))return O2(t);if(e2(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return ei(Na(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(KD(t))return L2(t);if(t2(t))return N2(t);if(ZD(t)){const r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),ei(n,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(r2(t))return ei(hm,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function x2(t){return ei(t.elements.map(e=>Na(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function R2(t){return ei(t.elements.map(e=>Na(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function N2(t){return ei(`${hm}*?${Na(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function L2(t){return ei(`(?!${Na(t.terminal)})${hm}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function O2(t){return t.right?ei(`[${Gd(t.left)}-${Gd(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):ei(Gd(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function Gd(t){return rf(t.value)}function ei(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function C2(t){const e=[],r=t.Grammar;for(const n of r.rules)Ns(n)&&T2(n)&&h2(um(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:FD}}function xg(t){console&&console.error&&console.error(`Error: ${t}`)}function L_(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function O_(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function C_(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}function M2(t){return I2(t)?t.LABEL:t.name}function I2(t){return Fr(t.LABEL)&&t.LABEL!==""}class kn{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),de(this.definition,r=>{r.accept(e)})}}class ur extends kn{constructor(e){super([]),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class La extends kn{constructor(e){super(e.definition),this.orgText="",Dr(this,mn(e,r=>r!==void 0))}}class wr extends kn{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Dr(this,mn(e,r=>r!==void 0))}}class zt extends kn{constructor(e){super(e.definition),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}}class zr extends kn{constructor(e){super(e.definition),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}}class Br extends kn{constructor(e){super(e.definition),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}}class lt extends kn{constructor(e){super(e.definition),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}}class Ar extends kn{constructor(e){super(e.definition),this.idx=1,Dr(this,mn(e,r=>r!==void 0))}}class _r extends kn{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Dr(this,mn(e,r=>r!==void 0))}}class rt{constructor(e){this.idx=1,Dr(this,mn(e,r=>r!==void 0))}accept(e){e.visit(this)}}function k2(t){return re(t,lu)}function lu(t){function e(r){return re(r,lu)}if(t instanceof ur){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Fr(t.label)&&(r.label=t.label),r}else{if(t instanceof wr)return{type:"Alternative",definition:e(t.definition)};if(t instanceof zt)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof zr)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Br)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:lu(new rt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ar)return{type:"RepetitionWithSeparator",idx:t.idx,separator:lu(new rt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof lt)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof _r)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof rt){const r={type:"Terminal",name:t.terminalType.name,label:M2(t.terminalType),idx:t.idx};Fr(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=ti(n)?n.source:n),r}else{if(t instanceof La)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Oa{visit(e){const r=e;switch(r.constructor){case ur:return this.visitNonTerminal(r);case wr:return this.visitAlternative(r);case zt:return this.visitOption(r);case zr:return this.visitRepetitionMandatory(r);case Br:return this.visitRepetitionMandatoryWithSeparator(r);case Ar:return this.visitRepetitionWithSeparator(r);case lt:return this.visitRepetition(r);case _r:return this.visitAlternation(r);case rt:return this.visitTerminal(r);case La:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function P2(t){return t instanceof wr||t instanceof zt||t instanceof lt||t instanceof zr||t instanceof Br||t instanceof Ar||t instanceof rt||t instanceof La}function Qu(t,e=[]){return t instanceof zt||t instanceof lt||t instanceof Ar?!0:t instanceof _r?qE(t.definition,n=>Qu(n,e)):t instanceof ur&&fr(e,t)?!1:t instanceof kn?(t instanceof ur&&e.push(t),cn(t.definition,n=>Qu(n,e))):!1}function D2(t){return t instanceof _r}function On(t){if(t instanceof ur)return"SUBRULE";if(t instanceof zt)return"OPTION";if(t instanceof _r)return"OR";if(t instanceof zr)return"AT_LEAST_ONE";if(t instanceof Br)return"AT_LEAST_ONE_SEP";if(t instanceof Ar)return"MANY_SEP";if(t instanceof lt)return"MANY";if(t instanceof rt)return"CONSUME";throw Error("non exhaustive match")}class nf{walk(e,r=[]){de(e.definition,(n,i)=>{const s=Ut(e.definition,i+1);if(n instanceof ur)this.walkProdRef(n,s,r);else if(n instanceof rt)this.walkTerminal(n,s,r);else if(n instanceof wr)this.walkFlat(n,s,r);else if(n instanceof zt)this.walkOption(n,s,r);else if(n instanceof zr)this.walkAtLeastOne(n,s,r);else if(n instanceof Br)this.walkAtLeastOneSep(n,s,r);else if(n instanceof Ar)this.walkManySep(n,s,r);else if(n instanceof lt)this.walkMany(n,s,r);else if(n instanceof _r)this.walkOr(n,s,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new zt({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=Q1(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new zt({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=Q1(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);de(e.definition,s=>{const a=new wr({definition:[s]});this.walk(a,i)})}}function Q1(t,e,r){return[new zt({definition:[new rt({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function $l(t){if(t instanceof ur)return $l(t.referencedRule);if(t instanceof rt)return G2(t);if(P2(t))return F2(t);if(D2(t))return U2(t);throw Error("non exhaustive match")}function F2(t){let e=[];const r=t.definition;let n=0,i=r.length>n,s,a=!0;for(;i&&a;)s=r[n],a=Qu(s),e=e.concat($l(s)),n=n+1,i=r.length>n;return iv(e)}function U2(t){const e=re(t.definition,r=>$l(r));return iv(Kr(e))}function G2(t){return[t.terminalType]}const M_="_~IN~_";class $2 extends nf{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=z2(e.referencedRule,e.idx)+this.topProd.name,s=r.concat(n),a=new wr({definition:s}),o=$l(a);this.follows[i]=o}}function H2(t){const e={};return de(t,r=>{const n=new $2(r).startWalking();Dr(e,n)}),e}function z2(t,e){return t.name+e+M_}let cu={};const B2=new b_;function sf(t){const e=t.toString();if(cu.hasOwnProperty(e))return cu[e];{const r=B2.pattern(e);return cu[e]=r,r}}function W2(){cu={}}const I_="Complement Sets are not supported for first char optimization",Ju=`Unable to use "first char" lexer optimizations:
`;function Y2(t,e=!1){try{const r=sf(t);return Rg(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===I_)e&&L_(`${Ju}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),xg(`${Ju}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Rg(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Rg(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const s=n[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":Pc(a.value,e,r);break;case"Set":if(a.complement===!0)throw Error(I_);de(a.value,l=>{if(typeof l=="number")Pc(l,e,r);else{const c=l;if(r===!0)for(let u=c.from;u<=c.to;u++)Pc(u,e,r);else{for(let u=c.from;u<=c.to&&u<qo;u++)Pc(u,e,r);if(c.to>=qo){const u=c.from>=qo?c.from:qo,h=c.to,d=_i(u),f=_i(h);for(let p=d;p<=f;p++)e[p]=p}}}});break;case"Group":Rg(a.value,e,r);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&Ng(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Mt(e)}function Pc(t,e,r){const n=_i(t);e[n]=n,r===!0&&X2(t,e)}function X2(t,e){const r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){const i=_i(n.charCodeAt(0));e[i]=i}else{const i=r.toLowerCase();if(i!==r){const s=_i(i.charCodeAt(0));e[s]=s}}}function J1(t,e){return la(t.value,r=>{if(typeof r=="number")return fr(e,r);{const n=r;return la(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function Ng(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Zr(t.value)?cn(t.value,Ng):Ng(t.value):!1}class q2 extends tf{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){fr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?J1(e,this.targetCharCodes)===void 0&&(this.found=!0):J1(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function fm(t,e){if(e instanceof RegExp){const r=sf(e),n=new q2(t);return n.visit(r),n.found}else return la(e,r=>fr(t,r.charCodeAt(0)))!==void 0}const bs="PATTERN",Xo="defaultMode",Dc="modes";let k_=typeof new RegExp("(?:)").sticky=="boolean";function V2(t,e){e=sv(e,{useSticky:k_,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,T)=>T()});const r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{mF()});let n;r("Reject Lexer.NA",()=>{n=mh(t,y=>y[bs]===br.NA)});let i=!1,s;r("Transform Patterns",()=>{i=!1,s=re(n,y=>{const T=y[bs];if(ti(T)){const b=T.source;return b.length===1&&b!=="^"&&b!=="$"&&b!=="."&&!T.ignoreCase?b:b.length===2&&b[0]==="\\"&&!fr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],b[1])?b[1]:e.useSticky?tT(T):eT(T)}else{if(_s(T))return i=!0,{exec:T};if(typeof T=="object")return i=!0,T;if(typeof T=="string"){if(T.length===1)return T;{const b=T.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),A=new RegExp(b);return e.useSticky?tT(A):eT(A)}}else throw Error("non exhaustive match")}})});let a,o,l,c,u;r("misc mapping",()=>{a=re(n,y=>y.tokenTypeIdx),o=re(n,y=>{const T=y.GROUP;if(T!==br.SKIPPED){if(Fr(T))return T;if(ri(T))return!1;throw Error("non exhaustive match")}}),l=re(n,y=>{const T=y.LONGER_ALT;if(T)return Zr(T)?re(T,A=>Rm(n,A)):[Rm(n,T)]}),c=re(n,y=>y.PUSH_MODE),u=re(n,y=>ge(y,"POP_MODE"))});let h;r("Line Terminator Handling",()=>{const y=F_(e.lineTerminatorCharacters);h=re(n,T=>!1),e.positionTracking!=="onlyOffset"&&(h=re(n,T=>ge(T,"LINE_BREAKS")?!!T.LINE_BREAKS:D_(T,y)===!1&&fm(y,T.PATTERN)))});let d,f,p,g;r("Misc Mapping #2",()=>{d=re(n,P_),f=re(s,pF),p=or(n,(y,T)=>{const b=T.GROUP;return Fr(b)&&b!==br.SKIPPED&&(y[b]=[]),y},{}),g=re(s,(y,T)=>({pattern:s[T],longerAlt:l[T],canLineTerminator:h[T],isCustom:d[T],short:f[T],group:o[T],push:c[T],pop:u[T],tokenTypeIdx:a[T],tokenType:n[T]}))});let v=!0,m=[];return e.safeMode||r("First Char Optimization",()=>{m=or(n,(y,T,b)=>{if(typeof T.PATTERN=="string"){const A=T.PATTERN.charCodeAt(0),R=_i(A);$d(y,R,g[b])}else if(Zr(T.START_CHARS_HINT)){let A;de(T.START_CHARS_HINT,R=>{const w=typeof R=="string"?R.charCodeAt(0):R,S=_i(w);A!==S&&(A=S,$d(y,S,g[b]))})}else if(ti(T.PATTERN))if(T.PATTERN.unicode)v=!1,e.ensureOptimizations&&xg(`${Ju}	Unable to analyze < ${T.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const A=Y2(T.PATTERN,e.ensureOptimizations);Ke(A)&&(v=!1),de(A,R=>{$d(y,R,g[b])})}else e.ensureOptimizations&&xg(`${Ju}	TokenType: <${T.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return y},[])}),{emptyGroups:p,patternIdxToConfig:g,charCodeToPatternIdxToConfig:m,hasCustom:i,canBeOptimized:v}}function j2(t,e){let r=[];const n=Z2(t);r=r.concat(n.errors);const i=Q2(n.valid),s=i.valid;return r=r.concat(i.errors),r=r.concat(K2(s)),r=r.concat(aF(s)),r=r.concat(oF(s,e)),r=r.concat(lF(s)),r}function K2(t){let e=[];const r=Hr(t,n=>ti(n[bs]));return e=e.concat(eF(r)),e=e.concat(nF(r)),e=e.concat(iF(r)),e=e.concat(sF(r)),e=e.concat(tF(r)),e}function Z2(t){const e=Hr(t,i=>!ge(i,bs)),r=re(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:ct.MISSING_PATTERN,tokenTypes:[i]})),n=yh(t,e);return{errors:r,valid:n}}function Q2(t){const e=Hr(t,i=>{const s=i[bs];return!ti(s)&&!_s(s)&&!ge(s,"exec")&&!Fr(s)}),r=re(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ct.INVALID_PATTERN,tokenTypes:[i]})),n=yh(t,e);return{errors:r,valid:n}}const J2=/[^\\][$]/;function eF(t){class e extends tf{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const r=Hr(t,i=>{const s=i.PATTERN;try{const a=sf(s),o=new e;return o.visit(a),o.found}catch{return J2.test(s.source)}});return re(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ct.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function tF(t){const e=Hr(t,n=>n.PATTERN.test(""));return re(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:ct.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const rF=/[^\\[][\^]|^\^/;function nF(t){class e extends tf{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const r=Hr(t,i=>{const s=i.PATTERN;try{const a=sf(s),o=new e;return o.visit(a),o.found}catch{return rF.test(s.source)}});return re(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ct.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function iF(t){const e=Hr(t,n=>{const i=n[bs];return i instanceof RegExp&&(i.multiline||i.global)});return re(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ct.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function sF(t){const e=[];let r=re(t,s=>or(t,(a,o)=>(s.PATTERN.source===o.PATTERN.source&&!fr(e,o)&&o.PATTERN!==br.NA&&(e.push(o),a.push(o)),a),[]));r=Nl(r);const n=Hr(r,s=>s.length>1);return re(n,s=>{const a=re(s,l=>l.name);return{message:`The same RegExp pattern ->${dn(s).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:ct.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function aF(t){const e=Hr(t,n=>{if(!ge(n,"GROUP"))return!1;const i=n.GROUP;return i!==br.SKIPPED&&i!==br.NA&&!Fr(i)});return re(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ct.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function oF(t,e){const r=Hr(t,i=>i.PUSH_MODE!==void 0&&!fr(e,i.PUSH_MODE));return re(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:ct.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function lF(t){const e=[],r=or(t,(n,i,s)=>{const a=i.PATTERN;return a===br.NA||(Fr(a)?n.push({str:a,idx:s,tokenType:i}):ti(a)&&uF(a)&&n.push({str:a.source,idx:s,tokenType:i})),n},[]);return de(t,(n,i)=>{de(r,({str:s,idx:a,tokenType:o})=>{if(i<a&&cF(s,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:ct.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function cF(t,e){if(ti(e)){const r=e.exec(t);return r!==null&&r.index===0}else{if(_s(e))return e(t,0,[],{});if(ge(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function uF(t){return la([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function eT(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function tT(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function hF(t,e,r){const n=[];return ge(t,Xo)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Xo+`> property in its definition
`,type:ct.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),ge(t,Dc)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Dc+`> property in its definition
`,type:ct.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),ge(t,Dc)&&ge(t,Xo)&&!ge(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Xo}: <${t.defaultMode}>which does not exist
`,type:ct.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),ge(t,Dc)&&de(t.modes,(i,s)=>{de(i,(a,o)=>{if(ri(a))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:ct.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(ge(a,"LONGER_ALT")){const l=Zr(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];de(l,c=>{!ri(c)&&!fr(i,c)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${a.name}> outside of mode <${s}>
`,type:ct.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function fF(t,e,r){const n=[];let i=!1;const s=Nl(Kr(Mt(t.modes))),a=mh(s,l=>l[bs]===br.NA),o=F_(r);return e&&de(a,l=>{const c=D_(l,o);if(c!==!1){const h={message:vF(l,c),type:c.issue,tokenType:l};n.push(h)}else ge(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):fm(o,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:ct.NO_LINE_BREAKS_FLAGS}),n}function dF(t){const e={},r=ol(t);return de(r,n=>{const i=t[n];if(Zr(i))e[n]=[];else throw Error("non exhaustive match")}),e}function P_(t){const e=t.PATTERN;if(ti(e))return!1;if(_s(e))return!0;if(ge(e,"exec"))return!0;if(Fr(e))return!1;throw Error("non exhaustive match")}function pF(t){return Fr(t)&&t.length===1?t.charCodeAt(0):!1}const gF={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function D_(t,e){if(ge(t,"LINE_BREAKS"))return!1;if(ti(t.PATTERN)){try{fm(e,t.PATTERN)}catch(r){return{issue:ct.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Fr(t.PATTERN))return!1;if(P_(t))return{issue:ct.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function vF(t,e){if(e.issue===ct.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===ct.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function F_(t){return re(t,r=>Fr(r)?r.charCodeAt(0):r)}function $d(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const qo=256;let uu=[];function _i(t){return t<qo?t:uu[t]}function mF(){if(Ke(uu)){uu=new Array(65536);for(let t=0;t<65536;t++)uu[t]=t>255?255+~~(t/255):t}}function Hl(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function eh(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let rT=1;const U_={};function zl(t){const e=yF(t);TF(e),bF(e),EF(e),de(e,r=>{r.isParent=r.categoryMatches.length>0})}function yF(t){let e=Bt(t),r=t,n=!0;for(;n;){r=Nl(Kr(re(r,s=>s.CATEGORIES)));const i=yh(r,e);e=e.concat(i),Ke(i)?n=!1:r=i}return e}function TF(t){de(t,e=>{$_(e)||(U_[rT]=e,e.tokenTypeIdx=rT++),nT(e)&&!Zr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),nT(e)||(e.CATEGORIES=[]),wF(e)||(e.categoryMatches=[]),AF(e)||(e.categoryMatchesMap={})})}function EF(t){de(t,e=>{e.categoryMatches=[],de(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(U_[n].tokenTypeIdx)})})}function bF(t){de(t,e=>{G_([],e)})}function G_(t,e){de(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),de(e.CATEGORIES,r=>{const n=t.concat(e);fr(n,r)||G_(n,r)})}function $_(t){return ge(t,"tokenTypeIdx")}function nT(t){return ge(t,"CATEGORIES")}function wF(t){return ge(t,"categoryMatches")}function AF(t){return ge(t,"categoryMatchesMap")}function _F(t){return ge(t,"tokenTypeIdx")}const Lg={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var ct;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(ct||(ct={}));const Vo={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Lg,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Vo);class br{constructor(e,r=Vo){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:l}=O_(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return s()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Dr({},Vo,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Vo.lineTerminatorsPattern)this.config.lineTerminatorsPattern=gF;else if(this.config.lineTerminatorCharacters===Vo.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Zr(e)?i={modes:{defaultMode:Bt(e)},defaultMode:Xo}:(s=!1,i=Bt(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(hF(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(fF(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},de(i.modes,(o,l)=>{i.modes[l]=mh(o,c=>ri(c))});const a=ol(i.modes);if(de(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(j2(o,a))}),Ke(this.lexerDefinitionErrors)){zl(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=V2(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Dr({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Ke(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=re(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}de(this.lexerDefinitionWarning,o=>{L_(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(k_?(this.chopInput=Nm,this.match=this.matchWithTest):(this.updateLastIndex=Ct,this.match=this.matchWithExec),s&&(this.handleModes=Ct),this.trackStartLines===!1&&(this.computeNewColumn=Nm),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ct),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=or(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(r.ensureOptimizations&&!Ke(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{W2()}),this.TRACE_INIT("toFastProperties",()=>{C_(this)})})}tokenize(e,r=this.defaultMode){if(!Ke(this.lexerDefinitionErrors)){const i=re(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,s,a,o,l,c,u,h,d,f,p,g,v,m;const y=e,T=y.length;let b=0,A=0;const R=this.hasCustom?0:Math.floor(e.length/10),w=new Array(R),S=[];let N=this.trackStartLines?1:void 0,I=this.trackStartLines?1:void 0;const C=dF(this.emptyGroups),M=this.trackStartLines,k=this.config.lineTerminatorsPattern;let E=0,O=[],_=[];const x=[],L=[];Object.freeze(L);let D;function P(){return O}function U(q){const ee=_i(q),Z=_[ee];return Z===void 0?L:Z}const z=q=>{if(x.length===1&&q.tokenType.PUSH_MODE===void 0){const ee=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(q);S.push({offset:q.startOffset,line:q.startLine,column:q.startColumn,length:q.image.length,message:ee})}else{x.pop();const ee=ca(x);O=this.patternIdxToConfig[ee],_=this.charCodeToPatternIdxToConfig[ee],E=O.length;const Z=this.canModeBeOptimized[ee]&&this.config.safeMode===!1;_&&Z?D=U:D=P}};function H(q){x.push(q),_=this.charCodeToPatternIdxToConfig[q],O=this.patternIdxToConfig[q],E=O.length,E=O.length;const ee=this.canModeBeOptimized[q]&&this.config.safeMode===!1;_&&ee?D=U:D=P}H.call(this,r);let V;const W=this.config.recoveryEnabled;for(;b<T;){l=null;const q=y.charCodeAt(b),ee=D(q),Z=ee.length;for(n=0;n<Z;n++){V=ee[n];const $=V.pattern;c=null;const Y=V.short;if(Y!==!1?q===Y&&(l=$):V.isCustom===!0?(m=$.exec(y,b,w,C),m!==null?(l=m[0],m.payload!==void 0&&(c=m.payload)):l=null):(this.updateLastIndex($,b),l=this.match($,e,b)),l!==null){if(o=V.longerAlt,o!==void 0){const X=o.length;for(s=0;s<X;s++){const j=O[o[s]],ne=j.pattern;if(u=null,j.isCustom===!0?(m=ne.exec(y,b,w,C),m!==null?(a=m[0],m.payload!==void 0&&(u=m.payload)):a=null):(this.updateLastIndex(ne,b),a=this.match(ne,e,b)),a&&a.length>l.length){l=a,c=u,V=j;break}}}break}}if(l!==null){if(h=l.length,d=V.group,d!==void 0&&(f=V.tokenTypeIdx,p=this.createTokenInstance(l,b,f,V.tokenType,N,I,h),this.handlePayload(p,c),d===!1?A=this.addToken(w,A,p):C[d].push(p)),e=this.chopInput(e,h),b=b+h,I=this.computeNewColumn(I,h),M===!0&&V.canLineTerminator===!0){let $=0,Y,X;k.lastIndex=0;do Y=k.test(l),Y===!0&&(X=k.lastIndex-1,$++);while(Y===!0);$!==0&&(N=N+$,I=h-X,this.updateTokenEndLineColumnLocation(p,d,X,$,N,I,h))}this.handleModes(V,z,H,p)}else{const $=b,Y=N,X=I;let j=W===!1;for(;j===!1&&b<T;)for(e=this.chopInput(e,1),b++,i=0;i<E;i++){const ne=O[i],K=ne.pattern,Ge=ne.short;if(Ge!==!1?y.charCodeAt(b)===Ge&&(j=!0):ne.isCustom===!0?j=K.exec(y,b,w,C)!==null:(this.updateLastIndex(K,b),j=K.exec(e)!==null),j===!0)break}if(g=b-$,I=this.computeNewColumn(I,g),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,$,g,Y,X),S.push({offset:$,line:Y,column:X,length:g,message:v}),W===!1)break}}return this.hasCustom||(w.length=A),{tokens:w,groups:C,errors:S}}handleModes(e,r,n,i){if(e.pop===!0){const s=e.push;r(i),s!==void 0&&n.call(this,s)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,s,a,o){let l,c;r!==void 0&&(l=n===o-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=a-1+-c))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,s,a){return{image:e,startOffset:r,startLine:s,startColumn:a,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,s,a,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}}br.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";br.NA=/NOT_APPLICABLE/;function oa(t){return H_(t)?t.LABEL:t.name}function H_(t){return Fr(t.LABEL)&&t.LABEL!==""}const SF="parent",iT="categories",sT="label",aT="group",oT="push_mode",lT="pop_mode",cT="longer_alt",uT="line_breaks",hT="start_chars_hint";function z_(t){return xF(t)}function xF(t){const e=t.pattern,r={};if(r.name=t.name,ri(e)||(r.PATTERN=e),ge(t,SF))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return ge(t,iT)&&(r.CATEGORIES=t[iT]),zl([r]),ge(t,sT)&&(r.LABEL=t[sT]),ge(t,aT)&&(r.GROUP=t[aT]),ge(t,lT)&&(r.POP_MODE=t[lT]),ge(t,oT)&&(r.PUSH_MODE=t[oT]),ge(t,cT)&&(r.LONGER_ALT=t[cT]),ge(t,uT)&&(r.LINE_BREAKS=t[uT]),ge(t,hT)&&(r.START_CHARS_HINT=t[hT]),r}const Si=z_({name:"EOF",pattern:br.NA});zl([Si]);function dm(t,e,r,n,i,s,a,o){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function B_(t,e){return Hl(t,e)}const Js={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${H_(t)?`--> ${oa(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const s="Expecting: ",o=`
but found: '`+dn(e).image+"'";if(n)return s+n+o;{const l=or(t,(d,f)=>d.concat(f),[]),c=re(l,d=>`[${re(d,f=>oa(f)).join(", ")}]`),h=`one of these possible Token sequences:
${re(c,(d,f)=>`  ${f+1}. ${d}`).join(`
`)}`;return s+h+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",a=`
but found: '`+dn(e).image+"'";if(r)return i+r+a;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${re(t,c=>`[${re(c,u=>oa(u)).join(",")}]`).join(" ,")}>`;return i+l+a}}};Object.freeze(Js);const RF={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},as={buildDuplicateFoundError(t,e){function r(u){return u instanceof rt?u.terminalType.name:u instanceof ur?u.nonTerminalName:""}const n=t.name,i=dn(e),s=i.idx,a=On(i),o=r(i),l=s>0;let c=`->${a}${l?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=re(t.prefixPath,i=>oa(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=re(t.prefixPath,i=>oa(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=On(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,r=re(t.leftRecursionPath,s=>s.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof La?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function NF(t,e){const r=new LF(t,e);return r.resolveRefs(),r.errors}class LF extends Oa{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){de(Mt(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:hr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class OF extends nf{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Bt(this.path.ruleStack).reverse(),this.occurrenceStack=Bt(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Ke(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class CF extends OF{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),s=new wr({definition:i});this.possibleTokTypes=$l(s),this.found=!0}}}class af extends nf{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class MF extends af{walkMany(e,r,n){if(e.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof rt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}}class fT extends af{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof rt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}}class IF extends af{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof rt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}}class dT extends af{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof rt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}}function Og(t,e,r=[]){r=Bt(r);let n=[],i=0;function s(o){return o.concat(Ut(t,i+1))}function a(o){const l=Og(s(o),e,r);return n.concat(l)}for(;r.length<e&&i<t.length;){const o=t[i];if(o instanceof wr)return a(o.definition);if(o instanceof ur)return a(o.definition);if(o instanceof zt)n=a(o.definition);else if(o instanceof zr){const l=o.definition.concat([new lt({definition:o.definition})]);return a(l)}else if(o instanceof Br){const l=[new wr({definition:o.definition}),new lt({definition:[new rt({terminalType:o.separator})].concat(o.definition)})];return a(l)}else if(o instanceof Ar){const l=o.definition.concat([new lt({definition:[new rt({terminalType:o.separator})].concat(o.definition)})]);n=a(l)}else if(o instanceof lt){const l=o.definition.concat([new lt({definition:o.definition})]);n=a(l)}else{if(o instanceof _r)return de(o.definition,l=>{Ke(l.definition)===!1&&(n=a(l.definition))}),n;if(o instanceof rt)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ut(t,i)}),n}function W_(t,e,r,n){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const l=e.length,c=l-n-1,u=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Ke(h);){const d=h.pop();if(d===a){o&&ca(h).idx<=c&&h.pop();continue}const f=d.def,p=d.idx,g=d.ruleStack,v=d.occurrenceStack;if(Ke(f))continue;const m=f[0];if(m===i){const y={idx:p,def:Ut(f),ruleStack:ll(g),occurrenceStack:ll(v)};h.push(y)}else if(m instanceof rt)if(p<l-1){const y=p+1,T=e[y];if(r(T,m.terminalType)){const b={idx:y,def:Ut(f),ruleStack:g,occurrenceStack:v};h.push(b)}}else if(p===l-1)u.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:g,occurrenceStack:v}),o=!0;else throw Error("non exhaustive match");else if(m instanceof ur){const y=Bt(g);y.push(m.nonTerminalName);const T=Bt(v);T.push(m.idx);const b={idx:p,def:m.definition.concat(s,Ut(f)),ruleStack:y,occurrenceStack:T};h.push(b)}else if(m instanceof zt){const y={idx:p,def:Ut(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T={idx:p,def:m.definition.concat(Ut(f)),ruleStack:g,occurrenceStack:v};h.push(T)}else if(m instanceof zr){const y=new lt({definition:m.definition,idx:m.idx}),T=m.definition.concat([y],Ut(f)),b={idx:p,def:T,ruleStack:g,occurrenceStack:v};h.push(b)}else if(m instanceof Br){const y=new rt({terminalType:m.separator}),T=new lt({definition:[y].concat(m.definition),idx:m.idx}),b=m.definition.concat([T],Ut(f)),A={idx:p,def:b,ruleStack:g,occurrenceStack:v};h.push(A)}else if(m instanceof Ar){const y={idx:p,def:Ut(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T=new rt({terminalType:m.separator}),b=new lt({definition:[T].concat(m.definition),idx:m.idx}),A=m.definition.concat([b],Ut(f)),R={idx:p,def:A,ruleStack:g,occurrenceStack:v};h.push(R)}else if(m instanceof lt){const y={idx:p,def:Ut(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T=new lt({definition:m.definition,idx:m.idx}),b=m.definition.concat([T],Ut(f)),A={idx:p,def:b,ruleStack:g,occurrenceStack:v};h.push(A)}else if(m instanceof _r)for(let y=m.definition.length-1;y>=0;y--){const T=m.definition[y],b={idx:p,def:T.definition.concat(Ut(f)),ruleStack:g,occurrenceStack:v};h.push(b),h.push(a)}else if(m instanceof wr)h.push({idx:p,def:m.definition.concat(Ut(f)),ruleStack:g,occurrenceStack:v});else if(m instanceof La)h.push(kF(m,p,g,v));else throw Error("non exhaustive match")}return u}function kF(t,e,r,n){const i=Bt(r);i.push(t.name);const s=Bt(n);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var st;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(st||(st={}));function pm(t){if(t instanceof zt||t==="Option")return st.OPTION;if(t instanceof lt||t==="Repetition")return st.REPETITION;if(t instanceof zr||t==="RepetitionMandatory")return st.REPETITION_MANDATORY;if(t instanceof Br||t==="RepetitionMandatoryWithSeparator")return st.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ar||t==="RepetitionWithSeparator")return st.REPETITION_WITH_SEPARATOR;if(t instanceof _r||t==="Alternation")return st.ALTERNATION;throw Error("non exhaustive match")}function pT(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,s=pm(n);return s===st.ALTERNATION?of(e,r,i):lf(e,r,s,i)}function PF(t,e,r,n,i,s){const a=of(t,e,r),o=q_(a)?eh:Hl;return s(a,n,o,i)}function DF(t,e,r,n,i,s){const a=lf(t,e,i,r),o=q_(a)?eh:Hl;return s(a[0],o,n)}function FF(t,e,r,n){const i=t.length,s=cn(t,a=>cn(a,o=>o.length===1));if(e)return function(a){const o=re(a,l=>l.GATE);for(let l=0;l<i;l++){const c=t[l],u=c.length,h=o[l];if(!(h!==void 0&&h.call(this)===!1))e:for(let d=0;d<u;d++){const f=c[d],p=f.length;for(let g=0;g<p;g++){const v=this.LA(g+1);if(r(v,f[g])===!1)continue e}return l}}};if(s&&!n){const a=re(t,l=>Kr(l)),o=or(a,(l,c,u)=>(de(c,h=>{ge(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=u),de(h.categoryMatches,d=>{ge(l,d)||(l[d]=u)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=t[a],l=o.length;e:for(let c=0;c<l;c++){const u=o[c],h=u.length;for(let d=0;d<h;d++){const f=this.LA(d+1);if(r(f,u[d])===!1)continue e}return a}}}}function UF(t,e,r){const n=cn(t,s=>s.length===1),i=t.length;if(n&&!r){const s=Kr(t);if(s.length===1&&Ke(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const a=or(s,(o,l,c)=>(o[l.tokenTypeIdx]=!0,de(l.categoryMatches,u=>{o[u]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const a=t[s],o=a.length;for(let l=0;l<o;l++){const c=this.LA(l+1);if(e(c,a[l])===!1)continue e}return!0}return!1}}class GF extends nf{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,st.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,st.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,st.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,st.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,st.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}}class Y_ extends Oa{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,st.OPTION)}visitRepetition(e){this.checkIsTarget(e,st.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,st.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,st.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,st.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,st.ALTERNATION)}}function gT(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function Hd(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let s=0;s<e.length;s++){const a=e[s];i.push(a+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(a+l)}}e=i}return e}function $F(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let s=0;s<e.length;s++){const a=e[s];if(i[a]===!0)return!1}}return!0}function X_(t,e){const r=re(t,a=>Og([a],1)),n=gT(r.length),i=re(r,a=>{const o={};return de(a,l=>{const c=Hd(l.partialPath);de(c,u=>{o[u]=!0})}),o});let s=r;for(let a=1;a<=e;a++){const o=s;s=gT(o.length);for(let l=0;l<o.length;l++){const c=o[l];for(let u=0;u<c.length;u++){const h=c[u].partialPath,d=c[u].suffixDef,f=Hd(h);if($F(i,f,l)||Ke(d)||h.length===e){const g=n[l];if(Cg(g,h)===!1){g.push(h);for(let v=0;v<f.length;v++){const m=f[v];i[l][m]=!0}}}else{const g=Og(d,a+1,h);s[l]=s[l].concat(g),de(g,v=>{const m=Hd(v.partialPath);de(m,y=>{i[l][y]=!0})})}}}}return n}function of(t,e,r,n){const i=new Y_(t,st.ALTERNATION,n);return e.accept(i),X_(i.result,r)}function lf(t,e,r,n){const i=new Y_(t,r);e.accept(i);const s=i.result,o=new GF(e,t,r).startWalking(),l=new wr({definition:s}),c=new wr({definition:o});return X_([l,c],n)}function Cg(t,e){e:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const s=e[i],a=n[i];if((s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function HF(t,e){return t.length<e.length&&cn(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function q_(t){return cn(t,e=>cn(e,r=>cn(r,n=>Ke(n.categoryMatches))))}function zF(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return re(e,r=>Object.assign({type:hr.CUSTOM_LOOKAHEAD_VALIDATION},r))}function BF(t,e,r,n){const i=Ir(t,l=>WF(l,r)),s=rU(t,e,r),a=Ir(t,l=>QF(l,r)),o=Ir(t,l=>qF(l,t,n,r));return i.concat(s,a,o)}function WF(t,e){const r=new XF;t.accept(r);const n=r.allProductions,i=qS(n,YF),s=mn(i,o=>o.length>1);return re(Mt(s),o=>{const l=dn(o),c=e.buildDuplicateFoundError(t,o),u=On(l),h={message:c,type:hr.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},d=V_(l);return d&&(h.parameter=d),h})}function YF(t){return`${On(t)}_#_${t.idx}_#_${V_(t)}`}function V_(t){return t instanceof rt?t.terminalType.name:t instanceof ur?t.nonTerminalName:""}class XF extends Oa{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function qF(t,e,r,n){const i=[];if(or(e,(a,o)=>o.name===t.name?a+1:a,0)>1){const a=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:a,type:hr.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function VF(t,e,r){const n=[];let i;return fr(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:hr.INVALID_RULE_OVERRIDE,ruleName:t})),n}function j_(t,e,r,n=[]){const i=[],s=hu(e.definition);if(Ke(s))return[];{const a=t.name;fr(s,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:hr.LEFT_RECURSION,ruleName:a});const l=yh(s,n.concat([t])),c=Ir(l,u=>{const h=Bt(n);return h.push(u),j_(t,u,r,h)});return i.concat(c)}}function hu(t){let e=[];if(Ke(t))return e;const r=dn(t);if(r instanceof ur)e.push(r.referencedRule);else if(r instanceof wr||r instanceof zt||r instanceof zr||r instanceof Br||r instanceof Ar||r instanceof lt)e=e.concat(hu(r.definition));else if(r instanceof _r)e=Kr(re(r.definition,s=>hu(s.definition)));else if(!(r instanceof rt))throw Error("non exhaustive match");const n=Qu(r),i=t.length>1;if(n&&i){const s=Ut(t);return e.concat(hu(s))}else return e}class gm extends Oa{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function jF(t,e){const r=new gm;t.accept(r);const n=r.alternations;return Ir(n,s=>{const a=ll(s.definition);return Ir(a,(o,l)=>{const c=W_([o],[],Hl,1);return Ke(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:hr.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function KF(t,e,r){const n=new gm;t.accept(n);let i=n.alternations;return i=mh(i,a=>a.ignoreAmbiguities===!0),Ir(i,a=>{const o=a.idx,l=a.maxLookahead||e,c=of(o,t,l,a),u=eU(c,a,t,r),h=tU(c,a,t,r);return u.concat(h)})}class ZF extends Oa{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function QF(t,e){const r=new gm;t.accept(r);const n=r.alternations;return Ir(n,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:hr.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function JF(t,e,r){const n=[];return de(t,i=>{const s=new ZF;i.accept(s);const a=s.allProductions;de(a,o=>{const l=pm(o),c=o.maxLookahead||e,u=o.idx,d=lf(u,i,l,c)[0];if(Ke(Kr(d))){const f=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:f,type:hr.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function eU(t,e,r,n){const i=[],s=or(t,(o,l,c)=>(e.definition[c].ignoreAmbiguities===!0||de(l,u=>{const h=[c];de(t,(d,f)=>{c!==f&&Cg(d,u)&&e.definition[f].ignoreAmbiguities!==!0&&h.push(f)}),h.length>1&&!Cg(i,u)&&(i.push(u),o.push({alts:h,path:u}))}),o),[]);return re(s,o=>{const l=re(o.alts,u=>u+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:o.path}),type:hr.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:o.alts}})}function tU(t,e,r,n){const i=or(t,(a,o,l)=>{const c=re(o,u=>({idx:l,path:u}));return a.concat(c)},[]);return Nl(Ir(i,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return[];const l=a.idx,c=a.path,u=Hr(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&HF(d.path,c));return re(u,d=>{const f=[d.idx+1,l+1],p=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:f,prefixPath:d.path}),type:hr.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:f}})}))}function rU(t,e,r){const n=[],i=re(e,s=>s.name);return de(t,s=>{const a=s.name;if(fr(i,a)){const o=r.buildNamespaceConflictError(s);n.push({message:o,type:hr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),n}function nU(t){const e=sv(t,{errMsgProvider:RF}),r={};return de(t.rules,n=>{r[n.name]=n}),NF(r,e.errMsgProvider)}function iU(t){return t=sv(t,{errMsgProvider:as}),BF(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const K_="MismatchedTokenException",Z_="NoViableAltException",Q_="EarlyExitException",J_="NotAllInputParsedException",eS=[K_,Z_,Q_,J_];Object.freeze(eS);function th(t){return fr(eS,t.name)}class cf extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class tS extends cf{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=K_}}class sU extends cf{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Z_}}class aU extends cf{constructor(e,r){super(e,r),this.name=J_}}class oU extends cf{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Q_}}const zd={},rS="InRuleRecoveryException";class lU extends Error{constructor(e){super(e),this.name=rS}}class cU{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=ge(e,"recoveryEnabled")?e.recoveryEnabled:ni.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=uU)}getTokenToInsert(e){const r=dm(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const h=()=>{const d=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:d,ruleName:this.getCurrRuleFullName()}),p=new tS(f,c,this.LA(0));p.resyncedTokens=ll(o),this.SAVE_ERROR(p)};for(;!l;)if(this.tokenMatcher(u,i)){h();return}else if(n.call(this)){h(),e.apply(this,r);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new lU("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||Ke(r))return!1;const n=this.LA(1);return la(r,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return fr(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=la(e,s=>B_(r,s));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return zd;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return re(e,(n,i)=>i===0?zd:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=re(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Kr(e)}getFollowSetFromFollowKey(e){if(e===zd)return[Si];const r=e.ruleName+e.idxInCallingRule+M_+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,Si)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return ll(r)}attemptInRepetitionRecovery(e,r,n,i,s,a,o){}getCurrentGrammarPath(e,r){const n=this.getHumanReadableRuleStack(),i=Bt(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return re(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function uU(t,e,r,n,i,s,a){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const d=this.getCurrRuleFullName(),f=this.getGAstProductions()[d];l=new s(f,i).startWalking(),this.firstAfterRepMap[o]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=Si,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,a)&&this.tryInRepetitionRecovery(t,e,r,c)}const hU=4,Ni=8,nS=1<<Ni,iS=2<<Ni,Mg=3<<Ni,Ig=4<<Ni,kg=5<<Ni,fu=6<<Ni;function Bd(t,e,r){return r|e|t}class vm{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:ni.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(Ke(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...s]}return r}validateNoLeftRecursion(e){return Ir(e,r=>j_(r,r,as))}validateEmptyOrAlternatives(e){return Ir(e,r=>jF(r,as))}validateAmbiguousAlternationAlternatives(e,r){return Ir(e,n=>KF(n,r,as))}validateSomeNonEmptyLookaheadPath(e,r){return JF(e,r,as)}buildLookaheadForAlternation(e){return PF(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,FF)}buildLookaheadForOptional(e){return DF(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,pm(e.prodType),UF)}}class fU{initLooksAhead(e){this.dynamicTokensEnabled=ge(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:ni.dynamicTokensEnabled,this.maxLookahead=ge(e,"maxLookahead")?e.maxLookahead:ni.maxLookahead,this.lookaheadStrategy=ge(e,"lookaheadStrategy")?e.lookaheadStrategy:new vm({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){de(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=pU(r);de(n,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${On(c)}${u}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:r,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=Bd(this.fullRuleNameToShort[r.name],nS,c.idx);this.setLaFuncCache(d,h)})}),de(i,c=>{this.computeLookaheadFunc(r,c.idx,Mg,"Repetition",c.maxLookahead,On(c))}),de(s,c=>{this.computeLookaheadFunc(r,c.idx,iS,"Option",c.maxLookahead,On(c))}),de(a,c=>{this.computeLookaheadFunc(r,c.idx,Ig,"RepetitionMandatory",c.maxLookahead,On(c))}),de(o,c=>{this.computeLookaheadFunc(r,c.idx,fu,"RepetitionMandatoryWithSeparator",c.maxLookahead,On(c))}),de(l,c=>{this.computeLookaheadFunc(r,c.idx,kg,"RepetitionWithSeparator",c.maxLookahead,On(c))})})})}computeLookaheadFunc(e,r,n,i,s,a){this.TRACE_INIT(`${a}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=Bd(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return Bd(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}}class dU extends Oa{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Fc=new dU;function pU(t){Fc.reset(),t.accept(Fc);const e=Fc.dslMethods;return Fc.reset(),e}function vT(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function mT(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function gU(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function vU(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}const mU="name";function sS(t,e){Object.defineProperty(t,mU,{enumerable:!1,configurable:!0,writable:!1,value:e})}function yU(t,e){const r=ol(t),n=r.length;for(let i=0;i<n;i++){const s=r[i],a=t[s],o=a.length;for(let l=0;l<o;l++){const c=a[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function TU(t,e){const r=function(){};sS(r,t+"BaseSemantics");const n={visit:function(i,s){if(Zr(i)&&(i=i[0]),!ri(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=bU(this,e);if(!Ke(i)){const s=re(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function EU(t,e,r){const n=function(){};sS(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return de(e,s=>{i[s]=yU}),n.prototype=i,n.prototype.constructor=n,n}var Pg;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Pg||(Pg={}));function bU(t,e){return wU(t,e)}function wU(t,e){const r=Hr(e,i=>_s(t[i])===!1),n=re(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:Pg.MISSING_METHOD,methodName:i}));return Nl(n)}class AU{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=ge(e,"nodeLocationTracking")?e.nodeLocationTracking:ni.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ct,this.cstFinallyStateUpdate=Ct,this.cstPostTerminal=Ct,this.cstPostNonTerminal=Ct,this.cstPostRule=Ct;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=mT,this.setNodeLocationFromNode=mT,this.cstPostRule=Ct,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ct,this.setNodeLocationFromNode=Ct,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=vT,this.setNodeLocationFromNode=vT,this.cstPostRule=Ct,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ct,this.setNodeLocationFromNode=Ct,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ct,this.setNodeLocationFromNode=Ct,this.cstPostRule=Ct,this.setInitialNodeLocation=Ct;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];gU(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];vU(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(ri(this.baseCstVisitorConstructor)){const e=TU(this.className,ol(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ri(this.baseCstVisitorWithDefaultsConstructor)){const e=EU(this.className,ol(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class _U{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):nh}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?nh:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class SU{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=ih){if(fr(this.definedRulesNames,e)){const a={message:as.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:hr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=ih){const i=VF(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,r,n);return this[e]=s,s}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(th(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return k2(Mt(this.gastProductionsCache))}}class xU{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=eh,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},ge(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Zr(e)){if(Ke(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Zr(e))this.tokensMap=or(e,(s,a)=>(s[a.name]=a,s),{});else if(ge(e,"modes")&&cn(Kr(Mt(e.modes)),_F)){const s=Kr(Mt(e.modes)),a=iv(s);this.tokensMap=or(a,(o,l)=>(o[l.name]=l,o),{})}else if(VS(e))this.tokensMap=Bt(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Si;const n=ge(e,"modes")?Kr(Mt(e.modes)):Mt(e),i=cn(n,s=>Ke(s.categoryMatches));this.tokenMatcher=i?eh:Hl,zl(Mt(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=ge(n,"resyncEnabled")?n.resyncEnabled:ih.resyncEnabled,s=ge(n,"recoveryValueFunc")?n.recoveryValueFunc:ih.recoveryValueFunc,a=this.ruleShortNameIdx<<hU+Ni;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let o;return this.outputCst===!0?o=function(...u){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...u){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,u)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,s=r&&!this.isBackTracking()&&this.recoveryEnabled;if(th(e)){const a=e;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}}else{if(i)return this.moveToTerminatedState(),n(e);throw a}}else throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(iS,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof e!="function"){s=e.DEF;const a=e.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(Ig,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const a=r.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=r;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,st.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,Ig,e,IF)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(fu,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,dT],o,fu,e,dT)}else throw this.raiseEarlyExitException(e,st.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(Mg,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else s=r;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,Mg,e,MF,a)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(kg,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,fT],o,kg,e,fT)}}repetitionSepSecondInternal(e,r,n,i,s){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,s],n,fu,e,s)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(nS,r),i=Zr(e)?e:e.DEF,a=this.getLaFuncFromCache(n).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new aU(r,e))}}subruleInternal(e,r,n){let i;try{const s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,s),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,n,e.ruleName)}}subruleInternalError(e,r,n){throw th(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,n)}catch(s){i=this.consumeInternalRecovery(e,r,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const s=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new tS(i,r,s))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===rS?n:s}}else throw n}saveRecogState(){const e=this.errors,r=Bt(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Si)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class RU{initErrorHandler(e){this._errors=[],this.errorMessageProvider=ge(e,"errorMessageProvider")?e.errorMessageProvider:ni.errorMessageProvider}SAVE_ERROR(e){if(th(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Bt(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Bt(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],o=lf(e,s,r,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new oU(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],s=of(e,i,this.maxLookahead),a=[];for(let c=1;c<=this.maxLookahead;c++)a.push(this.LA(c));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new sU(l,this.LA(1),o))}}class NU{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(ri(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return W_([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=dn(e.ruleStack),i=this.getGAstProductions()[r];return new CF(i,e).startWalking()}}const uf={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(uf);const yT=!0,TT=Math.pow(2,Ni)-1,aS=z_({name:"RECORDING_PHASE_TOKEN",pattern:br.NA});zl([aS]);const oS=dm(aS,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(oS);const LU={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class OU{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return nh}topLevelRuleRecord(e,r){try{const n=new La({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return ao.call(this,zt,e,r)}atLeastOneInternalRecord(e,r){ao.call(this,zr,r,e)}atLeastOneSepFirstInternalRecord(e,r){ao.call(this,Br,r,e,yT)}manyInternalRecord(e,r){ao.call(this,lt,r,e)}manySepFirstInternalRecord(e,r){ao.call(this,Ar,r,e,yT)}orInternalRecord(e,r){return CU.call(this,e,r)}subruleInternalRecord(e,r,n){if(rh(r),!e||ge(e,"ruleName")===!1){const o=new Error(`<SUBRULE${ET(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=ca(this.recordingProdStack),s=e.ruleName,a=new ur({idx:r,nonTerminalName:s,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?LU:uf}consumeInternalRecord(e,r,n){if(rh(r),!$_(e)){const a=new Error(`<CONSUME${ET(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=ca(this.recordingProdStack),s=new rt({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(s),oS}}function ao(t,e,r,n=!1){rh(r);const i=ca(this.recordingProdStack),s=_s(e)?e:e.DEF,a=new t({definition:[],idx:r});return n&&(a.separator=e.SEP),ge(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),uf}function CU(t,e){rh(e);const r=ca(this.recordingProdStack),n=Zr(t)===!1,i=n===!1?t:t.DEF,s=new _r({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});ge(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const a=qE(i,o=>_s(o.GATE));return s.hasPredicates=a,r.definition.push(s),de(i,o=>{const l=new wr({definition:[]});s.definition.push(l),ge(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:ge(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),uf}function ET(t){return t===0?"":`${t}`}function rh(t){if(t<0||t>TT){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${TT+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class MU{initPerformanceTracer(e){if(ge(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=ni.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:s}=O_(r),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return r()}}function IU(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(n,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=r.prototype[i]})})}const nh=dm(Si,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(nh);const ni=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Js,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ih=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var hr;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(hr||(hr={}));function bT(t=void 0){return function(){return t}}class Bl{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{C_(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),de(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=nU({rules:Mt(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Ke(n)&&this.skipValidations===!1){const i=iU({rules:Mt(this.gastProductionsCache),tokenTypes:Mt(this.tokensMap),errMsgProvider:as,grammarName:r}),s=zF({lookaheadStrategy:this.lookaheadStrategy,rules:Mt(this.gastProductionsCache),tokenTypes:Mt(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Ke(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=H2(Mt(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Mt(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Mt(this.gastProductionsCache))})),!Bl.DEFER_DEFINITION_ERRORS_HANDLING&&!Ke(this.definitionErrors))throw e=re(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),ge(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=ge(r,"skipValidations")?r.skipValidations:ni.skipValidations}}Bl.DEFER_DEFINITION_ERRORS_HANDLING=!1;IU(Bl,[cU,fU,AU,_U,xU,SU,RU,NU,OU,MU]);class kU extends Bl{constructor(e,r=ni){const n=Bt(r);n.outputCst=!1,super(e,n)}}function ya(t,e,r){return`${t.name}_${e}_${r}`}const xi=1,PU=2,lS=4,cS=5,Wl=7,DU=8,FU=9,UU=10,GU=11,uS=12;class mm{constructor(e){this.target=e}isEpsilon(){return!1}}class ym extends mm{constructor(e,r){super(e),this.tokenType=r}}class hS extends mm{constructor(e){super(e)}isEpsilon(){return!0}}class Tm extends mm{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}}function $U(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};HU(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],s=Ls(e,i,i);s!==void 0&&QU(e,i,s)}return e}function HU(t,e){const r=e.length;for(let n=0;n<r;n++){const i=e[n],s=kt(t,i,void 0,{type:PU}),a=kt(t,i,void 0,{type:Wl});s.stop=a,t.ruleToStartState.set(i,s),t.ruleToStopState.set(i,a)}}function fS(t,e,r){return r instanceof rt?Em(t,e,r.terminalType,r):r instanceof ur?ZU(t,e,r):r instanceof _r?XU(t,e,r):r instanceof zt?qU(t,e,r):r instanceof lt?zU(t,e,r):r instanceof Ar?BU(t,e,r):r instanceof zr?WU(t,e,r):r instanceof Br?YU(t,e,r):Ls(t,e,r)}function zU(t,e,r){const n=kt(t,e,r,{type:cS});Li(t,n);const i=Ca(t,e,n,r,Ls(t,e,r));return pS(t,e,r,i)}function BU(t,e,r){const n=kt(t,e,r,{type:cS});Li(t,n);const i=Ca(t,e,n,r,Ls(t,e,r)),s=Em(t,e,r.separator,r);return pS(t,e,r,i,s)}function WU(t,e,r){const n=kt(t,e,r,{type:lS});Li(t,n);const i=Ca(t,e,n,r,Ls(t,e,r));return dS(t,e,r,i)}function YU(t,e,r){const n=kt(t,e,r,{type:lS});Li(t,n);const i=Ca(t,e,n,r,Ls(t,e,r)),s=Em(t,e,r.separator,r);return dS(t,e,r,i,s)}function XU(t,e,r){const n=kt(t,e,r,{type:xi});Li(t,n);const i=re(r.definition,a=>fS(t,e,a));return Ca(t,e,n,r,...i)}function qU(t,e,r){const n=kt(t,e,r,{type:xi});Li(t,n);const i=Ca(t,e,n,r,Ls(t,e,r));return VU(t,e,r,i)}function Ls(t,e,r){const n=Hr(re(r.definition,i=>fS(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:KU(t,n)}function dS(t,e,r,n,i){const s=n.left,a=n.right,o=kt(t,e,r,{type:GU});Li(t,o);const l=kt(t,e,r,{type:uS});return s.loopback=o,l.loopback=o,t.decisionMap[ya(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,gt(a,o),i===void 0?(gt(o,s),gt(o,l)):(gt(o,l),gt(o,i.left),gt(i.right,s)),{left:s,right:l}}function pS(t,e,r,n,i){const s=n.left,a=n.right,o=kt(t,e,r,{type:UU});Li(t,o);const l=kt(t,e,r,{type:uS}),c=kt(t,e,r,{type:FU});return o.loopback=c,l.loopback=c,gt(o,s),gt(o,l),gt(a,c),i!==void 0?(gt(c,l),gt(c,i.left),gt(i.right,s)):gt(c,o),t.decisionMap[ya(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function VU(t,e,r,n){const i=n.left,s=n.right;return gt(i,s),t.decisionMap[ya(e,"Option",r.idx)]=i,n}function Li(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function Ca(t,e,r,n,...i){const s=kt(t,e,n,{type:DU,start:r});r.end=s;for(const o of i)o!==void 0?(gt(r,o.left),gt(o.right,s)):gt(r,s);const a={left:r,right:s};return t.decisionMap[ya(e,jU(n),n.idx)]=r,a}function jU(t){if(t instanceof _r)return"Alternation";if(t instanceof zt)return"Option";if(t instanceof lt)return"Repetition";if(t instanceof Ar)return"RepetitionWithSeparator";if(t instanceof zr)return"RepetitionMandatory";if(t instanceof Br)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function KU(t,e){const r=e.length;for(let s=0;s<r-1;s++){const a=e[s];let o;a.left.transitions.length===1&&(o=a.left.transitions[0]);const l=o instanceof Tm,c=o,u=e[s+1].left;a.left.type===xi&&a.right.type===xi&&o!==void 0&&(l&&c.followState===a.right||o.target===a.right)?(l?c.followState=u:o.target=u,JU(t,a.right)):gt(a.right,u)}const n=e[0],i=e[r-1];return{left:n.left,right:i.right}}function Em(t,e,r,n){const i=kt(t,e,n,{type:xi}),s=kt(t,e,n,{type:xi});return bm(i,new ym(s,r)),{left:i,right:s}}function ZU(t,e,r){const n=r.referencedRule,i=t.ruleToStartState.get(n),s=kt(t,e,r,{type:xi}),a=kt(t,e,r,{type:xi}),o=new Tm(i,n,a);return bm(s,o),{left:s,right:a}}function QU(t,e,r){const n=t.ruleToStartState.get(e);gt(n,r.left);const i=t.ruleToStopState.get(e);return gt(r.right,i),{left:n,right:i}}function gt(t,e){const r=new hS(e);bm(t,r)}function kt(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function bm(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function JU(t,e){t.states.splice(t.states.indexOf(e),1)}const sh={};class Dg{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=gS(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return re(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}}function gS(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function e5(t,e){const r={};return n=>{const i=n.toString();let s=r[i];return s!==void 0||(s={atnStartState:t,decision:e,states:{}},r[i]=s),s}}class vS{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}}const wT=new vS;class t5 extends vm{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=$U(e.rules),this.dfas=r5(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,l=ya(n,"Alternation",r),u=this.atn.decisionMap[l].decision,h=re(pT({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>re(d,f=>f[0]));if(AT(h,!1)&&!s){const d=or(h,(f,p,g)=>(de(p,v=>{v&&(f[v.tokenTypeIdx]=g,de(v.categoryMatches,m=>{f[m]=g}))}),f),{});return i?function(f){var p;const g=this.LA(1),v=d[g.tokenTypeIdx];if(f!==void 0&&v!==void 0){const m=(p=f[v])===null||p===void 0?void 0:p.GATE;if(m!==void 0&&m.call(this)===!1)return}return v}:function(){const f=this.LA(1);return d[f.tokenTypeIdx]}}else return i?function(d){const f=new vS,p=d===void 0?0:d.length;for(let v=0;v<p;v++){const m=d==null?void 0:d[v].GATE;f.set(v,m===void 0||m.call(this))}const g=Wd.call(this,a,u,f,o);return typeof g=="number"?g:void 0}:function(){const d=Wd.call(this,a,u,wT,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,l=ya(n,i,r),u=this.atn.decisionMap[l].decision,h=re(pT({maxLookahead:1,occurrence:r,prodType:i,rule:n}),d=>re(d,f=>f[0]));if(AT(h)&&h[0][0]&&!s){const d=h[0],f=Kr(d);if(f.length===1&&Ke(f[0].categoryMatches)){const g=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{const p=or(f,(g,v)=>(v!==void 0&&(g[v.tokenTypeIdx]=!0,de(v.categoryMatches,m=>{g[m]=!0})),g),{});return function(){const g=this.LA(1);return p[g.tokenTypeIdx]===!0}}}return function(){const d=Wd.call(this,a,u,wT,o);return typeof d=="object"?!1:d===0}}}function AT(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const s of n){if(s===void 0){if(e)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function r5(t){const e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=e5(t.decisionStates[n],n);return r}function Wd(t,e,r,n){const i=t[e](r);let s=i.start;if(s===void 0){const o=d5(i.atnStartState);s=yS(i,mS(o)),i.start=s}return n5.apply(this,[i,s,r,n])}function n5(t,e,r,n){let i=e,s=1;const a=[];let o=this.LA(s++);for(;;){let l=c5(i,o);if(l===void 0&&(l=i5.apply(this,[t,i,o,s,r,n])),l===sh)return l5(a,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,a.push(o),o=this.LA(s++)}}function i5(t,e,r,n,i,s){const a=u5(e.configs,r,i);if(a.size===0)return _T(t,e,r,sh),sh;let o=mS(a);const l=f5(a,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(m5(a)){const c=jS(a.alts);o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c,s5.apply(this,[t,n,a.alts,s])}return o=_T(t,e,r,o),o}function s5(t,e,r,n){const i=[];for(let c=1;c<=e;c++)i.push(this.LA(c).tokenType);const s=t.atnStartState,a=s.rule,o=s.production,l=a5({topLevelRule:a,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function a5(t){const e=re(t.prefixPath,i=>oa(i)).join(", "),r=t.production.idx===0?"":t.production.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${o5(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function o5(t){if(t instanceof ur)return"SUBRULE";if(t instanceof zt)return"OPTION";if(t instanceof _r)return"OR";if(t instanceof zr)return"AT_LEAST_ONE";if(t instanceof Br)return"AT_LEAST_ONE_SEP";if(t instanceof Ar)return"MANY_SEP";if(t instanceof lt)return"MANY";if(t instanceof rt)return"CONSUME";throw Error("non exhaustive match")}function l5(t,e,r){const n=Ir(e.configs.elements,s=>s.state.transitions),i=KS(n.filter(s=>s instanceof ym).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}function c5(t,e){return t.edges[e.tokenTypeIdx]}function u5(t,e,r){const n=new Dg,i=[];for(const a of t.elements){if(r.is(a.alt)===!1)continue;if(a.state.type===Wl){i.push(a);continue}const o=a.state.transitions.length;for(let l=0;l<o;l++){const c=a.state.transitions[l],u=h5(c,e);u!==void 0&&n.add({state:u,alt:a.alt,stack:a.stack})}}let s;if(i.length===0&&n.size===1&&(s=n),s===void 0){s=new Dg;for(const a of n.elements)ah(a,s)}if(i.length>0&&!g5(s))for(const a of i)s.add(a);return s}function h5(t,e){if(t instanceof ym&&B_(e,t.tokenType))return t.target}function f5(t,e){let r;for(const n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function mS(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function _T(t,e,r,n){return n=yS(t,n),e.edges[r.tokenTypeIdx]=n,n}function yS(t,e){if(e===sh)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function d5(t){const e=new Dg,r=t.transitions.length;for(let n=0;n<r;n++){const s={state:t.transitions[n].target,alt:n,stack:[]};ah(s,e)}return e}function ah(t,e){const r=t.state;if(r.type===Wl){if(t.stack.length>0){const i=[...t.stack],a={state:i.pop(),alt:t.alt,stack:i};ah(a,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const s=r.transitions[i],a=p5(t,s);a!==void 0&&ah(a,e)}}function p5(t,e){if(e instanceof hS)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof Tm){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function g5(t){for(const e of t.elements)if(e.state.type===Wl)return!0;return!1}function v5(t){for(const e of t.elements)if(e.state.type!==Wl)return!1;return!0}function m5(t){if(v5(t))return!0;const e=y5(t.elements);return T5(e)&&!E5(e)}function y5(t){const e=new Map;for(const r of t){const n=gS(r,!1);let i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}function T5(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function E5(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var ST;(function(t){function e(r){return typeof r=="string"}t.is=e})(ST||(ST={}));var Fg;(function(t){function e(r){return typeof r=="string"}t.is=e})(Fg||(Fg={}));var xT;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(xT||(xT={}));var oh;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(oh||(oh={}));var ze;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=oh.MAX_VALUE),i===Number.MAX_VALUE&&(i=oh.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){let i=n;return G.objectLiteral(i)&&G.uinteger(i.line)&&G.uinteger(i.character)}t.is=r})(ze||(ze={}));var Pe;(function(t){function e(n,i,s,a){if(G.uinteger(n)&&G.uinteger(i)&&G.uinteger(s)&&G.uinteger(a))return{start:ze.create(n,i),end:ze.create(s,a)};if(ze.is(n)&&ze.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}t.create=e;function r(n){let i=n;return G.objectLiteral(i)&&ze.is(i.start)&&ze.is(i.end)}t.is=r})(Pe||(Pe={}));var lh;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){let i=n;return G.objectLiteral(i)&&Pe.is(i.range)&&(G.string(i.uri)||G.undefined(i.uri))}t.is=r})(lh||(lh={}));var RT;(function(t){function e(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}t.create=e;function r(n){let i=n;return G.objectLiteral(i)&&Pe.is(i.targetRange)&&G.string(i.targetUri)&&Pe.is(i.targetSelectionRange)&&(Pe.is(i.originSelectionRange)||G.undefined(i.originSelectionRange))}t.is=r})(RT||(RT={}));var Ug;(function(t){function e(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&G.numberRange(i.red,0,1)&&G.numberRange(i.green,0,1)&&G.numberRange(i.blue,0,1)&&G.numberRange(i.alpha,0,1)}t.is=r})(Ug||(Ug={}));var NT;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&Pe.is(i.range)&&Ug.is(i.color)}t.is=r})(NT||(NT={}));var LT;(function(t){function e(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&G.string(i.label)&&(G.undefined(i.textEdit)||Ea.is(i))&&(G.undefined(i.additionalTextEdits)||G.typedArray(i.additionalTextEdits,Ea.is))}t.is=r})(LT||(LT={}));var OT;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(OT||(OT={}));var CT;(function(t){function e(n,i,s,a,o,l){const c={startLine:n,endLine:i};return G.defined(s)&&(c.startCharacter=s),G.defined(a)&&(c.endCharacter=a),G.defined(o)&&(c.kind=o),G.defined(l)&&(c.collapsedText=l),c}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&G.uinteger(i.startLine)&&G.uinteger(i.startLine)&&(G.undefined(i.startCharacter)||G.uinteger(i.startCharacter))&&(G.undefined(i.endCharacter)||G.uinteger(i.endCharacter))&&(G.undefined(i.kind)||G.string(i.kind))}t.is=r})(CT||(CT={}));var Gg;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){let i=n;return G.defined(i)&&lh.is(i.location)&&G.string(i.message)}t.is=r})(Gg||(Gg={}));var MT;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(MT||(MT={}));var IT;(function(t){t.Unnecessary=1,t.Deprecated=2})(IT||(IT={}));var kT;(function(t){function e(r){const n=r;return G.objectLiteral(n)&&G.string(n.href)}t.is=e})(kT||(kT={}));var ch;(function(t){function e(n,i,s,a,o,l){let c={range:n,message:i};return G.defined(s)&&(c.severity=s),G.defined(a)&&(c.code=a),G.defined(o)&&(c.source=o),G.defined(l)&&(c.relatedInformation=l),c}t.create=e;function r(n){var i;let s=n;return G.defined(s)&&Pe.is(s.range)&&G.string(s.message)&&(G.number(s.severity)||G.undefined(s.severity))&&(G.integer(s.code)||G.string(s.code)||G.undefined(s.code))&&(G.undefined(s.codeDescription)||G.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(G.string(s.source)||G.undefined(s.source))&&(G.undefined(s.relatedInformation)||G.typedArray(s.relatedInformation,Gg.is))}t.is=r})(ch||(ch={}));var Ta;(function(t){function e(n,i,...s){let a={title:n,command:i};return G.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function r(n){let i=n;return G.defined(i)&&G.string(i.title)&&G.string(i.command)}t.is=r})(Ta||(Ta={}));var Ea;(function(t){function e(s,a){return{range:s,newText:a}}t.replace=e;function r(s,a){return{range:{start:s,end:s},newText:a}}t.insert=r;function n(s){return{range:s,newText:""}}t.del=n;function i(s){const a=s;return G.objectLiteral(a)&&G.string(a.newText)&&Pe.is(a.range)}t.is=i})(Ea||(Ea={}));var $g;(function(t){function e(n,i,s){const a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&G.string(i.label)&&(G.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(G.string(i.description)||i.description===void 0)}t.is=r})($g||($g={}));var ba;(function(t){function e(r){const n=r;return G.string(n)}t.is=e})(ba||(ba={}));var PT;(function(t){function e(s,a,o){return{range:s,newText:a,annotationId:o}}t.replace=e;function r(s,a,o){return{range:{start:s,end:s},newText:a,annotationId:o}}t.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}t.del=n;function i(s){const a=s;return Ea.is(a)&&($g.is(a.annotationId)||ba.is(a.annotationId))}t.is=i})(PT||(PT={}));var Hg;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){let i=n;return G.defined(i)&&Xg.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(Hg||(Hg={}));var zg;(function(t){function e(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&G.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||G.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||G.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ba.is(i.annotationId))}t.is=r})(zg||(zg={}));var Bg;(function(t){function e(n,i,s,a){let o={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),a!==void 0&&(o.annotationId=a),o}t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&G.string(i.oldUri)&&G.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||G.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||G.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ba.is(i.annotationId))}t.is=r})(Bg||(Bg={}));var Wg;(function(t){function e(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&G.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||G.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||G.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ba.is(i.annotationId))}t.is=r})(Wg||(Wg={}));var Yg;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>G.string(i.kind)?zg.is(i)||Bg.is(i)||Wg.is(i):Hg.is(i)))}t.is=e})(Yg||(Yg={}));var DT;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)}t.is=r})(DT||(DT={}));var FT;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&G.integer(i.version)}t.is=r})(FT||(FT={}));var Xg;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&(i.version===null||G.integer(i.version))}t.is=r})(Xg||(Xg={}));var UT;(function(t){function e(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}t.create=e;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&G.string(i.languageId)&&G.integer(i.version)&&G.string(i.text)}t.is=r})(UT||(UT={}));var qg;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){const n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(qg||(qg={}));var xl;(function(t){function e(r){const n=r;return G.objectLiteral(r)&&qg.is(n.kind)&&G.string(n.value)}t.is=e})(xl||(xl={}));var GT;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(GT||(GT={}));var $T;(function(t){t.PlainText=1,t.Snippet=2})($T||($T={}));var HT;(function(t){t.Deprecated=1})(HT||(HT={}));var zT;(function(t){function e(n,i,s){return{newText:n,insert:i,replace:s}}t.create=e;function r(n){const i=n;return i&&G.string(i.newText)&&Pe.is(i.insert)&&Pe.is(i.replace)}t.is=r})(zT||(zT={}));var BT;(function(t){t.asIs=1,t.adjustIndentation=2})(BT||(BT={}));var WT;(function(t){function e(r){const n=r;return n&&(G.string(n.detail)||n.detail===void 0)&&(G.string(n.description)||n.description===void 0)}t.is=e})(WT||(WT={}));var YT;(function(t){function e(r){return{label:r}}t.create=e})(YT||(YT={}));var XT;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(XT||(XT={}));var uh;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){const i=n;return G.string(i)||G.objectLiteral(i)&&G.string(i.language)&&G.string(i.value)}t.is=r})(uh||(uh={}));var qT;(function(t){function e(r){let n=r;return!!n&&G.objectLiteral(n)&&(xl.is(n.contents)||uh.is(n.contents)||G.typedArray(n.contents,uh.is))&&(r.range===void 0||Pe.is(r.range))}t.is=e})(qT||(qT={}));var VT;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(VT||(VT={}));var jT;(function(t){function e(r,n,...i){let s={label:r};return G.defined(n)&&(s.documentation=n),G.defined(i)?s.parameters=i:s.parameters=[],s}t.create=e})(jT||(jT={}));var KT;(function(t){t.Text=1,t.Read=2,t.Write=3})(KT||(KT={}));var ZT;(function(t){function e(r,n){let i={range:r};return G.number(n)&&(i.kind=n),i}t.create=e})(ZT||(ZT={}));var QT;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(QT||(QT={}));var JT;(function(t){t.Deprecated=1})(JT||(JT={}));var eE;(function(t){function e(r,n,i,s,a){let o={name:r,kind:n,location:{uri:s,range:i}};return a&&(o.containerName=a),o}t.create=e})(eE||(eE={}));var tE;(function(t){function e(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}t.create=e})(tE||(tE={}));var rE;(function(t){function e(n,i,s,a,o,l){let c={name:n,detail:i,kind:s,range:a,selectionRange:o};return l!==void 0&&(c.children=l),c}t.create=e;function r(n){let i=n;return i&&G.string(i.name)&&G.number(i.kind)&&Pe.is(i.range)&&Pe.is(i.selectionRange)&&(i.detail===void 0||G.string(i.detail))&&(i.deprecated===void 0||G.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})(rE||(rE={}));var nE;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(nE||(nE={}));var hh;(function(t){t.Invoked=1,t.Automatic=2})(hh||(hh={}));var iE;(function(t){function e(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}t.create=e;function r(n){let i=n;return G.defined(i)&&G.typedArray(i.diagnostics,ch.is)&&(i.only===void 0||G.typedArray(i.only,G.string))&&(i.triggerKind===void 0||i.triggerKind===hh.Invoked||i.triggerKind===hh.Automatic)}t.is=r})(iE||(iE={}));var sE;(function(t){function e(n,i,s){let a={title:n},o=!0;return typeof i=="string"?(o=!1,a.kind=i):Ta.is(i)?a.command=i:a.edit=i,o&&s!==void 0&&(a.kind=s),a}t.create=e;function r(n){let i=n;return i&&G.string(i.title)&&(i.diagnostics===void 0||G.typedArray(i.diagnostics,ch.is))&&(i.kind===void 0||G.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ta.is(i.command))&&(i.isPreferred===void 0||G.boolean(i.isPreferred))&&(i.edit===void 0||Yg.is(i.edit))}t.is=r})(sE||(sE={}));var aE;(function(t){function e(n,i){let s={range:n};return G.defined(i)&&(s.data=i),s}t.create=e;function r(n){let i=n;return G.defined(i)&&Pe.is(i.range)&&(G.undefined(i.command)||Ta.is(i.command))}t.is=r})(aE||(aE={}));var oE;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){let i=n;return G.defined(i)&&G.uinteger(i.tabSize)&&G.boolean(i.insertSpaces)}t.is=r})(oE||(oE={}));var lE;(function(t){function e(n,i,s){return{range:n,target:i,data:s}}t.create=e;function r(n){let i=n;return G.defined(i)&&Pe.is(i.range)&&(G.undefined(i.target)||G.string(i.target))}t.is=r})(lE||(lE={}));var cE;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){let i=n;return G.objectLiteral(i)&&Pe.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(cE||(cE={}));var uE;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(uE||(uE={}));var hE;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(hE||(hE={}));var fE;(function(t){function e(r){const n=r;return G.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(fE||(fE={}));var dE;(function(t){function e(n,i){return{range:n,text:i}}t.create=e;function r(n){const i=n;return i!=null&&Pe.is(i.range)&&G.string(i.text)}t.is=r})(dE||(dE={}));var pE;(function(t){function e(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}t.create=e;function r(n){const i=n;return i!=null&&Pe.is(i.range)&&G.boolean(i.caseSensitiveLookup)&&(G.string(i.variableName)||i.variableName===void 0)}t.is=r})(pE||(pE={}));var gE;(function(t){function e(n,i){return{range:n,expression:i}}t.create=e;function r(n){const i=n;return i!=null&&Pe.is(i.range)&&(G.string(i.expression)||i.expression===void 0)}t.is=r})(gE||(gE={}));var vE;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}t.create=e;function r(n){const i=n;return G.defined(i)&&Pe.is(n.stoppedLocation)}t.is=r})(vE||(vE={}));var Vg;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}t.is=e})(Vg||(Vg={}));var jg;(function(t){function e(n){return{value:n}}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&(i.tooltip===void 0||G.string(i.tooltip)||xl.is(i.tooltip))&&(i.location===void 0||lh.is(i.location))&&(i.command===void 0||Ta.is(i.command))}t.is=r})(jg||(jg={}));var mE;(function(t){function e(n,i,s){const a={position:n,label:i};return s!==void 0&&(a.kind=s),a}t.create=e;function r(n){const i=n;return G.objectLiteral(i)&&ze.is(i.position)&&(G.string(i.label)||G.typedArray(i.label,jg.is))&&(i.kind===void 0||Vg.is(i.kind))&&i.textEdits===void 0||G.typedArray(i.textEdits,Ea.is)&&(i.tooltip===void 0||G.string(i.tooltip)||xl.is(i.tooltip))&&(i.paddingLeft===void 0||G.boolean(i.paddingLeft))&&(i.paddingRight===void 0||G.boolean(i.paddingRight))}t.is=r})(mE||(mE={}));var yE;(function(t){function e(r){return{kind:"snippet",value:r}}t.createSnippet=e})(yE||(yE={}));var TE;(function(t){function e(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}t.create=e})(TE||(TE={}));var EE;(function(t){function e(r){return{items:r}}t.create=e})(EE||(EE={}));var bE;(function(t){t.Invoked=0,t.Automatic=1})(bE||(bE={}));var wE;(function(t){function e(r,n){return{range:r,text:n}}t.create=e})(wE||(wE={}));var AE;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}t.create=e})(AE||(AE={}));var _E;(function(t){function e(r){const n=r;return G.objectLiteral(n)&&Fg.is(n.uri)&&G.string(n.name)}t.is=e})(_E||(_E={}));var SE;(function(t){function e(s,a,o,l){return new b5(s,a,o,l)}t.create=e;function r(s){let a=s;return!!(G.defined(a)&&G.string(a.uri)&&(G.undefined(a.languageId)||G.string(a.languageId))&&G.uinteger(a.lineCount)&&G.func(a.getText)&&G.func(a.positionAt)&&G.func(a.offsetAt))}t.is=r;function n(s,a){let o=s.getText(),l=i(a,(u,h)=>{let d=u.range.start.line-h.range.start.line;return d===0?u.range.start.character-h.range.start.character:d}),c=o.length;for(let u=l.length-1;u>=0;u--){let h=l[u],d=s.offsetAt(h.range.start),f=s.offsetAt(h.range.end);if(f<=c)o=o.substring(0,d)+h.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");c=d}return o}t.applyEdits=n;function i(s,a){if(s.length<=1)return s;const o=s.length/2|0,l=s.slice(0,o),c=s.slice(o);i(l,a),i(c,a);let u=0,h=0,d=0;for(;u<l.length&&h<c.length;)a(l[u],c[h])<=0?s[d++]=l[u++]:s[d++]=c[h++];for(;u<l.length;)s[d++]=l[u++];for(;h<c.length;)s[d++]=c[h++];return s}})(SE||(SE={}));let b5=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return ze.create(0,e);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let s=n-1;return ze.create(s,e-r[s])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var G;(function(t){const e=Object.prototype.toString;function r(f){return typeof f<"u"}t.defined=r;function n(f){return typeof f>"u"}t.undefined=n;function i(f){return f===!0||f===!1}t.boolean=i;function s(f){return e.call(f)==="[object String]"}t.string=s;function a(f){return e.call(f)==="[object Number]"}t.number=a;function o(f,p,g){return e.call(f)==="[object Number]"&&p<=f&&f<=g}t.numberRange=o;function l(f){return e.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}t.integer=l;function c(f){return e.call(f)==="[object Number]"&&0<=f&&f<=2147483647}t.uinteger=c;function u(f){return e.call(f)==="[object Function]"}t.func=u;function h(f){return f!==null&&typeof f=="object"}t.objectLiteral=h;function d(f,p){return Array.isArray(f)&&f.every(p)}t.typedArray=d})(G||(G={}));class w5{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new ES(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new wm;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new Kg(e.startOffset,e.image.length,Ag(e),e.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}addHiddenNodes(e){const r=[];for(const s of e){const a=new Kg(s.startOffset,s.image.length,Ag(s),s.tokenType,!0);a.root=this.rootNode,r.push(a)}let n=this.current,i=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){const s=n.container.content.indexOf(n);if(s>0){n.container.content.splice(s,0,...r),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...r)}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}}class TS{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Kg extends TS{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,s=!1){super(),this._hidden=s,this._offset=e,this._tokenType=i,this._length=r,this._range=n}}class wm extends TS{constructor(){super(...arguments),this.content=new Am(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:ze.create(0,0),end:ze.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}}class Am extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Am.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}}class ES extends wm{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const Zg=Symbol("Datatype");function Yd(t){return t.$type===Zg}const xE="",bS=t=>t.endsWith(xE)?t:t+xE;class wS{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition,n=e.LanguageMetaData.mode==="production";this.wrapper=new R5(r,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class A5 extends wS{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new w5,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(bS(e.name),this.startImplementation(n,r).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment){if(R_(e))return Zg;{const r=lm(e);return r??e.name}}}parse(e,r={}){this.nodeBuilder.buildRootNode(e);const n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;const i=r.rule?this.allRules.get(r.rule):this.mainRule;if(!i)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");const s=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:s,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{const i=!this.isRecording()&&e!==void 0;if(i){const a={$type:e};this.stack.push(a),e===Zg&&(a.value="")}let s;try{s=r(n)}catch{s=void 0}return s===void 0&&i&&(s=this.construct()),s}}extractHiddenTokens(e){const r=this.lexerResult.hidden;if(!r.length)return[];const n=e.startOffset;for(let i=0;i<r.length;i++)if(r[i].startOffset>n)return r.splice(0,i);return r.splice(0,r.length)}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:o,isCrossRef:l}=this.getAssignment(n),c=this.current;if(o){const u=Ts(n)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,u,a,l)}else if(Yd(c)){let u=i.image;Ts(n)||(u=this.converter.convert(u,a).toString()),c.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i,s){let a;!this.isRecording()&&!n&&(a=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(e,r,s);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:s}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,s);else if(!i){const a=this.current;if(Yd(a))a.value+=e.toString();else if(typeof e=="object"&&e){const l=this.assignWithoutOverride(e,a);this.stack.pop(),this.stack.push(l)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);const s={$type:e};this.stack.push(s),this.assign(r.operator,r.feature,n,n.$cstNode,!1)}else n.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return n2(e),this.nodeBuilder.construct(e),this.stack.pop(),Yd(e)?this.converter.convert(e.value,e.$cstNode):(i2(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=ef(e,ys);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?im(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,n,i,s){const a=this.current;let o;switch(s&&typeof n=="string"?o=this.linker.buildReference(a,r,i,n):o=n,e){case"=":{a[r]=o;break}case"?=":{a[r]=!0;break}case"+=":Array.isArray(a[r])||(a[r]=[]),a[r].push(o)}}assignWithoutOverride(e,r){for(const[i,s]of Object.entries(r)){const a=e[i];a===void 0?e[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),e[i]=s)}const n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class _5{buildMismatchTokenMessage(e){return Js.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Js.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Js.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Js.buildEarlyExitMessage(e)}}class AS extends _5{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class S5 extends wS{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(bS(e.name),this.startImplementation(r).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i,s){this.before(i),this.wrapper.wrapSubrule(e,r,s),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const x5={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new AS};class R5 extends kU{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},x5),{lookaheadStrategy:n?new vm({maxLookahead:r.maxLookahead}):new t5({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}}function _S(t,e,r){return N5({parser:e,tokens:r,ruleNames:new Map},t),e}function N5(t,e){const r=w_(e,!1),n=Ht(e.rules).filter(tn).filter(i=>r.has(i));for(const i of n){const s=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});t.parser.rule(i,ws(s,i.definition))}}function ws(t,e,r=!1){let n;if(Ts(e))n=P5(t,e);else if(Jh(e))n=L5(t,e);else if(ys(e))n=ws(t,e.terminal);else if(im(e))n=SS(t,e);else if(Es(e))n=O5(t,e);else if(v_(e))n=M5(t,e);else if(m_(e))n=I5(t,e);else if(sm(e))n=k5(t,e);else if(jD(e)){const i=t.consume++;n=()=>t.parser.consume(i,Si,e)}else throw new f_(e.$cstNode,`Unexpected element type: ${e.$type}`);return xS(t,r?void 0:fh(e),n,e.cardinality)}function L5(t,e){const r=cm(e);return()=>t.parser.action(r,e)}function O5(t,e){const r=e.rule.ref;if(tn(r)){const n=t.subrule++,i=r.fragment,s=e.arguments.length>0?C5(r,e.arguments):()=>({});return a=>t.parser.subrule(n,RS(t,r),i,e,s(a))}else if(Ns(r)){const n=t.consume++,i=Qg(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)Ul();else throw new f_(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function C5(t,e){const r=e.map(n=>Kn(n.value));return n=>{const i={};for(let s=0;s<r.length;s++){const a=t.parameters[s],o=r[s];i[a.name]=o(n)}return i}}function Kn(t){if(BD(t)){const e=Kn(t.left),r=Kn(t.right);return n=>e(n)||r(n)}else if(zD(t)){const e=Kn(t.left),r=Kn(t.right);return n=>e(n)&&r(n)}else if(WD(t)){const e=Kn(t.value);return r=>!e(r)}else if(YD(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(HD(t)){const e=!!t.true;return()=>e}Ul()}function M5(t,e){if(e.elements.length===1)return ws(t,e.elements[0]);{const r=[];for(const i of e.elements){const s={ALT:ws(t,i,!0)},a=fh(i);a&&(s.GATE=Kn(a)),r.push(s)}const n=t.or++;return i=>t.parser.alternatives(n,r.map(s=>{const a={ALT:()=>s.ALT(i)},o=s.GATE;return o&&(a.GATE=()=>o(i)),a}))}}function I5(t,e){if(e.elements.length===1)return ws(t,e.elements[0]);const r=[];for(const o of e.elements){const l={ALT:ws(t,o,!0)},c=fh(o);c&&(l.GATE=Kn(c)),r.push(l)}const n=t.or++,i=(o,l)=>{const c=l.getRuleStack().join("-");return`uGroup_${o}_${c}`},s=o=>t.parser.alternatives(n,r.map((l,c)=>{const u={ALT:()=>!0},h=t.parser;u.ALT=()=>{if(l.ALT(o),!h.isRecording()){const f=i(n,h);h.unorderedGroups.get(f)||h.unorderedGroups.set(f,[]);const p=h.unorderedGroups.get(f);typeof(p==null?void 0:p[c])>"u"&&(p[c]=!0)}};const d=l.GATE;return d?u.GATE=()=>d(o):u.GATE=()=>{const f=h.unorderedGroups.get(i(n,h));return!(f!=null&&f[c])},u})),a=xS(t,fh(e),s,"*");return o=>{a(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}function k5(t,e){const r=e.elements.map(n=>ws(t,n));return n=>r.forEach(i=>i(n))}function fh(t){if(sm(t))return t.guardCondition}function SS(t,e,r=e.terminal){if(r)if(Es(r)&&tn(r.rule.ref)){const n=r.rule.ref,i=t.subrule++;return s=>t.parser.subrule(i,RS(t,n),!1,e,s)}else if(Es(r)&&Ns(r.rule.ref)){const n=t.consume++,i=Qg(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(Ts(r)){const n=t.consume++,i=Qg(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=S_(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+cm(e.type.ref));return SS(t,e,i)}}function P5(t,e){const r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}function xS(t,e,r,n){const i=e&&Kn(e);if(!n)if(i){const s=t.or++;return a=>t.parser.alternatives(s,[{ALT:()=>r(a),GATE:()=>i(a)},{ALT:bT(),GATE:()=>!i(a)}])}else return r;if(n==="*"){const s=t.many++;return a=>t.parser.many(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else if(n==="+"){const s=t.many++;if(i){const a=t.or++;return o=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(s,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:bT(),GATE:()=>!i(o)}])}else return a=>t.parser.atLeastOne(s,{DEF:()=>r(a)})}else if(n==="?"){const s=t.optional++;return a=>t.parser.optional(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else Ul()}function RS(t,e){const r=D5(t,e),n=t.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function D5(t,e){if(tn(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!tn(n);)(sm(n)||v_(n)||m_(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}function Qg(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function F5(t){const e=t.Grammar,r=t.parser.Lexer,n=new S5(t);return _S(e,n,r.definition),n.finalize(),n}function U5(t){const e=G5(t);return e.finalize(),e}function G5(t){const e=t.Grammar,r=t.parser.Lexer,n=new A5(t);return _S(e,n,r.definition)}class $5{constructor(){this.diagnostics=[]}buildTokens(e,r){const n=Ht(w_(e,!1)),i=this.buildTerminalTokens(n),s=this.buildKeywordTokens(n,i,r);return i.forEach(a=>{const o=a.PATTERN;typeof o=="object"&&o&&"test"in o&&Sg(o)?s.unshift(a):s.push(a)}),s}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(Ns).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=um(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n};return typeof n=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=Sg(r)?br.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")||e.flags.includes("s")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(tn).flatMap(i=>Gl(i).filter(Ts)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){const i=this.buildKeywordPattern(e,n),s={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,r)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(e,r){return r?new RegExp(d2(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const s=i==null?void 0:i.PATTERN;return s!=null&&s.source&&p2("^"+s.source+"$",e.value)&&n.push(i),n},[])}}class H5{convert(e,r){let n=r.grammarSource;if(im(n)&&(n=y2(n)),Es(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return qn.convertInt(r);case"STRING":return qn.convertString(r);case"ID":return qn.convertID(r)}switch((i=S2(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return qn.convertNumber(r);case"boolean":return qn.convertBoolean(r);case"bigint":return qn.convertBigint(r);case"date":return qn.convertDate(r);default:return r}}}var qn;(function(t){function e(c){let u="";for(let h=1;h<c.length-1;h++){const d=c.charAt(h);if(d==="\\"){const f=c.charAt(++h);u+=r(f)}else u+=d}return u}t.convertString=e;function r(c){switch(c){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return c}}function n(c){return c.charAt(0)==="^"?c.substring(1):c}t.convertID=n;function i(c){return parseInt(c)}t.convertInt=i;function s(c){return BigInt(c)}t.convertBigint=s;function a(c){return new Date(c)}t.convertDate=a;function o(c){return Number(c)}t.convertNumber=o;function l(c){return c.toLowerCase()==="true"}t.convertBoolean=l})(qn||(qn={}));var qi={},Uc={},RE;function NS(){if(RE)return Uc;RE=1,Object.defineProperty(Uc,"__esModule",{value:!0});let t;function e(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}return function(r){function n(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");t=i}r.install=n}(e||(e={})),Uc.default=e,Uc}var Ft={},NE;function z5(){if(NE)return Ft;NE=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.stringArray=Ft.array=Ft.func=Ft.error=Ft.number=Ft.string=Ft.boolean=void 0;function t(o){return o===!0||o===!1}Ft.boolean=t;function e(o){return typeof o=="string"||o instanceof String}Ft.string=e;function r(o){return typeof o=="number"||o instanceof Number}Ft.number=r;function n(o){return o instanceof Error}Ft.error=n;function i(o){return typeof o=="function"}Ft.func=i;function s(o){return Array.isArray(o)}Ft.array=s;function a(o){return s(o)&&o.every(l=>e(l))}return Ft.stringArray=a,Ft}var Vi={},LE;function LS(){if(LE)return Vi;LE=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Emitter=Vi.Event=void 0;const t=NS();var e;(function(i){const s={dispose(){}};i.None=function(){return s}})(e||(Vi.Event=e={}));class r{add(s,a=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(a),Array.isArray(o)&&o.push({dispose:()=>this.remove(s,a)})}remove(s,a=null){if(!this._callbacks)return;let o=!1;for(let l=0,c=this._callbacks.length;l<c;l++)if(this._callbacks[l]===s)if(this._contexts[l]===a){this._callbacks.splice(l,1),this._contexts.splice(l,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const a=[],o=this._callbacks.slice(0),l=this._contexts.slice(0);for(let c=0,u=o.length;c<u;c++)try{a.push(o[c].apply(l[c],s))}catch(h){(0,t.default)().console.error(h)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class n{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,a,o)=>{this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,a);const l={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,a),l.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(l),l}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Vi.Emitter=n,n._noop=function(){},Vi}var OE;function B5(){if(OE)return qi;OE=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.CancellationTokenSource=qi.CancellationToken=void 0;const t=NS(),e=z5(),r=LS();var n;(function(o){o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function l(c){const u=c;return u&&(u===o.None||u===o.Cancelled||e.boolean(u.isCancellationRequested)&&!!u.onCancellationRequested)}o.is=l})(n||(qi.CancellationToken=n={}));const i=Object.freeze(function(o,l){const c=(0,t.default)().timer.setTimeout(o.bind(l),0);return{dispose(){c.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class a{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=n.None}}return qi.CancellationTokenSource=a,qi}var at=B5();function W5(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let du=0,Y5=10;function X5(){return du=performance.now(),new at.CancellationTokenSource}const dh=Symbol("OperationCancelled");function hf(t){return t===dh}async function Cr(t){if(t===at.CancellationToken.None)return;const e=performance.now();if(e-du>=Y5&&(du=e,await W5(),du=performance.now()),t.isCancellationRequested)throw dh}class _m{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}}class Rl{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if(Rl.isIncremental(n)){const i=CS(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let c=this._lineOffsets;const u=CE(n.text,!1,s);if(l-o===u.length)for(let d=0,f=u.length;d<f;d++)c[d+o+1]=u[d];else u.length<1e4?c.splice(o+1,l-o,...u):this._lineOffsets=c=c.slice(0,o+1).concat(u,c.slice(l+1));const h=n.text.length-(a-s);if(h!==0)for(let d=o+1+u.length,f=c.length;d<f;d++)c[d]=c[d]+h}else if(Rl.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=CE(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}const s=n-1;return e=this.ensureBeforeEOL(e,r[s]),{line:s,character:e-r[s]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,s=Math.min(n+e.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(e,r){for(;e>r&&OS(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var Jg;(function(t){function e(i,s,a,o){return new Rl(i,s,a,o)}t.create=e;function r(i,s,a){if(i instanceof Rl)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,s){const a=i.getText(),o=ev(s.map(q5),(u,h)=>{const d=u.range.start.line-h.range.start.line;return d===0?u.range.start.character-h.range.start.character:d});let l=0;const c=[];for(const u of o){const h=i.offsetAt(u.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&c.push(a.substring(l,h)),u.newText.length&&c.push(u.newText),l=i.offsetAt(u.range.end)}return c.push(a.substr(l)),c.join("")}t.applyEdits=n})(Jg||(Jg={}));function ev(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);ev(n,e),ev(i,e);let s=0,a=0,o=0;for(;s<n.length&&a<i.length;)e(n[s],i[a])<=0?t[o++]=n[s++]:t[o++]=i[a++];for(;s<n.length;)t[o++]=n[s++];for(;a<i.length;)t[o++]=i[a++];return t}function CE(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);OS(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function OS(t){return t===13||t===10}function CS(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function q5(t){const e=CS(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var MS;(()=>{var t={470:i=>{function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,c){for(var u,h="",d=0,f=-1,p=0,g=0;g<=l.length;++g){if(g<l.length)u=l.charCodeAt(g);else{if(u===47)break;u=47}if(u===47){if(!(f===g-1||p===1))if(f!==g-1&&p===2){if(h.length<2||d!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var v=h.lastIndexOf("/");if(v!==h.length-1){v===-1?(h="",d=0):d=(h=h.slice(0,v)).length-1-h.lastIndexOf("/"),f=g,p=0;continue}}else if(h.length===2||h.length===1){h="",d=0,f=g,p=0;continue}}c&&(h.length>0?h+="/..":h="..",d=2)}else h.length>0?h+="/"+l.slice(f+1,g):h=l.slice(f+1,g),d=g-f-1;f=g,p=0}else u===46&&p!==-1?++p:p=-1}return h}var o={resolve:function(){for(var l,c="",u=!1,h=arguments.length-1;h>=-1&&!u;h--){var d;h>=0?d=arguments[h]:(l===void 0&&(l=process.cwd()),d=l),s(d),d.length!==0&&(c=d+"/"+c,u=d.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(l){if(s(l),l.length===0)return".";var c=l.charCodeAt(0)===47,u=l.charCodeAt(l.length-1)===47;return(l=a(l,!c)).length!==0||c||(l="."),l.length>0&&u&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return s(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var u=arguments[c];s(u),u.length>0&&(l===void 0?l=u:l+="/"+u)}return l===void 0?".":o.normalize(l)},relative:function(l,c){if(s(l),s(c),l===c||(l=o.resolve(l))===(c=o.resolve(c)))return"";for(var u=1;u<l.length&&l.charCodeAt(u)===47;++u);for(var h=l.length,d=h-u,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,g=d<p?d:p,v=-1,m=0;m<=g;++m){if(m===g){if(p>g){if(c.charCodeAt(f+m)===47)return c.slice(f+m+1);if(m===0)return c.slice(f+m)}else d>g&&(l.charCodeAt(u+m)===47?v=m:m===0&&(v=0));break}var y=l.charCodeAt(u+m);if(y!==c.charCodeAt(f+m))break;y===47&&(v=m)}var T="";for(m=u+v+1;m<=h;++m)m!==h&&l.charCodeAt(m)!==47||(T.length===0?T+="..":T+="/..");return T.length>0?T+c.slice(f+v):(f+=v,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(l){return l},dirname:function(l){if(s(l),l.length===0)return".";for(var c=l.charCodeAt(0),u=c===47,h=-1,d=!0,f=l.length-1;f>=1;--f)if((c=l.charCodeAt(f))===47){if(!d){h=f;break}}else d=!1;return h===-1?u?"/":".":u&&h===1?"//":l.slice(0,h)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');s(l);var u,h=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var p=c.length-1,g=-1;for(u=l.length-1;u>=0;--u){var v=l.charCodeAt(u);if(v===47){if(!f){h=u+1;break}}else g===-1&&(f=!1,g=u+1),p>=0&&(v===c.charCodeAt(p)?--p==-1&&(d=u):(p=-1,d=g))}return h===d?d=g:d===-1&&(d=l.length),l.slice(h,d)}for(u=l.length-1;u>=0;--u)if(l.charCodeAt(u)===47){if(!f){h=u+1;break}}else d===-1&&(f=!1,d=u+1);return d===-1?"":l.slice(h,d)},extname:function(l){s(l);for(var c=-1,u=0,h=-1,d=!0,f=0,p=l.length-1;p>=0;--p){var g=l.charCodeAt(p);if(g!==47)h===-1&&(d=!1,h=p+1),g===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){u=p+1;break}}return c===-1||h===-1||f===0||f===1&&c===h-1&&c===u+1?"":l.slice(c,h)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(c,u){var h=u.dir||u.root,d=u.base||(u.name||"")+(u.ext||"");return h?h===u.root?h+d:h+"/"+d:d}(0,l)},parse:function(l){s(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var u,h=l.charCodeAt(0),d=h===47;d?(c.root="/",u=1):u=0;for(var f=-1,p=0,g=-1,v=!0,m=l.length-1,y=0;m>=u;--m)if((h=l.charCodeAt(m))!==47)g===-1&&(v=!1,g=m+1),h===46?f===-1?f=m:y!==1&&(y=1):f!==-1&&(y=-1);else if(!v){p=m+1;break}return f===-1||g===-1||y===0||y===1&&f===g-1&&f===p+1?g!==-1&&(c.base=c.name=p===0&&d?l.slice(1,g):l.slice(p,g)):(p===0&&d?(c.name=l.slice(1,f),c.base=l.slice(1,g)):(c.name=l.slice(p,f),c.base=l.slice(p,g)),c.ext=l.slice(f,g)),p>0?c.dir=l.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,r),a.exports}r.d=(i,s)=>{for(var a in s)r.o(s,a)&&!r.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>d,Utils:()=>I}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function l(C,M){if(!C.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!s.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!a.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const c="",u="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(M,k,E,O,_,x=!1){be(this,"scheme");be(this,"authority");be(this,"path");be(this,"query");be(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||c,this.authority=M.authority||c,this.path=M.path||c,this.query=M.query||c,this.fragment=M.fragment||c):(this.scheme=function(L,D){return L||D?L:"file"}(M,x),this.authority=k||c,this.path=function(L,D){switch(L){case"https":case"http":case"file":D?D[0]!==u&&(D=u+D):D=u}return D}(this.scheme,E||c),this.query=O||c,this.fragment=_||c,l(this,x))}static isUri(M){return M instanceof d||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return y(this)}with(M){if(!M)return this;let{scheme:k,authority:E,path:O,query:_,fragment:x}=M;return k===void 0?k=this.scheme:k===null&&(k=c),E===void 0?E=this.authority:E===null&&(E=c),O===void 0?O=this.path:O===null&&(O=c),_===void 0?_=this.query:_===null&&(_=c),x===void 0?x=this.fragment:x===null&&(x=c),k===this.scheme&&E===this.authority&&O===this.path&&_===this.query&&x===this.fragment?this:new p(k,E,O,_,x)}static parse(M,k=!1){const E=h.exec(M);return E?new p(E[2]||c,R(E[4]||c),R(E[5]||c),R(E[7]||c),R(E[9]||c),k):new p(c,c,c,c,c)}static file(M){let k=c;if(i&&(M=M.replace(/\\/g,u)),M[0]===u&&M[1]===u){const E=M.indexOf(u,2);E===-1?(k=M.substring(2),M=u):(k=M.substring(2,E),M=M.substring(E)||u)}return new p("file",k,M,c,c)}static from(M){const k=new p(M.scheme,M.authority,M.path,M.query,M.fragment);return l(k,!0),k}toString(M=!1){return T(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof d)return M;{const k=new p(M);return k._formatted=M.external,k._fsPath=M._sep===f?M.fsPath:null,k}}return M}}const f=i?1:void 0;class p extends d{constructor(){super(...arguments);be(this,"_formatted",null);be(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=y(this)),this._fsPath}toString(k=!1){return k?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){const k={$mid:1};return this._fsPath&&(k.fsPath=this._fsPath,k._sep=f),this._formatted&&(k.external=this._formatted),this.path&&(k.path=this.path),this.scheme&&(k.scheme=this.scheme),this.authority&&(k.authority=this.authority),this.query&&(k.query=this.query),this.fragment&&(k.fragment=this.fragment),k}}const g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(C,M,k){let E,O=-1;for(let _=0;_<C.length;_++){const x=C.charCodeAt(_);if(x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===45||x===46||x===95||x===126||M&&x===47||k&&x===91||k&&x===93||k&&x===58)O!==-1&&(E+=encodeURIComponent(C.substring(O,_)),O=-1),E!==void 0&&(E+=C.charAt(_));else{E===void 0&&(E=C.substr(0,_));const L=g[x];L!==void 0?(O!==-1&&(E+=encodeURIComponent(C.substring(O,_)),O=-1),E+=L):O===-1&&(O=_)}}return O!==-1&&(E+=encodeURIComponent(C.substring(O))),E!==void 0?E:C}function m(C){let M;for(let k=0;k<C.length;k++){const E=C.charCodeAt(k);E===35||E===63?(M===void 0&&(M=C.substr(0,k)),M+=g[E]):M!==void 0&&(M+=C[k])}return M!==void 0?M:C}function y(C,M){let k;return k=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?C.path[1].toLowerCase()+C.path.substr(2):C.path,i&&(k=k.replace(/\//g,"\\")),k}function T(C,M){const k=M?m:v;let E="",{scheme:O,authority:_,path:x,query:L,fragment:D}=C;if(O&&(E+=O,E+=":"),(_||O==="file")&&(E+=u,E+=u),_){let P=_.indexOf("@");if(P!==-1){const U=_.substr(0,P);_=_.substr(P+1),P=U.lastIndexOf(":"),P===-1?E+=k(U,!1,!1):(E+=k(U.substr(0,P),!1,!1),E+=":",E+=k(U.substr(P+1),!1,!0)),E+="@"}_=_.toLowerCase(),P=_.lastIndexOf(":"),P===-1?E+=k(_,!1,!0):(E+=k(_.substr(0,P),!1,!0),E+=_.substr(P))}if(x){if(x.length>=3&&x.charCodeAt(0)===47&&x.charCodeAt(2)===58){const P=x.charCodeAt(1);P>=65&&P<=90&&(x=`/${String.fromCharCode(P+32)}:${x.substr(3)}`)}else if(x.length>=2&&x.charCodeAt(1)===58){const P=x.charCodeAt(0);P>=65&&P<=90&&(x=`${String.fromCharCode(P+32)}:${x.substr(2)}`)}E+=k(x,!0,!1)}return L&&(E+="?",E+=k(L,!1,!1)),D&&(E+="#",E+=M?D:v(D,!1,!1)),E}function b(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+b(C.substr(3)):C}}const A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(C){return C.match(A)?C.replace(A,M=>b(M)):C}var w=r(470);const S=w.posix||w,N="/";var I;(function(C){C.joinPath=function(M,...k){return M.with({path:S.join(M.path,...k)})},C.resolvePath=function(M,...k){let E=M.path,O=!1;E[0]!==N&&(E=N+E,O=!0);let _=S.resolve(E,...k);return O&&_[0]===N&&!M.authority&&(_=_.substring(1)),M.with({path:_})},C.dirname=function(M){if(M.path.length===0||M.path===N)return M;let k=S.dirname(M.path);return k.length===1&&k.charCodeAt(0)===46&&(k=""),M.with({path:k})},C.basename=function(M){return S.basename(M.path)},C.extname=function(M){return S.extname(M.path)}})(I||(I={}))})(),MS=n})();const{URI:As,Utils:oo}=MS;var Ri;(function(t){t.basename=oo.basename,t.dirname=oo.dirname,t.extname=oo.extname,t.joinPath=oo.joinPath,t.resolvePath=oo.resolvePath;function e(i,s){return(i==null?void 0:i.toString())===(s==null?void 0:s.toString())}t.equals=e;function r(i,s){const a=typeof i=="string"?i:i.path,o=typeof s=="string"?s:s.path,l=a.split("/").filter(f=>f.length>0),c=o.split("/").filter(f=>f.length>0);let u=0;for(;u<l.length&&l[u]===c[u];u++);const h="../".repeat(l.length-u),d=c.slice(u).join("/");return h+d}t.relative=r;function n(i){return As.parse(i.toString()).toString()}t.normalize=n})(Ri||(Ri={}));var nt;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(nt||(nt={}));class V5{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=at.CancellationToken.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??As.parse(e.uri),at.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromString(e,r,n){return at.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r,n){if(typeof r=="string"){const i=this.parse(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else if("$model"in r){const i={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{const i=this.parse(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let s;if(n)s={parseResult:e,uri:r,state:nt.Parsed,references:[],textDocument:n};else{const a=this.createTextDocumentGetter(r,i);s={parseResult:e,uri:r,state:nt.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=s,s}async update(e,r){var n,i;const s=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return s!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=nt.Parsed,e}parse(e,r,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r,n)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=Jg.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}}class j5{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Ht(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(this.serviceRegistry.getServices(e).references.Linker.unlink(n),n.state=nt.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=nt.Changed,this.documentMap.delete(r)),n}}const Xd=Symbol("ref_resolving");class K5{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=at.CancellationToken.None){for(const n of aa(e.parseResult.value))await Cr(r),T_(n).forEach(i=>this.doLink(i,e))}doLink(e,r){var n;const i=e.reference;if(i._ref===void 0){i._ref=Xd;try{const s=this.getCandidate(e);if(au(s))i._ref=s;else if(i._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const a=this.loadAstNode(s);i._ref=a??this.createLinkingError(e,s)}else i._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${i.$refText}':`,s);const a=(n=s.message)!==null&&n!==void 0?n:String(s);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}r.references.push(i)}}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,r,n,i){const s=this,a={$refNode:n,$refText:i,get ref(){var o;if(rr(this._ref))return this._ref;if(OD(this._nodeDescription)){const l=s.loadAstNode(this._nodeDescription);this._ref=l??s.createLinkingError({reference:a,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=Xd;const l=_g(e).$document,c=s.getLinkedNode({reference:a,container:e,property:r});if(c.error&&l&&l.state<nt.ComputedScopes)return this._ref=void 0;this._ref=(o=c.node)!==null&&o!==void 0?o:c.error,this._nodeDescription=c.descr,l==null||l.references.push(this)}else if(this._ref===Xd)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(e)}/${r} (symbol '${i}')`);return rr(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return au(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var r;try{const n=this.getCandidate(e);if(au(n))return{error:n};const i=this.loadAstNode(n);return i?{node:i,descr:n}:{descr:n,error:this.createLinkingError(e,n)}}catch(n){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,n);const i=(r=n.message)!==null&&r!==void 0?r:String(n);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){const n=_g(e.container).$document;n&&n.state<nt.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}}function Z5(t){return typeof t.name=="string"}class Q5{getName(e){if(Z5(e))return e.name}getNameNode(e){return __(e.$cstNode,"name")}}class J5{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=A2(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(In(i))return i.ref;if(Array.isArray(i)){for(const s of i)if(In(s)&&s.$refNode&&s.$refNode.offset<=e.offset&&s.$refNode.end>=e.end)return s.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||kD(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const s=this.getReferenceToSelf(e);s&&n.push(s)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(s=>Ri.equals(s.sourceUri,r.documentUri))),n.push(...i),Ht(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=Ai(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:ju(r),local:!0}}}}class ph{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return bg.sum(Ht(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Ht(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return Ht(this.map.keys())}values(){return Ht(this.map.values()).flat()}entriesGroupedByKey(){return Ht(this.map.entries())}}class ME{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}}class eG{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=at.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=am,i=at.CancellationToken.None){const s=[];this.exportNode(e,s,r);for(const a of n(e))await Cr(i),this.exportNode(a,s,r);return s}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=at.CancellationToken.None){const n=e.parseResult.value,i=new ph;for(const s of Gl(n))await Cr(r),this.processNode(s,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const s=this.nameProvider.getName(e);s&&n.add(i,this.descriptions.createDescription(e,s,r))}}}class IE{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}}class tG{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const s of e){const a=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(a,s)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Ht(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class IS{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class rG extends IS{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class nG extends IS{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const s=n();return i.set(r,s),s}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class iG extends rG{constructor(e,r){super(),r?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((n,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class sG{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new iG(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=Ai(e.container).precomputedScopes;if(i){let a=e.container;do{const o=i.get(a);o.length>0&&r.push(Ht(o).filter(l=>this.reflection.isSubtype(l.type,n))),a=a.$container}while(a)}let s=this.getGlobalScope(n,e);for(let a=r.length-1;a>=0;a--)s=this.createScope(r[a],s);return s}createScope(e,r,n){return new IE(Ht(e),r,n)}createScopeForNodes(e,r,n){const i=Ht(e).map(s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)}).nonNullable();return new IE(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new tG(this.indexManager.allElements(e)))}}function aG(t){return typeof t.$comment=="string"}function kE(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class oG{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r){const n=r??{},i=r==null?void 0:r.replacer,s=(o,l)=>this.replacer(o,l,n),a=i?(o,l)=>i(o,l,s):s;try{return this.currentDocument=Ai(e),JSON.stringify(e,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r){const n=r??{},i=JSON.parse(e);return this.linkNode(i,i,n),i}replacer(e,r,{refText:n,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var l,c,u,h;if(!this.ignoreProperties.has(e))if(In(r)){const d=r.ref,f=n?r.$refText:void 0;if(d){const p=Ai(d);let g="";this.currentDocument&&this.currentDocument!==p&&(o?g=o(p.uri,r):g=p.uri.toString());const v=this.astNodeLocator.getAstNodePath(d);return{$ref:`${g}#${v}`,$refText:f}}else return{$error:(c=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&c!==void 0?c:"Could not resolve reference",$refText:f}}else if(rr(r)){let d;if(s&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(d!=null&&d.$textRegion)&&(d.$textRegion.documentURI=(u=this.currentDocument)===null||u===void 0?void 0:u.uri.toString())),i&&!e&&(d??(d=Object.assign({},r)),d.$sourceText=(h=r.$cstNode)===null||h===void 0?void 0:h.text),a){d??(d=Object.assign({},r));const f=this.commentProvider.getComment(r);f&&(d.$comment=f.replace(/\r/g,""))}return d??r}else return r}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(s=>!s.startsWith("$")).forEach(s=>{const a=E2(e.$cstNode,s).map(r);a.length!==0&&(i[s]=a)}),e}}linkNode(e,r,n,i,s,a){for(const[l,c]of Object.entries(e))if(Array.isArray(c))for(let u=0;u<c.length;u++){const h=c[u];kE(h)?c[u]=this.reviveReference(e,l,r,h,n):rr(h)&&this.linkNode(h,r,n,e,l,u)}else kE(c)?e[l]=this.reviveReference(e,l,r,c,n):rr(c)&&this.linkNode(c,r,n,e,l);const o=e;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(e,r,n,i,s){let a=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,s.uriConverter);if(rr(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};o=l}if(o){const l={$refText:a??""};return l.error={container:e,property:r,message:o,reference:l},l}else return}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):As.parse(r),c=this.langiumDocuments.getDocument(l);return c?c.parseResult.value:"Could not find document for URI: "+r}const s=n?n(r.substring(0,i)):As.parse(r.substring(0,i)),a=this.langiumDocuments.getDocument(s);if(!a)return"Could not find document for URI: "+r;if(i===r.length-1)return a.parseResult.value;const o=this.astNodeLocator.getAstNode(a.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class lG{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e==null?void 0:e.workspace.TextDocuments}register(e){const r=e.LanguageMetaData;for(const n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,e);this.languageIdMap.set(r.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var r,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(n=(r=this.textDocuments)===null||r===void 0?void 0:r.get(e))===null||n===void 0?void 0:n.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const s=Ri.extname(e),a=this.fileExtensionMap.get(s);if(!a)throw i?new Error(`The service registry contains no services for the extension '${s}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function jo(t){return{code:t}}var gh;(function(t){t.all=["fast","slow","built-in"]})(gh||(gh={}));class cG{constructor(e){this.entries=new ph,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,s]of Object.entries(e)){const a=s;if(Array.isArray(a))for(const o of a){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,r),category:n};this.addEntry(i,o)}else Ul()}}wrapValidationException(e,r){return async(n,i,s)=>{await this.handleException(()=>e.call(r,n,i,s),"An error occurred during validation",i,n)}}async handleException(e,r,n,i){try{await e()}catch(s){if(hf(s))throw s;console.error(`${r}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);const a=s instanceof Error?s.message:String(s);n("error",`${r}: ${a}`,{node:i})}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=Ht(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}registerBeforeDocument(e,r=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",r))}registerAfterDocument(e,r=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",r))}wrapPreparationException(e,r,n){return async(i,s,a,o)=>{await this.handleException(()=>e.call(n,i,s,a,o),r,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class uG{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=at.CancellationToken.None){const i=e.parseResult,s=[];if(await Cr(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,s,r),r.stopAfterLexingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.LexingError})||(this.processParsingErrors(i,s,r),r.stopAfterParsingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.ParsingError}))||(this.processLinkingErrors(e,s,r),r.stopAfterLinkingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,r,n))}catch(a){if(hf(a))throw a;console.error("An error occurred during validation:",a)}return await Cr(n),s}processLexingErrors(e,r,n){var i,s,a;const o=[...e.lexerErrors,...(s=(i=e.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&s!==void 0?s:[]];for(const l of o){const c=(a=l.severity)!==null&&a!==void 0?a:"error",u={severity:qd(c),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:fG(c),source:this.getSource()};r.push(u)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=Ag(i.token);if(s){const a={severity:qd("error"),range:s,message:i.message,data:jo(ln.ParsingError),source:this.getSource()};r.push(a)}}}processLinkingErrors(e,r,n){for(const i of e.references){const s=i.error;if(s){const a={node:s.container,property:s.property,index:s.index,data:{code:ln.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};r.push(this.toDiagnostic("error",s.message,a))}}}async validateAst(e,r,n=at.CancellationToken.None){const i=[],s=(a,o,l)=>{i.push(this.toDiagnostic(a,o,l))};return await this.validateAstBefore(e,r,s,n),await this.validateAstNodes(e,r,s,n),await this.validateAstAfter(e,r,s,n),i}async validateAstBefore(e,r,n,i=at.CancellationToken.None){var s;const a=this.validationRegistry.checksBefore;for(const o of a)await Cr(i),await o(e,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}async validateAstNodes(e,r,n,i=at.CancellationToken.None){await Promise.all(aa(e).map(async s=>{await Cr(i);const a=this.validationRegistry.getChecks(s.$type,r.categories);for(const o of a)await o(s,n,i)}))}async validateAstAfter(e,r,n,i=at.CancellationToken.None){var s;const a=this.validationRegistry.checksAfter;for(const o of a)await Cr(i),await o(e,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}toDiagnostic(e,r,n){return{message:r,range:hG(n),severity:qd(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function hG(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=__(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=b2(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function qd(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function fG(t){switch(t){case"error":return jo(ln.LexingError);case"warning":return jo(ln.LexingWarning);case"info":return jo(ln.LexingInfo);case"hint":return jo(ln.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}var ln;(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(ln||(ln={}));class dG{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n){const i=n??Ai(e);r??(r=this.nameProvider.getName(e));const s=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>{var l;return a??(a=ju((l=this.nameProvider.getNameNode(e))!==null&&l!==void 0?l:e.$cstNode))};return{node:e,name:r,get nameSegment(){return o()},selectionSegment:ju(e.$cstNode),type:e.$type,documentUri:i.uri,path:s}}}class pG{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=at.CancellationToken.None){const n=[],i=e.parseResult.value;for(const s of aa(i))await Cr(r),T_(s).filter(a=>!au(a)).forEach(a=>{const o=this.createDescription(a);o&&n.push(o)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=Ai(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:ju(n),local:Ri.equals(r.documentUri,i)}}}class gG{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;const a=s.indexOf(this.indexSeparator);if(a>0){const o=s.substring(0,a),l=parseInt(s.substring(a+1)),c=i[o];return c==null?void 0:c[l]}return i[s]},e)}}var vG=LS();class mG{constructor(e){this._ready=new _m,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new vG.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,s)=>{this.updateSectionConfiguration(i.section,n[s])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{const n=e.settings[r];this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var al;(function(t){function e(r){return{dispose:async()=>await r()}}t.create=e})(al||(al={}));class yG{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new ph,this.documentPhaseListeners=new ph,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=nt.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=at.CancellationToken.None){var i,s;for(const a of e){const o=a.uri.toString();if(a.state===nt.Validated){if(typeof r.validation=="boolean"&&r.validation)a.state=nt.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),c=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(c){const h=((s=r.validation.categories)!==null&&s!==void 0?s:gh.all).filter(d=>!c.includes(d));h.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:h})},result:l.result}),a.state=nt.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=nt.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=at.CancellationToken.None){this.currentState=nt.Changed;for(const a of r)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);l.state=nt.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(a.toString())}const i=Ht(e).concat(r).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,nt.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,r),await Cr(n);const s=this.sortDocuments(this.langiumDocuments.all.filter(a=>{var o;return a.state<nt.Linked||!(!((o=this.buildState.get(a.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(s,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}sortDocuments(e){let r=0,n=e.length-1;for(;r<n;){for(;r<e.length&&this.hasTextDocument(e[r]);)r++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;r<n&&([e[r],e[n]]=[e[n],e[r]])}return e}hasTextDocument(e){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(e.uri))}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),al.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,nt.Parsed,n,s=>this.langiumDocumentFactory.update(s,n)),await this.runCancelable(e,nt.IndexedContent,n,s=>this.indexManager.updateContent(s,n)),await this.runCancelable(e,nt.ComputedScopes,n,async s=>{const a=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await a.computeLocalScopes(s,n)}),await this.runCancelable(e,nt.Linked,n,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,n)),await this.runCancelable(e,nt.IndexedReferences,n,s=>this.indexManager.updateReferences(s,n));const i=e.filter(s=>this.shouldValidate(s));await this.runCancelable(i,nt.Validated,n,s=>this.validate(s,n));for(const s of e){const a=this.buildState.get(s.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:r,result:s==null?void 0:s.result})}}async runCancelable(e,r,n,i){const s=e.filter(o=>o.state<r);for(const o of s)await Cr(n),await i(o),o.state=r,await this.notifyDocumentPhase(o,r,n);const a=e.filter(o=>o.state===r);await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),al.create(()=>{this.buildPhaseListeners.delete(e,r)})}onDocumentPhase(e,r){return this.documentPhaseListeners.add(e,r),al.create(()=>{this.documentPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=at.CancellationToken.None),i){const s=this.langiumDocuments.getDocument(i);if(s&&s.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(dh):new Promise((s,a)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),l.dispose(),i){const c=this.langiumDocuments.getDocument(i);s(c==null?void 0:c.uri)}else s(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),a(dh)})})}async notifyDocumentPhase(e,r,n){const s=this.documentPhaseListeners.get(r).slice();for(const a of s)try{await a(e,n)}catch(o){if(!hf(o))throw o}}async notifyBuildPhase(e,r,n){if(e.length===0)return;const s=this.buildPhaseListeners.get(r).slice();for(const a of s)await Cr(n),await a(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const s=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,o=typeof a=="object"?a:void 0,l=await s.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const c=this.buildState.get(e.uri.toString());if(c){(n=c.result)!==null&&n!==void 0||(c.result={});const u=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:gh.all;c.result.validationChecks?c.result.validationChecks.push(...u):c.result.validationChecks=[...u]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class TG{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new nG,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=Ai(e).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(a=>{Ri.equals(a.targetUri,n)&&a.targetPath===r&&i.push(a)})}),Ht(i)}allElements(e,r){let n=Ht(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var s;return((s=this.symbolIndex.get(e))!==null&&s!==void 0?s:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=at.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),s=e.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(e,r=at.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class EG{constructor(e){this.initialBuildOptions={},this._ready=new _m,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=at.CancellationToken.None){const n=await this.performStartup(e);await Cr(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),n=[],i=s=>{n.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(s=>[s,this.getRootFolder(s)]).map(async s=>this.traverseFolder(...s,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return As.parse(e.uri)}async traverseFolder(e,r,n,i){const s=await this.fileSystemProvider.readDirectory(r);await Promise.all(s.map(async a=>{if(this.includeEntry(e,a,n)){if(a.isDirectory)await this.traverseFolder(e,a.uri,n,i);else if(a.isFile){const o=await this.langiumDocuments.getOrCreateDocument(a.uri);i(o)}}}))}includeEntry(e,r,n){const i=Ri.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const s=Ri.extname(r.uri);return n.includes(s)}return!1}}class bG{buildUnexpectedCharactersMessage(e,r,n,i,s){return Lg.buildUnexpectedCharactersMessage(e,r,n,i,s)}buildUnableToPopLexerModeMessage(e){return Lg.buildUnableToPopLexerModeMessage(e)}}const wG={mode:"full"};class AG{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const r=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=PE(r)?Object.values(r):r,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new br(n,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,r=wG){var n,i,s;const a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:(n=a.groups.hidden)!==null&&n!==void 0?n:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,e)}}toTokenTypeDictionary(e){if(PE(e))return e;const r=kS(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}}function _G(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function kS(t){return t&&"modes"in t&&"defaultMode"in t}function PE(t){return!_G(t)&&!kS(t)}function SG(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=ze.create(0,0));const s=PS(t),a=Sm(n),o=NG({lines:s,position:i,options:a});return IG({index:0,tokens:o,position:i})}function xG(t,e){const r=Sm(e),n=PS(t);if(n.length===0)return!1;const i=n[0],s=n[n.length-1],a=r.start,o=r.end;return!!(a!=null&&a.exec(i))&&!!(o!=null&&o.exec(s))}function PS(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(l2)}const DE=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,RG=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function NG(t){var e,r,n;const i=[];let s=t.position.line,a=t.position.character;for(let o=0;o<t.lines.length;o++){const l=o===0,c=o===t.lines.length-1;let u=t.lines[o],h=0;if(l&&t.options.start){const f=(e=t.options.start)===null||e===void 0?void 0:e.exec(u);f&&(h=f.index+f[0].length)}else{const f=(r=t.options.line)===null||r===void 0?void 0:r.exec(u);f&&(h=f.index+f[0].length)}if(c){const f=(n=t.options.end)===null||n===void 0?void 0:n.exec(u);f&&(u=u.substring(0,f.index))}if(u=u.substring(0,MG(u)),tv(u,h)>=u.length){if(i.length>0){const f=ze.create(s,a);i.push({type:"break",content:"",range:Pe.create(f,f)})}}else{DE.lastIndex=h;const f=DE.exec(u);if(f){const p=f[0],g=f[1],v=ze.create(s,a+h),m=ze.create(s,a+h+p.length);i.push({type:"tag",content:g,range:Pe.create(v,m)}),h+=p.length,h=tv(u,h)}if(h<u.length){const p=u.substring(h),g=Array.from(p.matchAll(RG));i.push(...LG(g,p,s,a+h))}}s++,a=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function LG(t,e,r,n){const i=[];if(t.length===0){const s=ze.create(r,n),a=ze.create(r,n+e.length);i.push({type:"text",content:e,range:Pe.create(s,a)})}else{let s=0;for(const o of t){const l=o.index,c=e.substring(s,l);c.length>0&&i.push({type:"text",content:e.substring(s,l),range:Pe.create(ze.create(r,s+n),ze.create(r,l+n))});let u=c.length+1;const h=o[1];if(i.push({type:"inline-tag",content:h,range:Pe.create(ze.create(r,s+u+n),ze.create(r,s+u+h.length+n))}),u+=h.length,o.length===4){u+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:Pe.create(ze.create(r,s+u+n),ze.create(r,s+u+d.length+n))})}else i.push({type:"text",content:"",range:Pe.create(ze.create(r,s+u+n),ze.create(r,s+u+n))});s=l+o[0].length}const a=e.substring(s);a.length>0&&i.push({type:"text",content:a,range:Pe.create(ze.create(r,s+n),ze.create(r,s+n+a.length))})}return i}const OG=/\S/,CG=/\s*$/;function tv(t,e){const r=t.substring(e).match(OG);return r?e+r.index:t.length}function MG(t){const e=t.match(CG);if(e&&typeof e.index=="number")return e.index}function IG(t){var e,r,n,i;const s=ze.create(t.position.line,t.position.character);if(t.tokens.length===0)return new FE([],Pe.create(s,s));const a=[];for(;t.index<t.tokens.length;){const c=kG(t,a[a.length-1]);c&&a.push(c)}const o=(r=(e=a[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:s,l=(i=(n=a[a.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:s;return new FE(a,Pe.create(o,l))}function kG(t,e){const r=t.tokens[t.index];if(r.type==="tag")return FS(t,!1);if(r.type==="text"||r.type==="inline-tag")return DS(t);PG(r,e),t.index++}function PG(t,e){if(e){const r=new GS("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function DS(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(DG(t)),n=e,e=t.tokens[t.index];return new rv(i,Pe.create(r.range.start,n.range.end))}function DG(t){return t.tokens[t.index].type==="inline-tag"?FS(t,!0):US(t)}function FS(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const s=US(t);return new jd(n,new rv([s],s.range),e,Pe.create(r.range.start,s.range.end))}else{const s=DS(t);return new jd(n,s,e,Pe.create(r.range.start,s.range.end))}else{const s=r.range;return new jd(n,new rv([],s),e,s)}}function US(t){const e=t.tokens[t.index++];return new GS(e.content,e.range)}function Sm(t){if(!t)return Sm({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:Vd(e,!0),end:Vd(r,!1),line:Vd(n,!0)}}function Vd(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?rf(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}class FE{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=UE(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=UE(r)+i}return r.trim()}}class jd{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const s=FG(this.name,r,e??{});if(typeof s=="string")return s}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i}  ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function FG(t,e,r){var n,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const s=e.indexOf(" ");let a=e;if(s>0){const l=tv(e,s);a=e.substring(l),e=e.substring(0,s)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(a=`\`${a}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,e,a))!==null&&i!==void 0?i:UG(e,a)}}function UG(t,e){try{return As.parse(t,!0),`[${e}](${t})`}catch{return t}}class rv{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],s=this.inlines[n+1];r+=i.toMarkdown(e),s&&s.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class GS{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function UE(t){return t.endsWith(`
`)?`
`:`

`}class GG{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&xG(r))return SG(r).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(e,i,s),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,r,n){var i;const s=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(s&&s.nameSegment){const a=s.nameSegment.range.start.line+1,o=s.nameSegment.range.start.character+1,l=s.documentUri.with({fragment:`L${a},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const i=Ai(e).precomputedScopes;if(!i)return;let s=e;do{const o=i.get(s).find(l=>l.name===r);if(o)return o;s=s.$container}while(s)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}}class $G{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return aG(e)?e.$comment:(r=UD(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class HG{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,r){return Promise.resolve(this.syncParser.parse(e))}}class zG{constructor(){this.previousTokenSource=new at.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=X5();return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n=at.CancellationToken.None){const i=new _m,s={action:r,deferred:i,cancellationToken:n};return e.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const s=await Promise.resolve().then(()=>r(i));n.resolve(s)}catch(s){hf(s)?n.resolve(void 0):n.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class BG{constructor(e){this.grammarElementIdMap=new ME,this.tokenTypeIdMap=new ME,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of aa(e))r.set(i,{});if(e.$cstNode)for(const i of wg(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)rr(o)?a.push(this.dehydrateAstNode(o,r)):In(o)?a.push(this.dehydrateReference(o,r)):a.push(o)}else rr(s)?n[i]=this.dehydrateAstNode(s,r):In(s)?n[i]=this.dehydrateReference(s,r):s!==void 0&&(n[i]=s);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return h_(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),Sl(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):u_(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const s of aa(e))r.set(s,{});let i;if(e.$cstNode)for(const s of wg(e.$cstNode)){let a;"fullText"in s?(a=new ES(s.fullText),i=a):"content"in s?a=new wm:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(n.set(s,a),a.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)rr(o)?a.push(this.setParent(this.hydrateAstNode(o,r),n)):In(o)?a.push(this.hydrateReference(o,n,i,r)):a.push(o)}else rr(s)?n[i]=this.setParent(this.hydrateAstNode(s,r),n):In(s)?n[i]=this.hydrateReference(s,n,i,r):s!==void 0&&(n[i]=s);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),Sl(i))for(const s of e.content){const a=this.hydrateCstNode(s,r,n++);i.content.push(a)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,s=e.startLine,a=e.startColumn,o=e.endLine,l=e.endColumn,c=e.hidden;return new Kg(n,i,{start:{line:s,character:a},end:{line:o,character:l}},r,c)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const r of aa(this.grammar))$D(r)&&this.grammarElementIdMap.set(r,e++)}}function WG(t){return{documentation:{CommentProvider:e=>new $G(e),DocumentationProvider:e=>new GG(e)},parser:{AsyncParser:e=>new HG(e),GrammarConfig:e=>C2(e),LangiumParser:e=>U5(e),CompletionParser:e=>F5(e),ValueConverter:()=>new H5,TokenBuilder:()=>new $5,Lexer:e=>new AG(e),ParserErrorMessageProvider:()=>new AS,LexerErrorMessageProvider:()=>new bG},workspace:{AstNodeLocator:()=>new gG,AstNodeDescriptionProvider:e=>new dG(e),ReferenceDescriptionProvider:e=>new pG(e)},references:{Linker:e=>new K5(e),NameProvider:()=>new Q5,ScopeProvider:e=>new sG(e),ScopeComputation:e=>new eG(e),References:e=>new J5(e)},serializer:{Hydrator:e=>new BG(e),JsonSerializer:e=>new oG(e)},validation:{DocumentValidator:e=>new uG(e),ValidationRegistry:e=>new cG(e)},shared:()=>t.shared}}function YG(t){return{ServiceRegistry:e=>new lG(e),workspace:{LangiumDocuments:e=>new j5(e),LangiumDocumentFactory:e=>new V5(e),DocumentBuilder:e=>new yG(e),IndexManager:e=>new TG(e),WorkspaceManager:e=>new EG(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new zG,ConfigurationProvider:e=>new mG(e)}}}var GE;(function(t){t.merge=(e,r)=>vh(vh({},e),r)})(GE||(GE={}));function $E(t,e,r,n,i,s,a,o,l){const c=[t,e,r,n,i,s,a,o,l].reduce(vh,{});return $S(c)}const XG=Symbol("isProxy");function $S(t,e){const r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,i)=>i===XG?!0:zE(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(zE(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Object.getOwnPropertyNames(t)]});return r}const HE=Symbol();function zE(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===HE)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){const i=r[e];t[e]=HE;try{t[e]=typeof i=="function"?i(n):$S(i,n)}catch(s){throw t[e]=s instanceof Error?s:void 0,s}return t[e]}else return}function vh(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?t[r]=vh(i,n):t[r]=n}}return t}class qG{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const VG={fileSystemProvider:()=>new qG},jG={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},KG={AstReflection:()=>new y_};function ZG(){const t=$E(YG(VG),KG),e=$E(WG({shared:t}),jG);return t.ServiceRegistry.register(e),e}function G3(t){var e;const r=ZG(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,As.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var pu={exports:{}},gu={exports:{}},QG=gu.exports,BE;function JG(){return BE||(BE=1,function(t,e){(function(n,i){t.exports=i()})(QG,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=26)}([function(r,n,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,r.exports=s},function(r,n,i){var s=i(2),a=i(8),o=i(9);function l(u,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}l.prototype=Object.create(s.prototype);for(var c in s)l[c]=s[c];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function s(a){this.vGraphObject=a}r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(13),l=i(0),c=i(16),u=i(4);function h(f,p,g,v){g==null&&v==null&&(v=p),s.call(this,v),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(v.target==f){if(v.source!=g)throw"Incorrect edge source!";p.push(v)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(!(v.source==g||v.target==g))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&p.push(v)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var v=this.child.getNodes(),m=0;m<v.length;m++)p=v[m],g=p.withChildren(),g.forEach(function(y){f.add(y)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),v=0;v<g.length;v++)p=g[v],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-l.INITIAL_WORLD_BOUNDARY,v=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+c.nextDouble()*(v-g)+g;var m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_Y+c.nextDouble()*(y-m)+m,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>g&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-g)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-g),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>l.WORLD_BOUNDARY?p=l.WORLD_BOUNDARY:p<-l.WORLD_BOUNDARY&&(p=-l.WORLD_BOUNDARY);var g=this.rect.y;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var v=new u(p,g),m=f.inverseTransformPoint(v);this.setLocation(m.x,m.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(0),l=i(6),c=i(3),u=i(1),h=i(13),d=i(12),f=i(11);function p(v,m,y){s.call(this,y),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,m!=null&&m instanceof l?this.graphManager=m:m!=null&&m instanceof Layout&&(this.graphManager=m.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(v,m,y){if(m==null&&y==null){var T=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(T)>-1)throw"Node already in graph!";return T.owner=this,this.getNodes().push(T),T}else{var b=v;if(!(this.getNodes().indexOf(m)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(m.owner==y.owner&&m.owner==this))throw"Both owners must be this graph!";return m.owner!=y.owner?null:(b.source=m,b.target=y,b.isInterGraph=!1,this.getEdges().push(b),m.edges.push(b),y!=m&&y.edges.push(b),b)}},p.prototype.remove=function(v){var m=v;if(v instanceof c){if(m==null)throw"Node is null!";if(!(m.owner!=null&&m.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=m.edges.slice(),T,b=y.length,A=0;A<b;A++)T=y[A],T.isInterGraph?this.graphManager.remove(T):T.source.owner.remove(T);var R=this.nodes.indexOf(m);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof u){var T=v;if(T==null)throw"Edge is null!";if(!(T.source!=null&&T.target!=null))throw"Source and/or target is null!";if(!(T.source.owner!=null&&T.target.owner!=null&&T.source.owner==this&&T.target.owner==this))throw"Source and/or target owner is invalid!";var w=T.source.edges.indexOf(T),S=T.target.edges.indexOf(T);if(!(w>-1&&S>-1))throw"Source and/or target doesn't know this edge!";T.source.edges.splice(w,1),T.target!=T.source&&T.target.edges.splice(S,1);var R=T.source.owner.getEdges().indexOf(T);if(R==-1)throw"Not in owner's edge list!";T.source.owner.getEdges().splice(R,1)}},p.prototype.updateLeftTop=function(){for(var v=a.MAX_VALUE,m=a.MAX_VALUE,y,T,b,A=this.getNodes(),R=A.length,w=0;w<R;w++){var S=A[w];y=S.getTop(),T=S.getLeft(),v>y&&(v=y),m>T&&(m=T)}return v==a.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?b=A[0].getParent().paddingLeft:b=this.margin,this.left=m-b,this.top=v-b,new d(this.left,this.top))},p.prototype.updateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N,I=this.nodes,C=I.length,M=0;M<C;M++){var k=I[M];v&&k.child!=null&&k.updateBounds(),A=k.getLeft(),R=k.getRight(),w=k.getTop(),S=k.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var E=new h(m,T,y-m,b-T);m==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?N=I[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},p.calculateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N=v.length,I=0;I<N;I++){var C=v[I];A=C.getLeft(),R=C.getRight(),w=C.getTop(),S=C.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var M=new h(m,T,y-m,b-T);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var v=0,m=this.nodes,y=m.length,T=0;T<y;T++){var b=m[T];v+=b.calcEstimatedSize()}return v==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=v/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var v=this;if(this.nodes.length==0){this.isConnected=!0;return}var m=new f,y=new Set,T=this.nodes[0],b,A,R=T.withChildren();for(R.forEach(function(M){m.push(M),y.add(M)});m.length!==0;){T=m.shift(),b=T.getEdges();for(var w=b.length,S=0;S<w;S++){var N=b[S];if(A=N.getOtherEndInGraph(T,this),A!=null&&!y.has(A)){var I=A.withChildren();I.forEach(function(M){m.push(M),y.add(M)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var C=0;y.forEach(function(M){M.owner==v&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=p},function(r,n,i){var s,a=i(1);function o(l){s=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),c=this.layout.newNode(null),u=this.add(l,c);return this.setRootGraph(u),this.rootGraph},o.prototype.add=function(l,c,u,h,d){if(u==null&&h==null&&d==null){if(l==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return l.parent=c,c.child=l,l}else{d=u,h=c,u=l;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return u.isInterGraph=!1,f.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),!(u.source!=null&&u.target!=null))throw"Edge source and/or target is null!";if(!(u.source.edges.indexOf(u)==-1&&u.target.edges.indexOf(u)==-1))throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u}},o.prototype.remove=function(l){if(l instanceof s){var c=l;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var u=[];u=u.concat(c.getEdges());for(var h,d=u.length,f=0;f<d;f++)h=u[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(c);this.graphs.splice(v,1),c.parent=null}else if(l instanceof a){if(h=l,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var v=h.source.edges.indexOf(h);if(h.source.edges.splice(v,1),v=h.target.edges.indexOf(h),h.target.edges.splice(v,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var v=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],c=this.getGraphs(),u=c.length,h=0;h<u;h++)l=l.concat(c[h].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],c=this.getGraphs();c.length;for(var u=0;u<c.length;u++)l=l.concat(c[u].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,c){if(!(l!=null&&c!=null))throw"assert failed";if(l==c)return!0;var u=l.getOwner(),h;do{if(h=u.getParent(),h==null)break;if(h==c)return!0;if(u=h.getOwner(),u==null)break}while(!0);u=c.getOwner();do{if(h=u.getParent(),h==null)break;if(h==l)return!0;if(u=h.getOwner(),u==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,c,u,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(l=f[g],c=l.source,u=l.target,l.lca=null,l.sourceInLca=c,l.targetInLca=u,c==u){l.lca=c.getOwner();continue}for(h=c.getOwner();l.lca==null;){for(l.targetInLca=u,d=u.getOwner();l.lca==null;){if(d==h){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(h==this.rootGraph)break;l.lca==null&&(l.sourceInLca=h.getParent(),h=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,c){if(l==c)return l.getOwner();var u=l.getOwner();do{if(u==null)break;var h=c.getOwner();do{if(h==null)break;if(h==u)return h;h=h.getParent().getOwner()}while(!0);u=u.getParent().getOwner()}while(!0);return u},o.prototype.calcInclusionTreeDepths=function(l,c){l==null&&c==null&&(l=this.rootGraph,c=1);for(var u,h=l.getNodes(),d=h.length,f=0;f<d;f++)u=h[f],u.inclusionTreeDepth=c,u.child!=null&&this.calcInclusionTreeDepths(u.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var l,c=this.edges.length,u=0;u<c;u++)if(l=this.edges[u],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,l,c,u){if(!o.intersects(l))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,h),c[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),c[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?c[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?c[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+u),c[1]=-1*h[1]*(f/2+u)},a.decideDirectionsForOverlappingNodes=function(o,l,c){o.getCenterX()<l.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<l.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,l,c){var u=o.getCenterX(),h=o.getCenterY(),d=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return c[0]=u,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),v=o.getRight(),m=o.getX(),y=o.getBottom(),T=o.getRight(),b=o.getWidthHalf(),A=o.getHeightHalf(),R=l.getX(),w=l.getY(),S=l.getRight(),N=l.getX(),I=l.getBottom(),C=l.getRight(),M=l.getWidthHalf(),k=l.getHeightHalf(),E=!1,O=!1;if(u===d){if(h>f)return c[0]=u,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=u,c[1]=y,c[2]=d,c[3]=w,!1}else if(h===f){if(u>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(u<d)return c[0]=v,c[1]=h,c[2]=R,c[3]=f,!1}else{var _=o.height/o.width,x=l.height/l.width,L=(f-h)/(d-u),D=void 0,P=void 0,U=void 0,z=void 0,H=void 0,V=void 0;if(-_===L?u>d?(c[0]=m,c[1]=y,E=!0):(c[0]=v,c[1]=g,E=!0):_===L&&(u>d?(c[0]=p,c[1]=g,E=!0):(c[0]=T,c[1]=y,E=!0)),-x===L?d>u?(c[2]=N,c[3]=I,O=!0):(c[2]=S,c[3]=w,O=!0):x===L&&(d>u?(c[2]=R,c[3]=w,O=!0):(c[2]=C,c[3]=I,O=!0)),E&&O)return!1;if(u>d?h>f?(D=this.getCardinalDirection(_,L,4),P=this.getCardinalDirection(x,L,2)):(D=this.getCardinalDirection(-_,L,3),P=this.getCardinalDirection(-x,L,1)):h>f?(D=this.getCardinalDirection(-_,L,1),P=this.getCardinalDirection(-x,L,3)):(D=this.getCardinalDirection(_,L,2),P=this.getCardinalDirection(x,L,4)),!E)switch(D){case 1:z=g,U=u+-A/L,c[0]=U,c[1]=z;break;case 2:U=T,z=h+b*L,c[0]=U,c[1]=z;break;case 3:z=y,U=u+A/L,c[0]=U,c[1]=z;break;case 4:U=m,z=h+-b*L,c[0]=U,c[1]=z;break}if(!O)switch(P){case 1:V=w,H=d+-k/L,c[2]=H,c[3]=V;break;case 2:H=C,V=f+M*L,c[2]=H,c[3]=V;break;case 3:V=I,H=d+k/L,c[2]=H,c[3]=V;break;case 4:H=N,V=f+-M*L,c[2]=H,c[3]=V;break}}return!1},a.getCardinalDirection=function(o,l,c){return o>l?c:1+c%4},a.getIntersection=function(o,l,c,u){if(u==null)return this.getIntersection2(o,l,c);var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0;return A=p-d,w=h-f,N=f*d-h*p,R=y-v,S=g-m,I=m*v-g*y,C=A*S-R*w,C===0?null:(T=(w*I-S*N)/C,b=(R*N-A*I)/C,new s(T,b))},a.angleOfVector=function(o,l,c,u){var h=void 0;return o!==c?(h=Math.atan((u-l)/(c-o)),c<o?h+=Math.PI:u<l&&(h+=this.TWO_PI)):u<l?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,l,c,u){var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=(f-h)*(y-v)-(m-g)*(p-d);if(T===0)return!1;var b=((y-v)*(m-h)+(g-m)*(y-d))/T,A=((d-p)*(m-h)+(f-h)*(y-d))/T;return 0<b&&b<1&&0<A&&A<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=s},function(r,n,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,r.exports=s},function(r,n,i){var s=function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}}();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},u=function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return l(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return l(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return l(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return l(p,f,p.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,v=this.head;g<f;)v=v.next,g++;v.value=p}}}]),h}();r.exports=u},function(r,n,i){function s(a,o,l){this.x=null,this.y=null,a==null&&o==null&&l==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&l==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&l==null&&(l=a,this.x=l.x,this.y=l.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,l){a.constructor.name=="Point"&&o==null&&l==null?(l=a,this.setLocation(l.x,l.y)):typeof a=="number"&&typeof o=="number"&&l==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=s},function(r,n,i){function s(a,o,l,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&l!=null&&c!=null&&(this.x=a,this.y=o,this.width=l,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},r.exports=s},function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var l=typeof o>"u"?"undefined":s(o);return o==null||l!="object"&&l!="function"},r.exports=a},function(r,n,i){function s(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var a=i(0),o=i(6),l=i(3),c=i(1),u=i(5),h=i(4),d=i(17),f=i(27);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},p.prototype.newNode=function(g){return new l(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),v=0;v<g.length;v++)g[v];for(var m=this.graphManager.getRoot().getNodes(),v=0;v<m.length;v++)m[v];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof l){var v=g;if(v.getChild()!=null)for(var m=v.getChild().getNodes(),y=0;y<m.length;y++)update(m[y]);if(v.vGraphObject!=null){var T=v.vGraphObject;T.update(v)}}else if(g instanceof c){var b=g;if(b.vGraphObject!=null){var A=b.vGraphObject;A.update(b)}}else if(g instanceof u){var R=g;if(R.vGraphObject!=null){var w=R.vGraphObject;w.update(R)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var v=new d,m=this.graphManager.getRoot().updateLeftTop();if(m!=null){v.setWorldOrgX(g.x),v.setWorldOrgY(g.y),v.setDeviceOrgX(m.x),v.setDeviceOrgY(m.y);for(var y=this.getAllNodes(),T,b=0;b<y.length;b++)T=y[b],T.transform(v)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,m,y=g.getNodes(),T=0;T<y.length;T++)v=y[T],m=v.getChild(),m==null||m.getNodes().length==0?v.scatter():(this.positionNodesRandomly(m),v.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],v=!0,m=this.graphManager.getRoot().getNodes(),y=!0,T=0;T<m.length;T++)m[T].getChild()!=null&&(y=!1);if(!y)return g;var b=new Set,A=[],R=new Map,w=[];for(w=w.concat(m);w.length>0&&v;){for(A.push(w[0]);A.length>0&&v;){var S=A[0];A.splice(0,1),b.add(S);for(var N=S.getEdges(),T=0;T<N.length;T++){var I=N[T].getOtherEnd(S);if(R.get(S)!=I)if(!b.has(I))A.push(I),R.set(I,S);else{v=!1;break}}}if(!v)g=[];else{var C=[].concat(s(b));g.push(C);for(var T=0;T<C.length;T++){var M=C[T],k=w.indexOf(M);k>-1&&w.splice(k,1)}b=new Set,R=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var v=[],m=g.source,y=this.graphManager.calcLowestCommonAncestor(g.source,g.target),T=0;T<g.bendpoints.length;T++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),y.add(b);var A=this.newEdge(null);this.graphManager.add(A,m,b),v.add(b),m=b}var A=this.newEdge(null);return this.graphManager.add(A,m,g.target),this.edgeToDummyNodes.set(g,v),g.isInterGraph()?this.graphManager.remove(g):y.remove(g),v},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var v=0;v<g.length;v++){var m=g[v];if(m.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(m),T=0;T<y.length;T++){var b=y[T],A=new h(b.getCenterX(),b.getCenterY()),R=m.bendpoints.get(T);R.x=A.x,R.y=A.y,b.getOwner().remove(b)}this.graphManager.add(m,m.source,m.target)}}},p.transform=function(g,v,m,y){if(m!=null&&y!=null){var T=v;if(g<=50){var b=v/m;T-=(v-b)/50*(50-g)}else{var A=v*y;T+=(A-v)/50*(g-50)}return T}else{var R,w;return g<=50?(R=9*v/500,w=v/10):(R=9*v/50,w=-8*v),R*g+w}},p.findCenterOfTree=function(g){var v=[];v=v.concat(g);var m=[],y=new Map,T=!1,b=null;(v.length==1||v.length==2)&&(T=!0,b=v[0]);for(var A=0;A<v.length;A++){var R=v[A],w=R.getNeighborsList().size;y.set(R,R.getNeighborsList().size),w==1&&m.push(R)}var S=[];for(S=S.concat(m);!T;){var N=[];N=N.concat(S),S=[];for(var A=0;A<v.length;A++){var R=v[A],I=v.indexOf(R);I>=0&&v.splice(I,1);var C=R.getNeighborsList();C.forEach(function(E){if(m.indexOf(E)<0){var O=y.get(E),_=O-1;_==1&&S.push(E),y.set(E,_)}})}m=m.concat(S),(v.length==1||v.length==2)&&(T=!0,b=v[0])}return b},p.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=p},function(r,n,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},r.exports=s},function(r,n,i){var s=i(4);function a(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var l=0,c=this.lworldExtX;return c!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),l},a.prototype.transformY=function(o){var l=0,c=this.lworldExtY;return c!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),l},a.prototype.inverseTransformX=function(o){var l=0,c=this.ldeviceExtX;return c!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),l},a.prototype.inverseTransformY=function(o){var l=0,c=this.ldeviceExtY;return c!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),l},a.prototype.inverseTransformPoint=function(o){var l=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=a},function(r,n,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(7),l=i(0),c=i(8),u=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,v,m,y,T=this.getGraphManager().getAllEdges(),b=0;b<T.length;b++)f=T[b],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(g=f.getSource(),v=f.getTarget(),m=f.getSourceInLca().getEstimatedSize(),y=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=m+y-2*l.SIMPLE_NODE_SIZE),p=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*p))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,v,m,y,T=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),b=new Set,g=0;g<T.length;g++)m=T[g],this.calculateRepulsionForceOfANode(m,b,f,p),b.add(m);else for(g=0;g<T.length;g++)for(m=T[g],v=g+1;v<T.length;v++)y=T[v],m.getOwner()==y.getOwner()&&this.calcRepulsionForce(m,y)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),v=f.getTarget(),m,y,T,b;if(this.uniformLeafNodeSizes&&g.getChild()==null&&v.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;m=f.getLength(),m!=0&&(y=this.springConstant*(m-p),T=y*(f.lengthX/m),b=y*(f.lengthY/m),g.springForceX+=T,g.springForceY+=b,v.springForceX-=T,v.springForceY-=b)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),v=p.getRect(),m=new Array(2),y=new Array(4),T,b,A,R,w,S,N;if(g.intersects(v)){c.calcSeparationAmount(g,v,m,o.DEFAULT_EDGE_LENGTH/2),S=2*m[0],N=2*m[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*S,f.repulsionForceY-=I*N,p.repulsionForceX+=I*S,p.repulsionForceY+=I*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(T=v.getCenterX()-g.getCenterX(),b=v.getCenterY()-g.getCenterY()):(c.getIntersection(g,v,y),T=y[2]-y[0],b=y[3]-y[1]),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=u.sign(T)*o.MIN_REPULSION_DIST),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=u.sign(b)*o.MIN_REPULSION_DIST),A=T*T+b*b,R=Math.sqrt(A),w=this.repulsionConstant*f.noOfChildren*p.noOfChildren/A,S=w*T/R,N=w*b/R,f.repulsionForceX-=S,f.repulsionForceY-=N,p.repulsionForceX+=S,p.repulsionForceY+=N},h.prototype.calcGravitationalForce=function(f){var p,g,v,m,y,T,b,A;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,v=(p.getTop()+p.getBottom())/2,m=f.getCenterX()-g,y=f.getCenterY()-v,T=Math.abs(m)+f.getWidth()/2,b=Math.abs(y)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(A=p.getEstimatedSize()*this.gravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m,f.gravitationForceY=-this.gravityConstant*y)):(A=p.getEstimatedSize()*this.compoundGravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var v=new Array(p),m=0;m<p;m++)v[m]=new Array(g);for(var m=0;m<p;m++)for(var y=0;y<g;y++)v[m][y]=new Array;return v},h.prototype.addNodeToGrid=function(f,p,g){var v=0,m=0,y=0,T=0;v=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),T=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var b=v;b<=m;b++)for(var A=y;A<=T;A++)this.grid[b][A].push(f),f.setGridCoordinates(v,m,y,T)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||v){var m=new Set;f.surrounding=new Array;for(var y,T=this.grid,b=f.startX-1;b<f.finishX+2;b++)for(var A=f.startY-1;A<f.finishY+2;A++)if(!(b<0||A<0||b>=T.length||A>=T[0].length)){for(var R=0;R<T[b][A].length;R++)if(y=T[b][A][R],!(f.getOwner()!=y.getOwner()||f==y)&&!p.has(y)&&!m.has(y)){var w=Math.abs(f.getCenterX()-y.getCenterX())-(f.getWidth()/2+y.getWidth()/2),S=Math.abs(f.getCenterY()-y.getCenterY())-(f.getHeight()/2+y.getHeight()/2);w<=this.repulsionRange&&S<=this.repulsionRange&&m.add(y)}}f.surrounding=[].concat(s(m))}for(b=0;b<f.surrounding.length;b++)this.calcRepulsionForce(f,f.surrounding[b])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,i){var s=i(1),a=i(7);function o(c,u,h){s.call(this,c,u,h),this.idealLength=a.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];r.exports=o},function(r,n,i){var s=i(3);function a(l,c,u,h){s.call(this,l,c,u,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(s.prototype);for(var o in s)a[o]=s[o];a.prototype.setGridCoordinates=function(l,c,u,h){this.startX=l,this.finishX=c,this.startY=u,this.finishY=h},r.exports=a},function(r,n,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},r.exports=s},function(r,n,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,l){var c=s.createID(o);this.contains(c)||(this.map[c]=l,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var l=s.createID(o);return this.map[l]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var l=s.createID(o);this.contains(l)||(this.set[l]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),c=l.length,u=0;u<c;u++)o.push(this.set[l[u]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var l=o.length,c=0;c<l;c++){var u=o[c];this.add(u)}},r.exports=a},function(r,n,i){var s=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function c(u,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;u instanceof o?d=u.size():d=u.length,this._quicksort(u,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,v=f;;){for(;this.compareFunction(p,this._get(h,v));)v--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<v)this._swap(h,g,v),g++,v--;else return v}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c}();r.exports=l},function(r,n,i){var s=function(){function l(c,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,l),this.sequence1=c,this.sequence2=u,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=u.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[v][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,v=this.grid[d][f-1]+this.gap_penalty,m=[p,g,v],y=this.arrayAllMaxIndexes(m);this.grid[d][f]=m[y[0]],this.tracebackGrid[d][f]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var h=u[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&u.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&u.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&u.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),u.shift()}return this.alignments}},{key:"getAllIndexes",value:function(u,h){for(var d=[],f=-1;(f=u.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(u){return this.getAllIndexes(u,Math.max.apply(null,u))}}]),l}();r.exports=o},function(r,n,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(7),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(4),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(24),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(5),s.LEdge=i(1),s.LGraphManager=i(6),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(25),r.exports=s},function(r,n,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,l){this.listeners.push({event:o,callback:l})},a.removeListener=function(o,l){for(var c=this.listeners.length;c>=0;c--){var u=this.listeners[c];u.event===o&&u.callback===l&&this.listeners.splice(c,1)}},a.emit=function(o,l){for(var c=0;c<this.listeners.length;c++){var u=this.listeners[c];o===u.event&&u.callback(l)}},r.exports=s}])})}(gu)),gu.exports}var e$=pu.exports,WE;function $3(){return WE||(WE=1,function(t,e){(function(n,i){t.exports=i(JG())})(e$,function(r){return function(n){var i={};function s(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=i,s.i=function(a){return a},s.d=function(a,o,l){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=7)}([function(n,i){n.exports=r},function(n,i,s){var a=s(0).FDLayoutConstants;function o(){}for(var l in a)o[l]=a[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,s){var a=s(0).FDLayoutEdge;function o(c,u,h){a.call(this,c,u,h)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).LGraph;function o(c,u,h){a.call(this,c,u,h)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).LGraphManager;function o(c){a.call(this,c)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).FDLayoutNode,o=s(0).IMath;function l(u,h,d,f){a.call(this,u,h,d,f)}l.prototype=Object.create(a.prototype);for(var c in a)l[c]=a[c];l.prototype.move=function(){var u=this.graphManager.getLayout();this.displacementX=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(u,h){for(var d=this.getChild().getNodes(),f,p=0;p<d.length;p++)f=d[p],f.getChild()==null?(f.moveBy(u,h),f.displacementX+=u,f.displacementY+=h):f.propogateDisplacementToChildren(u,h)},l.prototype.setPred1=function(u){this.pred1=u},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(u){this.next=u},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(u){this.processed=u},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,s){var a=s(0).FDLayout,o=s(4),l=s(3),c=s(5),u=s(2),h=s(1),d=s(0).FDLayoutConstants,f=s(0).LayoutConstants,p=s(0).Point,g=s(0).PointD,v=s(0).Layout,m=s(0).Integer,y=s(0).IGeometry,T=s(0).LGraph,b=s(0).Transform;function A(){a.call(this),this.toBeTiled={}}A.prototype=Object.create(a.prototype);for(var R in a)A[R]=a[R];A.prototype.newGraphManager=function(){var w=new o(this);return this.graphManager=w,w},A.prototype.newGraph=function(w){return new l(null,this.graphManager,w)},A.prototype.newNode=function(w){return new c(this.graphManager,w)},A.prototype.newEdge=function(w){return new u(null,null,w)},A.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var w=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(M){return S.has(M)});this.graphManager.setAllNodesToApplyGravitation(N)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(I){return S.has(I)});this.graphManager.setAllNodesToApplyGravitation(N),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(C){return w.has(C)});this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,I=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,I),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),S={},N=0;N<w.length;N++){var I=w[N].rect,C=w[N].id;S[C]={id:C,x:I.getCenterX(),y:I.getCenterY(),w:I.width,h:I.height}}return S},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],S,N=this.graphManager.getGraphs(),I=N.length,C;for(C=0;C<I;C++)S=N[C],S.updateConnected(),S.isConnected||(w=w.concat(S.getNodes()));return w},A.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var S=new Set,N;for(N=0;N<w.length;N++){var I=w[N];if(!S.has(I)){var C=I.getSource(),M=I.getTarget();if(C==M)I.getBendpoints().push(new g),I.getBendpoints().push(new g),this.createDummyNodesForBendpoints(I),S.add(I);else{var k=[];if(k=k.concat(C.getEdgeListToNode(M)),k=k.concat(M.getEdgeListToNode(C)),!S.has(k[0])){if(k.length>1){var E;for(E=0;E<k.length;E++){var O=k[E];O.getBendpoints().push(new g),this.createDummyNodesForBendpoints(O)}}k.forEach(function(_){S.add(_)})}}}if(S.size==w.length)break}},A.prototype.positionNodesRadially=function(w){for(var S=new p(0,0),N=Math.ceil(Math.sqrt(w.length)),I=0,C=0,M=0,k=new g(0,0),E=0;E<w.length;E++){E%N==0&&(M=0,C=I,E!=0&&(C+=h.DEFAULT_COMPONENT_SEPERATION),I=0);var O=w[E],_=v.findCenterOfTree(O);S.x=M,S.y=C,k=A.radialLayout(O,_,S),k.y>I&&(I=Math.floor(k.y)),M=Math.floor(k.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(f.WORLD_CENTER_X-k.x/2,f.WORLD_CENTER_Y-k.y/2))},A.radialLayout=function(w,S,N){var I=Math.max(this.maxDiagonalInTree(w),h.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(S,null,0,359,0,I);var C=T.calculateBounds(w),M=new b;M.setDeviceOrgX(C.getMinX()),M.setDeviceOrgY(C.getMinY()),M.setWorldOrgX(N.x),M.setWorldOrgY(N.y);for(var k=0;k<w.length;k++){var E=w[k];E.transform(M)}var O=new g(C.getMaxX(),C.getMaxY());return M.inverseTransformPoint(O)},A.branchRadialLayout=function(w,S,N,I,C,M){var k=(I-N+1)/2;k<0&&(k+=180);var E=(k+N)%360,O=E*y.TWO_PI/360,_=C*Math.cos(O),x=C*Math.sin(O);w.setCenter(_,x);var L=[];L=L.concat(w.getEdges());var D=L.length;S!=null&&D--;for(var P=0,U=L.length,z,H=w.getEdgesBetween(S);H.length>1;){var V=H[0];H.splice(0,1);var W=L.indexOf(V);W>=0&&L.splice(W,1),U--,D--}S!=null?z=(L.indexOf(H[0])+1)%U:z=0;for(var q=Math.abs(I-N)/D,ee=z;P!=D;ee=++ee%U){var Z=L[ee].getOtherEnd(w);if(Z!=S){var $=(N+P*q)%360,Y=($+q)%360;A.branchRadialLayout(Z,w,$,Y,C+M,M),P++}}},A.maxDiagonalInTree=function(w){for(var S=m.MIN_VALUE,N=0;N<w.length;N++){var I=w[N],C=I.getDiagonal();C>S&&(S=C)}return S},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var w=this,S={};this.memberGroups={},this.idToDummyNode={};for(var N=[],I=this.graphManager.getAllNodes(),C=0;C<I.length;C++){var M=I[C],k=M.getParent();this.getNodeDegreeWithChildren(M)===0&&(k.id==null||!this.getToBeTiled(k))&&N.push(M)}for(var C=0;C<N.length;C++){var M=N[C],E=M.getParent().id;typeof S[E]>"u"&&(S[E]=[]),S[E]=S[E].concat(M)}Object.keys(S).forEach(function(O){if(S[O].length>1){var _="DummyCompound_"+O;w.memberGroups[_]=S[O];var x=S[O][0].getParent(),L=new c(w.graphManager);L.id=_,L.paddingLeft=x.paddingLeft||0,L.paddingRight=x.paddingRight||0,L.paddingBottom=x.paddingBottom||0,L.paddingTop=x.paddingTop||0,w.idToDummyNode[_]=L;var D=w.getGraphManager().add(w.newGraph(),L),P=x.getChild();P.add(L);for(var U=0;U<S[O].length;U++){var z=S[O][U];P.remove(z),D.add(z)}}})},A.prototype.clearCompounds=function(){var w={},S={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)S[this.compoundOrder[N].id]=this.compoundOrder[N],w[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,S)},A.prototype.clearZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var I=w.idToDummyNode[N];S[N]=w.tileNodes(w.memberGroups[N],I.paddingLeft+I.paddingRight),I.rect.width=S[N].width,I.rect.height=S[N].height})},A.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var S=this.compoundOrder[w],N=S.id,I=S.paddingLeft,C=S.paddingTop;this.adjustLocations(this.tiledMemberPack[N],S.rect.x,S.rect.y,I,C)}},A.prototype.repopulateZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(N){var I=w.idToDummyNode[N],C=I.paddingLeft,M=I.paddingTop;w.adjustLocations(S[N],I.rect.x,I.rect.y,C,M)})},A.prototype.getToBeTiled=function(w){var S=w.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var N=w.getChild();if(N==null)return this.toBeTiled[S]=!1,!1;for(var I=N.getNodes(),C=0;C<I.length;C++){var M=I[C];if(this.getNodeDegree(M)>0)return this.toBeTiled[S]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[S]=!1,!1}return this.toBeTiled[S]=!0,!0},A.prototype.getNodeDegree=function(w){w.id;for(var S=w.getEdges(),N=0,I=0;I<S.length;I++){var C=S[I];C.getSource().id!==C.getTarget().id&&(N=N+1)}return N},A.prototype.getNodeDegreeWithChildren=function(w){var S=this.getNodeDegree(w);if(w.getChild()==null)return S;for(var N=w.getChild().getNodes(),I=0;I<N.length;I++){var C=N[I];S+=this.getNodeDegreeWithChildren(C)}return S},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(w){for(var S=0;S<w.length;S++){var N=w[S];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},A.prototype.adjustLocations=function(w,S,N,I,C){S+=I,N+=C;for(var M=S,k=0;k<w.rows.length;k++){var E=w.rows[k];S=M;for(var O=0,_=0;_<E.length;_++){var x=E[_];x.rect.x=S,x.rect.y=N,S+=x.rect.width+w.horizontalPadding,x.rect.height>O&&(O=x.rect.height)}N+=O+w.verticalPadding}},A.prototype.tileCompoundMembers=function(w,S){var N=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(I){var C=S[I];N.tiledMemberPack[I]=N.tileNodes(w[I],C.paddingLeft+C.paddingRight),C.rect.width=N.tiledMemberPack[I].width,C.rect.height=N.tiledMemberPack[I].height})},A.prototype.tileNodes=function(w,S){var N=h.TILING_PADDING_VERTICAL,I=h.TILING_PADDING_HORIZONTAL,C={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:N,horizontalPadding:I};w.sort(function(E,O){return E.rect.width*E.rect.height>O.rect.width*O.rect.height?-1:E.rect.width*E.rect.height<O.rect.width*O.rect.height?1:0});for(var M=0;M<w.length;M++){var k=w[M];C.rows.length==0?this.insertNodeToRow(C,k,0,S):this.canAddHorizontal(C,k.rect.width,k.rect.height)?this.insertNodeToRow(C,k,this.getShortestRowIndex(C),S):this.insertNodeToRow(C,k,C.rows.length,S),this.shiftToLastRow(C)}return C},A.prototype.insertNodeToRow=function(w,S,N,I){var C=I;if(N==w.rows.length){var M=[];w.rows.push(M),w.rowWidth.push(C),w.rowHeight.push(0)}var k=w.rowWidth[N]+S.rect.width;w.rows[N].length>0&&(k+=w.horizontalPadding),w.rowWidth[N]=k,w.width<k&&(w.width=k);var E=S.rect.height;N>0&&(E+=w.verticalPadding);var O=0;E>w.rowHeight[N]&&(O=w.rowHeight[N],w.rowHeight[N]=E,O=w.rowHeight[N]-O),w.height+=O,w.rows[N].push(S)},A.prototype.getShortestRowIndex=function(w){for(var S=-1,N=Number.MAX_VALUE,I=0;I<w.rows.length;I++)w.rowWidth[I]<N&&(S=I,N=w.rowWidth[I]);return S},A.prototype.getLongestRowIndex=function(w){for(var S=-1,N=Number.MIN_VALUE,I=0;I<w.rows.length;I++)w.rowWidth[I]>N&&(S=I,N=w.rowWidth[I]);return S},A.prototype.canAddHorizontal=function(w,S,N){var I=this.getShortestRowIndex(w);if(I<0)return!0;var C=w.rowWidth[I];if(C+w.horizontalPadding+S<=w.width)return!0;var M=0;w.rowHeight[I]<N&&I>0&&(M=N+w.verticalPadding-w.rowHeight[I]);var k;w.width-C>=S+w.horizontalPadding?k=(w.height+M)/(C+S+w.horizontalPadding):k=(w.height+M)/w.width,M=N+w.verticalPadding;var E;return w.width<S?E=(w.height+M)/S:E=(w.height+M)/w.width,E<1&&(E=1/E),k<1&&(k=1/k),k<E},A.prototype.shiftToLastRow=function(w){var S=this.getLongestRowIndex(w),N=w.rowWidth.length-1,I=w.rows[S],C=I[I.length-1],M=C.width+w.horizontalPadding;if(w.width-w.rowWidth[N]>M&&S!=N){I.splice(-1,1),w.rows[N].push(C),w.rowWidth[S]=w.rowWidth[S]-M,w.rowWidth[N]=w.rowWidth[N]+M,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var k=Number.MIN_VALUE,E=0;E<I.length;E++)I[E].height>k&&(k=I[E].height);S>0&&(k+=w.verticalPadding);var O=w.rowHeight[S]+w.rowHeight[N];w.rowHeight[S]=k,w.rowHeight[N]<C.height+w.verticalPadding&&(w.rowHeight[N]=C.height+w.verticalPadding);var _=w.rowHeight[S]+w.rowHeight[N];w.height+=_-O,this.shiftToLastRow(w)}},A.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var w=[],S=!0,N;S;){var I=this.graphManager.getAllNodes(),C=[];S=!1;for(var M=0;M<I.length;M++)N=I[M],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null&&(C.push([N,N.getEdges()[0],N.getOwner()]),S=!0);if(S==!0){for(var k=[],E=0;E<C.length;E++)C[E][0].getEdges().length==1&&(k.push(C[E]),C[E][0].getOwner().remove(C[E][0]));w.push(k),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},A.prototype.growTree=function(w){for(var S=w.length,N=w[S-1],I,C=0;C<N.length;C++)I=N[C],this.findPlaceforPrunedNode(I),I[2].add(I[0]),I[2].add(I[1],I[1].source,I[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(w){var S,N,I=w[0];I==w[1].source?N=w[1].target:N=w[1].source;var C=N.startX,M=N.finishX,k=N.startY,E=N.finishY,O=0,_=0,x=0,L=0,D=[O,x,_,L];if(k>0)for(var P=C;P<=M;P++)D[0]+=this.grid[P][k-1].length+this.grid[P][k].length-1;if(M<this.grid.length-1)for(var P=k;P<=E;P++)D[1]+=this.grid[M+1][P].length+this.grid[M][P].length-1;if(E<this.grid[0].length-1)for(var P=C;P<=M;P++)D[2]+=this.grid[P][E+1].length+this.grid[P][E].length-1;if(C>0)for(var P=k;P<=E;P++)D[3]+=this.grid[C-1][P].length+this.grid[C][P].length-1;for(var U=m.MAX_VALUE,z,H,V=0;V<D.length;V++)D[V]<U?(U=D[V],z=1,H=V):D[V]==U&&z++;if(z==3&&U==0)D[0]==0&&D[1]==0&&D[2]==0?S=1:D[0]==0&&D[1]==0&&D[3]==0?S=0:D[0]==0&&D[2]==0&&D[3]==0?S=3:D[1]==0&&D[2]==0&&D[3]==0&&(S=2);else if(z==2&&U==0){var W=Math.floor(Math.random()*2);D[0]==0&&D[1]==0?W==0?S=0:S=1:D[0]==0&&D[2]==0?W==0?S=0:S=2:D[0]==0&&D[3]==0?W==0?S=0:S=3:D[1]==0&&D[2]==0?W==0?S=1:S=2:D[1]==0&&D[3]==0?W==0?S=1:S=3:W==0?S=2:S=3}else if(z==4&&U==0){var W=Math.floor(Math.random()*4);S=W}else S=H;S==0?I.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-d.DEFAULT_EDGE_LENGTH-I.getHeight()/2):S==1?I.setCenter(N.getCenterX()+N.getWidth()/2+d.DEFAULT_EDGE_LENGTH+I.getWidth()/2,N.getCenterY()):S==2?I.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+d.DEFAULT_EDGE_LENGTH+I.getHeight()/2):I.setCenter(N.getCenterX()-N.getWidth()/2-d.DEFAULT_EDGE_LENGTH-I.getWidth()/2,N.getCenterY())},n.exports=A},function(n,i,s){var a={};a.layoutBase=s(0),a.CoSEConstants=s(1),a.CoSEEdge=s(2),a.CoSEGraph=s(3),a.CoSEGraphManager=s(4),a.CoSELayout=s(6),a.CoSENode=s(5),n.exports=a}])})}(pu)),pu.exports}var vu={exports:{}},mu={exports:{}},t$=mu.exports,YE;function r$(){return YE||(YE=1,function(t,e){(function(n,i){t.exports=i()})(t$,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=28)}([function(r,n,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,r.exports=s},function(r,n,i){var s=i(2),a=i(8),o=i(9);function l(u,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}l.prototype=Object.create(s.prototype);for(var c in s)l[c]=s[c];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function s(a){this.vGraphObject=a}r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(13),l=i(0),c=i(16),u=i(5);function h(f,p,g,v){g==null&&v==null&&(v=p),s.call(this,v),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(v.target==f){if(v.source!=g)throw"Incorrect edge source!";p.push(v)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(!(v.source==g||v.target==g))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&p.push(v)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var v=this.child.getNodes(),m=0;m<v.length;m++)p=v[m],g=p.withChildren(),g.forEach(function(y){f.add(y)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),v=0;v<g.length;v++)p=g[v],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-l.INITIAL_WORLD_BOUNDARY,v=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+c.nextDouble()*(v-g)+g;var m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_Y+c.nextDouble()*(y-m)+m,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>l.WORLD_BOUNDARY?p=l.WORLD_BOUNDARY:p<-l.WORLD_BOUNDARY&&(p=-l.WORLD_BOUNDARY);var g=this.rect.y;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var v=new u(p,g),m=f.inverseTransformPoint(v);this.setLocation(m.x,m.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(0),l=i(7),c=i(3),u=i(1),h=i(13),d=i(12),f=i(11);function p(v,m,y){s.call(this,y),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,m!=null&&m instanceof l?this.graphManager=m:m!=null&&m instanceof Layout&&(this.graphManager=m.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(v,m,y){if(m==null&&y==null){var T=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(T)>-1)throw"Node already in graph!";return T.owner=this,this.getNodes().push(T),T}else{var b=v;if(!(this.getNodes().indexOf(m)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(m.owner==y.owner&&m.owner==this))throw"Both owners must be this graph!";return m.owner!=y.owner?null:(b.source=m,b.target=y,b.isInterGraph=!1,this.getEdges().push(b),m.edges.push(b),y!=m&&y.edges.push(b),b)}},p.prototype.remove=function(v){var m=v;if(v instanceof c){if(m==null)throw"Node is null!";if(!(m.owner!=null&&m.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=m.edges.slice(),T,b=y.length,A=0;A<b;A++)T=y[A],T.isInterGraph?this.graphManager.remove(T):T.source.owner.remove(T);var R=this.nodes.indexOf(m);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof u){var T=v;if(T==null)throw"Edge is null!";if(!(T.source!=null&&T.target!=null))throw"Source and/or target is null!";if(!(T.source.owner!=null&&T.target.owner!=null&&T.source.owner==this&&T.target.owner==this))throw"Source and/or target owner is invalid!";var w=T.source.edges.indexOf(T),S=T.target.edges.indexOf(T);if(!(w>-1&&S>-1))throw"Source and/or target doesn't know this edge!";T.source.edges.splice(w,1),T.target!=T.source&&T.target.edges.splice(S,1);var R=T.source.owner.getEdges().indexOf(T);if(R==-1)throw"Not in owner's edge list!";T.source.owner.getEdges().splice(R,1)}},p.prototype.updateLeftTop=function(){for(var v=a.MAX_VALUE,m=a.MAX_VALUE,y,T,b,A=this.getNodes(),R=A.length,w=0;w<R;w++){var S=A[w];y=S.getTop(),T=S.getLeft(),v>y&&(v=y),m>T&&(m=T)}return v==a.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?b=A[0].getParent().paddingLeft:b=this.margin,this.left=m-b,this.top=v-b,new d(this.left,this.top))},p.prototype.updateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N,I=this.nodes,C=I.length,M=0;M<C;M++){var k=I[M];v&&k.child!=null&&k.updateBounds(),A=k.getLeft(),R=k.getRight(),w=k.getTop(),S=k.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var E=new h(m,T,y-m,b-T);m==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?N=I[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},p.calculateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N=v.length,I=0;I<N;I++){var C=v[I];A=C.getLeft(),R=C.getRight(),w=C.getTop(),S=C.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var M=new h(m,T,y-m,b-T);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var v=0,m=this.nodes,y=m.length,T=0;T<y;T++){var b=m[T];v+=b.calcEstimatedSize()}return v==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=v/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var v=this;if(this.nodes.length==0){this.isConnected=!0;return}var m=new f,y=new Set,T=this.nodes[0],b,A,R=T.withChildren();for(R.forEach(function(M){m.push(M),y.add(M)});m.length!==0;){T=m.shift(),b=T.getEdges();for(var w=b.length,S=0;S<w;S++){var N=b[S];if(A=N.getOtherEndInGraph(T,this),A!=null&&!y.has(A)){var I=A.withChildren();I.forEach(function(M){m.push(M),y.add(M)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var C=0;y.forEach(function(M){M.owner==v&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=p},function(r,n,i){var s,a=i(1);function o(l){s=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),c=this.layout.newNode(null),u=this.add(l,c);return this.setRootGraph(u),this.rootGraph},o.prototype.add=function(l,c,u,h,d){if(u==null&&h==null&&d==null){if(l==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return l.parent=c,c.child=l,l}else{d=u,h=c,u=l;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return u.isInterGraph=!1,f.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),!(u.source!=null&&u.target!=null))throw"Edge source and/or target is null!";if(!(u.source.edges.indexOf(u)==-1&&u.target.edges.indexOf(u)==-1))throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u}},o.prototype.remove=function(l){if(l instanceof s){var c=l;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var u=[];u=u.concat(c.getEdges());for(var h,d=u.length,f=0;f<d;f++)h=u[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(c);this.graphs.splice(v,1),c.parent=null}else if(l instanceof a){if(h=l,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var v=h.source.edges.indexOf(h);if(h.source.edges.splice(v,1),v=h.target.edges.indexOf(h),h.target.edges.splice(v,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var v=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],c=this.getGraphs(),u=c.length,h=0;h<u;h++)l=l.concat(c[h].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],c=this.getGraphs();c.length;for(var u=0;u<c.length;u++)l=l.concat(c[u].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,c){if(!(l!=null&&c!=null))throw"assert failed";if(l==c)return!0;var u=l.getOwner(),h;do{if(h=u.getParent(),h==null)break;if(h==c)return!0;if(u=h.getOwner(),u==null)break}while(!0);u=c.getOwner();do{if(h=u.getParent(),h==null)break;if(h==l)return!0;if(u=h.getOwner(),u==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,c,u,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(l=f[g],c=l.source,u=l.target,l.lca=null,l.sourceInLca=c,l.targetInLca=u,c==u){l.lca=c.getOwner();continue}for(h=c.getOwner();l.lca==null;){for(l.targetInLca=u,d=u.getOwner();l.lca==null;){if(d==h){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(h==this.rootGraph)break;l.lca==null&&(l.sourceInLca=h.getParent(),h=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,c){if(l==c)return l.getOwner();var u=l.getOwner();do{if(u==null)break;var h=c.getOwner();do{if(h==null)break;if(h==u)return h;h=h.getParent().getOwner()}while(!0);u=u.getParent().getOwner()}while(!0);return u},o.prototype.calcInclusionTreeDepths=function(l,c){l==null&&c==null&&(l=this.rootGraph,c=1);for(var u,h=l.getNodes(),d=h.length,f=0;f<d;f++)u=h[f],u.inclusionTreeDepth=c,u.child!=null&&this.calcInclusionTreeDepths(u.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var l,c=[],u=this.edges.length,h=0;h<u;h++)l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target)&&c.push(l);for(var h=0;h<c.length;h++)this.remove(c[h]);return!1},r.exports=o},function(r,n,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,l,c,u){if(!o.intersects(l))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,h),c[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),c[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?c[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?c[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+u),c[1]=-1*h[1]*(f/2+u)},a.decideDirectionsForOverlappingNodes=function(o,l,c){o.getCenterX()<l.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<l.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,l,c){var u=o.getCenterX(),h=o.getCenterY(),d=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return c[0]=u,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),v=o.getRight(),m=o.getX(),y=o.getBottom(),T=o.getRight(),b=o.getWidthHalf(),A=o.getHeightHalf(),R=l.getX(),w=l.getY(),S=l.getRight(),N=l.getX(),I=l.getBottom(),C=l.getRight(),M=l.getWidthHalf(),k=l.getHeightHalf(),E=!1,O=!1;if(u===d){if(h>f)return c[0]=u,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=u,c[1]=y,c[2]=d,c[3]=w,!1}else if(h===f){if(u>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(u<d)return c[0]=v,c[1]=h,c[2]=R,c[3]=f,!1}else{var _=o.height/o.width,x=l.height/l.width,L=(f-h)/(d-u),D=void 0,P=void 0,U=void 0,z=void 0,H=void 0,V=void 0;if(-_===L?u>d?(c[0]=m,c[1]=y,E=!0):(c[0]=v,c[1]=g,E=!0):_===L&&(u>d?(c[0]=p,c[1]=g,E=!0):(c[0]=T,c[1]=y,E=!0)),-x===L?d>u?(c[2]=N,c[3]=I,O=!0):(c[2]=S,c[3]=w,O=!0):x===L&&(d>u?(c[2]=R,c[3]=w,O=!0):(c[2]=C,c[3]=I,O=!0)),E&&O)return!1;if(u>d?h>f?(D=this.getCardinalDirection(_,L,4),P=this.getCardinalDirection(x,L,2)):(D=this.getCardinalDirection(-_,L,3),P=this.getCardinalDirection(-x,L,1)):h>f?(D=this.getCardinalDirection(-_,L,1),P=this.getCardinalDirection(-x,L,3)):(D=this.getCardinalDirection(_,L,2),P=this.getCardinalDirection(x,L,4)),!E)switch(D){case 1:z=g,U=u+-A/L,c[0]=U,c[1]=z;break;case 2:U=T,z=h+b*L,c[0]=U,c[1]=z;break;case 3:z=y,U=u+A/L,c[0]=U,c[1]=z;break;case 4:U=m,z=h+-b*L,c[0]=U,c[1]=z;break}if(!O)switch(P){case 1:V=w,H=d+-k/L,c[2]=H,c[3]=V;break;case 2:H=C,V=f+M*L,c[2]=H,c[3]=V;break;case 3:V=I,H=d+k/L,c[2]=H,c[3]=V;break;case 4:H=N,V=f+-M*L,c[2]=H,c[3]=V;break}}return!1},a.getCardinalDirection=function(o,l,c){return o>l?c:1+c%4},a.getIntersection=function(o,l,c,u){if(u==null)return this.getIntersection2(o,l,c);var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0;return A=p-d,w=h-f,N=f*d-h*p,R=y-v,S=g-m,I=m*v-g*y,C=A*S-R*w,C===0?null:(T=(w*I-S*N)/C,b=(R*N-A*I)/C,new s(T,b))},a.angleOfVector=function(o,l,c,u){var h=void 0;return o!==c?(h=Math.atan((u-l)/(c-o)),c<o?h+=Math.PI:u<l&&(h+=this.TWO_PI)):u<l?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,l,c,u){var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=(f-h)*(y-v)-(m-g)*(p-d);if(T===0)return!1;var b=((y-v)*(m-h)+(g-m)*(y-d))/T,A=((d-p)*(m-h)+(f-h)*(y-d))/T;return 0<b&&b<1&&0<A&&A<1},a.findCircleLineIntersections=function(o,l,c,u,h,d,f){var p=(c-o)*(c-o)+(u-l)*(u-l),g=2*((o-h)*(c-o)+(l-d)*(u-l)),v=(o-h)*(o-h)+(l-d)*(l-d)-f*f,m=g*g-4*p*v;if(m>=0){var y=(-g+Math.sqrt(g*g-4*p*v))/(2*p),T=(-g-Math.sqrt(g*g-4*p*v))/(2*p),b=null;return y>=0&&y<=1?[y]:T>=0&&T<=1?[T]:b}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=s},function(r,n,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,r.exports=s},function(r,n,i){var s=function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}}();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},u=function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return l(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return l(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return l(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return l(p,f,p.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,v=this.head;g<f;)v=v.next,g++;v.value=p}}}]),h}();r.exports=u},function(r,n,i){function s(a,o,l){this.x=null,this.y=null,a==null&&o==null&&l==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&l==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&l==null&&(l=a,this.x=l.x,this.y=l.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,l){a.constructor.name=="Point"&&o==null&&l==null?(l=a,this.setLocation(l.x,l.y)):typeof a=="number"&&typeof o=="number"&&l==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=s},function(r,n,i){function s(a,o,l,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&l!=null&&c!=null&&(this.x=a,this.y=o,this.width=l,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},r.exports=s},function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var l=typeof o>"u"?"undefined":s(o);return o==null||l!="object"&&l!="function"},r.exports=a},function(r,n,i){function s(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var a=i(0),o=i(7),l=i(3),c=i(1),u=i(6),h=i(5),d=i(17),f=i(29);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},p.prototype.newNode=function(g){return new l(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),v=0;v<g.length;v++)g[v];for(var m=this.graphManager.getRoot().getNodes(),v=0;v<m.length;v++)m[v];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof l){var v=g;if(v.getChild()!=null)for(var m=v.getChild().getNodes(),y=0;y<m.length;y++)update(m[y]);if(v.vGraphObject!=null){var T=v.vGraphObject;T.update(v)}}else if(g instanceof c){var b=g;if(b.vGraphObject!=null){var A=b.vGraphObject;A.update(b)}}else if(g instanceof u){var R=g;if(R.vGraphObject!=null){var w=R.vGraphObject;w.update(R)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var v=new d,m=this.graphManager.getRoot().updateLeftTop();if(m!=null){v.setWorldOrgX(g.x),v.setWorldOrgY(g.y),v.setDeviceOrgX(m.x),v.setDeviceOrgY(m.y);for(var y=this.getAllNodes(),T,b=0;b<y.length;b++)T=y[b],T.transform(v)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,m,y=g.getNodes(),T=0;T<y.length;T++)v=y[T],m=v.getChild(),m==null||m.getNodes().length==0?v.scatter():(this.positionNodesRandomly(m),v.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],v=!0,m=this.graphManager.getRoot().getNodes(),y=!0,T=0;T<m.length;T++)m[T].getChild()!=null&&(y=!1);if(!y)return g;var b=new Set,A=[],R=new Map,w=[];for(w=w.concat(m);w.length>0&&v;){for(A.push(w[0]);A.length>0&&v;){var S=A[0];A.splice(0,1),b.add(S);for(var N=S.getEdges(),T=0;T<N.length;T++){var I=N[T].getOtherEnd(S);if(R.get(S)!=I)if(!b.has(I))A.push(I),R.set(I,S);else{v=!1;break}}}if(!v)g=[];else{var C=[].concat(s(b));g.push(C);for(var T=0;T<C.length;T++){var M=C[T],k=w.indexOf(M);k>-1&&w.splice(k,1)}b=new Set,R=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var v=[],m=g.source,y=this.graphManager.calcLowestCommonAncestor(g.source,g.target),T=0;T<g.bendpoints.length;T++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),y.add(b);var A=this.newEdge(null);this.graphManager.add(A,m,b),v.add(b),m=b}var A=this.newEdge(null);return this.graphManager.add(A,m,g.target),this.edgeToDummyNodes.set(g,v),g.isInterGraph()?this.graphManager.remove(g):y.remove(g),v},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var v=0;v<g.length;v++){var m=g[v];if(m.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(m),T=0;T<y.length;T++){var b=y[T],A=new h(b.getCenterX(),b.getCenterY()),R=m.bendpoints.get(T);R.x=A.x,R.y=A.y,b.getOwner().remove(b)}this.graphManager.add(m,m.source,m.target)}}},p.transform=function(g,v,m,y){if(m!=null&&y!=null){var T=v;if(g<=50){var b=v/m;T-=(v-b)/50*(50-g)}else{var A=v*y;T+=(A-v)/50*(g-50)}return T}else{var R,w;return g<=50?(R=9*v/500,w=v/10):(R=9*v/50,w=-8*v),R*g+w}},p.findCenterOfTree=function(g){var v=[];v=v.concat(g);var m=[],y=new Map,T=!1,b=null;(v.length==1||v.length==2)&&(T=!0,b=v[0]);for(var A=0;A<v.length;A++){var R=v[A],w=R.getNeighborsList().size;y.set(R,R.getNeighborsList().size),w==1&&m.push(R)}var S=[];for(S=S.concat(m);!T;){var N=[];N=N.concat(S),S=[];for(var A=0;A<v.length;A++){var R=v[A],I=v.indexOf(R);I>=0&&v.splice(I,1);var C=R.getNeighborsList();C.forEach(function(E){if(m.indexOf(E)<0){var O=y.get(E),_=O-1;_==1&&S.push(E),y.set(E,_)}})}m=m.concat(S),(v.length==1||v.length==2)&&(T=!0,b=v[0])}return b},p.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=p},function(r,n,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},r.exports=s},function(r,n,i){var s=i(5);function a(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var l=0,c=this.lworldExtX;return c!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),l},a.prototype.transformY=function(o){var l=0,c=this.lworldExtY;return c!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),l},a.prototype.inverseTransformX=function(o){var l=0,c=this.ldeviceExtX;return c!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),l},a.prototype.inverseTransformY=function(o){var l=0,c=this.ldeviceExtY;return c!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),l},a.prototype.inverseTransformPoint=function(o){var l=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=a},function(r,n,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(4),l=i(0),c=i(8),u=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,v,m,y,T,b=this.getGraphManager().getAllEdges(),A=0;A<b.length;A++)f=b[A],p=f.idealLength,f.isInterGraph&&(v=f.getSource(),m=f.getTarget(),y=f.getSourceInLca().getEstimatedSize(),T=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=y+T-2*l.SIMPLE_NODE_SIZE),g=f.getLca().getInclusionTreeDepth(),f.idealLength+=p*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,v,m,y,T=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),b=new Set,g=0;g<T.length;g++)m=T[g],this.calculateRepulsionForceOfANode(m,b,f,p),b.add(m);else for(g=0;g<T.length;g++)for(m=T[g],v=g+1;v<T.length;v++)y=T[v],m.getOwner()==y.getOwner()&&this.calcRepulsionForce(m,y)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),v=f.getTarget(),m,y,T,b;if(this.uniformLeafNodeSizes&&g.getChild()==null&&v.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;m=f.getLength(),m!=0&&(y=f.edgeElasticity*(m-p),T=y*(f.lengthX/m),b=y*(f.lengthY/m),g.springForceX+=T,g.springForceY+=b,v.springForceX-=T,v.springForceY-=b)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),v=p.getRect(),m=new Array(2),y=new Array(4),T,b,A,R,w,S,N;if(g.intersects(v)){c.calcSeparationAmount(g,v,m,o.DEFAULT_EDGE_LENGTH/2),S=2*m[0],N=2*m[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*S,f.repulsionForceY-=I*N,p.repulsionForceX+=I*S,p.repulsionForceY+=I*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(T=v.getCenterX()-g.getCenterX(),b=v.getCenterY()-g.getCenterY()):(c.getIntersection(g,v,y),T=y[2]-y[0],b=y[3]-y[1]),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=u.sign(T)*o.MIN_REPULSION_DIST),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=u.sign(b)*o.MIN_REPULSION_DIST),A=T*T+b*b,R=Math.sqrt(A),w=(f.nodeRepulsion/2+p.nodeRepulsion/2)*f.noOfChildren*p.noOfChildren/A,S=w*T/R,N=w*b/R,f.repulsionForceX-=S,f.repulsionForceY-=N,p.repulsionForceX+=S,p.repulsionForceY+=N},h.prototype.calcGravitationalForce=function(f){var p,g,v,m,y,T,b,A;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,v=(p.getTop()+p.getBottom())/2,m=f.getCenterX()-g,y=f.getCenterY()-v,T=Math.abs(m)+f.getWidth()/2,b=Math.abs(y)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(A=p.getEstimatedSize()*this.gravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m,f.gravitationForceY=-this.gravityConstant*y)):(A=p.getEstimatedSize()*this.compoundGravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var v=new Array(p),m=0;m<p;m++)v[m]=new Array(g);for(var m=0;m<p;m++)for(var y=0;y<g;y++)v[m][y]=new Array;return v},h.prototype.addNodeToGrid=function(f,p,g){var v=0,m=0,y=0,T=0;v=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),T=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var b=v;b<=m;b++)for(var A=y;A<=T;A++)this.grid[b][A].push(f),f.setGridCoordinates(v,m,y,T)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||v){var m=new Set;f.surrounding=new Array;for(var y,T=this.grid,b=f.startX-1;b<f.finishX+2;b++)for(var A=f.startY-1;A<f.finishY+2;A++)if(!(b<0||A<0||b>=T.length||A>=T[0].length)){for(var R=0;R<T[b][A].length;R++)if(y=T[b][A][R],!(f.getOwner()!=y.getOwner()||f==y)&&!p.has(y)&&!m.has(y)){var w=Math.abs(f.getCenterX()-y.getCenterX())-(f.getWidth()/2+y.getWidth()/2),S=Math.abs(f.getCenterY()-y.getCenterY())-(f.getHeight()/2+y.getHeight()/2);w<=this.repulsionRange&&S<=this.repulsionRange&&m.add(y)}}f.surrounding=[].concat(s(m))}for(b=0;b<f.surrounding.length;b++)this.calcRepulsionForce(f,f.surrounding[b])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,i){var s=i(1),a=i(4);function o(c,u,h){s.call(this,c,u,h),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];r.exports=o},function(r,n,i){var s=i(3),a=i(4);function o(c,u,h,d){s.call(this,c,u,h,d),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.setGridCoordinates=function(c,u,h,d){this.startX=c,this.finishX=u,this.startY=h,this.finishY=d},r.exports=o},function(r,n,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},r.exports=s},function(r,n,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,l){var c=s.createID(o);this.contains(c)||(this.map[c]=l,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var l=s.createID(o);return this.map[l]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var l=s.createID(o);this.contains(l)||(this.set[l]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),c=l.length,u=0;u<c;u++)o.push(this.set[l[u]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var l=o.length,c=0;c<l;c++){var u=o[c];this.add(u)}},r.exports=a},function(r,n,i){function s(){}s.multMat=function(a,o){for(var l=[],c=0;c<a.length;c++){l[c]=[];for(var u=0;u<o[0].length;u++){l[c][u]=0;for(var h=0;h<a[0].length;h++)l[c][u]+=a[c][h]*o[h][u]}}return l},s.transpose=function(a){for(var o=[],l=0;l<a[0].length;l++){o[l]=[];for(var c=0;c<a.length;c++)o[l][c]=a[c][l]}return o},s.multCons=function(a,o){for(var l=[],c=0;c<a.length;c++)l[c]=a[c]*o;return l},s.minusOp=function(a,o){for(var l=[],c=0;c<a.length;c++)l[c]=a[c]-o[c];return l},s.dotProduct=function(a,o){for(var l=0,c=0;c<a.length;c++)l+=a[c]*o[c];return l},s.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},s.normalize=function(a){for(var o=[],l=this.mag(a),c=0;c<a.length;c++)o[c]=a[c]/l;return o},s.multGamma=function(a){for(var o=[],l=0,c=0;c<a.length;c++)l+=a[c];l*=-1/a.length;for(var u=0;u<a.length;u++)o[u]=l+a[u];return o},s.multL=function(a,o,l){for(var c=[],u=[],h=[],d=0;d<o[0].length;d++){for(var f=0,p=0;p<o.length;p++)f+=-.5*o[p][d]*a[p];u[d]=f}for(var g=0;g<l.length;g++){for(var v=0,m=0;m<l.length;m++)v+=l[g][m]*u[m];h[g]=v}for(var y=0;y<o.length;y++){for(var T=0,b=0;b<o[0].length;b++)T+=o[y][b]*h[b];c[y]=T}return c},r.exports=s},function(r,n,i){var s=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function c(u,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;u instanceof o?d=u.size():d=u.length,this._quicksort(u,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,v=f;;){for(;this.compareFunction(p,this._get(h,v));)v--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<v)this._swap(h,g,v),g++,v--;else return v}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c}();r.exports=l},function(r,n,i){function s(){}s.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var o=Math.min(this.m,this.n);this.s=function(Re){for(var we=[];Re-- >0;)we.push(0);return we}(Math.min(this.m+1,this.n)),this.U=function(Re){var we=function At(ht){if(ht.length==0)return 0;for(var qt=[],Je=0;Je<ht[0];Je++)qt.push(At(ht.slice(1)));return qt};return we(Re)}([this.m,o]),this.V=function(Re){var we=function At(ht){if(ht.length==0)return 0;for(var qt=[],Je=0;Je<ht[0];Je++)qt.push(At(ht.slice(1)));return qt};return we(Re)}([this.n,this.n]);for(var l=function(Re){for(var we=[];Re-- >0;)we.push(0);return we}(this.n),c=function(Re){for(var we=[];Re-- >0;)we.push(0);return we}(this.m),u=!0,h=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(h,d);f++){if(f<h){this.s[f]=0;for(var p=f;p<this.m;p++)this.s[f]=s.hypot(this.s[f],a[p][f]);if(this.s[f]!==0){a[f][f]<0&&(this.s[f]=-this.s[f]);for(var g=f;g<this.m;g++)a[g][f]/=this.s[f];a[f][f]+=1}this.s[f]=-this.s[f]}for(var v=f+1;v<this.n;v++){if(function(Re,we){return Re&&we}(f<h,this.s[f]!==0)){for(var m=0,y=f;y<this.m;y++)m+=a[y][f]*a[y][v];m=-m/a[f][f];for(var T=f;T<this.m;T++)a[T][v]+=m*a[T][f]}l[v]=a[f][v]}if(function(Re,we){return we}(u,f<h))for(var b=f;b<this.m;b++)this.U[b][f]=a[b][f];if(f<d){l[f]=0;for(var A=f+1;A<this.n;A++)l[f]=s.hypot(l[f],l[A]);if(l[f]!==0){l[f+1]<0&&(l[f]=-l[f]);for(var R=f+1;R<this.n;R++)l[R]/=l[f];l[f+1]+=1}if(l[f]=-l[f],function(Re,we){return Re&&we}(f+1<this.m,l[f]!==0)){for(var w=f+1;w<this.m;w++)c[w]=0;for(var S=f+1;S<this.n;S++)for(var N=f+1;N<this.m;N++)c[N]+=l[S]*a[N][S];for(var I=f+1;I<this.n;I++)for(var C=-l[I]/l[f+1],M=f+1;M<this.m;M++)a[M][I]+=C*c[M]}for(var k=f+1;k<this.n;k++)this.V[k][f]=l[k]}}var E=Math.min(this.n,this.m+1);h<this.n&&(this.s[h]=a[h][h]),this.m<E&&(this.s[E-1]=0),d+1<E&&(l[d]=a[d][E-1]),l[E-1]=0;{for(var O=h;O<o;O++){for(var _=0;_<this.m;_++)this.U[_][O]=0;this.U[O][O]=1}for(var x=h-1;x>=0;x--)if(this.s[x]!==0){for(var L=x+1;L<o;L++){for(var D=0,P=x;P<this.m;P++)D+=this.U[P][x]*this.U[P][L];D=-D/this.U[x][x];for(var U=x;U<this.m;U++)this.U[U][L]+=D*this.U[U][x]}for(var z=x;z<this.m;z++)this.U[z][x]=-this.U[z][x];this.U[x][x]=1+this.U[x][x];for(var H=0;H<x-1;H++)this.U[H][x]=0}else{for(var V=0;V<this.m;V++)this.U[V][x]=0;this.U[x][x]=1}}for(var W=this.n-1;W>=0;W--){if(function(Re,we){return Re&&we}(W<d,l[W]!==0))for(var q=W+1;q<o;q++){for(var ee=0,Z=W+1;Z<this.n;Z++)ee+=this.V[Z][W]*this.V[Z][q];ee=-ee/this.V[W+1][W];for(var $=W+1;$<this.n;$++)this.V[$][q]+=ee*this.V[$][W]}for(var Y=0;Y<this.n;Y++)this.V[Y][W]=0;this.V[W][W]=1}for(var X=E-1,j=Math.pow(2,-52),ne=Math.pow(2,-966);E>0;){var K=void 0,Ge=void 0;for(K=E-2;K>=-1&&K!==-1;K--)if(Math.abs(l[K])<=ne+j*(Math.abs(this.s[K])+Math.abs(this.s[K+1]))){l[K]=0;break}if(K===E-2)Ge=4;else{var Ae=void 0;for(Ae=E-1;Ae>=K&&Ae!==K;Ae--){var Dt=(Ae!==E?Math.abs(l[Ae]):0)+(Ae!==K+1?Math.abs(l[Ae-1]):0);if(Math.abs(this.s[Ae])<=ne+j*Dt){this.s[Ae]=0;break}}Ae===K?Ge=3:Ae===E-1?Ge=1:(Ge=2,K=Ae)}switch(K++,Ge){case 1:{var Et=l[E-2];l[E-2]=0;for(var Oe=E-2;Oe>=K;Oe--){var Wt=s.hypot(this.s[Oe],Et),Yt=this.s[Oe]/Wt,Oi=Et/Wt;this.s[Oe]=Wt,Oe!==K&&(Et=-Oi*l[Oe-1],l[Oe-1]=Yt*l[Oe-1]);for(var bt=0;bt<this.n;bt++)Wt=Yt*this.V[bt][Oe]+Oi*this.V[bt][E-1],this.V[bt][E-1]=-Oi*this.V[bt][Oe]+Yt*this.V[bt][E-1],this.V[bt][Oe]=Wt}}break;case 2:{var Wr=l[K-1];l[K-1]=0;for(var ft=K;ft<E;ft++){var Xt=s.hypot(this.s[ft],Wr),Pn=this.s[ft]/Xt,ii=Wr/Xt;this.s[ft]=Xt,Wr=-ii*l[ft],l[ft]=Pn*l[ft];for(var nr=0;nr<this.m;nr++)Xt=Pn*this.U[nr][ft]+ii*this.U[nr][K-1],this.U[nr][K-1]=-ii*this.U[nr][ft]+Pn*this.U[nr][K-1],this.U[nr][ft]=Xt}}break;case 3:{var Sr=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(l[E-2])),Math.abs(this.s[K])),Math.abs(l[K])),dr=this.s[E-1]/Sr,Q=this.s[E-2]/Sr,te=l[E-2]/Sr,se=this.s[K]/Sr,ue=l[K]/Sr,le=((Q+dr)*(Q-dr)+te*te)/2,Ee=dr*te*(dr*te),Qe=0;(function(Re,we){return Re||we})(le!==0,Ee!==0)&&(Qe=Math.sqrt(le*le+Ee),le<0&&(Qe=-Qe),Qe=Ee/(le+Qe));for(var Ie=(se+dr)*(se-dr)+Qe,ce=se*ue,ae=K;ae<E-1;ae++){var Ne=s.hypot(Ie,ce),je=Ie/Ne,ke=ce/Ne;ae!==K&&(l[ae-1]=Ne),Ie=je*this.s[ae]+ke*l[ae],l[ae]=je*l[ae]-ke*this.s[ae],ce=ke*this.s[ae+1],this.s[ae+1]=je*this.s[ae+1];for(var Ce=0;Ce<this.n;Ce++)Ne=je*this.V[Ce][ae]+ke*this.V[Ce][ae+1],this.V[Ce][ae+1]=-ke*this.V[Ce][ae]+je*this.V[Ce][ae+1],this.V[Ce][ae]=Ne;if(Ne=s.hypot(Ie,ce),je=Ie/Ne,ke=ce/Ne,this.s[ae]=Ne,Ie=je*l[ae]+ke*this.s[ae+1],this.s[ae+1]=-ke*l[ae]+je*this.s[ae+1],ce=ke*l[ae+1],l[ae+1]=je*l[ae+1],ae<this.m-1)for(var me=0;me<this.m;me++)Ne=je*this.U[me][ae]+ke*this.U[me][ae+1],this.U[me][ae+1]=-ke*this.U[me][ae]+je*this.U[me][ae+1],this.U[me][ae]=Ne}l[E-2]=Ie}break;case 4:{if(this.s[K]<=0){this.s[K]=this.s[K]<0?-this.s[K]:0;for(var pe=0;pe<=X;pe++)this.V[pe][K]=-this.V[pe][K]}for(;K<X&&!(this.s[K]>=this.s[K+1]);){var Fe=this.s[K];if(this.s[K]=this.s[K+1],this.s[K+1]=Fe,K<this.n-1)for(var fe=0;fe<this.n;fe++)Fe=this.V[fe][K+1],this.V[fe][K+1]=this.V[fe][K],this.V[fe][K]=Fe;if(K<this.m-1)for(var he=0;he<this.m;he++)Fe=this.U[he][K+1],this.U[he][K+1]=this.U[he][K],this.U[he][K]=Fe;K++}E--}break}}var wt={U:this.U,V:this.V,S:this.s};return wt},s.hypot=function(a,o){var l=void 0;return Math.abs(a)>Math.abs(o)?(l=o/a,l=Math.abs(a)*Math.sqrt(1+l*l)):o!=0?(l=a/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=s},function(r,n,i){var s=function(){function l(c,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,l),this.sequence1=c,this.sequence2=u,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=u.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[v][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,v=this.grid[d][f-1]+this.gap_penalty,m=[p,g,v],y=this.arrayAllMaxIndexes(m);this.grid[d][f]=m[y[0]],this.tracebackGrid[d][f]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var h=u[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&u.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&u.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&u.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),u.shift()}return this.alignments}},{key:"getAllIndexes",value:function(u,h){for(var d=[],f=-1;(f=u.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(u){return this.getAllIndexes(u,Math.max.apply(null,u))}}]),l}();r.exports=o},function(r,n,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(4),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(5),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(25),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(6),s.LEdge=i(1),s.LGraphManager=i(7),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(27),s.Matrix=i(24),s.SVD=i(26),r.exports=s},function(r,n,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,l){this.listeners.push({event:o,callback:l})},a.removeListener=function(o,l){for(var c=this.listeners.length;c>=0;c--){var u=this.listeners[c];u.event===o&&u.callback===l&&this.listeners.splice(c,1)}},a.emit=function(o,l){for(var c=0;c<this.listeners.length;c++){var u=this.listeners[c];o===u.event&&u.callback(l)}},r.exports=s}])})}(mu)),mu.exports}var n$=vu.exports,XE;function H3(){return XE||(XE=1,function(t,e){(function(n,i){t.exports=i(r$())})(n$,function(r){return(()=>{var n={45:(o,l,c)=>{var u={};u.layoutBase=c(551),u.CoSEConstants=c(806),u.CoSEEdge=c(767),u.CoSEGraph=c(880),u.CoSEGraphManager=c(578),u.CoSELayout=c(765),u.CoSENode=c(991),u.ConstraintHandler=c(902),o.exports=u},806:(o,l,c)=>{var u=c(551).FDLayoutConstants;function h(){}for(var d in u)h[d]=u[d];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=u.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,o.exports=h},767:(o,l,c)=>{var u=c(551).FDLayoutEdge;function h(f,p,g){u.call(this,f,p,g)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},880:(o,l,c)=>{var u=c(551).LGraph;function h(f,p,g){u.call(this,f,p,g)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},578:(o,l,c)=>{var u=c(551).LGraphManager;function h(f){u.call(this,f)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},765:(o,l,c)=>{var u=c(551).FDLayout,h=c(578),d=c(880),f=c(991),p=c(767),g=c(806),v=c(902),m=c(551).FDLayoutConstants,y=c(551).LayoutConstants,T=c(551).Point,b=c(551).PointD,A=c(551).DimensionD,R=c(551).Layout,w=c(551).Integer,S=c(551).IGeometry,N=c(551).LGraph,I=c(551).Transform,C=c(551).LinkedList;function M(){u.call(this),this.toBeTiled={},this.constraints={}}M.prototype=Object.create(u.prototype);for(var k in u)M[k]=u[k];M.prototype.newGraphManager=function(){var E=new h(this);return this.graphManager=E,E},M.prototype.newGraph=function(E){return new d(null,this.graphManager,E)},M.prototype.newNode=function(E){return new f(this.graphManager,E)},M.prototype.newEdge=function(E){return new p(null,null,E)},M.prototype.initParameters=function(){u.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=m.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=m.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},M.prototype.initSpringEmbedder=function(){u.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/m.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},M.prototype.layout=function(){var E=y.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},M.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(D){return O.has(D)});this.graphManager.setAllNodesToApplyGravitation(_)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(x){return O.has(x)});this.graphManager.setAllNodesToApplyGravitation(_),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(v.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},M.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%m.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(L){return E.has(L)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var _=!this.isTreeGrowing&&!this.isGrowthFinished,x=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(_,x),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},M.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),O={},_=0;_<E.length;_++){var x=E[_].rect,L=E[_].id;O[L]={id:L,x:x.getCenterX(),y:x.getCenterY(),w:x.width,h:x.height}}return O},M.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(m.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},M.prototype.moveNodes=function(){for(var E=this.getAllNodes(),O,_=0;_<E.length;_++)O=E[_],O.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var _=0;_<E.length;_++)O=E[_],O.move()},M.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var O=this.graphManager.getAllNodes(),_=0;_<O.length;_++){var x=O[_];this.idToNodeMap.set(x.id,x)}var L=function $(Y){for(var X=Y.getChild().getNodes(),j,ne=0,K=0;K<X.length;K++)j=X[K],j.getChild()==null?E.fixedNodeSet.has(j.id)&&(ne+=100):ne+=$(j);return ne};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(X){E.fixedNodeSet.add(X.nodeId)});for(var O=this.graphManager.getAllNodes(),x,_=0;_<O.length;_++)if(x=O[_],x.getChild()!=null){var D=L(x);D>0&&(x.fixedNodeWeight=D)}}if(this.constraints.relativePlacementConstraint){var P=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function($){E.fixedNodesOnHorizontal.add($),E.fixedNodesOnVertical.add($)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var z=this.constraints.alignmentConstraint.vertical,_=0;_<z.length;_++)this.dummyToNodeForVerticalAlignment.set("dummy"+_,[]),z[_].forEach(function(Y){P.set(Y,"dummy"+_),E.dummyToNodeForVerticalAlignment.get("dummy"+_).push(Y),E.fixedNodeSet.has(Y)&&E.fixedNodesOnHorizontal.add("dummy"+_)});if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,_=0;_<H.length;_++)this.dummyToNodeForHorizontalAlignment.set("dummy"+_,[]),H[_].forEach(function(Y){U.set(Y,"dummy"+_),E.dummyToNodeForHorizontalAlignment.get("dummy"+_).push(Y),E.fixedNodeSet.has(Y)&&E.fixedNodesOnVertical.add("dummy"+_)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function($){var Y,X,j;for(j=$.length-1;j>=2*$.length/3;j--)Y=Math.floor(Math.random()*(j+1)),X=$[j],$[j]=$[Y],$[Y]=X;return $},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function($){if($.left){var Y=P.has($.left)?P.get($.left):$.left,X=P.has($.right)?P.get($.right):$.right;E.nodesInRelativeHorizontal.includes(Y)||(E.nodesInRelativeHorizontal.push(Y),E.nodeToRelativeConstraintMapHorizontal.set(Y,[]),E.dummyToNodeForVerticalAlignment.has(Y)?E.nodeToTempPositionMapHorizontal.set(Y,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(Y,E.idToNodeMap.get(Y).getCenterX())),E.nodesInRelativeHorizontal.includes(X)||(E.nodesInRelativeHorizontal.push(X),E.nodeToRelativeConstraintMapHorizontal.set(X,[]),E.dummyToNodeForVerticalAlignment.has(X)?E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(X).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(Y).push({right:X,gap:$.gap}),E.nodeToRelativeConstraintMapHorizontal.get(X).push({left:Y,gap:$.gap})}else{var j=U.has($.top)?U.get($.top):$.top,ne=U.has($.bottom)?U.get($.bottom):$.bottom;E.nodesInRelativeVertical.includes(j)||(E.nodesInRelativeVertical.push(j),E.nodeToRelativeConstraintMapVertical.set(j,[]),E.dummyToNodeForHorizontalAlignment.has(j)?E.nodeToTempPositionMapVertical.set(j,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(j)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(j,E.idToNodeMap.get(j).getCenterY())),E.nodesInRelativeVertical.includes(ne)||(E.nodesInRelativeVertical.push(ne),E.nodeToRelativeConstraintMapVertical.set(ne,[]),E.dummyToNodeForHorizontalAlignment.has(ne)?E.nodeToTempPositionMapVertical.set(ne,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(ne)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(ne,E.idToNodeMap.get(ne).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(j).push({bottom:ne,gap:$.gap}),E.nodeToRelativeConstraintMapVertical.get(ne).push({top:j,gap:$.gap})}});else{var V=new Map,W=new Map;this.constraints.relativePlacementConstraint.forEach(function($){if($.left){var Y=P.has($.left)?P.get($.left):$.left,X=P.has($.right)?P.get($.right):$.right;V.has(Y)?V.get(Y).push(X):V.set(Y,[X]),V.has(X)?V.get(X).push(Y):V.set(X,[Y])}else{var j=U.has($.top)?U.get($.top):$.top,ne=U.has($.bottom)?U.get($.bottom):$.bottom;W.has(j)?W.get(j).push(ne):W.set(j,[ne]),W.has(ne)?W.get(ne).push(j):W.set(ne,[j])}});var q=function(Y,X){var j=[],ne=[],K=new C,Ge=new Set,Ae=0;return Y.forEach(function(Dt,Et){if(!Ge.has(Et)){j[Ae]=[],ne[Ae]=!1;var Oe=Et;for(K.push(Oe),Ge.add(Oe),j[Ae].push(Oe);K.length!=0;){Oe=K.shift(),X.has(Oe)&&(ne[Ae]=!0);var Wt=Y.get(Oe);Wt.forEach(function(Yt){Ge.has(Yt)||(K.push(Yt),Ge.add(Yt),j[Ae].push(Yt))})}Ae++}}),{components:j,isFixed:ne}},ee=q(V,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=ee.components,this.fixedComponentsOnHorizontal=ee.isFixed;var Z=q(W,E.fixedNodesOnVertical);this.componentsOnVertical=Z.components,this.fixedComponentsOnVertical=Z.isFixed}}},M.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(Z){var $=E.idToNodeMap.get(Z.nodeId);$.displacementX=0,$.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var O=this.constraints.alignmentConstraint.vertical,_=0;_<O.length;_++){for(var x=0,L=0;L<O[_].length;L++){if(this.fixedNodeSet.has(O[_][L])){x=0;break}x+=this.idToNodeMap.get(O[_][L]).displacementX}for(var D=x/O[_].length,L=0;L<O[_].length;L++)this.idToNodeMap.get(O[_][L]).displacementX=D}if(this.constraints.alignmentConstraint.horizontal)for(var P=this.constraints.alignmentConstraint.horizontal,_=0;_<P.length;_++){for(var U=0,L=0;L<P[_].length;L++){if(this.fixedNodeSet.has(P[_][L])){U=0;break}U+=this.idToNodeMap.get(P[_][L]).displacementY}for(var z=U/P[_].length,L=0;L<P[_].length;L++)this.idToNodeMap.get(P[_][L]).displacementY=z}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(Z){if(!E.fixedNodesOnHorizontal.has(Z)){var $=0;E.dummyToNodeForVerticalAlignment.has(Z)?$=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(Z)[0]).displacementX:$=E.idToNodeMap.get(Z).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(Z).forEach(function(Y){if(Y.right){var X=E.nodeToTempPositionMapHorizontal.get(Y.right)-E.nodeToTempPositionMapHorizontal.get(Z)-$;X<Y.gap&&($-=Y.gap-X)}else{var X=E.nodeToTempPositionMapHorizontal.get(Z)-E.nodeToTempPositionMapHorizontal.get(Y.left)+$;X<Y.gap&&($+=Y.gap-X)}}),E.nodeToTempPositionMapHorizontal.set(Z,E.nodeToTempPositionMapHorizontal.get(Z)+$),E.dummyToNodeForVerticalAlignment.has(Z)?E.dummyToNodeForVerticalAlignment.get(Z).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=$}):E.idToNodeMap.get(Z).displacementX=$}}),this.nodesInRelativeVertical.forEach(function(Z){if(!E.fixedNodesOnHorizontal.has(Z)){var $=0;E.dummyToNodeForHorizontalAlignment.has(Z)?$=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(Z)[0]).displacementY:$=E.idToNodeMap.get(Z).displacementY,E.nodeToRelativeConstraintMapVertical.get(Z).forEach(function(Y){if(Y.bottom){var X=E.nodeToTempPositionMapVertical.get(Y.bottom)-E.nodeToTempPositionMapVertical.get(Z)-$;X<Y.gap&&($-=Y.gap-X)}else{var X=E.nodeToTempPositionMapVertical.get(Z)-E.nodeToTempPositionMapVertical.get(Y.top)+$;X<Y.gap&&($+=Y.gap-X)}}),E.nodeToTempPositionMapVertical.set(Z,E.nodeToTempPositionMapVertical.get(Z)+$),E.dummyToNodeForHorizontalAlignment.has(Z)?E.dummyToNodeForHorizontalAlignment.get(Z).forEach(function(Y){E.idToNodeMap.get(Y).displacementY=$}):E.idToNodeMap.get(Z).displacementY=$}});else{for(var _=0;_<this.componentsOnHorizontal.length;_++){var H=this.componentsOnHorizontal[_];if(this.fixedComponentsOnHorizontal[_])for(var L=0;L<H.length;L++)this.dummyToNodeForVerticalAlignment.has(H[L])?this.dummyToNodeForVerticalAlignment.get(H[L]).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=0}):this.idToNodeMap.get(H[L]).displacementX=0;else{for(var V=0,W=0,L=0;L<H.length;L++)if(this.dummyToNodeForVerticalAlignment.has(H[L])){var q=this.dummyToNodeForVerticalAlignment.get(H[L]);V+=q.length*this.idToNodeMap.get(q[0]).displacementX,W+=q.length}else V+=this.idToNodeMap.get(H[L]).displacementX,W++;for(var ee=V/W,L=0;L<H.length;L++)this.dummyToNodeForVerticalAlignment.has(H[L])?this.dummyToNodeForVerticalAlignment.get(H[L]).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=ee}):this.idToNodeMap.get(H[L]).displacementX=ee}}for(var _=0;_<this.componentsOnVertical.length;_++){var H=this.componentsOnVertical[_];if(this.fixedComponentsOnVertical[_])for(var L=0;L<H.length;L++)this.dummyToNodeForHorizontalAlignment.has(H[L])?this.dummyToNodeForHorizontalAlignment.get(H[L]).forEach(function(X){E.idToNodeMap.get(X).displacementY=0}):this.idToNodeMap.get(H[L]).displacementY=0;else{for(var V=0,W=0,L=0;L<H.length;L++)if(this.dummyToNodeForHorizontalAlignment.has(H[L])){var q=this.dummyToNodeForHorizontalAlignment.get(H[L]);V+=q.length*this.idToNodeMap.get(q[0]).displacementY,W+=q.length}else V+=this.idToNodeMap.get(H[L]).displacementY,W++;for(var ee=V/W,L=0;L<H.length;L++)this.dummyToNodeForHorizontalAlignment.has(H[L])?this.dummyToNodeForHorizontalAlignment.get(H[L]).forEach(function(K){E.idToNodeMap.get(K).displacementY=ee}):this.idToNodeMap.get(H[L]).displacementY=ee}}}},M.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],O,_=this.graphManager.getGraphs(),x=_.length,L;for(L=0;L<x;L++)O=_[L],O.updateConnected(),O.isConnected||(E=E.concat(O.getNodes()));return E},M.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var O=new Set,_;for(_=0;_<E.length;_++){var x=E[_];if(!O.has(x)){var L=x.getSource(),D=x.getTarget();if(L==D)x.getBendpoints().push(new b),x.getBendpoints().push(new b),this.createDummyNodesForBendpoints(x),O.add(x);else{var P=[];if(P=P.concat(L.getEdgeListToNode(D)),P=P.concat(D.getEdgeListToNode(L)),!O.has(P[0])){if(P.length>1){var U;for(U=0;U<P.length;U++){var z=P[U];z.getBendpoints().push(new b),this.createDummyNodesForBendpoints(z)}}P.forEach(function(H){O.add(H)})}}}if(O.size==E.length)break}},M.prototype.positionNodesRadially=function(E){for(var O=new T(0,0),_=Math.ceil(Math.sqrt(E.length)),x=0,L=0,D=0,P=new b(0,0),U=0;U<E.length;U++){U%_==0&&(D=0,L=x,U!=0&&(L+=g.DEFAULT_COMPONENT_SEPERATION),x=0);var z=E[U],H=R.findCenterOfTree(z);O.x=D,O.y=L,P=M.radialLayout(z,H,O),P.y>x&&(x=Math.floor(P.y)),D=Math.floor(P.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(y.WORLD_CENTER_X-P.x/2,y.WORLD_CENTER_Y-P.y/2))},M.radialLayout=function(E,O,_){var x=Math.max(this.maxDiagonalInTree(E),g.DEFAULT_RADIAL_SEPARATION);M.branchRadialLayout(O,null,0,359,0,x);var L=N.calculateBounds(E),D=new I;D.setDeviceOrgX(L.getMinX()),D.setDeviceOrgY(L.getMinY()),D.setWorldOrgX(_.x),D.setWorldOrgY(_.y);for(var P=0;P<E.length;P++){var U=E[P];U.transform(D)}var z=new b(L.getMaxX(),L.getMaxY());return D.inverseTransformPoint(z)},M.branchRadialLayout=function(E,O,_,x,L,D){var P=(x-_+1)/2;P<0&&(P+=180);var U=(P+_)%360,z=U*S.TWO_PI/360,H=L*Math.cos(z),V=L*Math.sin(z);E.setCenter(H,V);var W=[];W=W.concat(E.getEdges());var q=W.length;O!=null&&q--;for(var ee=0,Z=W.length,$,Y=E.getEdgesBetween(O);Y.length>1;){var X=Y[0];Y.splice(0,1);var j=W.indexOf(X);j>=0&&W.splice(j,1),Z--,q--}O!=null?$=(W.indexOf(Y[0])+1)%Z:$=0;for(var ne=Math.abs(x-_)/q,K=$;ee!=q;K=++K%Z){var Ge=W[K].getOtherEnd(E);if(Ge!=O){var Ae=(_+ee*ne)%360,Dt=(Ae+ne)%360;M.branchRadialLayout(Ge,E,Ae,Dt,L+D,D),ee++}}},M.maxDiagonalInTree=function(E){for(var O=w.MIN_VALUE,_=0;_<E.length;_++){var x=E[_],L=x.getDiagonal();L>O&&(O=L)}return O},M.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},M.prototype.groupZeroDegreeMembers=function(){var E=this,O={};this.memberGroups={},this.idToDummyNode={};for(var _=[],x=this.graphManager.getAllNodes(),L=0;L<x.length;L++){var D=x[L],P=D.getParent();this.getNodeDegreeWithChildren(D)===0&&(P.id==null||!this.getToBeTiled(P))&&_.push(D)}for(var L=0;L<_.length;L++){var D=_[L],U=D.getParent().id;typeof O[U]>"u"&&(O[U]=[]),O[U]=O[U].concat(D)}Object.keys(O).forEach(function(z){if(O[z].length>1){var H="DummyCompound_"+z;E.memberGroups[H]=O[z];var V=O[z][0].getParent(),W=new f(E.graphManager);W.id=H,W.paddingLeft=V.paddingLeft||0,W.paddingRight=V.paddingRight||0,W.paddingBottom=V.paddingBottom||0,W.paddingTop=V.paddingTop||0,E.idToDummyNode[H]=W;var q=E.getGraphManager().add(E.newGraph(),W),ee=V.getChild();ee.add(W);for(var Z=0;Z<O[z].length;Z++){var $=O[z][Z];ee.remove($),q.add($)}}})},M.prototype.clearCompounds=function(){var E={},O={};this.performDFSOnCompounds();for(var _=0;_<this.compoundOrder.length;_++)O[this.compoundOrder[_].id]=this.compoundOrder[_],E[this.compoundOrder[_].id]=[].concat(this.compoundOrder[_].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[_].getChild()),this.compoundOrder[_].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,O)},M.prototype.clearZeroDegreeMembers=function(){var E=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(_){var x=E.idToDummyNode[_];if(O[_]=E.tileNodes(E.memberGroups[_],x.paddingLeft+x.paddingRight),x.rect.width=O[_].width,x.rect.height=O[_].height,x.setCenter(O[_].centerX,O[_].centerY),x.labelMarginLeft=0,x.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var L=x.rect.width,D=x.rect.height;x.labelWidth&&(x.labelPosHorizontal=="left"?(x.rect.x-=x.labelWidth,x.setWidth(L+x.labelWidth),x.labelMarginLeft=x.labelWidth):x.labelPosHorizontal=="center"&&x.labelWidth>L?(x.rect.x-=(x.labelWidth-L)/2,x.setWidth(x.labelWidth),x.labelMarginLeft=(x.labelWidth-L)/2):x.labelPosHorizontal=="right"&&x.setWidth(L+x.labelWidth)),x.labelHeight&&(x.labelPosVertical=="top"?(x.rect.y-=x.labelHeight,x.setHeight(D+x.labelHeight),x.labelMarginTop=x.labelHeight):x.labelPosVertical=="center"&&x.labelHeight>D?(x.rect.y-=(x.labelHeight-D)/2,x.setHeight(x.labelHeight),x.labelMarginTop=(x.labelHeight-D)/2):x.labelPosVertical=="bottom"&&x.setHeight(D+x.labelHeight))}})},M.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var O=this.compoundOrder[E],_=O.id,x=O.paddingLeft,L=O.paddingTop,D=O.labelMarginLeft,P=O.labelMarginTop;this.adjustLocations(this.tiledMemberPack[_],O.rect.x,O.rect.y,x,L,D,P)}},M.prototype.repopulateZeroDegreeMembers=function(){var E=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(_){var x=E.idToDummyNode[_],L=x.paddingLeft,D=x.paddingTop,P=x.labelMarginLeft,U=x.labelMarginTop;E.adjustLocations(O[_],x.rect.x,x.rect.y,L,D,P,U)})},M.prototype.getToBeTiled=function(E){var O=E.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var _=E.getChild();if(_==null)return this.toBeTiled[O]=!1,!1;for(var x=_.getNodes(),L=0;L<x.length;L++){var D=x[L];if(this.getNodeDegree(D)>0)return this.toBeTiled[O]=!1,!1;if(D.getChild()==null){this.toBeTiled[D.id]=!1;continue}if(!this.getToBeTiled(D))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},M.prototype.getNodeDegree=function(E){E.id;for(var O=E.getEdges(),_=0,x=0;x<O.length;x++){var L=O[x];L.getSource().id!==L.getTarget().id&&(_=_+1)}return _},M.prototype.getNodeDegreeWithChildren=function(E){var O=this.getNodeDegree(E);if(E.getChild()==null)return O;for(var _=E.getChild().getNodes(),x=0;x<_.length;x++){var L=_[x];O+=this.getNodeDegreeWithChildren(L)}return O},M.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},M.prototype.fillCompexOrderByDFS=function(E){for(var O=0;O<E.length;O++){var _=E[O];_.getChild()!=null&&this.fillCompexOrderByDFS(_.getChild().getNodes()),this.getToBeTiled(_)&&this.compoundOrder.push(_)}},M.prototype.adjustLocations=function(E,O,_,x,L,D,P){O+=x+D,_+=L+P;for(var U=O,z=0;z<E.rows.length;z++){var H=E.rows[z];O=U;for(var V=0,W=0;W<H.length;W++){var q=H[W];q.rect.x=O,q.rect.y=_,O+=q.rect.width+E.horizontalPadding,q.rect.height>V&&(V=q.rect.height)}_+=V+E.verticalPadding}},M.prototype.tileCompoundMembers=function(E,O){var _=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(x){var L=O[x];if(_.tiledMemberPack[x]=_.tileNodes(E[x],L.paddingLeft+L.paddingRight),L.rect.width=_.tiledMemberPack[x].width,L.rect.height=_.tiledMemberPack[x].height,L.setCenter(_.tiledMemberPack[x].centerX,_.tiledMemberPack[x].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var D=L.rect.width,P=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth(D+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>D?(L.rect.x-=(L.labelWidth-D)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-D)/2):L.labelPosHorizontal=="right"&&L.setWidth(D+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(P+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>P?(L.rect.y-=(L.labelHeight-P)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-P)/2):L.labelPosVertical=="bottom"&&L.setHeight(P+L.labelHeight))}})},M.prototype.tileNodes=function(E,O){var _=this.tileNodesByFavoringDim(E,O,!0),x=this.tileNodesByFavoringDim(E,O,!1),L=this.getOrgRatio(_),D=this.getOrgRatio(x),P;return D<L?P=x:P=_,P},M.prototype.getOrgRatio=function(E){var O=E.width,_=E.height,x=O/_;return x<1&&(x=1/x),x},M.prototype.calcIdealRowWidth=function(E,O){var _=g.TILING_PADDING_VERTICAL,x=g.TILING_PADDING_HORIZONTAL,L=E.length,D=0,P=0,U=0;E.forEach(function(Z){D+=Z.getWidth(),P+=Z.getHeight(),Z.getWidth()>U&&(U=Z.getWidth())});var z=D/L,H=P/L,V=Math.pow(_-x,2)+4*(z+x)*(H+_)*L,W=(x-_+Math.sqrt(V))/(2*(z+x)),q;O?(q=Math.ceil(W),q==W&&q++):q=Math.floor(W);var ee=q*(z+x)-x;return U>ee&&(ee=U),ee+=x*2,ee},M.prototype.tileNodesByFavoringDim=function(E,O,_){var x=g.TILING_PADDING_VERTICAL,L=g.TILING_PADDING_HORIZONTAL,D=g.TILING_COMPARE_BY,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:x,horizontalPadding:L,centerX:0,centerY:0};D&&(P.idealRowWidth=this.calcIdealRowWidth(E,_));var U=function($){return $.rect.width*$.rect.height},z=function($,Y){return U(Y)-U($)};E.sort(function(Z,$){var Y=z;return P.idealRowWidth?(Y=D,Y(Z.id,$.id)):Y(Z,$)});for(var H=0,V=0,W=0;W<E.length;W++){var q=E[W];H+=q.getCenterX(),V+=q.getCenterY()}P.centerX=H/E.length,P.centerY=V/E.length;for(var W=0;W<E.length;W++){var q=E[W];if(P.rows.length==0)this.insertNodeToRow(P,q,0,O);else if(this.canAddHorizontal(P,q.rect.width,q.rect.height)){var ee=P.rows.length-1;P.idealRowWidth||(ee=this.getShortestRowIndex(P)),this.insertNodeToRow(P,q,ee,O)}else this.insertNodeToRow(P,q,P.rows.length,O);this.shiftToLastRow(P)}return P},M.prototype.insertNodeToRow=function(E,O,_,x){var L=x;if(_==E.rows.length){var D=[];E.rows.push(D),E.rowWidth.push(L),E.rowHeight.push(0)}var P=E.rowWidth[_]+O.rect.width;E.rows[_].length>0&&(P+=E.horizontalPadding),E.rowWidth[_]=P,E.width<P&&(E.width=P);var U=O.rect.height;_>0&&(U+=E.verticalPadding);var z=0;U>E.rowHeight[_]&&(z=E.rowHeight[_],E.rowHeight[_]=U,z=E.rowHeight[_]-z),E.height+=z,E.rows[_].push(O)},M.prototype.getShortestRowIndex=function(E){for(var O=-1,_=Number.MAX_VALUE,x=0;x<E.rows.length;x++)E.rowWidth[x]<_&&(O=x,_=E.rowWidth[x]);return O},M.prototype.getLongestRowIndex=function(E){for(var O=-1,_=Number.MIN_VALUE,x=0;x<E.rows.length;x++)E.rowWidth[x]>_&&(O=x,_=E.rowWidth[x]);return O},M.prototype.canAddHorizontal=function(E,O,_){if(E.idealRowWidth){var x=E.rows.length-1,L=E.rowWidth[x];return L+O+E.horizontalPadding<=E.idealRowWidth}var D=this.getShortestRowIndex(E);if(D<0)return!0;var P=E.rowWidth[D];if(P+E.horizontalPadding+O<=E.width)return!0;var U=0;E.rowHeight[D]<_&&D>0&&(U=_+E.verticalPadding-E.rowHeight[D]);var z;E.width-P>=O+E.horizontalPadding?z=(E.height+U)/(P+O+E.horizontalPadding):z=(E.height+U)/E.width,U=_+E.verticalPadding;var H;return E.width<O?H=(E.height+U)/O:H=(E.height+U)/E.width,H<1&&(H=1/H),z<1&&(z=1/z),z<H},M.prototype.shiftToLastRow=function(E){var O=this.getLongestRowIndex(E),_=E.rowWidth.length-1,x=E.rows[O],L=x[x.length-1],D=L.width+E.horizontalPadding;if(E.width-E.rowWidth[_]>D&&O!=_){x.splice(-1,1),E.rows[_].push(L),E.rowWidth[O]=E.rowWidth[O]-D,E.rowWidth[_]=E.rowWidth[_]+D,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var P=Number.MIN_VALUE,U=0;U<x.length;U++)x[U].height>P&&(P=x[U].height);O>0&&(P+=E.verticalPadding);var z=E.rowHeight[O]+E.rowHeight[_];E.rowHeight[O]=P,E.rowHeight[_]<L.height+E.verticalPadding&&(E.rowHeight[_]=L.height+E.verticalPadding);var H=E.rowHeight[O]+E.rowHeight[_];E.height+=H-z,this.shiftToLastRow(E)}},M.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},M.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},M.prototype.reduceTrees=function(){for(var E=[],O=!0,_;O;){var x=this.graphManager.getAllNodes(),L=[];O=!1;for(var D=0;D<x.length;D++)if(_=x[D],_.getEdges().length==1&&!_.getEdges()[0].isInterGraph&&_.getChild()==null){if(g.PURE_INCREMENTAL){var P=_.getEdges()[0].getOtherEnd(_),U=new A(_.getCenterX()-P.getCenterX(),_.getCenterY()-P.getCenterY());L.push([_,_.getEdges()[0],_.getOwner(),U])}else L.push([_,_.getEdges()[0],_.getOwner()]);O=!0}if(O==!0){for(var z=[],H=0;H<L.length;H++)L[H][0].getEdges().length==1&&(z.push(L[H]),L[H][0].getOwner().remove(L[H][0]));E.push(z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},M.prototype.growTree=function(E){for(var O=E.length,_=E[O-1],x,L=0;L<_.length;L++)x=_[L],this.findPlaceforPrunedNode(x),x[2].add(x[0]),x[2].add(x[1],x[1].source,x[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},M.prototype.findPlaceforPrunedNode=function(E){var O,_,x=E[0];if(x==E[1].source?_=E[1].target:_=E[1].source,g.PURE_INCREMENTAL)x.setCenter(_.getCenterX()+E[3].getWidth(),_.getCenterY()+E[3].getHeight());else{var L=_.startX,D=_.finishX,P=_.startY,U=_.finishY,z=0,H=0,V=0,W=0,q=[z,V,H,W];if(P>0)for(var ee=L;ee<=D;ee++)q[0]+=this.grid[ee][P-1].length+this.grid[ee][P].length-1;if(D<this.grid.length-1)for(var ee=P;ee<=U;ee++)q[1]+=this.grid[D+1][ee].length+this.grid[D][ee].length-1;if(U<this.grid[0].length-1)for(var ee=L;ee<=D;ee++)q[2]+=this.grid[ee][U+1].length+this.grid[ee][U].length-1;if(L>0)for(var ee=P;ee<=U;ee++)q[3]+=this.grid[L-1][ee].length+this.grid[L][ee].length-1;for(var Z=w.MAX_VALUE,$,Y,X=0;X<q.length;X++)q[X]<Z?(Z=q[X],$=1,Y=X):q[X]==Z&&$++;if($==3&&Z==0)q[0]==0&&q[1]==0&&q[2]==0?O=1:q[0]==0&&q[1]==0&&q[3]==0?O=0:q[0]==0&&q[2]==0&&q[3]==0?O=3:q[1]==0&&q[2]==0&&q[3]==0&&(O=2);else if($==2&&Z==0){var j=Math.floor(Math.random()*2);q[0]==0&&q[1]==0?j==0?O=0:O=1:q[0]==0&&q[2]==0?j==0?O=0:O=2:q[0]==0&&q[3]==0?j==0?O=0:O=3:q[1]==0&&q[2]==0?j==0?O=1:O=2:q[1]==0&&q[3]==0?j==0?O=1:O=3:j==0?O=2:O=3}else if($==4&&Z==0){var j=Math.floor(Math.random()*4);O=j}else O=Y;O==0?x.setCenter(_.getCenterX(),_.getCenterY()-_.getHeight()/2-m.DEFAULT_EDGE_LENGTH-x.getHeight()/2):O==1?x.setCenter(_.getCenterX()+_.getWidth()/2+m.DEFAULT_EDGE_LENGTH+x.getWidth()/2,_.getCenterY()):O==2?x.setCenter(_.getCenterX(),_.getCenterY()+_.getHeight()/2+m.DEFAULT_EDGE_LENGTH+x.getHeight()/2):x.setCenter(_.getCenterX()-_.getWidth()/2-m.DEFAULT_EDGE_LENGTH-x.getWidth()/2,_.getCenterY())}},o.exports=M},991:(o,l,c)=>{var u=c(551).FDLayoutNode,h=c(551).IMath;function d(p,g,v,m){u.call(this,p,g,v,m)}d.prototype=Object.create(u.prototype);for(var f in u)d[f]=u[f];d.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(p,g){for(var v=this.getChild().getNodes(),m,y=0;y<v.length;y++)m=v[y],m.getChild()==null?(m.displacementX+=p,m.displacementY+=g):m.propogateDisplacementToChildren(p,g)},d.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(p){this.pred1=p},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(p){this.next=p},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(p){this.processed=p},d.prototype.isProcessed=function(){return processed},o.exports=d},902:(o,l,c)=>{function u(v){if(Array.isArray(v)){for(var m=0,y=Array(v.length);m<v.length;m++)y[m]=v[m];return y}else return Array.from(v)}var h=c(806),d=c(551).LinkedList,f=c(551).Matrix,p=c(551).SVD;function g(){}g.handleConstraints=function(v){var m={};m.fixedNodeConstraint=v.constraints.fixedNodeConstraint,m.alignmentConstraint=v.constraints.alignmentConstraint,m.relativePlacementConstraint=v.constraints.relativePlacementConstraint;for(var y=new Map,T=new Map,b=[],A=[],R=v.getAllNodes(),w=0,S=0;S<R.length;S++){var N=R[S];N.getChild()==null&&(T.set(N.id,w++),b.push(N.getCenterX()),A.push(N.getCenterY()),y.set(N.id,N))}m.relativePlacementConstraint&&m.relativePlacementConstraint.forEach(function(Q){!Q.gap&&Q.gap!=0&&(Q.left?Q.gap=h.DEFAULT_EDGE_LENGTH+y.get(Q.left).getWidth()/2+y.get(Q.right).getWidth()/2:Q.gap=h.DEFAULT_EDGE_LENGTH+y.get(Q.top).getHeight()/2+y.get(Q.bottom).getHeight()/2)});var I=function(te,se){return{x:te.x-se.x,y:te.y-se.y}},C=function(te){var se=0,ue=0;return te.forEach(function(le){se+=b[T.get(le)],ue+=A[T.get(le)]}),{x:se/te.size,y:ue/te.size}},M=function(te,se,ue,le,Ee){function Qe(me,pe){var Fe=new Set(me),fe=!0,he=!1,wt=void 0;try{for(var Re=pe[Symbol.iterator](),we;!(fe=(we=Re.next()).done);fe=!0){var At=we.value;Fe.add(At)}}catch(ht){he=!0,wt=ht}finally{try{!fe&&Re.return&&Re.return()}finally{if(he)throw wt}}return Fe}var Ie=new Map;te.forEach(function(me,pe){Ie.set(pe,0)}),te.forEach(function(me,pe){me.forEach(function(Fe){Ie.set(Fe.id,Ie.get(Fe.id)+1)})});var ce=new Map,ae=new Map,Ne=new d;Ie.forEach(function(me,pe){me==0?(Ne.push(pe),ue||(se=="horizontal"?ce.set(pe,T.has(pe)?b[T.get(pe)]:le.get(pe)):ce.set(pe,T.has(pe)?A[T.get(pe)]:le.get(pe)))):ce.set(pe,Number.NEGATIVE_INFINITY),ue&&ae.set(pe,new Set([pe]))}),ue&&Ee.forEach(function(me){var pe=[];if(me.forEach(function(he){ue.has(he)&&pe.push(he)}),pe.length>0){var Fe=0;pe.forEach(function(he){se=="horizontal"?(ce.set(he,T.has(he)?b[T.get(he)]:le.get(he)),Fe+=ce.get(he)):(ce.set(he,T.has(he)?A[T.get(he)]:le.get(he)),Fe+=ce.get(he))}),Fe=Fe/pe.length,me.forEach(function(he){ue.has(he)||ce.set(he,Fe)})}else{var fe=0;me.forEach(function(he){se=="horizontal"?fe+=T.has(he)?b[T.get(he)]:le.get(he):fe+=T.has(he)?A[T.get(he)]:le.get(he)}),fe=fe/me.length,me.forEach(function(he){ce.set(he,fe)})}});for(var je=function(){var pe=Ne.shift(),Fe=te.get(pe);Fe.forEach(function(fe){if(ce.get(fe.id)<ce.get(pe)+fe.gap)if(ue&&ue.has(fe.id)){var he=void 0;if(se=="horizontal"?he=T.has(fe.id)?b[T.get(fe.id)]:le.get(fe.id):he=T.has(fe.id)?A[T.get(fe.id)]:le.get(fe.id),ce.set(fe.id,he),he<ce.get(pe)+fe.gap){var wt=ce.get(pe)+fe.gap-he;ae.get(pe).forEach(function(Re){ce.set(Re,ce.get(Re)-wt)})}}else ce.set(fe.id,ce.get(pe)+fe.gap);Ie.set(fe.id,Ie.get(fe.id)-1),Ie.get(fe.id)==0&&Ne.push(fe.id),ue&&ae.set(fe.id,Qe(ae.get(pe),ae.get(fe.id)))})};Ne.length!=0;)je();if(ue){var ke=new Set;te.forEach(function(me,pe){me.length==0&&ke.add(pe)});var Ce=[];ae.forEach(function(me,pe){if(ke.has(pe)){var Fe=!1,fe=!0,he=!1,wt=void 0;try{for(var Re=me[Symbol.iterator](),we;!(fe=(we=Re.next()).done);fe=!0){var At=we.value;ue.has(At)&&(Fe=!0)}}catch(Je){he=!0,wt=Je}finally{try{!fe&&Re.return&&Re.return()}finally{if(he)throw wt}}if(!Fe){var ht=!1,qt=void 0;Ce.forEach(function(Je,xr){Je.has([].concat(u(me))[0])&&(ht=!0,qt=xr)}),ht?me.forEach(function(Je){Ce[qt].add(Je)}):Ce.push(new Set(me))}}}),Ce.forEach(function(me,pe){var Fe=Number.POSITIVE_INFINITY,fe=Number.POSITIVE_INFINITY,he=Number.NEGATIVE_INFINITY,wt=Number.NEGATIVE_INFINITY,Re=!0,we=!1,At=void 0;try{for(var ht=me[Symbol.iterator](),qt;!(Re=(qt=ht.next()).done);Re=!0){var Je=qt.value,xr=void 0;se=="horizontal"?xr=T.has(Je)?b[T.get(Je)]:le.get(Je):xr=T.has(Je)?A[T.get(Je)]:le.get(Je);var Vt=ce.get(Je);xr<Fe&&(Fe=xr),xr>he&&(he=xr),Vt<fe&&(fe=Vt),Vt>wt&&(wt=Vt)}}catch(J){we=!0,At=J}finally{try{!Re&&ht.return&&ht.return()}finally{if(we)throw At}}var Os=(Fe+he)/2-(fe+wt)/2,Tn=!0,Dn=!1,Fn=void 0;try{for(var Un=me[Symbol.iterator](),oe;!(Tn=(oe=Un.next()).done);Tn=!0){var F=oe.value;ce.set(F,ce.get(F)+Os)}}catch(J){Dn=!0,Fn=J}finally{try{!Tn&&Un.return&&Un.return()}finally{if(Dn)throw Fn}}})}return ce},k=function(te){var se=0,ue=0,le=0,Ee=0;if(te.forEach(function(ae){ae.left?b[T.get(ae.left)]-b[T.get(ae.right)]>=0?se++:ue++:A[T.get(ae.top)]-A[T.get(ae.bottom)]>=0?le++:Ee++}),se>ue&&le>Ee)for(var Qe=0;Qe<T.size;Qe++)b[Qe]=-1*b[Qe],A[Qe]=-1*A[Qe];else if(se>ue)for(var Ie=0;Ie<T.size;Ie++)b[Ie]=-1*b[Ie];else if(le>Ee)for(var ce=0;ce<T.size;ce++)A[ce]=-1*A[ce]},E=function(te){var se=[],ue=new d,le=new Set,Ee=0;return te.forEach(function(Qe,Ie){if(!le.has(Ie)){se[Ee]=[];var ce=Ie;for(ue.push(ce),le.add(ce),se[Ee].push(ce);ue.length!=0;){ce=ue.shift();var ae=te.get(ce);ae.forEach(function(Ne){le.has(Ne.id)||(ue.push(Ne.id),le.add(Ne.id),se[Ee].push(Ne.id))})}Ee++}}),se},O=function(te){var se=new Map;return te.forEach(function(ue,le){se.set(le,[])}),te.forEach(function(ue,le){ue.forEach(function(Ee){se.get(le).push(Ee),se.get(Ee.id).push({id:le,gap:Ee.gap,direction:Ee.direction})})}),se},_=function(te){var se=new Map;return te.forEach(function(ue,le){se.set(le,[])}),te.forEach(function(ue,le){ue.forEach(function(Ee){se.get(Ee.id).push({id:le,gap:Ee.gap,direction:Ee.direction})})}),se},x=[],L=[],D=!1,P=!1,U=new Set,z=new Map,H=new Map,V=[];if(m.fixedNodeConstraint&&m.fixedNodeConstraint.forEach(function(Q){U.add(Q.nodeId)}),m.relativePlacementConstraint&&(m.relativePlacementConstraint.forEach(function(Q){Q.left?(z.has(Q.left)?z.get(Q.left).push({id:Q.right,gap:Q.gap,direction:"horizontal"}):z.set(Q.left,[{id:Q.right,gap:Q.gap,direction:"horizontal"}]),z.has(Q.right)||z.set(Q.right,[])):(z.has(Q.top)?z.get(Q.top).push({id:Q.bottom,gap:Q.gap,direction:"vertical"}):z.set(Q.top,[{id:Q.bottom,gap:Q.gap,direction:"vertical"}]),z.has(Q.bottom)||z.set(Q.bottom,[]))}),H=O(z),V=E(H)),h.TRANSFORM_ON_CONSTRAINT_HANDLING){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>1)m.fixedNodeConstraint.forEach(function(Q,te){x[te]=[Q.position.x,Q.position.y],L[te]=[b[T.get(Q.nodeId)],A[T.get(Q.nodeId)]]}),D=!0;else if(m.alignmentConstraint)(function(){var Q=0;if(m.alignmentConstraint.vertical){for(var te=m.alignmentConstraint.vertical,se=function(ce){var ae=new Set;te[ce].forEach(function(ke){ae.add(ke)});var Ne=new Set([].concat(u(ae)).filter(function(ke){return U.has(ke)})),je=void 0;Ne.size>0?je=b[T.get(Ne.values().next().value)]:je=C(ae).x,te[ce].forEach(function(ke){x[Q]=[je,A[T.get(ke)]],L[Q]=[b[T.get(ke)],A[T.get(ke)]],Q++})},ue=0;ue<te.length;ue++)se(ue);D=!0}if(m.alignmentConstraint.horizontal){for(var le=m.alignmentConstraint.horizontal,Ee=function(ce){var ae=new Set;le[ce].forEach(function(ke){ae.add(ke)});var Ne=new Set([].concat(u(ae)).filter(function(ke){return U.has(ke)})),je=void 0;Ne.size>0?je=b[T.get(Ne.values().next().value)]:je=C(ae).y,le[ce].forEach(function(ke){x[Q]=[b[T.get(ke)],je],L[Q]=[b[T.get(ke)],A[T.get(ke)]],Q++})},Qe=0;Qe<le.length;Qe++)Ee(Qe);D=!0}m.relativePlacementConstraint&&(P=!0)})();else if(m.relativePlacementConstraint){for(var W=0,q=0,ee=0;ee<V.length;ee++)V[ee].length>W&&(W=V[ee].length,q=ee);if(W<H.size/2)k(m.relativePlacementConstraint),D=!1,P=!1;else{var Z=new Map,$=new Map,Y=[];V[q].forEach(function(Q){z.get(Q).forEach(function(te){te.direction=="horizontal"?(Z.has(Q)?Z.get(Q).push(te):Z.set(Q,[te]),Z.has(te.id)||Z.set(te.id,[]),Y.push({left:Q,right:te.id})):($.has(Q)?$.get(Q).push(te):$.set(Q,[te]),$.has(te.id)||$.set(te.id,[]),Y.push({top:Q,bottom:te.id}))})}),k(Y),P=!1;var X=M(Z,"horizontal"),j=M($,"vertical");V[q].forEach(function(Q,te){L[te]=[b[T.get(Q)],A[T.get(Q)]],x[te]=[],X.has(Q)?x[te][0]=X.get(Q):x[te][0]=b[T.get(Q)],j.has(Q)?x[te][1]=j.get(Q):x[te][1]=A[T.get(Q)]}),D=!0}}if(D){for(var ne=void 0,K=f.transpose(x),Ge=f.transpose(L),Ae=0;Ae<K.length;Ae++)K[Ae]=f.multGamma(K[Ae]),Ge[Ae]=f.multGamma(Ge[Ae]);var Dt=f.multMat(K,f.transpose(Ge)),Et=p.svd(Dt);ne=f.multMat(Et.V,f.transpose(Et.U));for(var Oe=0;Oe<T.size;Oe++){var Wt=[b[Oe],A[Oe]],Yt=[ne[0][0],ne[1][0]],Oi=[ne[0][1],ne[1][1]];b[Oe]=f.dotProduct(Wt,Yt),A[Oe]=f.dotProduct(Wt,Oi)}P&&k(m.relativePlacementConstraint)}}if(h.ENFORCE_CONSTRAINTS){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>0){var bt={x:0,y:0};m.fixedNodeConstraint.forEach(function(Q,te){var se={x:b[T.get(Q.nodeId)],y:A[T.get(Q.nodeId)]},ue=Q.position,le=I(ue,se);bt.x+=le.x,bt.y+=le.y}),bt.x/=m.fixedNodeConstraint.length,bt.y/=m.fixedNodeConstraint.length,b.forEach(function(Q,te){b[te]+=bt.x}),A.forEach(function(Q,te){A[te]+=bt.y}),m.fixedNodeConstraint.forEach(function(Q){b[T.get(Q.nodeId)]=Q.position.x,A[T.get(Q.nodeId)]=Q.position.y})}if(m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var Wr=m.alignmentConstraint.vertical,ft=function(te){var se=new Set;Wr[te].forEach(function(Ee){se.add(Ee)});var ue=new Set([].concat(u(se)).filter(function(Ee){return U.has(Ee)})),le=void 0;ue.size>0?le=b[T.get(ue.values().next().value)]:le=C(se).x,se.forEach(function(Ee){U.has(Ee)||(b[T.get(Ee)]=le)})},Xt=0;Xt<Wr.length;Xt++)ft(Xt);if(m.alignmentConstraint.horizontal)for(var Pn=m.alignmentConstraint.horizontal,ii=function(te){var se=new Set;Pn[te].forEach(function(Ee){se.add(Ee)});var ue=new Set([].concat(u(se)).filter(function(Ee){return U.has(Ee)})),le=void 0;ue.size>0?le=A[T.get(ue.values().next().value)]:le=C(se).y,se.forEach(function(Ee){U.has(Ee)||(A[T.get(Ee)]=le)})},nr=0;nr<Pn.length;nr++)ii(nr)}m.relativePlacementConstraint&&function(){var Q=new Map,te=new Map,se=new Map,ue=new Map,le=new Map,Ee=new Map,Qe=new Set,Ie=new Set;if(U.forEach(function(pt){Qe.add(pt),Ie.add(pt)}),m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var ce=m.alignmentConstraint.vertical,ae=function(Se){se.set("dummy"+Se,[]),ce[Se].forEach(function(Ye){Q.set(Ye,"dummy"+Se),se.get("dummy"+Se).push(Ye),U.has(Ye)&&Qe.add("dummy"+Se)}),le.set("dummy"+Se,b[T.get(ce[Se][0])])},Ne=0;Ne<ce.length;Ne++)ae(Ne);if(m.alignmentConstraint.horizontal)for(var je=m.alignmentConstraint.horizontal,ke=function(Se){ue.set("dummy"+Se,[]),je[Se].forEach(function(Ye){te.set(Ye,"dummy"+Se),ue.get("dummy"+Se).push(Ye),U.has(Ye)&&Ie.add("dummy"+Se)}),Ee.set("dummy"+Se,A[T.get(je[Se][0])])},Ce=0;Ce<je.length;Ce++)ke(Ce)}var me=new Map,pe=new Map,Fe=function(Se){z.get(Se).forEach(function(Ye){var ai=void 0,Yr=void 0;Ye.direction=="horizontal"?(ai=Q.get(Se)?Q.get(Se):Se,Q.get(Ye.id)?Yr={id:Q.get(Ye.id),gap:Ye.gap,direction:Ye.direction}:Yr=Ye,me.has(ai)?me.get(ai).push(Yr):me.set(ai,[Yr]),me.has(Yr.id)||me.set(Yr.id,[])):(ai=te.get(Se)?te.get(Se):Se,te.get(Ye.id)?Yr={id:te.get(Ye.id),gap:Ye.gap,direction:Ye.direction}:Yr=Ye,pe.has(ai)?pe.get(ai).push(Yr):pe.set(ai,[Yr]),pe.has(Yr.id)||pe.set(Yr.id,[]))})},fe=!0,he=!1,wt=void 0;try{for(var Re=z.keys()[Symbol.iterator](),we;!(fe=(we=Re.next()).done);fe=!0){var At=we.value;Fe(At)}}catch(pt){he=!0,wt=pt}finally{try{!fe&&Re.return&&Re.return()}finally{if(he)throw wt}}var ht=O(me),qt=O(pe),Je=E(ht),xr=E(qt),Vt=_(me),Os=_(pe),Tn=[],Dn=[];Je.forEach(function(pt,Se){Tn[Se]=[],pt.forEach(function(Ye){Vt.get(Ye).length==0&&Tn[Se].push(Ye)})}),xr.forEach(function(pt,Se){Dn[Se]=[],pt.forEach(function(Ye){Os.get(Ye).length==0&&Dn[Se].push(Ye)})});var Fn=M(me,"horizontal",Qe,le,Tn),Un=M(pe,"vertical",Ie,Ee,Dn),oe=function(Se){se.get(Se)?se.get(Se).forEach(function(Ye){b[T.get(Ye)]=Fn.get(Se)}):b[T.get(Se)]=Fn.get(Se)},F=!0,J=!1,ie=void 0;try{for(var qe=Fn.keys()[Symbol.iterator](),_t;!(F=(_t=qe.next()).done);F=!0){var it=_t.value;oe(it)}}catch(pt){J=!0,ie=pt}finally{try{!F&&qe.return&&qe.return()}finally{if(J)throw ie}}var jt=function(Se){ue.get(Se)?ue.get(Se).forEach(function(Ye){A[T.get(Ye)]=Un.get(Se)}):A[T.get(Se)]=Un.get(Se)},Rr=!0,si=!1,Cs=void 0;try{for(var dt=Un.keys()[Symbol.iterator](),Ma;!(Rr=(Ma=dt.next()).done);Rr=!0){var it=Ma.value;jt(it)}}catch(pt){si=!0,Cs=pt}finally{try{!Rr&&dt.return&&dt.return()}finally{if(si)throw Cs}}}()}for(var Sr=0;Sr<R.length;Sr++){var dr=R[Sr];dr.getChild()==null&&dr.setCenter(b[T.get(dr.id)],A[T.get(dr.id)])}},o.exports=g},551:o=>{o.exports=r}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var c=i[o]={exports:{}};return n[o](c,c.exports,s),c.exports}var a=s(45);return a})()})}(vu)),vu.exports}export{YC as $,Bw as A,bl as B,Gw as C,$C as D,$w as E,zC as F,Zs as G,pl as H,n3 as I,Jb as J,ra as K,Ww as L,uC as M,hC as N,Rt as O,Pt as P,BC as Q,IC as R,Jp as S,kv as T,Qi as U,V$ as V,WC as W,q$ as X,De as Y,Il as Z,Ze as _,Zn as a,XL as a$,gC as a0,es as a1,bv as a2,Ei as a3,wv as a4,Hb as a5,fL as a6,$N as a7,Gb as a8,_u as a9,ML as aA,fc as aB,Z$ as aC,aw as aD,Gt as aE,fw as aF,XO as aG,el as aH,WN as aI,Nv as aJ,FN as aK,$$ as aL,yL as aM,NM as aN,Q$ as aO,FM as aP,Ml as aQ,Rv as aR,yi as aS,ZN as aT,kN as aU,Ow as aV,Ru as aW,Lv as aX,kr as aY,xs as aZ,hw as a_,GN as aa,YN as ab,jN as ac,mi as ad,vO as ae,j$ as af,Cv as ag,dl as ah,Cl as ai,D$ as aj,xO as ak,OL as al,CO as am,OO as an,Av as ao,Tl as ap,$b as aq,K$ as ar,ts as as,rs as at,W$ as au,gO as av,Vb as aw,Kb as ax,gs as ay,PL as az,Jo as b,H3 as b$,YL as b0,Yb as b1,qb as b2,Xc as b3,Ss as b4,Xb as b5,_v as b6,JN as b7,QN as b8,Lu as b9,pI as bA,l3 as bB,o3 as bC,a3 as bD,h3 as bE,p3 as bF,v3 as bG,g3 as bH,f3 as bI,d3 as bJ,m3 as bK,Ve as bL,y3 as bM,T3 as bN,Gm as bO,g$ as bP,p$ as bQ,s3 as bR,CD as bS,H5 as bT,$5 as bU,G3 as bV,VG as bW,$E as bX,YG as bY,WG as bZ,$3 as b_,Jt as ba,ls as bb,bL as bc,$0 as bd,Us as be,VO as bf,Gp as bg,yl as bh,qc as bi,Su as bj,vL as bk,nn as bl,G$ as bm,BN as bn,sg as bo,hA as bp,J$ as bq,e3 as br,Uw as bs,z$ as bt,H$ as bu,U$ as bv,F$ as bw,B$ as bx,c3 as by,u3 as bz,HN as c,C$ as c$,El as c0,$a as c1,ps as c2,Uh as c3,Yc as c4,jn as c5,KN as c6,K0 as c7,kh as c8,zN as c9,d$ as cA,u$ as cB,cp as cC,E$ as cD,w$ as cE,jm as cF,Sh as cG,mb as cH,Zo as cI,LR as cJ,co as cK,yb as cL,OR as cM,b$ as cN,A$ as cO,_$ as cP,ip as cQ,S$ as cR,x$ as cS,R$ as cT,u0 as cU,N$ as cV,hv as cW,I$ as cX,O$ as cY,L$ as cZ,wp as c_,Dp as ca,Ev as cb,k$ as cc,fs as cd,va as ce,r3 as cf,t3 as cg,R0 as ch,c$ as ci,tr as cj,h$ as ck,Tx as cl,Ex as cm,Eh as cn,bh as co,fi as cp,Im as cq,Ue as cr,f$ as cs,qs as ct,v$ as cu,Xl as cv,m$ as cw,y$ as cx,T$ as cy,Qd as cz,Cp as d,M$ as d0,P$ as d1,x0 as d2,Tt as d3,VN as e,yr as f,Cn as g,ma as h,gn as i,ot as j,DN as k,Xe as l,yt as m,Sa as n,dw as o,pn as p,tt as q,Ll as r,ut as s,X$ as t,Y$ as u,_C as v,$r as w,Qb as x,na as y,Pv as z};

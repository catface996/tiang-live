import{ag as u,ah as a}from"./vendor-ClJIwLAB.js";var f=new u(50);function _(t){if(typeof t=="string"){var n=f.get(t);return n&&n.image}else return t}function p(t,n,o,s,l){if(t)if(typeof t=="string"){if(n&&n.__zrImageSrc===t||!o)return n;var r=f.get(t),i={hostEl:o,cb:s,cbPayload:l};return r?(n=r.image,!e(n)&&r.pending.push(i)):(n=a.loadImage(t,h,h),n.__zrImageSrc=t,f.put(t,n.__cachedImgObj={image:n,pending:[i]})),n}else return t;else return n}function h(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<t.pending.length;n++){var o=t.pending[n],s=o.cb;s&&s(this,o.cbPayload),o.hostEl.dirty()}t.pending.length=0}function e(t){return t&&t.width&&t.height}export{p as c,_ as f,e as i};

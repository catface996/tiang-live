var WS=Object.defineProperty;var YS=(e,t,r)=>t in e?WS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var bt=(e,t,r)=>YS(e,typeof t!="symbol"?t+"":t,r);import{g as sv}from"./cytoscape-Le_BSg_G.js";import{g as XS,a as Rm}from"./media-DReEfpSm.js";import{G as Dr,H as mn,a as dt,m as rt,I as Fr,J as ei,K as jE,L as fr,M as cn,N as Ue,O as av,e as Kr,q as la,v as Me,p as Zr,l as gt,b as ri,P as Nl,Q as mh,D as ov,i as _s,R as Nm,r as or,d as Kt,k as ll,f as Hr,S as yh,T as dn,E as Be,U as Lm,V as Ce,w as ca,W as cl,X as Ir,Y as qS,Z as VS,j as jS,_ as KS}from"./lodash-BORto0-T.js";var df={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function ZS(){return Om||(Om=1,function(e){function t(_,x){var L=_.length;_.push(x);t:for(;0<L;){var D=L-1>>>1,P=_[D];if(0<i(P,x))_[D]=x,_[L]=P,L=D;else break t}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var x=_[0],L=_.pop();if(L!==x){_[0]=L;t:for(var D=0,P=_.length,U=P>>>1;D<U;){var z=2*(D+1)-1,H=_[z],V=z+1,W=_[V];if(0>i(H,L))V<P&&0>i(W,H)?(_[D]=W,_[V]=L,D=V):(_[D]=H,_[z]=L,D=z);else if(V<P&&0>i(W,L))_[D]=W,_[V]=L,D=V;else break t}}return x}function i(_,x){var L=_.sortIndex-x.sortIndex;return L!==0?L:_.id-x.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function b(_){for(var x=r(c);x!==null;){if(x.callback===null)n(c);else if(x.startTime<=_)n(c),x.sortIndex=x.expirationTime,t(l,x);else break;x=r(c)}}function A(_){if(g=!1,b(_),!p)if(r(l)!==null)p=!0,R||(R=!0,M());else{var x=r(c);x!==null&&O(A,x.startTime-_)}}var R=!1,w=-1,S=5,N=-1;function I(){return v?!0:!(e.unstable_now()-N<S)}function C(){if(v=!1,R){var _=e.unstable_now();N=_;var x=!0;try{t:{p=!1,g&&(g=!1,y(w),w=-1),f=!0;var L=d;try{e:{for(b(_),h=r(l);h!==null&&!(h.expirationTime>_&&I());){var D=h.callback;if(typeof D=="function"){h.callback=null,d=h.priorityLevel;var P=D(h.expirationTime<=_);if(_=e.unstable_now(),typeof P=="function"){h.callback=P,b(_),x=!0;break e}h===r(l)&&n(l),b(_)}else n(l);h=r(l)}if(h!==null)x=!0;else{var U=r(c);U!==null&&O(A,U.startTime-_),x=!1}}break t}finally{h=null,d=L,f=!1}x=void 0}}finally{x?M():R=!1}}}var M;if(typeof T=="function")M=function(){T(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,E=k.port2;k.port1.onmessage=C,M=function(){E.postMessage(null)}}else M=function(){m(C,0)};function O(_,x){w=m(function(){_(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var L=d;d=x;try{return _()}finally{d=L}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(_,x){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=d;d=_;try{return x()}finally{d=L}},e.unstable_scheduleCallback=function(_,x,L){var D=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?D+L:D):L=D,_){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,_={id:u++,callback:x,priorityLevel:_,startTime:L,expirationTime:P,sortIndex:-1},L>D?(_.sortIndex=L,t(c,_),r(l)===null&&_===r(c)&&(g?(y(w),w=-1):g=!0,O(A,L-D))):(_.sortIndex=P,t(l,_),p||f||(p=!0,R||(R=!0,M()))),_},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(_){var x=d;return function(){var L=d;d=x;try{return _.apply(this,arguments)}finally{d=L}}}}(pf)),pf}var Cm;function u$(){return Cm||(Cm=1,df.exports=ZS()),df.exports}var ka={},Mm;function QS(){if(Mm)return ka;Mm=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.parse=a,ka.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function a(d,f){const p=new s,g=d.length;if(g<2)return p;const v=(f==null?void 0:f.decode)||u;let m=0;do{const y=d.indexOf("=",m);if(y===-1)break;const T=d.indexOf(";",m),b=T===-1?g:T;if(y>b){m=d.lastIndexOf(";",y-1)+1;continue}const A=o(d,m,y),R=l(d,y,A),w=d.slice(A,R);if(p[w]===void 0){let S=o(d,y+1,b),N=l(d,b,S);const I=v(d.slice(S,N));p[w]=I}m=b+1}while(m<g);return p}function o(d,f,p){do{const g=d.charCodeAt(f);if(g!==32&&g!==9)return f}while(++f<p);return p}function l(d,f,p){for(;f>p;){const g=d.charCodeAt(--f);if(g!==32&&g!==9)return f+1}return p}function c(d,f,p){const g=(p==null?void 0:p.encode)||encodeURIComponent;if(!e.test(d))throw new TypeError(`argument name is invalid: ${d}`);const v=g(f);if(!t.test(v))throw new TypeError(`argument val is invalid: ${f}`);let m=d+"="+v;if(!p)return m;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);m+="; Max-Age="+p.maxAge}if(p.domain){if(!r.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);m+="; Domain="+p.domain}if(p.path){if(!n.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);m+="; Path="+p.path}if(p.expires){if(!h(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);m+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(m+="; HttpOnly"),p.secure&&(m+="; Secure"),p.partitioned&&(m+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":m+="; Priority=Low";break;case"medium":m+="; Priority=Medium";break;case"high":m+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return m}function u(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function h(d){return i.call(d)==="[object Date]"}return ka}QS();var gf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Im;function JS(){return Im||(Im=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)t.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(gf)),gf.exports}var tx=JS();const h$=sv(tx);function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(null,arguments)}function er(e){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(e)}function ex(e,t){if(er(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(er(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KE(e){var t=ex(e,"string");return er(t)=="symbol"?t:t+""}function Ut(e,t,r){return(t=KE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(r),!0).forEach(function(n){Ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ZE=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];r.call(n,a[1],a[0])}},t}()}(),Qd=typeof window<"u"&&typeof document<"u"&&window.document===document,yu=function(){return typeof globalThis<"u"&&globalThis.Math===Math?globalThis:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),rx=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(yu):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),nx=2;function ix(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&o()}function a(){rx(s)}function o(){var l=Date.now();if(r){if(l-i<nx)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=l}return o}var sx=20,ax=["top","right","bottom","left","width","height","size","weight"],ox=typeof MutationObserver<"u",lx=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ix(this.refresh.bind(this),sx)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!Qd||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ox?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Qd||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=ax.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),QE=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},ua=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||yu},JE=Th(0,0,0,0);function Tu(e){return parseFloat(e)||0}function Dm(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var s=e["border-"+i+"-width"];return n+Tu(s)},0)}function cx(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var s=i[n],a=e["padding-"+s];r[s]=Tu(a)}return r}function ux(e){var t=e.getBBox();return Th(0,0,t.width,t.height)}function hx(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return JE;var n=ua(e).getComputedStyle(e),i=cx(n),s=i.left+i.right,a=i.top+i.bottom,o=Tu(n.width),l=Tu(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+s)!==t&&(o-=Dm(n,"left","right")+s),Math.round(l+a)!==r&&(l-=Dm(n,"top","bottom")+a)),!dx(e)){var c=Math.round(o+s)-t,u=Math.round(l+a)-r;Math.abs(c)!==1&&(o-=c),Math.abs(u)!==1&&(l-=u)}return Th(i.left,i.top,o,l)}var fx=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ua(e).SVGGraphicsElement}:function(e){return e instanceof ua(e).SVGElement&&typeof e.getBBox=="function"}}();function dx(e){return e===ua(e).document.documentElement}function px(e){return Qd?fx(e)?ux(e):hx(e):JE}function gx(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return QE(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function Th(e,t,r,n){return{x:e,y:t,width:r,height:n}}var vx=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Th(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=px(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),mx=function(){function e(t,r){var n=gx(r);QE(this,{target:t,contentRect:n})}return e}(),yx=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new ZE,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ua(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new vx(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ua(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new mx(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),tb=typeof WeakMap<"u"?new WeakMap:new ZE,eb=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=lx.getInstance(),n=new yx(t,r,this);tb.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){eb.prototype[e]=function(){var t;return(t=tb.get(this))[e].apply(t,arguments)}});var f$=function(){return typeof yu.ResizeObserver<"u"?yu.ResizeObserver:eb}();function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KE(n.key),n)}}function bh(e,t,r){return t&&Fm(e.prototype,t),r&&Fm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ul(e,t){return ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ul(e,t)}function Tx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ul(e,t)}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(e)}function wh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wh=function(){return!!e})()}function Jd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rb(e,t){if(t&&(er(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jd(e)}function Ex(e){var t=wh();return function(){var r,n=hs(e);if(t){var i=hs(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return rb(this,r)}}function tp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bx(e){if(Array.isArray(e))return tp(e)}function nb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lv(e,t){if(e){if(typeof e=="string")return tp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tp(e,t):void 0}}function Ax(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qs(e){return bx(e)||nb(e)||lv(e)||Ax()}function ib(e){if(Array.isArray(e))return e}function _x(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function sb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$(e,t){return ib(e)||_x(e,t)||lv(e,t)||sb()}function Sx(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p$(e,t){if(e==null)return{};var r,n,i=Sx(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ab="comm",ob="rule",lb="decl",xx="@import",Rx="@namespace",Nx="@keyframes",Lx="@layer",cb=Math.abs,cv=String.fromCharCode;function ub(e){return e.trim()}function Gc(e,t,r){return e.replace(t,r)}function Ox(e,t,r){return e.indexOf(t,r)}function ta(e,t){return e.charCodeAt(t)|0}function ha(e,t,r){return e.slice(t,r)}function Rn(e){return e.length}function Cx(e){return e.length}function Yl(e,t){return t.push(e),e}var Ah=1,fa=1,hb=0,Qr=0,ve=0,Aa="";function uv(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Ah,column:fa,length:a,return:"",siblings:o}}function Mx(){return ve}function Ix(){return ve=Qr>0?ta(Aa,--Qr):0,fa--,ve===10&&(fa=1,Ah--),ve}function un(){return ve=Qr<hb?ta(Aa,Qr++):0,fa++,ve===10&&(fa=1,Ah++),ve}function di(){return ta(Aa,Qr)}function $c(){return Qr}function _h(e,t){return ha(Aa,e,t)}function hl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kx(e){return Ah=fa=1,hb=Rn(Aa=e),Qr=0,[]}function Px(e){return Aa="",e}function vf(e){return ub(_h(Qr-1,ep(e===91?e+2:e===40?e+1:e)))}function Dx(e){for(;(ve=di())&&ve<33;)un();return hl(e)>2||hl(ve)>3?"":" "}function Fx(e,t){for(;--t&&un()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return _h(e,$c()+(t<6&&di()==32&&un()==32))}function ep(e){for(;un();)switch(ve){case e:return Qr;case 34:case 39:e!==34&&e!==39&&ep(ve);break;case 40:e===41&&ep(e);break;case 92:un();break}return Qr}function Ux(e,t){for(;un()&&e+ve!==57;)if(e+ve===84&&di()===47)break;return"/*"+_h(t,Qr-1)+"*"+cv(e===47?e:un())}function Gx(e){for(;!hl(di());)un();return _h(e,Qr)}function g$(e){return Px(Hc("",null,null,null,[""],e=kx(e),0,[0],e))}function Hc(e,t,r,n,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,g=1,v=1,m=1,y=0,T="",b=i,A=s,R=n,w=T;v;)switch(p=y,y=un()){case 40:if(p!=108&&ta(w,h-1)==58){Ox(w+=Gc(vf(y),"&","&\f"),"&\f",cb(c?o[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:w+=vf(y);break;case 9:case 10:case 13:case 32:w+=Dx(p);break;case 92:w+=Fx($c()-1,7);continue;case 47:switch(di()){case 42:case 47:Yl($x(Ux(un(),$c()),t,r,l),l),(hl(p||1)==5||hl(di()||1)==5)&&Rn(w)&&ha(w,-1,void 0)!==" "&&(w+=" ");break;default:w+="/"}break;case 123*g:o[c++]=Rn(w)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:m==-1&&(w=Gc(w,/\f/g,"")),f>0&&(Rn(w)-h||g===0&&p===47)&&Yl(f>32?Gm(w+";",n,r,h-1,l):Gm(Gc(w," ","")+";",n,r,h-2,l),l);break;case 59:w+=";";default:if(Yl(R=Um(w,t,r,c,u,i,o,T,b=[],A=[],h,s),s),y===123)if(u===0)Hc(w,t,R,R,b,s,h,o,A);else{switch(d){case 99:if(ta(w,3)===110)break;case 108:if(ta(w,2)===97)break;default:u=0;case 100:case 109:case 115:}u?Hc(e,R,R,n&&Yl(Um(e,R,R,0,0,i,o,T,i,b=[],h,A),A),i,A,h,o,n?b:A):Hc(w,R,R,R,[""],A,0,o,A)}}c=u=f=0,g=m=1,T=w="",h=a;break;case 58:h=1+Rn(w),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Ix()==125)continue}switch(w+=cv(y),y*g){case 38:m=u>0?1:(w+="\f",-1);break;case 44:o[c++]=(Rn(w)-1)*m,m=1;break;case 64:di()===45&&(w+=vf(un())),d=di(),u=h=Rn(T=w+=Gx($c())),y++;break;case 45:p===45&&Rn(w)==2&&(g=0)}}return s}function Um(e,t,r,n,i,s,a,o,l,c,u,h){for(var d=i-1,f=i===0?s:[""],p=Cx(f),g=0,v=0,m=0;g<n;++g)for(var y=0,T=ha(e,d+1,d=cb(v=a[g])),b=e;y<p;++y)(b=ub(v>0?f[y]+" "+T:Gc(T,/&\f/g,f[y])))&&(l[m++]=b);return uv(e,t,r,i===0?ob:o,l,c,u,h)}function $x(e,t,r,n){return uv(e,t,r,ab,cv(Mx()),ha(e,2,-2),0,n)}function Gm(e,t,r,n,i){return uv(e,t,r,lb,ha(e,0,n),ha(e,n+1,-1),n,i)}function $m(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function v$(e,t,r,n){switch(e.type){case Lx:if(e.children.length)break;case xx:case Rx:case lb:return e.return=e.return||e.value;case ab:return"";case Nx:return e.return=e.value+"{"+$m(e.children,n)+"}";case ob:if(!Rn(e.value=e.props.join(",")))return""}return Rn(r=$m(e.children,n))?e.return=e.value+"{"+r+"}":""}function m$(e){return ib(e)||nb(e)||lv(e)||sb()}const Le=Math.round;function mf(e,t){const r=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=t(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const Hm=(e,t,r)=>r===0?e:e/100;function Pa(e,t){const r=t||255;return e>r?r:e<0?0:e}let Xl=class fb{constructor(t){Ut(this,"isValid",!0),Ut(this,"r",0),Ut(this,"g",0),Ut(this,"b",0),Ut(this,"a",1),Ut(this,"_h",void 0),Ut(this,"_s",void 0),Ut(this,"_l",void 0),Ut(this,"_v",void 0),Ut(this,"_max",void 0),Ut(this,"_min",void 0),Ut(this,"_brightness",void 0);function r(n){return n[0]in t&&n[1]in t&&n[2]in t}if(t)if(typeof t=="string"){let i=function(s){return n.startsWith(s)};const n=t.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):i("rgb")?this.fromRgbString(n):i("hsl")?this.fromHslString(n):(i("hsv")||i("hsb"))&&this.fromHsvString(n)}else if(t instanceof fb)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=Pa(t.r),this.g=Pa(t.g),this.b=Pa(t.b),this.a=typeof t.a=="number"?Pa(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else if(r("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(s){const a=s/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const r=t(this.r),n=t(this.g),i=t(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Le(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(t,r=50){const n=this._c(t),i=r/100,s=o=>(n[o]-this[o])*i+this[o],a={r:Le(s("r")),g:Le(s("g")),b:Le(s("b")),a:Le(s("a")*100)/100};return this._c(a)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const r=this._c(t),n=this.a+r.a*(1-this.a),i=s=>Le((this[s]*this.a+r[s]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const r=(this.r||0).toString(16);t+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);t+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=Le(this.a*255).toString(16);t+=s.length===2?s:"0"+s}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),r=Le(this.getSaturation()*100),n=Le(this.getLightness()*100);return this.a!==1?`hsla(${t},${r}%,${n}%,${this.a})`:`hsl(${t},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,r,n){const i=this.clone();return i[t]=Pa(r,n),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const r=t.replace("#","");function n(i,s){return parseInt(r[i]+r[s||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:t,s:r,l:n,a:i}){if(this._h=t%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const d=Le(n*255);this.r=d,this.g=d,this.b=d}let s=0,a=0,o=0;const l=t/60,c=(1-Math.abs(2*n-1))*r,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(s=c,a=u):l>=1&&l<2?(s=u,a=c):l>=2&&l<3?(a=c,o=u):l>=3&&l<4?(a=u,o=c):l>=4&&l<5?(s=u,o=c):l>=5&&l<6&&(s=c,o=u);const h=n-c/2;this.r=Le((s+h)*255),this.g=Le((a+h)*255),this.b=Le((o+h)*255)}fromHsv({h:t,s:r,v:n,a:i}){this._h=t%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const s=Le(n*255);if(this.r=s,this.g=s,this.b=s,r<=0)return;const a=t/60,o=Math.floor(a),l=a-o,c=Le(n*(1-r)*255),u=Le(n*(1-r*l)*255),h=Le(n*(1-r*(1-l))*255);switch(o){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(t){const r=mf(t,Hm);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){const r=mf(t,Hm);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){const r=mf(t,(n,i)=>i.includes("%")?Le(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var ql=2,zm=.16,Hx=.05,zx=.05,Bx=.15,db=5,pb=4,Wx=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Bm(e,t,r){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-ql*t:Math.round(e.h)+ql*t:n=r?Math.round(e.h)+ql*t:Math.round(e.h)-ql*t,n<0?n+=360:n>=360&&(n-=360),n}function Wm(e,t,r){if(e.h===0&&e.s===0)return e.s;var n;return r?n=e.s-zm*t:t===pb?n=e.s+zm:n=e.s+Hx*t,n>1&&(n=1),r&&t===db&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function Ym(e,t,r){var n;return r?n=e.v+zx*t:n=e.v-Bx*t,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function y$(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=new Xl(e),i=n.toHsv(),s=db;s>0;s-=1){var a=new Xl({h:Bm(i,s,!0),s:Wm(i,s,!0),v:Ym(i,s,!0)});r.push(a)}r.push(n);for(var o=1;o<=pb;o+=1){var l=new Xl({h:Bm(i,o),s:Wm(i,o),v:Ym(i,o)});r.push(l)}return t.theme==="dark"?Wx.map(function(c){var u=c.index,h=c.amount;return new Xl(t.backgroundColor||"#141414").mix(r[u],h).toHexString()}):r.map(function(c){return c.toHexString()})}var T$={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rp=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];rp.primary=rp[5];var np=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];np.primary=np[5];var ip=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ip.primary=ip[5];var sp=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];sp.primary=sp[5];var ap=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];ap.primary=ap[5];var op=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];op.primary=op[5];var lp=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];lp.primary=lp[5];var cp=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];cp.primary=cp[5];var up=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];up.primary=up[5];var hp=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];hp.primary=hp[5];var fp=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];fp.primary=fp[5];var dp=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];dp.primary=dp[5];var pp=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];pp.primary=pp[5];var E$={red:rp,volcano:np,orange:ip,gold:sp,yellow:ap,lime:op,green:lp,cyan:cp,blue:up,geekblue:hp,purple:fp,magenta:dp,grey:pp};function b$(e,t,r){return t=hs(t),rb(e,wh()?Reflect.construct(t,r||[],hs(e).constructor):t.apply(e,r))}const Xm=e=>typeof e=="object"&&e!=null&&e.nodeType===1,qm=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Vl=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return qm(r.overflowY,t)||qm(r.overflowX,t)||(n=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(e)}return!1},jl=(e,t,r,n,i,s,a,o)=>s<e&&a>t||s>e&&a<t?0:s<=e&&o<=r||a>=t&&o>=r?s-e-n:a>t&&o<r||s<e&&o>r?a-t+i:0,Yx=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Vm=(e,t)=>{var r,n,i,s;if(typeof document>"u")return[];const{scrollMode:a,block:o,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,h=typeof c=="function"?c:_=>_!==c;if(!Xm(e))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,f=[];let p=e;for(;Xm(p)&&h(p);){if(p=Yx(p),p===d){f.push(p);break}p!=null&&p===document.body&&Vl(p)&&!Vl(document.documentElement)||p!=null&&Vl(p,u)&&f.push(p)}const g=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,v=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:m,scrollY:y}=window,{height:T,width:b,top:A,right:R,bottom:w,left:S}=e.getBoundingClientRect(),{top:N,right:I,bottom:C,left:M}=(_=>{const x=window.getComputedStyle(_);return{top:parseFloat(x.scrollMarginTop)||0,right:parseFloat(x.scrollMarginRight)||0,bottom:parseFloat(x.scrollMarginBottom)||0,left:parseFloat(x.scrollMarginLeft)||0}})(e);let k=o==="start"||o==="nearest"?A-N:o==="end"?w+C:A+T/2-N+C,E=l==="center"?S+b/2-M+I:l==="end"?R+I:S-M;const O=[];for(let _=0;_<f.length;_++){const x=f[_],{height:L,width:D,top:P,right:U,bottom:z,left:H}=x.getBoundingClientRect();if(a==="if-needed"&&A>=0&&S>=0&&w<=v&&R<=g&&(x===d&&!Vl(x)||A>=P&&w<=z&&S>=H&&R<=U))return O;const V=getComputedStyle(x),W=parseInt(V.borderLeftWidth,10),q=parseInt(V.borderTopWidth,10),tt=parseInt(V.borderRightWidth,10),Z=parseInt(V.borderBottomWidth,10);let $=0,Y=0;const X="offsetWidth"in x?x.offsetWidth-x.clientWidth-W-tt:0,j="offsetHeight"in x?x.offsetHeight-x.clientHeight-q-Z:0,nt="offsetWidth"in x?x.offsetWidth===0?0:D/x.offsetWidth:0,K="offsetHeight"in x?x.offsetHeight===0?0:L/x.offsetHeight:0;if(d===x)$=o==="start"?k:o==="end"?k-v:o==="nearest"?jl(y,y+v,v,q,Z,y+k,y+k+T,T):k-v/2,Y=l==="start"?E:l==="center"?E-g/2:l==="end"?E-g:jl(m,m+g,g,W,tt,m+E,m+E+b,b),$=Math.max(0,$+y),Y=Math.max(0,Y+m);else{$=o==="start"?k-P-q:o==="end"?k-z+Z+j:o==="nearest"?jl(P,z,L,q,Z+j,k,k+T,T):k-(P+L/2)+j/2,Y=l==="start"?E-H-W:l==="center"?E-(H+D/2)+X/2:l==="end"?E-U+tt+X:jl(H,U,D,W,tt+X,E,E+b,b);const{scrollLeft:Gt,scrollTop:At}=x;$=K===0?0:Math.max(0,Math.min(At+$/K,x.scrollHeight-L/K+j)),Y=nt===0?0:Math.max(0,Math.min(Gt+Y/nt,x.scrollWidth-D/nt+X)),k+=At-$,E+=Gt-Y}O.push({el:x,top:$,left:Y})}return O},Xx=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function w$(e,t){if(!e.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const r=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(Vm(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:s,left:a}of Vm(e,Xx(t))){const o=s-r.top+r.bottom,l=a-r.left+r.right;i.scroll({top:o,left:l,behavior:n})}}function gb(e,t){this.v=e,this.k=t}function Qe(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Qe=function(a,o,l,c){if(o)i?i(a,o,{value:l,enumerable:!c,configurable:!c,writable:!c}):a[o]=l;else{var u=function(d,f){Qe(a,d,function(p){return this._invoke(d,f,p)})};u("next",0),u("throw",1),u("return",2)}},Qe(e,t,r,n)}function hv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(f,p,g,v){var m=p&&p.prototype instanceof o?p:o,y=Object.create(m.prototype);return Qe(y,"_invoke",function(T,b,A){var R,w,S,N=0,I=A||[],C=!1,M={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(O,_){return R=O,w=0,S=e,M.n=_,a}};function k(E,O){for(w=E,S=O,t=0;!C&&N&&!_&&t<I.length;t++){var _,x=I[t],L=M.p,D=x[2];E>3?(_=D===O)&&(S=x[(w=x[4])?5:(w=3,3)],x[4]=x[5]=e):x[0]<=L&&((_=E<2&&L<x[1])?(w=0,M.v=O,M.n=x[1]):L<D&&(_=E<3||x[0]>O||O>D)&&(x[4]=E,x[5]=O,M.n=D,w=0))}if(_||E>1)return a;throw C=!0,O}return function(E,O,_){if(N>1)throw TypeError("Generator is already running");for(C&&O===1&&k(O,_),w=O,S=_;(t=w<2?e:S)||!C;){R||(w?w<3?(w>1&&(M.n=-1),k(w,S)):M.n=S:M.v=S);try{if(N=2,R){if(w||(E="next"),t=R[E]){if(!(t=t.call(R,S)))throw TypeError("iterator result is not an object");if(!t.done)return t;S=t.value,w<2&&(w=0)}else w===1&&(t=R.return)&&t.call(R),w<2&&(S=TypeError("The iterator does not provide a '"+E+"' method"),w=1);R=e}else if((t=(C=M.n<0)?S:T.call(b,M))!==a)break}catch(x){R=e,w=1,S=x}finally{N=1}}return{value:t,done:C}}}(f,g,v),!0),y}var a={};function o(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Qe(t={},n,function(){return this}),t),h=c.prototype=o.prototype=Object.create(u);function d(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,c):(f.__proto__=c,Qe(f,i,"GeneratorFunction")),f.prototype=Object.create(h),f}return l.prototype=c,Qe(h,"constructor",c),Qe(c,"constructor",l),l.displayName="GeneratorFunction",Qe(c,i,"GeneratorFunction"),Qe(h),Qe(h,i,"Generator"),Qe(h,n,function(){return this}),Qe(h,"toString",function(){return"[object Generator]"}),(hv=function(){return{w:s,m:d}})()}function Eu(e,t){function r(i,s,a,o){try{var l=e[i](s),c=l.value;return c instanceof gb?t.resolve(c.v).then(function(u){r("next",u,a,o)},function(u){r("throw",u,a,o)}):t.resolve(c).then(function(u){l.value=u,a(l)},function(u){return r("throw",u,a,o)})}catch(u){o(u)}}var n;this.next||(Qe(Eu.prototype),Qe(Eu.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Qe(this,"_invoke",function(i,s,a){function o(){return new t(function(l,c){r(i,a,l,c)})}return n=n?n.then(o,o):o()},!0)}function vb(e,t,r,n,i){return new Eu(hv().w(e,t,r,n),i||Promise)}function qx(e,t,r,n,i){var s=vb(e,t,r,n,i);return s.next().then(function(a){return a.done?a.value:s.next()})}function Vx(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function i(){for(;r.length;)if((n=r.pop())in t)return i.value=n,i.done=!1,i;return i.done=!0,i}}function jm(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(er(e)+" is not iterable")}function Km(){var e=hv(),t=e.m(Km),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function n(a){var o=typeof a=="function"&&a.constructor;return!!o&&(o===r||(o.displayName||o.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function s(a){var o,l;return function(c){o||(o={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(h,d){return l(c.a,i[h],d)},delegateYield:function(h,d,f){return o.resultName=d,l(c.d,jm(h),f)},finish:function(h){return l(c.f,h)}},l=function(h,d,f){c.p=o.prev,c.n=o.next;try{return h(d,f)}finally{o.next=c.n}}),o.resultName&&(o[o.resultName]=c.v,o.resultName=void 0),o.sent=c.v,o.next=c.n;try{return a.call(this,o)}finally{c.p=o.prev,c.n=o.next}}}return(Km=function(){return{wrap:function(l,c,u,h){return e.w(s(l),c,u,h&&h.reverse())},isGeneratorFunction:n,mark:e.m,awrap:function(l,c){return new gb(l,c)},AsyncIterator:Eu,async:function(l,c,u,h,d){return(n(c)?vb:qx)(s(l),c,u,h,d)},keys:Vx,values:jm}})()}function Zm(e,t,r,n,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void r(c)}o.done?t(l):Promise.resolve(l).then(n,i)}function A$(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(l){Zm(s,n,i,a,o,"next",l)}function o(l){Zm(s,n,i,a,o,"throw",l)}a(void 0)})}}function gp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var vp=gp();function jx(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Kx(e,t,r){if(wh())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&ul(i,r.prototype),i}function mp(e){var t=typeof Map=="function"?new Map:void 0;return mp=function(n){if(n===null||!jx(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Kx(n,arguments,hs(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ul(i,n)},mp(e)}var Zx=/%[sdj%]/g,Qx=function(){};function yp(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function Mr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,s=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var a=e.replace(Zx,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return o}});return a}return e}function Jx(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ne(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Jx(t)&&typeof e=="string"&&!e)}function tR(e,t,r){var n=[],i=0,s=e.length;function a(o){n.push.apply(n,qs(o||[])),i++,i===s&&r(n)}e.forEach(function(o){t(o,a)})}function Qm(e,t,r){var n=0,i=e.length;function s(a){if(a&&a.length){r(a);return}var o=n;n=n+1,o<i?t(e[o],s):r([])}s([])}function eR(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,qs(e[r]||[]))}),t}var Jm=function(e){Tx(r,e);var t=Ex(r);function r(n,i){var s;return Eh(this,r),s=t.call(this,"Async Validation Error"),Ut(Jd(s),"errors",void 0),Ut(Jd(s),"fields",void 0),s.errors=n,s.fields=i,s}return bh(r)}(mp(Error));function rR(e,t,r,n,i){if(t.first){var s=new Promise(function(d,f){var p=function(m){return n(m),m.length?f(new Jm(m,yp(m))):d(i)},g=eR(e);Qm(g,r,p)});return s.catch(function(d){return d}),s}var a=t.firstFields===!0?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,c=0,u=[],h=new Promise(function(d,f){var p=function(v){if(u.push.apply(u,v),c++,c===l)return n(u),u.length?f(new Jm(u,yp(u))):d(i)};o.length||(n(u),d(i)),o.forEach(function(g){var v=e[g];a.indexOf(g)!==-1?Qm(v,r,p):tR(v,r,p)})});return h.catch(function(d){return d}),h}function nR(e){return!!(e&&e.message!==void 0)}function iR(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function t0(e,t){return function(r){var n;return e.fullFields?n=iR(t,e.fullFields):n=t[r.field||e.fullField],nR(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function e0(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];er(n)==="object"&&er(e[r])==="object"?e[r]=fi(fi({},e[r]),n):e[r]=n}}return e}var Ms="enum",sR=function(t,r,n,i,s){t[Ms]=Array.isArray(t[Ms])?t[Ms]:[],t[Ms].indexOf(r)===-1&&i.push(Mr(s.messages[Ms],t.fullField,t[Ms].join(", ")))},aR=function(t,r,n,i,s){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||i.push(Mr(s.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var a=new RegExp(t.pattern);a.test(r)||i.push(Mr(s.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},oR=function(t,r,n,i,s){var a=typeof t.len=="number",o=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=r,h=null,d=typeof r=="number",f=typeof r=="string",p=Array.isArray(r);if(d?h="number":f?h="string":p&&(h="array"),!h)return!1;p&&(u=r.length),f&&(u=r.replace(c,"_").length),a?u!==t.len&&i.push(Mr(s.messages[h].len,t.fullField,t.len)):o&&!l&&u<t.min?i.push(Mr(s.messages[h].min,t.fullField,t.min)):l&&!o&&u>t.max?i.push(Mr(s.messages[h].max,t.fullField,t.max)):o&&l&&(u<t.min||u>t.max)&&i.push(Mr(s.messages[h].range,t.fullField,t.min,t.max))},mb=function(t,r,n,i,s,a){t.required&&(!n.hasOwnProperty(t.field)||Ne(r,a||t.type))&&i.push(Mr(s.messages.required,t.fullField))},Kl;const lR=function(){if(Kl)return Kl;var e="[a-fA-F\\d:]",t=function(R){return R&&R.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],s="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(i.join("|"),")").concat(s),o=new RegExp("(?:^".concat(r,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(r,"$")),c=new RegExp("^".concat(a,"$")),u=function(R){return R&&R.exact?o:new RegExp("(?:".concat(t(R)).concat(r).concat(t(R),")|(?:").concat(t(R)).concat(a).concat(t(R),")"),"g")};u.v4=function(A){return A&&A.exact?l:new RegExp("".concat(t(A)).concat(r).concat(t(A)),"g")},u.v6=function(A){return A&&A.exact?c:new RegExp("".concat(t(A)).concat(a).concat(t(A)),"g")};var h="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=u.v4().source,p=u.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',b="(?:".concat(h,"|www\\.)").concat(d,"(?:localhost|").concat(f,"|").concat(p,"|").concat(g).concat(v).concat(m,")").concat(y).concat(T);return Kl=new RegExp("(?:^".concat(b,"$)"),"i"),Kl};var r0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},co={integer:function(t){return co.number(t)&&parseInt(t,10)===t},float:function(t){return co.number(t)&&!co.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return er(t)==="object"&&!co.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(r0.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(lR())},hex:function(t){return typeof t=="string"&&!!t.match(r0.hex)}},cR=function(t,r,n,i,s){if(t.required&&r===void 0){mb(t,r,n,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=t.type;a.indexOf(o)>-1?co[o](r)||i.push(Mr(s.messages.types[o],t.fullField,t.type)):o&&er(r)!==t.type&&i.push(Mr(s.messages.types[o],t.fullField,t.type))},uR=function(t,r,n,i,s){(/^\s+$/.test(r)||r==="")&&i.push(Mr(s.messages.whitespace,t.fullField))};const Mt={required:mb,whitespace:uR,type:cR,range:oR,enum:sR,pattern:aR};var hR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s)}n(a)},fR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r==null&&!t.required)return n();Mt.required(t,r,i,a,s,"array"),r!=null&&(Mt.type(t,r,i,a,s),Mt.range(t,r,i,a,s))}n(a)},dR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&Mt.type(t,r,i,a,s)}n(a)},pR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r,"date")&&!t.required)return n();if(Mt.required(t,r,i,a,s),!Ne(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),Mt.type(t,l,i,a,s),l&&Mt.range(t,l.getTime(),i,a,s)}}n(a)},gR="enum",vR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&Mt[gR](t,r,i,a,s)}n(a)},mR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&(Mt.type(t,r,i,a,s),Mt.range(t,r,i,a,s))}n(a)},yR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&(Mt.type(t,r,i,a,s),Mt.range(t,r,i,a,s))}n(a)},TR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&Mt.type(t,r,i,a,s)}n(a)},ER=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r===""&&(r=void 0),Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&(Mt.type(t,r,i,a,s),Mt.range(t,r,i,a,s))}n(a)},bR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),r!==void 0&&Mt.type(t,r,i,a,s)}n(a)},wR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r,"string")&&!t.required)return n();Mt.required(t,r,i,a,s),Ne(r,"string")||Mt.pattern(t,r,i,a,s)}n(a)},AR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r)&&!t.required)return n();Mt.required(t,r,i,a,s),Ne(r)||Mt.type(t,r,i,a,s)}n(a)},_R=function(t,r,n,i,s){var a=[],o=Array.isArray(r)?"array":er(r);Mt.required(t,r,i,a,s,o),n(a)},SR=function(t,r,n,i,s){var a=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Ne(r,"string")&&!t.required)return n();Mt.required(t,r,i,a,s,"string"),Ne(r,"string")||(Mt.type(t,r,i,a,s),Mt.range(t,r,i,a,s),Mt.pattern(t,r,i,a,s),t.whitespace===!0&&Mt.whitespace(t,r,i,a,s))}n(a)},yf=function(t,r,n,i,s){var a=t.type,o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Ne(r,a)&&!t.required)return n();Mt.required(t,r,i,o,s,a),Ne(r,a)||Mt.type(t,r,i,o,s)}n(o)};const Zo={string:SR,method:TR,number:ER,boolean:dR,regexp:AR,integer:yR,float:mR,array:fR,object:bR,enum:vR,pattern:wR,date:pR,url:yf,hex:yf,email:yf,required:_R,any:hR};var Sh=function(){function e(t){Eh(this,e),Ut(this,"rules",null),Ut(this,"_messages",vp),this.define(t)}return bh(e,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(er(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var s=r[i];n.rules[i]=Array.isArray(s)?s:[s]})}},{key:"messages",value:function(r){return r&&(this._messages=e0(gp(),r)),this._messages}},{key:"validate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=r,o=i,l=s;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(p){var g=[],v={};function m(T){if(Array.isArray(T)){var b;g=(b=g).concat.apply(b,qs(T))}else g.push(T)}for(var y=0;y<p.length;y++)m(p[y]);g.length?(v=yp(g),l(g,v)):l(null,a)}if(o.messages){var u=this.messages();u===vp&&(u=gp()),e0(u,o.messages),o.messages=u}else o.messages=this.messages();var h={},d=o.keys||Object.keys(this.rules);d.forEach(function(p){var g=n.rules[p],v=a[p];g.forEach(function(m){var y=m;typeof y.transform=="function"&&(a===r&&(a=fi({},a)),v=a[p]=y.transform(v),v!=null&&(y.type=y.type||(Array.isArray(v)?"array":er(v)))),typeof y=="function"?y={validator:y}:y=fi({},y),y.validator=n.getValidationMethod(y),y.validator&&(y.field=p,y.fullField=y.fullField||p,y.type=n.getType(y),h[p]=h[p]||[],h[p].push({rule:y,value:v,source:a,field:p}))})});var f={};return rR(h,o,function(p,g){var v=p.rule,m=(v.type==="object"||v.type==="array")&&(er(v.fields)==="object"||er(v.defaultField)==="object");m=m&&(v.required||!v.required&&p.value),v.field=p.field;function y(w,S){return fi(fi({},S),{},{fullField:"".concat(v.fullField,".").concat(w),fullFields:v.fullFields?[].concat(qs(v.fullFields),[w]):[w]})}function T(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=Array.isArray(w)?w:[w];!o.suppressWarning&&S.length&&e.warning("async-validator:",S),S.length&&v.message!==void 0&&(S=[].concat(v.message));var N=S.map(t0(v,a));if(o.first&&N.length)return f[v.field]=1,g(N);if(!m)g(N);else{if(v.required&&!p.value)return v.message!==void 0?N=[].concat(v.message).map(t0(v,a)):o.error&&(N=[o.error(v,Mr(o.messages.required,v.field))]),g(N);var I={};v.defaultField&&Object.keys(p.value).map(function(k){I[k]=v.defaultField}),I=fi(fi({},I),p.rule.fields);var C={};Object.keys(I).forEach(function(k){var E=I[k],O=Array.isArray(E)?E:[E];C[k]=O.map(y.bind(null,k))});var M=new e(C);M.messages(o.messages),p.rule.options&&(p.rule.options.messages=o.messages,p.rule.options.error=o.error),M.validate(p.value,p.rule.options||o,function(k){var E=[];N&&N.length&&E.push.apply(E,qs(N)),k&&k.length&&E.push.apply(E,qs(k)),g(E.length?E:null)})}}var b;if(v.asyncValidator)b=v.asyncValidator(v,p.value,T,p.source,o);else if(v.validator){try{b=v.validator(v,p.value,T,p.source,o)}catch(w){var A,R;(A=(R=console).error)===null||A===void 0||A.call(R,w),o.suppressValidatorError||setTimeout(function(){throw w},0),T(w.message)}b===!0?T():b===!1?T(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||"".concat(v.fullField||v.field," fails")):b instanceof Array?T(b):b instanceof Error&&T(b.message)}b&&b.then&&b.then(function(){return T()},function(w){return T(w)})},function(p){c(p)},a)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Zo.hasOwnProperty(r.type))throw new Error(Mr("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),i=n.indexOf("message");return i!==-1&&n.splice(i,1),n.length===1&&n[0]==="required"?Zo.required:Zo[this.getType(r)]||void 0}}]),e}();Ut(Sh,"register",function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Zo[t]=r});Ut(Sh,"warning",Qx);Ut(Sh,"messages",vp);Ut(Sh,"validators",Zo);function xR(e,t,r){var n=r||{},i=n.noTrailing,s=i===void 0?!1:i,a=n.noLeading,o=a===void 0?!1:a,l=n.debounceMode,c=l===void 0?void 0:l,u,h=!1,d=0;function f(){u&&clearTimeout(u)}function p(v){var m=v||{},y=m.upcomingOnly,T=y===void 0?!1:y;f(),h=!T}function g(){for(var v=arguments.length,m=new Array(v),y=0;y<v;y++)m[y]=arguments[y];var T=this,b=Date.now()-d;if(h)return;function A(){d=Date.now(),t.apply(T,m)}function R(){u=void 0}!o&&c&&!u&&A(),f(),c===void 0&&b>e?o?(d=Date.now(),s||(u=setTimeout(c?R:A,e))):A():s!==!0&&(u=setTimeout(c?R:A,c===void 0?e-b:e))}return g.cancel=p,g}function _$(e,t,r){var n={},i=n.atBegin,s=i===void 0?!1:i;return xR(e,t,{debounceMode:s!==!1})}function Tp(){return typeof BigInt=="function"}function yb(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function Qo(e){var t=e.trim(),r=t.startsWith("-");r&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var n=t||"0",i=n.split("."),s=i[0]||"0",a=i[1]||"0";s==="0"&&a==="0"&&(r=!1);var o=r?"-":"";return{negative:r,negativeStr:o,trimStr:n,integerStr:s,decimalStr:a,fullStr:"".concat(o).concat(n)}}function fv(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function uo(e){var t=String(e);if(fv(e)){var r=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return t.includes(".")&&Eb(t)?t.length-t.indexOf(".")-1:0}function Tb(e){var t=String(e);if(fv(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Tp()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Tp()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(uo(t))}return Qo(t).fullStr}function Eb(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var RR=function(){function e(t){if(Eh(this,e),Ut(this,"origin",""),Ut(this,"negative",void 0),Ut(this,"integer",void 0),Ut(this,"decimal",void 0),Ut(this,"decimalLen",void 0),Ut(this,"empty",void 0),Ut(this,"nan",void 0),yb(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var r=t;if(fv(r)&&(r=Number(r)),r=typeof r=="string"?r:Tb(r),Eb(r)){var n=Qo(r);this.negative=n.negative;var i=n.trimStr.split(".");this.integer=BigInt(i[0]);var s=i[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return bh(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new e(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,i){var s=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),a=this.alignDecimal(s),o=r.alignDecimal(s),l=n(a,o).toString(),c=i(s),u=Qo(l),h=u.negativeStr,d=u.trimStr,f="".concat(h).concat(d.padStart(c+1,"0"));return new e("".concat(f.slice(0,-c),".").concat(f.slice(-c)))}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=new e(r);return n.isInvalidate()?this:this.cal(n,function(i,s){return i+s},function(i){return i})}},{key:"multi",value:function(r){var n=new e(r);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,function(i,s){return i*s},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Qo("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),NR=function(){function e(t){if(Eh(this,e),Ut(this,"origin",""),Ut(this,"number",void 0),Ut(this,"empty",void 0),yb(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return bh(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=Number(r);if(Number.isNaN(n))return this;var i=this.number+n;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(uo(this.number),uo(n));return new e(i.toFixed(s))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var i=this.number*n;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(uo(this.number),uo(n));return new e(i.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Tb(this.number):this.origin}}]),e}();function LR(e){return Tp()?new RR(e):new NR(e)}function OR(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=Qo(e),s=i.negativeStr,a=i.integerStr,o=i.decimalStr,l="".concat(t).concat(o),c="".concat(s).concat(a);if(r>=0){var u=Number(o[r]);if(u>=5&&!n){var h=LR(e).add("".concat(s,"0.").concat("0".repeat(r)).concat(10-u));return OR(h.toString(),t,r,n)}return r===0?c:"".concat(c).concat(t).concat(o.padEnd(r,"0").slice(0,r))}return l===".0"?c:"".concat(c).concat(l)}function S$(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var Tf,n0;function CR(){return n0||(n0=1,Tf=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),Tf}var Ef,i0;function MR(){if(i0)return Ef;i0=1;var e=CR(),t={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function n(s){var a=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return s.replace(/#{\s*key\s*}/g,a)}function i(s,a){var o,l,c,u,h,d,f=!1;a||(a={}),o=a.debug||!1;try{c=e(),u=document.createRange(),h=document.getSelection(),d=document.createElement("span"),d.textContent=s,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(g){if(g.stopPropagation(),a.format)if(g.preventDefault(),typeof g.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=t[a.format]||t.default;window.clipboardData.setData(v,s)}else g.clipboardData.clearData(),g.clipboardData.setData(a.format,s);a.onCopy&&(g.preventDefault(),a.onCopy(g.clipboardData))}),document.body.appendChild(d),u.selectNodeContents(d),h.addRange(u);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");f=!0}catch(g){o&&console.error("unable to copy using execCommand: ",g),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",s),a.onCopy&&a.onCopy(window.clipboardData),f=!0}catch(v){o&&console.error("unable to copy using clipboardData: ",v),o&&console.error("falling back to prompt"),l=n("message"in a?a.message:r),window.prompt(l,s)}}finally{h&&(typeof h.removeRange=="function"?h.removeRange(u):h.removeAllRanges()),d&&document.body.removeChild(d),c()}return f}return Ef=i,Ef}var IR=MR();const x$=sv(IR);var bf={exports:{}},s0;function R$(){return s0||(s0=1,function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bf)),bf.exports}var wf={exports:{}},Af={exports:{}},_f={exports:{}},Sf={exports:{}},a0;function bb(){return a0||(a0=1,function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Sf)),Sf.exports}var xf={exports:{}},o0;function kR(){return o0||(o0=1,function(e){var t=bb().default;function r(n,i){if(t(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,i||"default");if(t(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(xf)),xf.exports}var l0;function PR(){return l0||(l0=1,function(e){var t=bb().default,r=kR();function n(i){var s=r(i,"string");return t(s)=="symbol"?s:s+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(_f)),_f.exports}var c0;function DR(){return c0||(c0=1,function(e){var t=PR();function r(n,i,s){return(i=t(i))in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Af)),Af.exports}var u0;function N$(){return u0||(u0=1,function(e){var t=DR();function r(i,s){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);s&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,o)}return a}function n(i){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?r(Object(a),!0).forEach(function(o){t(i,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))})}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(wf)),wf.exports}var h0=function(){return h0=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},h0.apply(this,arguments)};function L$(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var te="-ms-",Jo="-moz-",Ht="-webkit-",wb="comm",dv="rule",pv="decl",FR="@import",Ab="@keyframes",UR="@layer",_b=Math.abs,gv=String.fromCharCode,Ep=Object.assign;function GR(e,t){return Ie(e,0)^45?(((t<<2^Ie(e,0))<<2^Ie(e,1))<<2^Ie(e,2))<<2^Ie(e,3):0}function Sb(e){return e.trim()}function Wn(e,t){return(e=t.exec(e))?e[0]:e}function xt(e,t,r){return e.replace(t,r)}function zc(e,t,r){return e.indexOf(t,r)}function Ie(e,t){return e.charCodeAt(t)|0}function da(e,t,r){return e.slice(t,r)}function Ln(e){return e.length}function xb(e){return e.length}function ho(e,t){return t.push(e),e}function $R(e,t){return e.map(t).join("")}function f0(e,t){return e.filter(function(r){return!Wn(r,t)})}var xh=1,pa=1,Rb=0,Jr=0,me=0,_a="";function Rh(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:xh,column:pa,length:a,return:"",siblings:o}}function ci(e,t){return Ep(Rh("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Is(e){for(;e.root;)e=ci(e.root,{children:[e]});ho(e,e.siblings)}function HR(){return me}function zR(){return me=Jr>0?Ie(_a,--Jr):0,pa--,me===10&&(pa=1,xh--),me}function hn(){return me=Jr<Rb?Ie(_a,Jr++):0,pa++,me===10&&(pa=1,xh++),me}function os(){return Ie(_a,Jr)}function Bc(){return Jr}function Nh(e,t){return da(_a,e,t)}function bp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BR(e){return xh=pa=1,Rb=Ln(_a=e),Jr=0,[]}function WR(e){return _a="",e}function Rf(e){return Sb(Nh(Jr-1,wp(e===91?e+2:e===40?e+1:e)))}function YR(e){for(;(me=os())&&me<33;)hn();return bp(e)>2||bp(me)>3?"":" "}function XR(e,t){for(;--t&&hn()&&!(me<48||me>102||me>57&&me<65||me>70&&me<97););return Nh(e,Bc()+(t<6&&os()==32&&hn()==32))}function wp(e){for(;hn();)switch(me){case e:return Jr;case 34:case 39:e!==34&&e!==39&&wp(me);break;case 40:e===41&&wp(e);break;case 92:hn();break}return Jr}function qR(e,t){for(;hn()&&e+me!==57;)if(e+me===84&&os()===47)break;return"/*"+Nh(t,Jr-1)+"*"+gv(e===47?e:hn())}function VR(e){for(;!bp(os());)hn();return Nh(e,Jr)}function O$(e){return WR(Wc("",null,null,null,[""],e=BR(e),0,[0],e))}function Wc(e,t,r,n,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,g=1,v=1,m=1,y=0,T="",b=i,A=s,R=n,w=T;v;)switch(p=y,y=hn()){case 40:if(p!=108&&Ie(w,h-1)==58){zc(w+=xt(Rf(y),"&","&\f"),"&\f",_b(c?o[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:w+=Rf(y);break;case 9:case 10:case 13:case 32:w+=YR(p);break;case 92:w+=XR(Bc()-1,7);continue;case 47:switch(os()){case 42:case 47:ho(jR(qR(hn(),Bc()),t,r,l),l);break;default:w+="/"}break;case 123*g:o[c++]=Ln(w)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:m==-1&&(w=xt(w,/\f/g,"")),f>0&&Ln(w)-h&&ho(f>32?p0(w+";",n,r,h-1,l):p0(xt(w," ","")+";",n,r,h-2,l),l);break;case 59:w+=";";default:if(ho(R=d0(w,t,r,c,u,i,o,T,b=[],A=[],h,s),s),y===123)if(u===0)Wc(w,t,R,R,b,s,h,o,A);else switch(d===99&&Ie(w,3)===110?100:d){case 100:case 108:case 109:case 115:Wc(e,R,R,n&&ho(d0(e,R,R,0,0,i,o,T,i,b=[],h,A),A),i,A,h,o,n?b:A);break;default:Wc(w,R,R,R,[""],A,0,o,A)}}c=u=f=0,g=m=1,T=w="",h=a;break;case 58:h=1+Ln(w),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&zR()==125)continue}switch(w+=gv(y),y*g){case 38:m=u>0?1:(w+="\f",-1);break;case 44:o[c++]=(Ln(w)-1)*m,m=1;break;case 64:os()===45&&(w+=Rf(hn())),d=os(),u=h=Ln(T=w+=VR(Bc())),y++;break;case 45:p===45&&Ln(w)==2&&(g=0)}}return s}function d0(e,t,r,n,i,s,a,o,l,c,u,h){for(var d=i-1,f=i===0?s:[""],p=xb(f),g=0,v=0,m=0;g<n;++g)for(var y=0,T=da(e,d+1,d=_b(v=a[g])),b=e;y<p;++y)(b=Sb(v>0?f[y]+" "+T:xt(T,/&\f/g,f[y])))&&(l[m++]=b);return Rh(e,t,r,i===0?dv:o,l,c,u,h)}function jR(e,t,r,n){return Rh(e,t,r,wb,gv(HR()),da(e,2,-2),0,n)}function p0(e,t,r,n,i){return Rh(e,t,r,pv,da(e,0,n),da(e,n+1,-1),n,i)}function Nb(e,t,r){switch(GR(e,t)){case 5103:return Ht+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ht+e+e;case 4789:return Jo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ht+e+Jo+e+te+e+e;case 5936:switch(Ie(e,t+11)){case 114:return Ht+e+te+xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ht+e+te+xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ht+e+te+xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ht+e+te+e+e;case 6165:return Ht+e+te+"flex-"+e+e;case 5187:return Ht+e+xt(e,/(\w+).+(:[^]+)/,Ht+"box-$1$2"+te+"flex-$1$2")+e;case 5443:return Ht+e+te+"flex-item-"+xt(e,/flex-|-self/g,"")+(Wn(e,/flex-|baseline/)?"":te+"grid-row-"+xt(e,/flex-|-self/g,""))+e;case 4675:return Ht+e+te+"flex-line-pack"+xt(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ht+e+te+xt(e,"shrink","negative")+e;case 5292:return Ht+e+te+xt(e,"basis","preferred-size")+e;case 6060:return Ht+"box-"+xt(e,"-grow","")+Ht+e+te+xt(e,"grow","positive")+e;case 4554:return Ht+xt(e,/([^-])(transform)/g,"$1"+Ht+"$2")+e;case 6187:return xt(xt(xt(e,/(zoom-|grab)/,Ht+"$1"),/(image-set)/,Ht+"$1"),e,"")+e;case 5495:case 3959:return xt(e,/(image-set\([^]*)/,Ht+"$1$`$1");case 4968:return xt(xt(e,/(.+:)(flex-)?(.*)/,Ht+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ht+e+e;case 4200:if(!Wn(e,/flex-|baseline/))return te+"grid-column-align"+da(e,t)+e;break;case 2592:case 3360:return te+xt(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,i){return t=i,Wn(n.props,/grid-\w+-end/)})?~zc(e+(r=r[t].value),"span",0)?e:te+xt(e,"-start","")+e+te+"grid-row-span:"+(~zc(r,"span",0)?Wn(r,/\d+/):+Wn(r,/\d+/)-+Wn(e,/\d+/))+";":te+xt(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return Wn(n.props,/grid-\w+-start/)})?e:te+xt(xt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return xt(e,/(.+)-inline(.+)/,Ht+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ln(e)-1-t>6)switch(Ie(e,t+1)){case 109:if(Ie(e,t+4)!==45)break;case 102:return xt(e,/(.+:)(.+)-([^]+)/,"$1"+Ht+"$2-$3$1"+Jo+(Ie(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~zc(e,"stretch",0)?Nb(xt(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return xt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,a,o,l,c){return te+i+":"+s+c+(a?te+i+"-span:"+(o?l:+l-+s)+c:"")+e});case 4949:if(Ie(e,t+6)===121)return xt(e,":",":"+Ht)+e;break;case 6444:switch(Ie(e,Ie(e,14)===45?18:11)){case 120:return xt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ht+(Ie(e,14)===45?"inline-":"")+"box$3$1"+Ht+"$2$3$1"+te+"$2box$3")+e;case 100:return xt(e,":",":"+te)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(e,"scroll-","scroll-snap-")+e}return e}function Ap(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function C$(e,t,r,n){switch(e.type){case UR:if(e.children.length)break;case FR:case pv:return e.return=e.return||e.value;case wb:return"";case Ab:return e.return=e.value+"{"+Ap(e.children,n)+"}";case dv:if(!Ln(e.value=e.props.join(",")))return""}return Ln(r=Ap(e.children,n))?e.return=e.value+"{"+r+"}":""}function M$(e){var t=xb(e);return function(r,n,i,s){for(var a="",o=0;o<t;o++)a+=e[o](r,n,i,s)||"";return a}}function I$(e){return function(t){t.root||(t=t.return)&&e(t)}}function k$(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case pv:e.return=Nb(e.value,e.length,r);return;case Ab:return Ap([ci(e,{value:xt(e.value,"@","@"+Ht)})],n);case dv:if(e.length)return $R(r=e.props,function(i){switch(Wn(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Is(ci(e,{props:[xt(i,/:(read-\w+)/,":"+Jo+"$1")]})),Is(ci(e,{props:[i]})),Ep(e,{props:f0(r,n)});break;case"::placeholder":Is(ci(e,{props:[xt(i,/:(plac\w+)/,":"+Ht+"input-$1")]})),Is(ci(e,{props:[xt(i,/:(plac\w+)/,":"+Jo+"$1")]})),Is(ci(e,{props:[xt(i,/:(plac\w+)/,te+"input-$1")]})),Is(ci(e,{props:[i]})),Ep(e,{props:f0(r,n)});break}return""})}}var Lb=Symbol.for("immer-nothing"),g0=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function on(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ga=Object.getPrototypeOf;function va(e){return!!e&&!!e[Ur]}function fs(e){var t;return e?Ob(e)||Array.isArray(e)||!!e[g0]||!!((t=e.constructor)!=null&&t[g0])||Oh(e)||Ch(e):!1}var KR=Object.prototype.constructor.toString();function Ob(e){if(!e||typeof e!="object")return!1;const t=ga(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===KR}function bu(e,t){Lh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Lh(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:Oh(e)?2:Ch(e)?3:0}function _p(e,t){return Lh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Cb(e,t,r){const n=Lh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Oh(e){return e instanceof Map}function Ch(e){return e instanceof Set}function ji(e){return e.copy_||e.base_}function Sp(e,t){if(Oh(e))return new Map(e);if(Ch(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ob(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(ga(e),n)}else{const n=ga(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function vv(e,t=!1){return Mh(e)||va(e)||!fs(e)||(Lh(e)>1&&(e.set=e.add=e.clear=e.delete=QR),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>vv(n,!0))),e}function QR(){on(2)}function Mh(e){return Object.isFrozen(e)}var JR={};function ds(e){const t=JR[e];return t||on(0,e),t}var fl;function Mb(){return fl}function tN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v0(e,t){t&&(ds("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xp(e){Rp(e),e.drafts_.forEach(eN),e.drafts_=null}function Rp(e){e===fl&&(fl=e.parent_)}function m0(e){return fl=tN(fl,e)}function eN(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function y0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(xp(t),on(4)),fs(e)&&(e=wu(t,e),t.parent_||Au(t,e)),t.patches_&&ds("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=wu(t,r,[]),xp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lb?e:void 0}function wu(e,t,r){if(Mh(t))return t;const n=t[Ur];if(!n)return bu(t,(i,s)=>T0(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Au(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),bu(s,(o,l)=>T0(e,n,i,o,l,r,a)),Au(e,i,!1),r&&e.patches_&&ds("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function T0(e,t,r,n,i,s,a){if(va(i)){const o=s&&t&&t.type_!==3&&!_p(t.assigned_,n)?s.concat(n):void 0,l=wu(e,i,o);if(Cb(r,n,l),va(l))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(fs(i)&&!Mh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Au(e,i)}}function Au(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vv(t,r)}function rN(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Mb(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=mv;r&&(i=[n],s=dl);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var mv={get(e,t){if(t===Ur)return e;const r=ji(e);if(!_p(r,t))return nN(e,r,t);const n=r[t];return e.finalized_||!fs(n)?n:n===Nf(e.base_,t)?(Lf(e),e.copy_[t]=Lp(n,e)):n},has(e,t){return t in ji(e)},ownKeys(e){return Reflect.ownKeys(ji(e))},set(e,t,r){const n=Ib(ji(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Nf(ji(e),t),s=i==null?void 0:i[Ur];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZR(r,i)&&(r!==void 0||_p(e.base_,t)))return!0;Lf(e),Np(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Nf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lf(e),Np(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ji(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){on(11)},getPrototypeOf(e){return ga(e.base_)},setPrototypeOf(){on(12)}},dl={};bu(mv,(e,t)=>{dl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dl.deleteProperty=function(e,t){return dl.set.call(this,e,t,void 0)};dl.set=function(e,t,r){return mv.set.call(this,e[0],t,r,e[0])};function Nf(e,t){const r=e[Ur];return(r?ji(r):e)[t]}function nN(e,t,r){var i;const n=Ib(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ib(e,t){if(!(t in e))return;let r=ga(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ga(r)}}function Np(e){e.modified_||(e.modified_=!0,e.parent_&&Np(e.parent_))}function Lf(e){e.copy_||(e.copy_=Sp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iN=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&on(6),n!==void 0&&typeof n!="function"&&on(7);let i;if(fs(t)){const s=m0(this),a=Lp(t,void 0);let o=!0;try{i=r(a),o=!1}finally{o?xp(s):Rp(s)}return v0(s,n),y0(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Lb&&(i=void 0),this.autoFreeze_&&vv(i,!0),n){const s=[],a=[];ds("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else on(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let n,i;return[this.produce(t,r,(a,o)=>{n=a,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fs(e)||on(8),va(e)&&(e=sN(e));const t=m0(this),r=Lp(e,void 0);return r[Ur].isManual_=!0,Rp(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&on(9);const{scope_:n}=r;return v0(n,t),y0(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ds("Patches").applyPatches_;return va(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Lp(e,t){const r=Oh(e)?ds("MapSet").proxyMap_(e,t):Ch(e)?ds("MapSet").proxySet_(e,t):rN(e,t);return(t?t.scope_:Mb()).drafts_.push(r),r}function sN(e){return va(e)||on(10,e),kb(e)}function kb(e){if(!fs(e)||Mh(e))return e;const t=e[Ur];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Sp(e,!0);return bu(r,(n,i)=>{Cb(r,n,kb(i))}),t&&(t.finalized_=!1),r}var Gr=new iN,P$=Gr.produce;Gr.produceWithPatches.bind(Gr);Gr.setAutoFreeze.bind(Gr);Gr.setUseStrictShallowCopy.bind(Gr);Gr.applyPatches.bind(Gr);Gr.createDraft.bind(Gr);Gr.finishDraft.bind(Gr);function aN(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function oN(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lN(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var E0=e=>Array.isArray(e)?e:[e];function cN(e){const t=Array.isArray(e[0])?e[0]:e;return lN(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uN(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var hN=class{constructor(e){this.value=e}deref(){return this.value}},fN=typeof WeakRef<"u"?WeakRef:hN,dN=0,b0=1;function Zl(){return{s:dN,v:void 0,o:null,p:null}}function Pb(e,t={}){let r=Zl();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(p);v===void 0?(o=Zl(),g.set(p,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(p);v===void 0?(o=Zl(),g.set(p,o)):o=v}}const c=o;let u;if(o.s===b0)u=o.v;else if(u=e.apply(null,arguments),s++,n){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&n(d,u)&&(u=d,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new fN(u):u}return c.s=b0,c.v=u,u}return a.clearCache=()=>{r=Zl(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function pN(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),aN(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=Pb,argsMemoizeOptions:p=[]}=u,g=E0(d),v=E0(p),m=cN(i),y=h(function(){return s++,c.apply(null,arguments)},...g),T=f(function(){a++;const A=uN(m,arguments);return o=y.apply(null,A),o},...v);return Object.assign(T,{resultFunc:c,memoizedResultFunc:y,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var gN=pN(Pb),vN=Object.assign((e,t=gN)=>{oN(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>vN});const mN={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},Oe=Math.round;function Of(e,t){const r=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=t(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const w0=(e,t,r)=>r===0?e:e/100;function Da(e,t){const r=t||255;return e>r?r:e<0?0:e}class Vs{constructor(t){bt(this,"isValid",!0);bt(this,"r",0);bt(this,"g",0);bt(this,"b",0);bt(this,"a",1);bt(this,"_h");bt(this,"_s");bt(this,"_l");bt(this,"_v");bt(this,"_max");bt(this,"_min");bt(this,"_brightness");function r(n){return n[0]in t&&n[1]in t&&n[2]in t}if(t)if(typeof t=="string"){let i=function(s){return n.startsWith(s)};const n=t.trim();if(/^#?[A-F\d]{3,8}$/i.test(n))this.fromHexString(n);else if(i("rgb"))this.fromRgbString(n);else if(i("hsl"))this.fromHslString(n);else if(i("hsv")||i("hsb"))this.fromHsvString(n);else{const s=mN[n.toLowerCase()];s&&this.fromHexString(parseInt(s,36).toString(16).padStart(6,"0"))}}else if(t instanceof Vs)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=Da(t.r),this.g=Da(t.g),this.b=Da(t.b),this.a=typeof t.a=="number"?Da(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else if(r("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(s){const a=s/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const r=t(this.r),n=t(this.g),i=t(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Oe(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(t,r=50){const n=this._c(t),i=r/100,s=o=>(n[o]-this[o])*i+this[o],a={r:Oe(s("r")),g:Oe(s("g")),b:Oe(s("b")),a:Oe(s("a")*100)/100};return this._c(a)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const r=this._c(t),n=this.a+r.a*(1-this.a),i=s=>Oe((this[s]*this.a+r[s]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const r=(this.r||0).toString(16);t+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);t+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=Oe(this.a*255).toString(16);t+=s.length===2?s:"0"+s}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),r=Oe(this.getSaturation()*100),n=Oe(this.getLightness()*100);return this.a!==1?`hsla(${t},${r}%,${n}%,${this.a})`:`hsl(${t},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,r,n){const i=this.clone();return i[t]=Da(r,n),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const r=t.replace("#","");function n(i,s){return parseInt(r[i]+r[s||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:t,s:r,l:n,a:i}){if(this._h=t%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const d=Oe(n*255);this.r=d,this.g=d,this.b=d}let s=0,a=0,o=0;const l=t/60,c=(1-Math.abs(2*n-1))*r,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(s=c,a=u):l>=1&&l<2?(s=u,a=c):l>=2&&l<3?(a=c,o=u):l>=3&&l<4?(a=u,o=c):l>=4&&l<5?(s=u,o=c):l>=5&&l<6&&(s=c,o=u);const h=n-c/2;this.r=Oe((s+h)*255),this.g=Oe((a+h)*255),this.b=Oe((o+h)*255)}fromHsv({h:t,s:r,v:n,a:i}){this._h=t%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const s=Oe(n*255);if(this.r=s,this.g=s,this.b=s,r<=0)return;const a=t/60,o=Math.floor(a),l=a-o,c=Oe(n*(1-r)*255),u=Oe(n*(1-r*l)*255),h=Oe(n*(1-r*(1-l))*255);switch(o){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(t){const r=Of(t,w0);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){const r=Of(t,w0);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){const r=Of(t,(n,i)=>i.includes("%")?Oe(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}const Ql=2,A0=.16,yN=.05,TN=.05,EN=.15,Db=5,Fb=4,bN=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function _0(e,t,r){let n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-Ql*t:Math.round(e.h)+Ql*t:n=r?Math.round(e.h)+Ql*t:Math.round(e.h)-Ql*t,n<0?n+=360:n>=360&&(n-=360),n}function S0(e,t,r){if(e.h===0&&e.s===0)return e.s;let n;return r?n=e.s-A0*t:t===Fb?n=e.s+A0:n=e.s+yN*t,n>1&&(n=1),r&&t===Db&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function x0(e,t,r){let n;return r?n=e.v+TN*t:n=e.v-EN*t,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function D$(e,t={}){const r=[],n=new Vs(e),i=n.toHsv();for(let s=Db;s>0;s-=1){const a=new Vs({h:_0(i,s,!0),s:S0(i,s,!0),v:x0(i,s,!0)});r.push(a)}r.push(n);for(let s=1;s<=Fb;s+=1){const a=new Vs({h:_0(i,s),s:S0(i,s),v:x0(i,s)});r.push(a)}return t.theme==="dark"?bN.map(({index:s,amount:a})=>new Vs(t.backgroundColor||"#141414").mix(r[s],a).toHexString()):r.map(s=>s.toHexString())}const R0=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];R0.primary=R0[5];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Op=function(e,t){return Op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Op(e,t)};function Zt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Op(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var N0=function(){return N0=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},N0.apply(this,arguments)},wN=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),AN=function(){function e(){this.browser=new wN,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),oe=new AN;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(oe.wxa=!0,oe.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?oe.worker=!0:!oe.hasGlobalWindow||"Deno"in window?(oe.node=!0,oe.svgSupported=!0):_N(navigator.userAgent,oe);function _N(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),s=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),s&&(r.edge=!0,r.version=s[1],r.newEdge=+s[1].split(".")[0]>18),a&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var yv=12,Ub="sans-serif",ps=yv+"px "+Ub,SN=20,xN=100,RN="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function NN(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-SN)/xN;t[n]=i}return t}var LN=NN(RN),ma={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=ma.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||ps),e.measureText(r);r=r||"",n=n||ps;var s=/((?:\d+)?\.?\d*)px/.exec(n),a=s&&+s[1]||yv,o=0;if(n.indexOf("mono")>=0)o=a*r.length;else for(var l=0;l<r.length;l++){var c=LN[r[l]];o+=c==null?a:c*a}return{width:o}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}};function F$(e){for(var t in ma)e[t]&&(ma[t]=e[t])}var Gb=Ll(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),$b=Ll(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Sa=Object.prototype.toString,Ih=Array.prototype,ON=Ih.forEach,CN=Ih.filter,Tv=Ih.slice,MN=Ih.map,L0=(function(){}).constructor,Jl=L0?L0.prototype:null,Ev="__proto__",IN=2311;function bv(){return IN++}function wv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Ei(e){if(e==null||typeof e!="object")return e;var t=e,r=Sa.call(e);if(r==="[object Array]"){if(!ea(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=Ei(e[n])}}else if($b[r]){if(!ea(e)){var s=e.constructor;if(s.from)t=s.from(e);else{t=new s(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!Gb[r]&&!ea(e)&&!Su(e)){t={};for(var a in e)e.hasOwnProperty(a)&&a!==Ev&&(t[a]=Ei(e[a]))}return t}function Av(e,t,r){if(!Zn(t)||!Zn(e))return r?Ei(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==Ev){var i=e[n],s=t[n];Zn(s)&&Zn(i)&&!ya(s)&&!ya(i)&&!Su(s)&&!Su(i)&&!Cp(s)&&!Cp(i)&&!ea(s)&&!ea(i)?Av(i,s,r):(r||!(n in e))&&(e[n]=Ei(t[n]))}return e}function kN(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Av(r,e[n],t);return r}function Xt(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==Ev&&(e[r]=t[r]);return e}function $r(e,t,r){for(var n=ee(t),i=0,s=n.length;i<s;i++){var a=n[i];(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}return e}var PN=ma.createCanvas;function Cn(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function DN(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function _v(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var s=n[i];s!=="constructor"&&(r?t[s]!=null:e[s]==null)&&(e[s]=t[s])}else $r(e,t,r)}function pn(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function yr(e,t,r){if(e&&t)if(e.forEach&&e.forEach===ON)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var s in e)e.hasOwnProperty(s)&&t.call(r,e[s],s,e)}function ye(e,t,r){if(!e)return[];if(!t)return Sv(e);if(e.map&&e.map===MN)return e.map(t,r);for(var n=[],i=0,s=e.length;i<s;i++)n.push(t.call(r,e[i],i,e));return n}function Ll(e,t,r,n){if(e&&t){for(var i=0,s=e.length;i<s;i++)r=t.call(n,r,e[i],i,e);return r}}function _u(e,t,r){if(!e)return[];if(!t)return Sv(e);if(e.filter&&e.filter===CN)return e.filter(t,r);for(var n=[],i=0,s=e.length;i<s;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function FN(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function ee(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function UN(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(Tv.call(arguments)))}}var GN=Jl&&xa(Jl.bind)?Jl.call.bind(Jl.bind):UN;function $N(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(Tv.call(arguments)))}}function ya(e){return Array.isArray?Array.isArray(e):Sa.call(e)==="[object Array]"}function xa(e){return typeof e=="function"}function gn(e){return typeof e=="string"}function HN(e){return Sa.call(e)==="[object String]"}function tl(e){return typeof e=="number"}function Zn(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Cp(e){return!!Gb[Sa.call(e)]}function Hb(e){return!!$b[Sa.call(e)]}function Su(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function kh(e){return e.colorStops!=null}function zN(e){return e.image!=null}function BN(e){return Sa.call(e)==="[object RegExp]"}function zb(e){return e!==e}function WN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function ue(e,t){return e??t}function el(e,t,r){return e??t??r}function Sv(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Tv.apply(e,t)}function Bb(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Mp(e,t){if(!e)throw new Error(t)}function ts(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Wb="__ec_primitive__";function YN(e){e[Wb]=!0}function ea(e){return e[Wb]}var XN=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return ee(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),Yb=typeof Map=="function";function qN(){return Yb?new Map:new XN}var Xb=function(){function e(t){var r=ya(t);this.data=qN();var n=this;t instanceof e?t.each(i):t&&yr(t,i);function i(s,a){r?n.set(s,a):n.set(a,s)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return Yb?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function VN(e){return new Xb(e)}function jN(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function Ol(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&Xt(r,t),r}function KN(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function pl(e,t){return e.hasOwnProperty(t)}function mi(){}var Yc=180/Math.PI;const U$=Object.freeze(Object.defineProperty({__proto__:null,HashMap:Xb,RADIAN_TO_DEGREE:Yc,assert:Mp,bind:GN,clone:Ei,concatArray:jN,createCanvas:PN,createHashMap:VN,createObject:Ol,curry:$N,defaults:$r,disableUserSelect:KN,each:yr,eqNaN:zb,extend:Xt,filter:_u,find:FN,guid:bv,hasOwn:pl,indexOf:Cn,inherits:DN,isArray:ya,isArrayLike:pn,isBuiltInObject:Cp,isDom:Su,isFunction:xa,isGradientObject:kh,isImagePatternObject:zN,isNumber:tl,isObject:Zn,isPrimitive:ea,isRegExp:BN,isString:gn,isStringSafe:HN,isTypedArray:Hb,keys:ee,logError:wv,map:ye,merge:Av,mergeAll:kN,mixin:_v,noop:mi,normalizeCssArray:Bb,reduce:Ll,retrieve:WN,retrieve2:ue,retrieve3:el,setAsPrimitive:YN,slice:Sv,trim:ts},Symbol.toStringTag,{value:"Module"}));function Ss(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function ZN(e,t){return e[0]=t[0],e[1]=t[1],e}function qb(e){return[e[0],e[1]]}function QN(e,t,r){return e[0]=t,e[1]=r,e}function Ip(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function JN(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Vb(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function xv(e){return Math.sqrt(Rv(e))}var tL=xv;function Rv(e){return e[0]*e[0]+e[1]*e[1]}var eL=Rv;function rL(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function nL(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function iL(e,t){return e[0]*t[0]+e[1]*t[1]}function Xc(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function jb(e,t){var r=xv(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function xu(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Kb=xu;function Zb(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var ls=Zb;function sL(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Qb(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function ra(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function es(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function rs(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}const G$=Object.freeze(Object.defineProperty({__proto__:null,add:Ip,applyTransform:ra,clone:qb,copy:ZN,create:Ss,dist:Kb,distSquare:ls,distance:xu,distanceSquare:Zb,div:nL,dot:iL,len:xv,lenSquare:Rv,length:tL,lengthSquare:eL,lerp:Qb,max:rs,min:es,mul:rL,negate:sL,normalize:jb,scale:Xc,scaleAndAdd:JN,set:QN,sub:Vb},Symbol.toStringTag,{value:"Module"}));var ks=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),aL=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new ks(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,s=n-this._x,a=i-this._y;this._x=n,this._y=i,r.drift(s,a,t),this.handler.dispatchToElement(new ks(r,t),"drag",t.event);var o=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new ks(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new ks(o,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new ks(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new ks(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),Cl=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var s=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var a=this._$eventProcessor;r!=null&&a&&a.normalizeQuery&&(r=a.normalizeQuery(r)),s[t]||(s[t]=[]);for(var o=0;o<s[t].length;o++)if(s[t][o].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},c=s[t].length-1,u=s[t][c];return u&&u.callAtLast?s[t].splice(c,0,l):s[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],s=0,a=n[t].length;s<a;s++)n[t][s].h!==r&&i.push(n[t][s]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],s=this._$eventProcessor;if(i)for(var a=r.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(s&&s.filter&&c.query!=null&&!s.filter(t,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,r[0]);break;case 2:c.h.call(c.ctx,r[0],r[1]);break;default:c.h.apply(c.ctx,r);break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],s=this._$eventProcessor;if(i)for(var a=r.length,o=r[a-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(s&&s.filter&&u.query!=null&&!s.filter(t,u.query)))switch(a){case 0:u.h.call(o);break;case 1:u.h.call(o,r[0]);break;case 2:u.h.call(o,r[0],r[1]);break;default:u.h.apply(o,r.slice(1,a-1));break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},e}(),oL=Math.log(2);function kp(e,t,r,n,i,s){var a=n+"-"+i,o=e.length;if(s.hasOwnProperty(a))return s[a];if(t===1){var l=Math.round(Math.log((1<<o)-1&~i)/oL);return e[r][l]}for(var c=n|1<<r,u=r+1;n&1<<u;)u++;for(var h=0,d=0,f=0;d<o;d++){var p=1<<d;p&i||(h+=(f%2?-1:1)*e[r][d]*kp(e,t-1,u,c,i|p,s),f++)}return s[a]=h,h}function O0(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=kp(r,8,0,0,0,n);if(i!==0){for(var s=[],a=0;a<8;a++)for(var o=0;o<8;o++)s[o]==null&&(s[o]=0),s[o]+=((a+o)%2?-1:1)*kp(r,7,a===0?1:0,1<<a,1<<o,n)/i*t[a];return function(l,c,u){var h=c*s[6]+u*s[7]+1;l[0]=(c*s[0]+u*s[1]+s[2])/h,l[1]=(c*s[3]+u*s[4]+s[5])/h}}}var C0="___zrEVENTSAVED",Cf=[];function $$(e,t,r,n,i){return Pp(Cf,t,n,i,!0)&&Pp(e,r,Cf[0],Cf[1])}function Pp(e,t,r,n,i){if(t.getBoundingClientRect&&oe.domSupported&&!Jb(t)){var s=t[C0]||(t[C0]={}),a=lL(t,s),o=cL(a,s,i);if(o)return o(e,r,n),!0}return!1}function lL(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],s=0;s<4;s++){var a=document.createElement("div"),o=a.style,l=s%2,c=(s>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(a),r.push(a)}return r}function cL(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],s=t.srcCoords,a=[],o=[],l=!0,c=0;c<4;c++){var u=e[c].getBoundingClientRect(),h=2*c,d=u.left,f=u.top;a.push(d,f),l=l&&s&&d===s[h]&&f===s[h+1],o.push(e[c].offsetLeft,e[c].offsetTop)}return l&&i?i:(t.srcCoords=a,t[n]=r?O0(o,a):O0(a,o))}function Jb(e){return e.nodeName.toUpperCase()==="CANVAS"}var uL=/([&<>"'])/g,hL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fL(e){return e==null?"":(e+"").replace(uL,function(t,r){return hL[r]})}var dL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Mf=[],pL=oe.browser.firefox&&+oe.browser.version.split(".")[0]<39;function Dp(e,t,r,n){return r=r||{},n?M0(e,t,r):pL&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):M0(e,t,r),r}function M0(e,t,r){if(oe.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(Jb(e)){var s=e.getBoundingClientRect();r.zrX=n-s.left,r.zrY=i-s.top;return}else if(Pp(Mf,e,n,i)){r.zrX=Mf[0],r.zrY=Mf[1];return}}r.zrX=r.zrY=0}function Nv(e){return e||window.event}function nn(e,t,r){if(t=Nv(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var a=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];a&&Dp(e,a,t,r)}else{Dp(e,t,t,r);var s=gL(t);t.zrDelta=s?s/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&dL.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function gL(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),s=n>0?-1:n<0?1:r>0?-1:1;return 3*i*s}function vL(e,t,r,n){e.addEventListener(t,r,n)}function mL(e,t,r,n){e.removeEventListener(t,r,n)}var yL=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function H$(e){return e.which===2||e.which===3}var TL=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var s={points:[],touches:[],target:r,event:t},a=0,o=i.length;a<o;a++){var l=i[a],c=Dp(n,l,{});s.points.push([c.zrX,c.zrY]),s.touches.push(l)}this._track.push(s)}},e.prototype._recognize=function(t){for(var r in If)if(If.hasOwnProperty(r)){var n=If[r](this._track,t);if(n)return n}},e}();function I0(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function EL(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var If={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var s=I0(n)/I0(i);!isFinite(s)&&(s=1),t.pinchScale=s;var a=EL(n);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};function yi(){return[1,0,0,1,0,0]}function tw(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Lv(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function na(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],s=t[0]*r[2]+t[2]*r[3],a=t[1]*r[2]+t[3]*r[3],o=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e}function Ru(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function Ov(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],s=t[2],a=t[4],o=t[1],l=t[3],c=t[5],u=Math.sin(r),h=Math.cos(r);return e[0]=i*h+o*u,e[1]=-i*u+o*h,e[2]=s*h+l*u,e[3]=-s*u+h*l,e[4]=h*(a-n[0])+u*(c-n[1])+n[0],e[5]=h*(c-n[1])-u*(a-n[0])+n[1],e}function Cv(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function ew(e,t){var r=t[0],n=t[2],i=t[4],s=t[1],a=t[3],o=t[5],l=r*a-s*n;return l?(l=1/l,e[0]=a*l,e[1]=-s*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-a*i)*l,e[5]=(s*i-r*o)*l,e):null}function bL(e){var t=yi();return Lv(t,e),t}const z$=Object.freeze(Object.defineProperty({__proto__:null,clone:bL,copy:Lv,create:yi,identity:tw,invert:ew,mul:na,rotate:Ov,scale:Cv,translate:Ru},Symbol.toStringTag,{value:"Module"}));var Dt=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var s=1-i;t.x=s*r.x+i*n.x,t.y=s*r.y+i*n.y},e}(),tc=Math.min,ec=Math.max,Ci=new Dt,Mi=new Dt,Ii=new Dt,ki=new Dt,Fa=new Dt,Ua=new Dt,Re=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=tc(t.x,this.x),n=tc(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ec(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=ec(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,s=yi();return Ru(s,s,[-r.x,-r.y]),Cv(s,s,[n,i]),Ru(s,s,[t.x,t.y]),s},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,s=n.x+n.width,a=n.y,o=n.y+n.height,l=t.x,c=t.x+t.width,u=t.y,h=t.y+t.height,d=!(s<l||c<i||o<u||h<a);if(r){var f=1/0,p=0,g=Math.abs(s-l),v=Math.abs(c-i),m=Math.abs(o-u),y=Math.abs(h-a),T=Math.min(g,v),b=Math.min(m,y);s<l||c<i?T>p&&(p=T,g<v?Dt.set(Ua,-g,0):Dt.set(Ua,v,0)):T<f&&(f=T,g<v?Dt.set(Fa,g,0):Dt.set(Fa,-v,0)),o<u||h<a?b>p&&(p=b,m<y?Dt.set(Ua,0,-m):Dt.set(Ua,0,y)):T<f&&(f=T,m<y?Dt.set(Fa,0,m):Dt.set(Fa,0,-y))}return r&&Dt.copy(r,d?Fa:Ua),d},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],s=n[3],a=n[4],o=n[5];t.x=r.x*i+a,t.y=r.y*s+o,t.width=r.width*i,t.height=r.height*s,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Ci.x=Ii.x=r.x,Ci.y=ki.y=r.y,Mi.x=ki.x=r.x+r.width,Mi.y=Ii.y=r.y+r.height,Ci.transform(n),ki.transform(n),Mi.transform(n),Ii.transform(n),t.x=tc(Ci.x,Mi.x,Ii.x,ki.x),t.y=tc(Ci.y,Mi.y,Ii.y,ki.y);var l=ec(Ci.x,Mi.x,Ii.x,ki.x),c=ec(Ci.y,Mi.y,Ii.y,ki.y);t.width=l-t.x,t.height=c-t.y},e}(),rw="silent";function wL(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:AL}}function AL(){yL(this.event)}var _L=function(e){Zt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Cl),Ga=function(){function e(t,r){this.x=t,this.y=r}return e}(),SL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],kf=new Re(0,0,0,0),nw=function(e){Zt(t,e);function t(r,n,i,s,a){var o=e.call(this)||this;return o._hovered=new Ga(0,0),o.storage=r,o.painter=n,o.painterRoot=s,o._pointerSize=a,i=i||new _L,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new aL(o),o}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(yr(SL,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,s=iw(this,n,i),a=this._hovered,o=a.target;o&&!o.__zr&&(a=this.findHover(a.x,a.y),o=a.target);var l=this._hovered=s?new Ga(n,i):this.findHover(n,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(a,"mouseout",r),this.dispatchToElement(l,"mousemove",r),c&&c!==o&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new Ga(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var s=r.target;if(!(s&&s.silent)){for(var a="on"+n,o=wL(n,r,i);s&&(s[a]&&(o.cancelBubble=!!s[a].call(s,o)),s.trigger(n,o),s=s.__hostTarget?s.__hostTarget:s.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(r,n,i){var s=this.storage.getDisplayList(),a=new Ga(r,n);if(k0(s,a,r,n,i),this._pointerSize&&!a.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Re(r-c,n-c,l,l),h=s.length-1;h>=0;h--){var d=s[h];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(kf.copy(d.getBoundingRect()),d.transform&&kf.applyTransform(d.transform),kf.intersect(u)&&o.push(d))}if(o.length)for(var f=4,p=Math.PI/12,g=Math.PI*2,v=0;v<c;v+=f)for(var m=0;m<g;m+=p){var y=r+v*Math.cos(m),T=n+v*Math.sin(m);if(k0(o,a,y,T,i),a.target)return a}}return a},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new TL);var i=this._gestureMgr;n==="start"&&i.clear();var s=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),s){var a=s.type;r.gestureEvent=a;var o=new Ga;o.target=s.target,this.dispatchToElement(o,a,s.event)}},t}(Cl);yr(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){nw.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=iw(this,r,n),s,a;if((e!=="mouseup"||!i)&&(s=this.findHover(r,n),a=s.target),e==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(e==="mouseup")this._upEl=a;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Kb(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,e,t)}});function xL(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,s=!1;n;){if(n.ignoreClip&&(s=!0),!s){var a=n.getClipPath();if(a&&!a.contain(t,r))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?rw:!0}return!1}function k0(e,t,r,n,i){for(var s=e.length-1;s>=0;s--){var a=e[s],o=void 0;if(a!==i&&!a.ignore&&(o=xL(a,r,n))&&(!t.topTarget&&(t.topTarget=a),o!==rw)){t.target=a;break}}}function iw(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var sw=32,$a=7;function RL(e){for(var t=0;e>=sw;)t|=e&1,e>>=1;return e+t}function P0(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;NL(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function NL(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function D0(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var s=e[n],a=t,o=n,l;a<o;)l=a+o>>>1,i(s,e[l])<0?o=l:a=l+1;var c=n-a;switch(c){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;c>0;)e[a+c]=e[a+c-1],c--}e[a]=s}}function Pf(e,t,r,n,i,s){var a=0,o=0,l=1;if(s(e,t[r+i])>0){for(o=n-i;l<o&&s(e,t[r+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}else{for(o=i+1;l<o&&s(e,t[r+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}for(a++;a<l;){var u=a+(l-a>>>1);s(e,t[r+u])>0?a=u+1:l=u}return l}function Df(e,t,r,n,i,s){var a=0,o=0,l=1;if(s(e,t[r+i])<0){for(o=i+1;l<o&&s(e,t[r+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}else{for(o=n-i;l<o&&s(e,t[r+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}for(a++;a<l;){var u=a+(l-a>>>1);s(e,t[r+u])<0?l=u:a=u+1}return l}function LL(e,t){var r=$a,n,i,s=0,a=[];n=[],i=[];function o(f,p){n[s]=f,i[s]=p,s+=1}function l(){for(;s>1;){var f=s-2;if(f>=1&&i[f-1]<=i[f]+i[f+1]||f>=2&&i[f-2]<=i[f]+i[f-1])i[f-1]<i[f+1]&&f--;else if(i[f]>i[f+1])break;u(f)}}function c(){for(;s>1;){var f=s-2;f>0&&i[f-1]<i[f+1]&&f--,u(f)}}function u(f){var p=n[f],g=i[f],v=n[f+1],m=i[f+1];i[f]=g+m,f===s-3&&(n[f+1]=n[f+2],i[f+1]=i[f+2]),s--;var y=Df(e[v],e,p,g,0,t);p+=y,g-=y,g!==0&&(m=Pf(e[p+g-1],e,v,m,m-1,t),m!==0&&(g<=m?h(p,g,v,m):d(p,g,v,m)))}function h(f,p,g,v){var m=0;for(m=0;m<p;m++)a[m]=e[f+m];var y=0,T=g,b=f;if(e[b++]=e[T++],--v===0){for(m=0;m<p;m++)e[b+m]=a[y+m];return}if(p===1){for(m=0;m<v;m++)e[b+m]=e[T+m];e[b+v]=a[y];return}for(var A=r,R,w,S;;){R=0,w=0,S=!1;do if(t(e[T],a[y])<0){if(e[b++]=e[T++],w++,R=0,--v===0){S=!0;break}}else if(e[b++]=a[y++],R++,w=0,--p===1){S=!0;break}while((R|w)<A);if(S)break;do{if(R=Df(e[T],a,y,p,0,t),R!==0){for(m=0;m<R;m++)e[b+m]=a[y+m];if(b+=R,y+=R,p-=R,p<=1){S=!0;break}}if(e[b++]=e[T++],--v===0){S=!0;break}if(w=Pf(a[y],e,T,v,0,t),w!==0){for(m=0;m<w;m++)e[b+m]=e[T+m];if(b+=w,T+=w,v-=w,v===0){S=!0;break}}if(e[b++]=a[y++],--p===1){S=!0;break}A--}while(R>=$a||w>=$a);if(S)break;A<0&&(A=0),A+=2}if(r=A,r<1&&(r=1),p===1){for(m=0;m<v;m++)e[b+m]=e[T+m];e[b+v]=a[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)e[b+m]=a[y+m]}}function d(f,p,g,v){var m=0;for(m=0;m<v;m++)a[m]=e[g+m];var y=f+p-1,T=v-1,b=g+v-1,A=0,R=0;if(e[b--]=e[y--],--p===0){for(A=b-(v-1),m=0;m<v;m++)e[A+m]=a[m];return}if(v===1){for(b-=p,y-=p,R=b+1,A=y+1,m=p-1;m>=0;m--)e[R+m]=e[A+m];e[b]=a[T];return}for(var w=r;;){var S=0,N=0,I=!1;do if(t(a[T],e[y])<0){if(e[b--]=e[y--],S++,N=0,--p===0){I=!0;break}}else if(e[b--]=a[T--],N++,S=0,--v===1){I=!0;break}while((S|N)<w);if(I)break;do{if(S=p-Df(a[T],e,f,p,p-1,t),S!==0){for(b-=S,y-=S,p-=S,R=b+1,A=y+1,m=S-1;m>=0;m--)e[R+m]=e[A+m];if(p===0){I=!0;break}}if(e[b--]=a[T--],--v===1){I=!0;break}if(N=v-Pf(e[y],a,0,v,v-1,t),N!==0){for(b-=N,T-=N,v-=N,R=b+1,A=T+1,m=0;m<N;m++)e[R+m]=a[A+m];if(v<=1){I=!0;break}}if(e[b--]=e[y--],--p===0){I=!0;break}w--}while(S>=$a||N>=$a);if(I)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),v===1){for(b-=p,y-=p,R=b+1,A=y+1,m=p-1;m>=0;m--)e[R+m]=e[A+m];e[b]=a[T]}else{if(v===0)throw new Error;for(A=b-(v-1),m=0;m<v;m++)e[A+m]=a[m]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function OL(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var s=0;if(i<sw){s=P0(e,r,n,t),D0(e,r,n,r+s,t);return}var a=LL(e,t),o=RL(i);do{if(s=P0(e,r,n,t),s<o){var l=i;l>o&&(l=o),D0(e,r,r+l,r+s,t),s=l}a.pushRun(r,s),a.mergeRuns(),i-=s,r+=s}while(i!==0);a.forceMergeRuns()}}var jn=1,fo=2,Ha=4,F0=!1;function Ff(){F0||(F0=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function U0(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var CL=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=U0}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,s=r.length;i<s;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,OL(n,U0)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var s=i,a=t;s;)s.parent=a,s.updateTransform(),r.push(s),a=s,s=s.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var c=o[l];t.__dirty&&(c.__dirty|=jn),this._updateAndAddDisplayable(c,r,n)}t.__dirty=0}else{var u=t;r&&r.length?u.__clipPaths=r:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Ff(),u.z=0),isNaN(u.z2)&&(Ff(),u.z2=0),isNaN(u.zlevel)&&(Ff(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,r,n);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=Cn(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),Fp;Fp=oe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var rl={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-rl.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?rl.bounceIn(e*2)*.5:rl.bounceOut(e*2-1)*.5+.5}},rc=Math.pow,Ti=Math.sqrt,Nu=1e-8,aw=1e-4,G0=Ti(3),nc=1/3,Mn=Ss(),jr=Ss(),ia=Ss();function pi(e){return e>-Nu&&e<Nu}function ow(e){return e>Nu||e<-Nu}function Ge(e,t,r,n,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*n+3*s*r)}function $0(e,t,r,n,i){var s=1-i;return 3*(((t-e)*s+2*(r-t)*i)*s+(n-r)*i*i)}function lw(e,t,r,n,i,s){var a=n+3*(t-r)-e,o=3*(r-t*2+e),l=3*(t-e),c=e-i,u=o*o-3*a*l,h=o*l-9*a*c,d=l*l-3*o*c,f=0;if(pi(u)&&pi(h))if(pi(o))s[0]=0;else{var p=-l/o;p>=0&&p<=1&&(s[f++]=p)}else{var g=h*h-4*u*d;if(pi(g)){var v=h/u,p=-o/a+v,m=-v/2;p>=0&&p<=1&&(s[f++]=p),m>=0&&m<=1&&(s[f++]=m)}else if(g>0){var y=Ti(g),T=u*o+1.5*a*(-h+y),b=u*o+1.5*a*(-h-y);T<0?T=-rc(-T,nc):T=rc(T,nc),b<0?b=-rc(-b,nc):b=rc(b,nc);var p=(-o-(T+b))/(3*a);p>=0&&p<=1&&(s[f++]=p)}else{var A=(2*u*o-3*a*h)/(2*Ti(u*u*u)),R=Math.acos(A)/3,w=Ti(u),S=Math.cos(R),p=(-o-2*w*S)/(3*a),m=(-o+w*(S+G0*Math.sin(R)))/(3*a),N=(-o+w*(S-G0*Math.sin(R)))/(3*a);p>=0&&p<=1&&(s[f++]=p),m>=0&&m<=1&&(s[f++]=m),N>=0&&N<=1&&(s[f++]=N)}}return f}function cw(e,t,r,n,i){var s=6*r-12*t+6*e,a=9*t+3*n-3*e-9*r,o=3*t-3*e,l=0;if(pi(a)){if(ow(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(pi(u))i[0]=-s/(2*a);else if(u>0){var h=Ti(u),c=(-s+h)/(2*a),d=(-s-h)/(2*a);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function bi(e,t,r,n,i,s){var a=(t-e)*i+e,o=(r-t)*i+t,l=(n-r)*i+r,c=(o-a)*i+a,u=(l-o)*i+o,h=(u-c)*i+c;s[0]=e,s[1]=a,s[2]=c,s[3]=h,s[4]=h,s[5]=u,s[6]=l,s[7]=n}function ML(e,t,r,n,i,s,a,o,l,c,u){var h,d=.005,f=1/0,p,g,v,m;Mn[0]=l,Mn[1]=c;for(var y=0;y<1;y+=.05)jr[0]=Ge(e,r,i,a,y),jr[1]=Ge(t,n,s,o,y),v=ls(Mn,jr),v<f&&(h=y,f=v);f=1/0;for(var T=0;T<32&&!(d<aw);T++)p=h-d,g=h+d,jr[0]=Ge(e,r,i,a,p),jr[1]=Ge(t,n,s,o,p),v=ls(jr,Mn),p>=0&&v<f?(h=p,f=v):(ia[0]=Ge(e,r,i,a,g),ia[1]=Ge(t,n,s,o,g),m=ls(ia,Mn),g<=1&&m<f?(h=g,f=m):d*=.5);return u&&(u[0]=Ge(e,r,i,a,h),u[1]=Ge(t,n,s,o,h)),Ti(f)}function IL(e,t,r,n,i,s,a,o,l){for(var c=e,u=t,h=0,d=1/l,f=1;f<=l;f++){var p=f*d,g=Ge(e,r,i,a,p),v=Ge(t,n,s,o,p),m=g-c,y=v-u;h+=Math.sqrt(m*m+y*y),c=g,u=v}return h}function Je(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function H0(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function kL(e,t,r,n,i){var s=e-2*t+r,a=2*(t-e),o=e-n,l=0;if(pi(s)){if(ow(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(pi(u)){var c=-a/(2*s);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var h=Ti(u),c=(-a+h)/(2*s),d=(-a-h)/(2*s);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function uw(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function Lu(e,t,r,n,i){var s=(t-e)*n+e,a=(r-t)*n+t,o=(a-s)*n+s;i[0]=e,i[1]=s,i[2]=o,i[3]=o,i[4]=a,i[5]=r}function PL(e,t,r,n,i,s,a,o,l){var c,u=.005,h=1/0;Mn[0]=a,Mn[1]=o;for(var d=0;d<1;d+=.05){jr[0]=Je(e,r,i,d),jr[1]=Je(t,n,s,d);var f=ls(Mn,jr);f<h&&(c=d,h=f)}h=1/0;for(var p=0;p<32&&!(u<aw);p++){var g=c-u,v=c+u;jr[0]=Je(e,r,i,g),jr[1]=Je(t,n,s,g);var f=ls(jr,Mn);if(g>=0&&f<h)c=g,h=f;else{ia[0]=Je(e,r,i,v),ia[1]=Je(t,n,s,v);var m=ls(ia,Mn);v<=1&&m<h?(c=v,h=m):u*=.5}}return l&&(l[0]=Je(e,r,i,c),l[1]=Je(t,n,s,c)),Ti(h)}function DL(e,t,r,n,i,s,a){for(var o=e,l=t,c=0,u=1/a,h=1;h<=a;h++){var d=h*u,f=Je(e,r,i,d),p=Je(t,n,s,d),g=f-o,v=p-l;c+=Math.sqrt(g*g+v*v),o=f,l=p}return c}var FL=/cubic-bezier\(([0-9,\.e ]+)\)/;function Mv(e){var t=e&&FL.exec(e);if(t){var r=t[1].split(","),n=+ts(r[0]),i=+ts(r[1]),s=+ts(r[2]),a=+ts(r[3]);if(isNaN(n+i+s+a))return;var o=[];return function(l){return l<=0?0:l>=1?1:lw(0,n,s,1,l,o)&&Ge(0,i,a,1,o[0])}}}var UL=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||mi,this.ondestroy=t.ondestroy||mi,this.onrestart=t.onrestart||mi,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,s=i/n;s<0&&(s=0),s=Math.min(s,1);var a=this.easingFunc,o=a?a(s):s;if(this.onframe(o),s===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=xa(t)?t:rl[t]||Mv(t)},e}(),hw=function(){function e(t){this.value=t}return e}(),GL=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new hw(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Ph=function(){function e(t){this._list=new GL,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,s=null;if(i[t]==null){var a=n.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],s=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new hw(r),o.key=t,n.insertEntry(o),i[t]=o}return s},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),z0={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fn(e){return e=Math.round(e),e<0?0:e>255?255:e}function $L(e){return e=Math.round(e),e<0?0:e>360?360:e}function gl(e){return e<0?0:e>1?1:e}function Uf(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?fn(parseFloat(t)/100*255):fn(parseInt(t,10))}function cs(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?gl(parseFloat(t)/100):gl(parseFloat(t))}function Gf(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function gi(e,t,r){return e+(t-e)*r}function qr(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function Up(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var fw=new Ph(20),ic=null;function Ps(e,t){ic&&Up(ic,t),ic=fw.put(e,ic||t.slice())}function kr(e,t){if(e){t=t||[];var r=fw.get(e);if(r)return Up(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in z0)return Up(t,z0[n]),Ps(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var s=parseInt(n.slice(1,4),16);if(!(s>=0&&s<=4095)){qr(t,0,0,0,1);return}return qr(t,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Ps(e,t),t}else if(i===7||i===9){var s=parseInt(n.slice(1,7),16);if(!(s>=0&&s<=16777215)){qr(t,0,0,0,1);return}return qr(t,(s&16711680)>>16,(s&65280)>>8,s&255,i===9?parseInt(n.slice(7),16)/255:1),Ps(e,t),t}return}var a=n.indexOf("("),o=n.indexOf(")");if(a!==-1&&o+1===i){var l=n.substr(0,a),c=n.substr(a+1,o-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?qr(t,+c[0],+c[1],+c[2],1):qr(t,0,0,0,1);u=cs(c.pop());case"rgb":if(c.length>=3)return qr(t,Uf(c[0]),Uf(c[1]),Uf(c[2]),c.length===3?u:cs(c[3])),Ps(e,t),t;qr(t,0,0,0,1);return;case"hsla":if(c.length!==4){qr(t,0,0,0,1);return}return c[3]=cs(c[3]),Gp(c,t),Ps(e,t),t;case"hsl":if(c.length!==3){qr(t,0,0,0,1);return}return Gp(c,t),Ps(e,t),t;default:return}}qr(t,0,0,0,1)}}function Gp(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=cs(e[1]),i=cs(e[2]),s=i<=.5?i*(n+1):i+n-i*n,a=i*2-s;return t=t||[],qr(t,fn(Gf(a,s,r+1/3)*255),fn(Gf(a,s,r)*255),fn(Gf(a,s,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function HL(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=s-i,o=(s+i)/2,l,c;if(a===0)l=0,c=0;else{o<.5?c=a/(s+i):c=a/(2-s-i);var u=((s-t)/6+a/2)/a,h=((s-r)/6+a/2)/a,d=((s-n)/6+a/2)/a;t===s?l=d-h:r===s?l=1/3+u-d:n===s&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var f=[l*360,c,o];return e[3]!=null&&f.push(e[3]),f}}function $p(e,t){var r=kr(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return xs(r,r.length===4?"rgba":"rgb")}}function zL(e){var t=kr(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function dw(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),s=Math.ceil(n),a=t[i],o=t[s],l=n-i;return r[0]=fn(gi(a[0],o[0],l)),r[1]=fn(gi(a[1],o[1],l)),r[2]=fn(gi(a[2],o[2],l)),r[3]=gl(gi(a[3],o[3],l)),r}}var BL=dw;function pw(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),s=Math.ceil(n),a=kr(t[i]),o=kr(t[s]),l=n-i,c=xs([fn(gi(a[0],o[0],l)),fn(gi(a[1],o[1],l)),fn(gi(a[2],o[2],l)),gl(gi(a[3],o[3],l))],"rgba");return r?{color:c,leftIndex:i,rightIndex:s,value:n}:c}}var WL=pw;function YL(e,t,r,n){var i=kr(e);if(e)return i=HL(i),t!=null&&(i[0]=$L(t)),r!=null&&(i[1]=cs(r)),n!=null&&(i[2]=cs(n)),xs(Gp(i),"rgba")}function XL(e,t){var r=kr(e);if(r&&t!=null)return r[3]=gl(t),xs(r,"rgba")}function xs(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function vl(e,t){var r=kr(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}function qL(){return xs([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var B0=new Ph(100);function gw(e){if(gn(e)){var t=B0.get(e);return t||(t=$p(e,-.1),B0.put(e,t)),t}else if(kh(e)){var r=Xt({},e);return r.colorStops=ye(e.colorStops,function(n){return{offset:n.offset,color:$p(n.color,-.1)}}),r}return e}const B$=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:dw,fastMapToColor:BL,lerp:pw,lift:$p,liftColor:gw,lum:vl,mapToColor:WL,modifyAlpha:XL,modifyHSL:YL,parse:kr,random:qL,stringify:xs,toHex:zL},Symbol.toStringTag,{value:"Module"}));var Ou=Math.round;function ml(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=kr(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var W0=1e-4;function vi(e){return e<W0&&e>-W0}function sc(e){return Ou(e*1e3)/1e3}function Hp(e){return Ou(e*1e4)/1e4}function VL(e){return"matrix("+sc(e[0])+","+sc(e[1])+","+sc(e[2])+","+sc(e[3])+","+Hp(e[4])+","+Hp(e[5])+")"}var jL={left:"start",right:"end",center:"middle",middle:"middle"};function KL(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function ZL(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function QL(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function vw(e){return e&&!!e.image}function JL(e){return e&&!!e.svgElement}function Iv(e){return vw(e)||JL(e)}function mw(e){return e.type==="linear"}function yw(e){return e.type==="radial"}function Tw(e){return e&&(e.type==="linear"||e.type==="radial")}function Dh(e){return"url(#"+e+")"}function Ew(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function bw(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*Yc,i=ue(e.scaleX,1),s=ue(e.scaleY,1),a=e.skewX||0,o=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||s!==1)&&l.push("scale("+i+","+s+")"),(a||o)&&l.push("skew("+Ou(a*Yc)+"deg, "+Ou(o*Yc)+"deg)"),l.join(" ")}var tO=function(){return oe.hasGlobalWindow&&xa(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),zp=Array.prototype.slice;function Yn(e,t,r){return(t-e)*r+e}function $f(e,t,r,n){for(var i=t.length,s=0;s<i;s++)e[s]=Yn(t[s],r[s],n);return e}function eO(e,t,r,n){for(var i=t.length,s=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var o=0;o<s;o++)e[a][o]=Yn(t[a][o],r[a][o],n)}return e}function ac(e,t,r,n){for(var i=t.length,s=0;s<i;s++)e[s]=t[s]+r[s]*n;return e}function Y0(e,t,r,n){for(var i=t.length,s=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var o=0;o<s;o++)e[a][o]=t[a][o]+r[a][o]*n}return e}function rO(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,s=Math.min(r,n),a=i[s-1]||{color:[0,0,0,0],offset:0},o=s;o<Math.max(r,n);o++)i.push({offset:a.offset,color:a.color.slice()})}function nO(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var s=n.length,a=i.length;if(s!==a){var o=s>a;if(o)n.length=a;else for(var l=s;l<a;l++)n.push(r===1?i[l]:zp.call(i[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=i[l][u])}}function qc(e){if(pn(e)){var t=e.length;if(pn(e[0])){for(var r=[],n=0;n<t;n++)r.push(zp.call(e[n]));return r}return zp.call(e)}return e}function Vc(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function iO(e){return pn(e&&e[0])?2:1}var oc=0,jc=1,ww=2,po=3,Bp=4,Wp=5,X0=6;function q0(e){return e===Bp||e===Wp}function lc(e){return e===jc||e===ww}var za=[0,0,0,0],sO=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,s=i.length,a=!1,o=X0,l=r;if(pn(r)){var c=iO(r);o=c,(c===1&&!tl(r[0])||c===2&&!tl(r[0][0]))&&(a=!0)}else if(tl(r)&&!zb(r))o=oc;else if(gn(r))if(!isNaN(+r))o=oc;else{var u=kr(r);u&&(l=u,o=po)}else if(kh(r)){var h=Xt({},l);h.colorStops=ye(r.colorStops,function(f){return{offset:f.offset,color:kr(f.color)}}),mw(r)?o=Bp:yw(r)&&(o=Wp),l=h}s===0?this.valType=o:(o!==this.valType||o===X0)&&(a=!0),this.discrete=this.discrete||a;var d={time:t,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=xa(n)?n:rl[n]||Mv(n)),i.push(d),d},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,v){return g.time-v.time});for(var i=this.valType,s=n.length,a=n[s-1],o=this.discrete,l=lc(i),c=q0(i),u=0;u<s;u++){var h=n[u],d=h.value,f=a.value;h.percent=h.time/t,o||(l&&u!==s-1?nO(d,f,i):c&&rO(d.colorStops,f.colorStops))}if(!o&&i!==Wp&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var p=n[0].value,u=0;u<s;u++)i===oc?n[u].additiveValue=n[u].value-p:i===po?n[u].additiveValue=ac([],n[u].value,p,-1):lc(i)&&(n[u].additiveValue=i===jc?ac([],n[u].value,p,-1):Y0([],n[u].value,p,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",s=this.valType,a=this.keyframes,o=a.length,l=this.propName,c=s===po,u,h=this._lastFr,d=Math.min,f,p;if(o===1)f=p=a[0];else{if(r<0)u=0;else if(r<this._lastFrP){var g=d(h+1,o-1);for(u=g;u>=0&&!(a[u].percent<=r);u--);u=d(u,o-2)}else{for(u=h;u<o&&!(a[u].percent>r);u++);u=d(u-1,o-2)}p=a[u+1],f=a[u]}if(f&&p){this._lastFr=u,this._lastFrP=r;var v=p.percent-f.percent,m=v===0?1:d((r-f.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var y=n?this._additiveValue:c?za:t[l];if((lc(s)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?f.rawValue:p.rawValue;else if(lc(s))s===jc?$f(y,f[i],p[i],m):eO(y,f[i],p[i],m);else if(q0(s)){var T=f[i],b=p[i],A=s===Bp;t[l]={type:A?"linear":"radial",x:Yn(T.x,b.x,m),y:Yn(T.y,b.y,m),colorStops:ye(T.colorStops,function(w,S){var N=b.colorStops[S];return{offset:Yn(w.offset,N.offset,m),color:Vc($f([],w.color,N.color,m))}}),global:b.global},A?(t[l].x2=Yn(T.x2,b.x2,m),t[l].y2=Yn(T.y2,b.y2,m)):t[l].r=Yn(T.r,b.r,m)}else if(c)$f(y,f[i],p[i],m),n||(t[l]=Vc(y));else{var R=Yn(f[i],p[i],m);n?this._additiveValue=R:t[l]=R}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===oc?t[n]=t[n]+i:r===po?(kr(t[n],za),ac(za,za,i,1),t[n]=Vc(za)):r===jc?ac(t[n],t[n],i,1):r===ww&&Y0(t[n],t[n],i,1)},e}(),kv=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){wv("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,ee(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var s=this._tracks,a=0;a<n.length;a++){var o=n[a],l=s[o];if(!l){l=s[o]=new sO(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var h=u.keyframes,d=h[h.length-1];c=d&&d.value,u.valType===po&&c&&(c=Vc(c))}else c=this._target[o];if(c==null)continue;t>0&&l.addKeyframe(0,qc(c),i),this._trackKeys.push(o)}l.addKeyframe(t,qc(r[o]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var s=n[i].getTrack(t);s&&(r=s)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,s=0;s<this._trackKeys.length;s++){var a=this._trackKeys[s],o=this._tracks[a],l=this._getAdditiveTrack(a),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=c[u-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var d=new UL({life:i,loop:this._loop,delay:this._delay||0,onframe:function(f){r._started=2;var p=r._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var v=0;v<n.length;v++)n[v].step(r._target,f);var m=r._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](r._target,f)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return ye(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,s=0;s<t.length;s++){var a=n[t[s]];a&&!a.isFinished()&&(r?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var o=!0,s=0;s<i.length;s++)if(!n[i[s]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var s=r[i],a=this._tracks[s];if(!(!a||a.isFinished())){var o=a.keyframes,l=o[n?0:o.length-1];l&&(t[s]=qc(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||ee(t);for(var n=0;n<r.length;n++){var i=r[n],s=this._tracks[i];if(s){var a=s.keyframes;if(a.length>1){var o=a.pop();s.addKeyframe(o.time,t[i]),s.prepare(this._maxTime,s.getAdditiveTrack())}}}},e}();function js(){return new Date().getTime()}var aO=function(e){Zt(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=js()-this._pausedTime,i=n-this._time,s=this._head;s;){var a=s.next,o=s.step(n,i);o&&(s.ondestroy(),this.removeClip(s)),s=a}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Fp(n),!r._paused&&r.update())}Fp(n)},t.prototype.start=function(){this._running||(this._time=js(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=js(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=js()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new kv(r,n.loop);return this.addAnimator(i),i},t}(Cl),oO=300,Hf=oe.domSupported,zf=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=ye(e,function(i){var s=i.replace("mouse","pointer");return r.hasOwnProperty(s)?s:i});return{mouse:e,touch:t,pointer:n}}(),V0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},j0=!1;function Yp(e){var t=e.pointerType;return t==="pen"||t==="touch"}function lO(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Bf(e){e&&(e.zrByTouch=!0)}function cO(e,t){return nn(e.dom,new uO(e,t),!0)}function Aw(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var uO=function(){function e(t,r){this.stopPropagation=mi,this.stopImmediatePropagation=mi,this.preventDefault=mi,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),sn={mousedown:function(e){e=nn(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=nn(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=nn(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=nn(this.dom,e);var t=e.toElement||e.relatedTarget;Aw(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){j0=!0,e=nn(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){j0||(e=nn(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=nn(this.dom,e),Bf(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),sn.mousemove.call(this,e),sn.mousedown.call(this,e)},touchmove:function(e){e=nn(this.dom,e),Bf(e),this.handler.processGesture(e,"change"),sn.mousemove.call(this,e)},touchend:function(e){e=nn(this.dom,e),Bf(e),this.handler.processGesture(e,"end"),sn.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<oO&&sn.click.call(this,e)},pointerdown:function(e){sn.mousedown.call(this,e)},pointermove:function(e){Yp(e)||sn.mousemove.call(this,e)},pointerup:function(e){sn.mouseup.call(this,e)},pointerout:function(e){Yp(e)||sn.mouseout.call(this,e)}};yr(["click","dblclick","contextmenu"],function(e){sn[e]=function(t){t=nn(this.dom,t),this.trigger(e,t)}});var Xp={pointermove:function(e){Yp(e)||Xp.mousemove.call(this,e)},pointerup:function(e){Xp.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function hO(e,t){var r=t.domHandlers;oe.pointerEventsSupported?yr(zf.pointer,function(n){Kc(t,n,function(i){r[n].call(e,i)})}):(oe.touchEventsSupported&&yr(zf.touch,function(n){Kc(t,n,function(i){r[n].call(e,i),lO(t)})}),yr(zf.mouse,function(n){Kc(t,n,function(i){i=Nv(i),t.touching||r[n].call(e,i)})}))}function fO(e,t){oe.pointerEventsSupported?yr(V0.pointer,r):oe.touchEventsSupported||yr(V0.mouse,r);function r(n){function i(s){s=Nv(s),Aw(e,s.target)||(s=cO(e,s),t.domHandlers[n].call(e,s))}Kc(t,n,i,{capture:!0})}}function Kc(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,vL(e.domTarget,t,r,n)}function Wf(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&mL(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var K0=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),dO=function(e){Zt(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new K0(r,sn),Hf&&(i._globalHandlerScope=new K0(document,Xp)),hO(i,i._localHandlerScope),i}return t.prototype.dispose=function(){Wf(this._localHandlerScope),Hf&&Wf(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,Hf&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?fO(this,n):Wf(n)}},t}(Cl),_w=1;oe.hasGlobalWindow&&(_w=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Z0=_w,qp=.4,Vp="#333",jp="#ccc",pO="#eee",Q0=tw,J0=5e-5;function Pi(e){return e>J0||e<-J0}var Di=[],Ds=[],Yf=yi(),Xf=Math.abs,Pv=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Pi(this.rotation)||Pi(this.x)||Pi(this.y)||Pi(this.scaleX-1)||Pi(this.scaleY-1)||Pi(this.skewX)||Pi(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(Q0(n),this.invTransform=null);return}n=n||yi(),r?this.getLocalTransform(n):Q0(n),t&&(r?na(n,t,n):Lv(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Di);var n=Di[0]<0?-1:1,i=Di[1]<0?-1:1,s=((Di[0]-n)*r+n)/Di[0]||0,a=((Di[1]-i)*r+i)/Di[1]||0;t[0]*=s,t[1]*=s,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||yi(),ew(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),s=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(s),r=Math.sqrt(r),this.skewX=s,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||yi(),na(Ds,t.invTransform,r),r=Ds);var n=this.originX,i=this.originY;(n||i)&&(Yf[4]=n,Yf[5]=i,na(Ds,r,Yf),Ds[4]-=n,Ds[5]-=i,r=Ds),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&ra(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&ra(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&Xf(t[0]-1)>1e-10&&Xf(t[3]-1)>1e-10?Math.sqrt(Xf(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Sw(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,s=t.scaleX,a=t.scaleY,o=t.anchorX,l=t.anchorY,c=t.rotation||0,u=t.x,h=t.y,d=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;if(n||i||o||l){var p=n+o,g=i+l;r[4]=-p*s-d*g*a,r[5]=-g*a-f*p*s}else r[4]=r[5]=0;return r[0]=s,r[3]=a,r[1]=f*s,r[2]=d*a,c&&Ov(r,r,c),r[4]+=n+u,r[5]+=i+h,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),yl=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Sw(e,t){for(var r=0;r<yl.length;r++){var n=yl[r];e[n]=t[n]}}var ty={};function Pr(e,t){t=t||ps;var r=ty[t];r||(r=ty[t]=new Ph(500));var n=r.get(e);return n==null&&(n=ma.measureText(e,t).width,r.put(e,n)),n}function ey(e,t,r,n){var i=Pr(e,t),s=Fh(t),a=go(0,i,r),o=Ws(0,s,n),l=new Re(a,o,i,s);return l}function gO(e,t,r,n){var i=((e||"")+"").split(`
`),s=i.length;if(s===1)return ey(i[0],t,r,n);for(var a=new Re(0,0,0,0),o=0;o<i.length;o++){var l=ey(i[o],t,r,n);o===0?a.copy(l):a.union(l)}return a}function go(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Ws(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function Fh(e){return Pr("",e)}function Tl(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function vO(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,s=r.height,a=r.width,o=s/2,l=r.x,c=r.y,u="left",h="top";if(n instanceof Array)l+=Tl(n[0],r.width),c+=Tl(n[1],r.height),u=null,h=null;else switch(n){case"left":l-=i,c+=o,u="right",h="middle";break;case"right":l+=i+a,c+=o,h="middle";break;case"top":l+=a/2,c-=i,u="center",h="bottom";break;case"bottom":l+=a/2,c+=s+i,u="center";break;case"inside":l+=a/2,c+=o,u="center",h="middle";break;case"insideLeft":l+=i,c+=o,h="middle";break;case"insideRight":l+=a-i,c+=o,u="right",h="middle";break;case"insideTop":l+=a/2,c+=i,u="center";break;case"insideBottom":l+=a/2,c+=s-i,u="center",h="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=a-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=s-i,h="bottom";break;case"insideBottomRight":l+=a-i,c+=s-i,u="right",h="bottom";break}return e=e||{},e.x=l,e.y=c,e.align=u,e.verticalAlign=h,e}var qf="__zr_normal__",Vf=yl.concat(["ignore"]),mO=Ll(yl,function(e,t){return e[t]=!0,e},{ignore:!1}),Fs={},yO=new Re(0,0,0,0),Uh=function(){function e(t){this.id=bv(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,s=r.innerTransformable,a=void 0,o=void 0,l=!1;s.parent=i?this:null;var c=!1;if(s.copyTransform(r),n.position!=null){var u=yO;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Fs,n,u):vO(Fs,n,u),s.x=Fs.x,s.y=Fs.y,a=Fs.align,o=Fs.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var d=void 0,f=void 0;h==="center"?(d=u.width*.5,f=u.height*.5):(d=Tl(h[0],u.width),f=Tl(h[1],u.height)),c=!0,s.originX=-s.x+d+(i?0:u.x),s.originY=-s.y+f+(i?0:u.y)}}n.rotation!=null&&(s.rotation=n.rotation);var p=n.offset;p&&(s.x+=p[0],s.y+=p[1],c||(s.originX=-p[0],s.originY=-p[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,T=void 0;g&&this.canBeInsideText()?(m=n.insideFill,y=n.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),T=!0)):(m=n.outsideFill,y=n.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),T=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||T!==v.autoStroke||a!==v.align||o!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=y,v.autoStroke=T,v.align=a,v.verticalAlign=o,r.setDefaultTextStyle(v)),r.__dirty|=jn,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?jp:Vp},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&kr(r);n||(n=[255,255,255,1]);for(var i=n[3],s=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*i+(s?0:255)*(1-i);return n[3]=1,xs(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},Xt(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(Zn(t))for(var n=t,i=ee(n),s=0;s<i.length;s++){var a=i[s];this.attrKV(a,t[a])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],s=i.__fromStateTransition;if(!(i.getLoop()||s&&s!==qf)){var a=i.targetName,o=a?r[a]:r;i.saveTo(o)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,Vf)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var s=n[i];t[s]!=null&&!(s in r)&&(r[s]=this[s])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(qf,!1,t)},e.prototype.useState=function(t,r,n,i){var s=t===qf,a=this.hasState();if(!(!a&&s)){var o=this.currentStates,l=this.stateTransition;if(!(Cn(o,t)>=0&&(r||o.length===1))){var c;if(this.stateProxy&&!s&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!s){wv("State "+t+" not exists.");return}s||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,d=this._textGuide;return h&&h.useState(t,r,n,u),d&&d.useState(t,r,n,u),s?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn),c}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],s=this.currentStates,a=t.length,o=a===s.length;if(o){for(var l=0;l<a;l++)if(t[l]!==s[l]){o=!1;break}}if(o)return;for(var l=0;l<a;l++){var c=t[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,t)),u||(u=this.states[c]),u&&i.push(u)}var h=i[a-1],d=!!(h&&h.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!r&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(t,r,d),v&&v.useStates(t,r,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Cn(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),s=Cn(i,t),a=Cn(i,r)>=0;s>=0?a?i.splice(s,1):i[s]=r:n&&!a&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var s=t[i];Xt(r,s),s.textConfig&&(n=n||{},Xt(n,s.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,s,a){var o=!(r&&i);r&&r.textConfig?(this.textConfig=Xt({},i?this.textConfig:n.textConfig),Xt(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<Vf.length;u++){var h=Vf[u],d=s&&mO[h];r&&r[h]!=null?d?(c=!0,l[h]=r[h]):this[h]=r[h]:o&&n[h]!=null&&(d?(c=!0,l[h]=n[h]):this[h]=n[h])}if(!s)for(var u=0;u<this.animators.length;u++){var f=this.animators[u],p=f.targetName;f.getLoop()||f.__changeFinalValue(p?(r||n)[p]:r||n)}c&&this._transitionState(t,l,a)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new Pv,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Xt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=jn;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,s=new kv(i,r,n);return t&&(s.targetName=t),this.addAnimator(s,t),s},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var s=i.animators,a=Cn(s,t);a>=0&&s.splice(a,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,s=[],a=0;a<i;a++){var o=n[a];!t||t===o.scope?o.stop(r):s.push(o)}return this.animators=s,this},e.prototype.animateTo=function(t,r,n){jf(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){jf(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var s=jf(this,r,n,i),a=0;a<s.length;a++)s[a].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=jn;function r(n,i,s,a){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[s]=l[0],this[a]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[s]},set:function(u){l[s]=u}}),Object.defineProperty(c,1,{get:function(){return l[a]},set:function(u){l[a]=u}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();_v(Uh,Cl);_v(Uh,Pv);function jf(e,t,r,n,i){r=r||{};var s=[];xw(e,"",e,t,r,n,s,i);var a=s.length,o=!1,l=r.done,c=r.aborted,u=function(){o=!0,a--,a<=0&&(o?l&&l():c&&c())},h=function(){a--,a<=0&&(o?l&&l():c&&c())};a||l&&l(),s.length>0&&r.during&&s[0].during(function(p,g){r.during(g)});for(var d=0;d<s.length;d++){var f=s[d];u&&f.done(u),h&&f.aborted(h),r.force&&f.duration(r.duration),f.start(r.easing)}return s}function Kf(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function TO(e){return pn(e[0])}function EO(e,t,r){if(pn(t[r]))if(pn(e[r])||(e[r]=[]),Hb(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),Kf(e[r],t[r],n))}else{var i=t[r],s=e[r],a=i.length;if(TO(i))for(var o=i[0].length,l=0;l<a;l++)s[l]?Kf(s[l],i[l],o):s[l]=Array.prototype.slice.call(i[l]);else Kf(s,i,a);s.length=i.length}else e[r]=t[r]}function bO(e,t){return e===t||pn(e)&&pn(t)&&wO(e,t)}function wO(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function xw(e,t,r,n,i,s,a,o){for(var l=ee(n),c=i.duration,u=i.delay,h=i.additive,d=i.setToFinal,f=!Zn(s),p=e.animators,g=[],v=0;v<l.length;v++){var m=l[v],y=n[m];if(y!=null&&r[m]!=null&&(f||s[m]))if(Zn(y)&&!pn(y)&&!kh(y)){if(t){o||(r[m]=y,e.updateDuringAnimation(t));continue}xw(e,m,r[m],y,i,s&&s[m],a,o)}else g.push(m);else o||(r[m]=y,e.updateDuringAnimation(t),g.push(m))}var T=g.length;if(!h&&T)for(var b=0;b<p.length;b++){var A=p[b];if(A.targetName===t){var R=A.stopTracks(g);if(R){var w=Cn(p,A);p.splice(w,1)}}}if(i.force||(g=_u(g,function(C){return!bO(n[C],r[C])}),T=g.length),T>0||i.force&&!a.length){var S=void 0,N=void 0,I=void 0;if(o){N={},d&&(S={});for(var b=0;b<T;b++){var m=g[b];N[m]=r[m],d?S[m]=n[m]:r[m]=n[m]}}else if(d){I={};for(var b=0;b<T;b++){var m=g[b];I[m]=qc(r[m]),EO(r,n,m)}}var A=new kv(r,!1,!1,h?_u(p,function(M){return M.targetName===t}):null);A.targetName=t,i.scope&&(A.scope=i.scope),d&&S&&A.whenWithKeys(0,S,g),I&&A.whenWithKeys(0,I,g),A.whenWithKeys(c??500,o?N:n,g).delay(u||0),e.addAnimator(A,t),a.push(A)}}var Qi=function(e){Zt(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,s=i.indexOf(n);s>=0&&(i.splice(s,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=Cn(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,s=i[n];if(r&&r!==this&&r.parent!==this&&r!==s){i[n]=r,s.parent=null;var a=this.__zr;a&&s.removeSelfFromZr(a),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,s=Cn(i,r);return s<0?this:(i.splice(s,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var s=r[i];n&&s.removeSelfFromZr(n),s.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,s=0;s<i.length;s++){var a=i[s];r.call(n,a,s)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var s=this._children[i],a=r.call(n,s);s.isGroup&&!a&&s.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new Re(0,0,0,0),i=r||this._children,s=[],a=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(s);u?(Re.applyTransform(n,c,u),a=a||n.clone(),a.union(n)):(a=a||c.clone(),a.union(c))}}return a||n},t}(Uh);Qi.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Zc={},ns={};function AO(e){delete ns[e]}function _O(e){if(!e)return!1;if(typeof e=="string")return vl(e,1)<qp;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=vl(t[i].color,1);return r/=n,r<qp}return!1}var SO=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var s=new CL,a=n.renderer||"canvas";Zc[a]||(a=ee(Zc)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new Zc[a](r,s,n,t),l=n.ssr||o.ssrOnly;this.storage=s,this.painter=o;var c=!oe.node&&!oe.worker&&!l?new dO(o.getViewportRoot(),o.root):null,u=n.useCoarsePointer,h=u==null||u==="auto"?oe.touchEventsSupported:!!u,d=44,f;h&&(f=ue(n.pointerSize,d)),this.handler=new nw(s,o,c,o.root,f),this.animation=new aO({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=_O(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=js();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=js();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof Qi&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,AO(this.id))},e}();function xO(e,t){var r=new SO(bv(),e,t);return ns[r.id]=r,r}function RO(e){e.dispose()}function NO(){for(var e in ns)ns.hasOwnProperty(e)&&ns[e].dispose();ns={}}function LO(e){return ns[e]}function OO(e,t){Zc[e]=t}var Kp;function Rw(e){if(typeof Kp=="function")return Kp(e)}function CO(e){Kp=e}var MO="5.6.1";const W$=Object.freeze(Object.defineProperty({__proto__:null,dispose:RO,disposeAll:NO,getElementSSRData:Rw,getInstance:LO,init:xO,registerPainter:OO,registerSSRDataGetter:CO,version:MO},Symbol.toStringTag,{value:"Module"}));var Zp=new Ph(50);function IO(e){if(typeof e=="string"){var t=Zp.get(e);return t&&t.image}else return e}function kO(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var s=Zp.get(e),a={hostEl:r,cb:n,cbPayload:i};return s?(t=s.image,!Nw(t)&&s.pending.push(a)):(t=ma.loadImage(e,ry,ry),t.__zrImageSrc=e,Zp.put(e,t.__cachedImgObj={image:t,pending:[a]})),t}else return e;else return t}function ry(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function Nw(e){return e&&e.width&&e.height}var Zf=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Y$(e,t,r,n,i){var s={};return Lw(s,e,t,r,n,i),s.text}function Lw(e,t,r,n,i,s){if(!r){e.text="",e.isTruncated=!1;return}var a=(t+"").split(`
`);s=Ow(r,n,i,s);for(var o=!1,l={},c=0,u=a.length;c<u;c++)Cw(l,a[c],s),a[c]=l.textLine,o=o||l.isTruncated;e.text=a.join(`
`),e.isTruncated=o}function Ow(e,t,r,n){n=n||{};var i=Xt({},n);i.font=t,r=ue(r,"..."),i.maxIterations=ue(n.maxIterations,2);var s=i.minChar=ue(n.minChar,0);i.cnCharWidth=Pr("",t);var a=i.ascCharWidth=Pr("a",t);i.placeholder=ue(n.placeholder,"");for(var o=e=Math.max(0,e-1),l=0;l<s&&o>=a;l++)o-=a;var c=Pr(r,t);return c>o&&(r="",c=0),o=e-c,i.ellipsis=r,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=e,i}function Cw(e,t,r){var n=r.containerWidth,i=r.font,s=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var a=Pr(t,i);if(a<=n){e.textLine=t,e.isTruncated=!1;return}for(var o=0;;o++){if(a<=s||o>=r.maxIterations){t+=r.ellipsis;break}var l=o===0?PO(t,s,r.ascCharWidth,r.cnCharWidth):a>0?Math.floor(t.length*s/a):0;t=t.substr(0,l),a=Pr(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function PO(e,t,r,n){for(var i=0,s=0,a=e.length;s<a&&i<t;s++){var o=e.charCodeAt(s);i+=0<=o&&o<=127?r:n}return s}function DO(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,s=r==="truncate",a=Fh(i),o=ue(t.lineHeight,a),l=!!t.backgroundColor,c=t.lineOverflow==="truncate",u=!1,h=t.width,d;h!=null&&(r==="break"||r==="breakAll")?d=e?Mw(e,t.font,h,r==="breakAll",0).lines:[]:d=e?e.split(`
`):[];var f=d.length*o,p=ue(t.height,f);if(f>p&&c){var g=Math.floor(p/o);u=u||d.length>g,d=d.slice(0,g)}if(e&&s&&h!=null)for(var v=Ow(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m={},y=0;y<d.length;y++)Cw(m,d[y],v),d[y]=m.textLine,u=u||m.isTruncated;for(var T=p,b=0,y=0;y<d.length;y++)b=Math.max(Pr(d[y],i),b);h==null&&(h=b);var A=b;return n&&(T+=n[0]+n[2],A+=n[1]+n[3],h+=n[1]+n[3]),l&&(A=h),{lines:d,height:p,outerWidth:A,outerHeight:T,lineHeight:o,calculatedLineHeight:a,contentWidth:b,contentHeight:f,width:h,isTruncated:u}}var FO=function(){function e(){}return e}(),ny=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),UO=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function GO(e,t){var r=new UO;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,s=t.overflow,a=(s==="break"||s==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:s==="breakAll"}:null,o=Zf.lastIndex=0,l;(l=Zf.exec(e))!=null;){var c=l.index;c>o&&Qf(r,e.substring(o,c),t,a),Qf(r,l[2],t,a,l[1]),o=Zf.lastIndex}o<e.length&&Qf(r,e.substring(o,e.length),t,a);var u=[],h=0,d=0,f=t.padding,p=s==="truncate",g=t.lineOverflow==="truncate",v={};function m(P,U,z){P.width=U,P.lineHeight=z,h+=z,d=Math.max(d,U)}t:for(var y=0;y<r.lines.length;y++){for(var T=r.lines[y],b=0,A=0,R=0;R<T.tokens.length;R++){var w=T.tokens[R],S=w.styleName&&t.rich[w.styleName]||{},N=w.textPadding=S.padding,I=N?N[1]+N[3]:0,C=w.font=S.font||t.font;w.contentHeight=Fh(C);var M=ue(S.height,w.contentHeight);if(w.innerHeight=M,N&&(M+=N[0]+N[2]),w.height=M,w.lineHeight=el(S.lineHeight,t.lineHeight,M),w.align=S&&S.align||t.align,w.verticalAlign=S&&S.verticalAlign||"middle",g&&i!=null&&h+w.lineHeight>i){var k=r.lines.length;R>0?(T.tokens=T.tokens.slice(0,R),m(T,A,b),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y),r.isTruncated=r.isTruncated||r.lines.length<k;break t}var E=S.width,O=E==null||E==="auto";if(typeof E=="string"&&E.charAt(E.length-1)==="%")w.percentWidth=E,u.push(w),w.contentWidth=Pr(w.text,C);else{if(O){var _=S.backgroundColor,x=_&&_.image;x&&(x=IO(x),Nw(x)&&(w.width=Math.max(w.width,x.width*M/x.height)))}var L=p&&n!=null?n-A:null;L!=null&&L<w.width?!O||L<I?(w.text="",w.width=w.contentWidth=0):(Lw(v,w.text,L-I,C,t.ellipsis,{minChar:t.truncateMinChar}),w.text=v.text,r.isTruncated=r.isTruncated||v.isTruncated,w.width=w.contentWidth=Pr(w.text,C)):w.contentWidth=Pr(w.text,C)}w.width+=I,A+=w.width,S&&(b=Math.max(b,w.lineHeight))}m(T,A,b)}r.outerWidth=r.width=ue(n,d),r.outerHeight=r.height=ue(i,h),r.contentHeight=h,r.contentWidth=d,f&&(r.outerWidth+=f[1]+f[3],r.outerHeight+=f[0]+f[2]);for(var y=0;y<u.length;y++){var w=u[y],D=w.percentWidth;w.width=parseInt(D,10)/100*r.width}return r}function Qf(e,t,r,n,i){var s=t==="",a=i&&r.rich[i]||{},o=e.lines,l=a.font||r.font,c=!1,u,h;if(n){var d=a.padding,f=d?d[1]+d[3]:0;if(a.width!=null&&a.width!=="auto"){var p=Tl(a.width,n.width)+f;o.length>0&&p+n.accumWidth>n.width&&(u=t.split(`
`),c=!0),n.accumWidth=p}else{var g=Mw(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+f,h=g.linesWidths,u=g.lines}}else u=t.split(`
`);for(var v=0;v<u.length;v++){var m=u[v],y=new FO;if(y.styleName=i,y.text=m,y.isLineHolder=!m&&!s,typeof a.width=="number"?y.width=a.width:y.width=h?h[v]:Pr(m,l),!v&&!c){var T=(o[o.length-1]||(o[0]=new ny)).tokens,b=T.length;b===1&&T[0].isLineHolder?T[0]=y:(m||!b||s)&&T.push(y)}else o.push(new ny([y]))}}function $O(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var HO=Ll(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function zO(e){return $O(e)?!!HO[e]:!0}function Mw(e,t,r,n,i){for(var s=[],a=[],o="",l="",c=0,u=0,h=0;h<e.length;h++){var d=e.charAt(h);if(d===`
`){l&&(o+=l,u+=c),s.push(o),a.push(u),o="",l="",c=0,u=0;continue}var f=Pr(d,t),p=n?!1:!zO(d);if(s.length?u+f>r:i+u+f>r){u?(o||l)&&(p?(o||(o=l,l="",c=0,u=c),s.push(o),a.push(u-c),l+=d,c+=f,o="",u=c):(l&&(o+=l,l="",c=0),s.push(o),a.push(u),o=d,u=f)):p?(s.push(l),a.push(c),l=d,c=f):(s.push(d),a.push(f));continue}u+=f,p?(l+=d,c+=f):(l&&(o+=l,l="",c=0),o+=d)}return!s.length&&!o&&(o=e,l="",c=0),l&&(o+=l),o&&(s.push(o),a.push(u)),s.length===1&&(u+=i),{accumWidth:u,lines:s,linesWidths:a}}var Qp="__zr_style_"+Math.round(Math.random()*10),Gh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},$h={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Gh[Qp]=!0;var iy=["z","z2","invisible"],BO=["invisible"],Ml=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=ee(r),i=0;i<n.length;i++){var s=n[i];s==="style"?this.useStyle(r[s]):e.prototype.attrKV.call(this,s,r[s])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,s){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&WO(this,r,n)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(s&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();return s.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),s=this.style,a=s.shadowBlur||0,o=s.shadowOffsetX||0,l=s.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Re(0,0,0,0)),n?Re.applyTransform(r,i,n):r.copy(i),(a||o||l)&&(r.width+=a*2+Math.abs(o),r.height+=a*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-a),r.y=Math.min(r.y,r.y+l-a));var c=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-c),r.y=Math.floor(r.y-c),r.width=Math.ceil(r.width+1+c*2),r.height=Math.ceil(r.height+1+c*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Re(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Xt(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=fo,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&fo)},t.prototype.styleUpdated=function(){this.__dirty&=~fo},t.prototype.createStyle=function(r){return Ol(Gh,r)},t.prototype.useStyle=function(r){r[Qp]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[Qp]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,iy)},t.prototype._applyStateObj=function(r,n,i,s,a,o){e.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.style?a?s?c=n.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),s?this.style:i.style),this._mergeStyle(c,n.style)):l&&(c=i.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=ee(u),d=0;d<h.length;d++){var f=h[d];f in c&&(c[f]=c[f],this.style[f]=u[f])}for(var p=ee(c),d=0;d<p.length;d++){var f=p[d];this.style[f]=this.style[f]}this._transitionState(r,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var g=this.__inHover?BO:iy,d=0;d<g.length;d++){var f=g[d];n&&n[f]!=null?this[f]=n[f]:l&&i[f]!=null&&(this[f]=i[f])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return Xt(r,n),r},t.prototype.getAnimationStyleProps=function(){return $h},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=jn|fo}(),t}(Uh),Jf=new Re(0,0,0,0),td=new Re(0,0,0,0);function WO(e,t,r){return Jf.copy(e.getBoundingRect()),e.transform&&Jf.applyTransform(e.transform),td.width=t,td.height=r,!Jf.intersect(td)}var vr=Math.min,mr=Math.max,ed=Math.sin,rd=Math.cos,Fi=Math.PI*2,cc=Ss(),uc=Ss(),hc=Ss();function Iw(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],s=n[0],a=n[1],o=n[1],l=1;l<e.length;l++)n=e[l],i=vr(i,n[0]),s=mr(s,n[0]),a=vr(a,n[1]),o=mr(o,n[1]);t[0]=i,t[1]=a,r[0]=s,r[1]=o}}function sy(e,t,r,n,i,s){i[0]=vr(e,r),i[1]=vr(t,n),s[0]=mr(e,r),s[1]=mr(t,n)}var ay=[],oy=[];function YO(e,t,r,n,i,s,a,o,l,c){var u=cw,h=Ge,d=u(e,r,i,a,ay);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var f=0;f<d;f++){var p=h(e,r,i,a,ay[f]);l[0]=vr(p,l[0]),c[0]=mr(p,c[0])}d=u(t,n,s,o,oy);for(var f=0;f<d;f++){var g=h(t,n,s,o,oy[f]);l[1]=vr(g,l[1]),c[1]=mr(g,c[1])}l[0]=vr(e,l[0]),c[0]=mr(e,c[0]),l[0]=vr(a,l[0]),c[0]=mr(a,c[0]),l[1]=vr(t,l[1]),c[1]=mr(t,c[1]),l[1]=vr(o,l[1]),c[1]=mr(o,c[1])}function XO(e,t,r,n,i,s,a,o){var l=uw,c=Je,u=mr(vr(l(e,r,i),1),0),h=mr(vr(l(t,n,s),1),0),d=c(e,r,i,u),f=c(t,n,s,h);a[0]=vr(e,i,d),a[1]=vr(t,s,f),o[0]=mr(e,i,d),o[1]=mr(t,s,f)}function qO(e,t,r,n,i,s,a,o,l){var c=es,u=rs,h=Math.abs(i-s);if(h%Fi<1e-4&&h>1e-4){o[0]=e-r,o[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(cc[0]=rd(i)*r+e,cc[1]=ed(i)*n+t,uc[0]=rd(s)*r+e,uc[1]=ed(s)*n+t,c(o,cc,uc),u(l,cc,uc),i=i%Fi,i<0&&(i=i+Fi),s=s%Fi,s<0&&(s=s+Fi),i>s&&!a?s+=Fi:i<s&&a&&(i+=Fi),a){var d=s;s=i,i=d}for(var f=0;f<s;f+=Math.PI/2)f>i&&(hc[0]=rd(f)*r+e,hc[1]=ed(f)*n+t,c(o,hc,o),u(l,hc,l))}var $t={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ui=[],Gi=[],En=[],oi=[],bn=[],wn=[],nd=Math.min,id=Math.max,$i=Math.cos,Hi=Math.sin,Gn=Math.abs,Jp=Math.PI,ui=Jp*2,sd=typeof Float32Array<"u",Ba=[];function ad(e){var t=Math.round(e/Jp*1e8)/1e8;return t%2*Jp}function VO(e,t){var r=ad(e[0]);r<0&&(r+=ui);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=ui?i=r+ui:t&&r-i>=ui?i=r-ui:!t&&r>i?i=r+(ui-ad(r-i)):t&&r<i&&(i=r-(ui-ad(i-r))),e[0]=r,e[1]=i}var gs=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Gn(n/Z0/t)||0,this._uy=Gn(n/Z0/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData($t.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Gn(t-this._xi),i=Gn(r-this._yi),s=n>this._ux||i>this._uy;if(this.addData($t.L,t,r),this._ctx&&s&&this._ctx.lineTo(t,r),s)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var a=n*n+i*i;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=a)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,s,a){return this._drawPendingPt(),this.addData($t.C,t,r,n,i,s,a),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,s,a),this._xi=s,this._yi=a,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData($t.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,s,a){this._drawPendingPt(),Ba[0]=i,Ba[1]=s,VO(Ba,a),i=Ba[0],s=Ba[1];var o=s-i;return this.addData($t.A,t,r,n,n,i,o,0,a?0:1),this._ctx&&this._ctx.arc(t,r,n,i,s,a),this._xi=$i(s)*n+t,this._yi=Hi(s)*n+r,this},e.prototype.arcTo=function(t,r,n,i,s){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,s),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData($t.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData($t.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&sd&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,s=0;s<r;s++)n+=t[s].len();sd&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var s=0;s<r;s++)for(var a=t[s].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},e.prototype.addData=function(t,r,n,i,s,a,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,sd&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){En[0]=En[1]=bn[0]=bn[1]=Number.MAX_VALUE,oi[0]=oi[1]=wn[0]=wn[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,s=0,a;for(a=0;a<this._len;){var o=t[a++],l=a===1;switch(l&&(r=t[a],n=t[a+1],i=r,s=n),o){case $t.M:r=i=t[a++],n=s=t[a++],bn[0]=i,bn[1]=s,wn[0]=i,wn[1]=s;break;case $t.L:sy(r,n,t[a],t[a+1],bn,wn),r=t[a++],n=t[a++];break;case $t.C:YO(r,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],bn,wn),r=t[a++],n=t[a++];break;case $t.Q:XO(r,n,t[a++],t[a++],t[a],t[a+1],bn,wn),r=t[a++],n=t[a++];break;case $t.A:var c=t[a++],u=t[a++],h=t[a++],d=t[a++],f=t[a++],p=t[a++]+f;a+=1;var g=!t[a++];l&&(i=$i(f)*h+c,s=Hi(f)*d+u),qO(c,u,h,d,f,p,g,bn,wn),r=$i(p)*h+c,n=Hi(p)*d+u;break;case $t.R:i=r=t[a++],s=n=t[a++];var v=t[a++],m=t[a++];sy(i,s,i+v,s+m,bn,wn);break;case $t.Z:r=i,n=s;break}es(En,En,bn),rs(oi,oi,wn)}return a===0&&(En[0]=En[1]=oi[0]=oi[1]=0),new Re(En[0],En[1],oi[0]-En[0],oi[1]-En[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,s=0,a=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,h=0,d=0;d<r;){var f=t[d++],p=d===1;p&&(s=t[d],a=t[d+1],o=s,l=a);var g=-1;switch(f){case $t.M:s=o=t[d++],a=l=t[d++];break;case $t.L:{var v=t[d++],m=t[d++],y=v-s,T=m-a;(Gn(y)>n||Gn(T)>i||d===r-1)&&(g=Math.sqrt(y*y+T*T),s=v,a=m);break}case $t.C:{var b=t[d++],A=t[d++],v=t[d++],m=t[d++],R=t[d++],w=t[d++];g=IL(s,a,b,A,v,m,R,w,10),s=R,a=w;break}case $t.Q:{var b=t[d++],A=t[d++],v=t[d++],m=t[d++];g=DL(s,a,b,A,v,m,10),s=v,a=m;break}case $t.A:var S=t[d++],N=t[d++],I=t[d++],C=t[d++],M=t[d++],k=t[d++],E=k+M;d+=1,p&&(o=$i(M)*I+S,l=Hi(M)*C+N),g=id(I,C)*nd(ui,Math.abs(k)),s=$i(E)*I+S,a=Hi(E)*C+N;break;case $t.R:{o=s=t[d++],l=a=t[d++];var O=t[d++],_=t[d++];g=O*2+_*2;break}case $t.Z:{var y=o-s,T=l-a;g=Math.sqrt(y*y+T*T),s=o,a=l;break}}g>=0&&(c[h++]=g,u+=g)}return this._pathLen=u,u},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,s=this._uy,a=this._len,o,l,c,u,h,d,f=r<1,p,g,v=0,m=0,y,T=0,b,A;if(!(f&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,y=r*g,!y)))t:for(var R=0;R<a;){var w=n[R++],S=R===1;switch(S&&(c=n[R],u=n[R+1],o=c,l=u),w!==$t.L&&T>0&&(t.lineTo(b,A),T=0),w){case $t.M:o=c=n[R++],l=u=n[R++],t.moveTo(c,u);break;case $t.L:{h=n[R++],d=n[R++];var N=Gn(h-c),I=Gn(d-u);if(N>i||I>s){if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;t.lineTo(c*(1-M)+h*M,u*(1-M)+d*M);break t}v+=C}t.lineTo(h,d),c=h,u=d,T=0}else{var k=N*N+I*I;k>T&&(b=h,A=d,T=k)}break}case $t.C:{var E=n[R++],O=n[R++],_=n[R++],x=n[R++],L=n[R++],D=n[R++];if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;bi(c,E,_,L,M,Ui),bi(u,O,x,D,M,Gi),t.bezierCurveTo(Ui[1],Gi[1],Ui[2],Gi[2],Ui[3],Gi[3]);break t}v+=C}t.bezierCurveTo(E,O,_,x,L,D),c=L,u=D;break}case $t.Q:{var E=n[R++],O=n[R++],_=n[R++],x=n[R++];if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;Lu(c,E,_,M,Ui),Lu(u,O,x,M,Gi),t.quadraticCurveTo(Ui[1],Gi[1],Ui[2],Gi[2]);break t}v+=C}t.quadraticCurveTo(E,O,_,x),c=_,u=x;break}case $t.A:var P=n[R++],U=n[R++],z=n[R++],H=n[R++],V=n[R++],W=n[R++],q=n[R++],tt=!n[R++],Z=z>H?z:H,$=Gn(z-H)>.001,Y=V+W,X=!1;if(f){var C=p[m++];v+C>y&&(Y=V+W*(y-v)/C,X=!0),v+=C}if($&&t.ellipse?t.ellipse(P,U,z,H,q,V,Y,tt):t.arc(P,U,Z,V,Y,tt),X)break t;S&&(o=$i(V)*z+P,l=Hi(V)*H+U),c=$i(Y)*z+P,u=Hi(Y)*H+U;break;case $t.R:o=c=n[R],l=u=n[R+1],h=n[R++],d=n[R++];var j=n[R++],nt=n[R++];if(f){var C=p[m++];if(v+C>y){var K=y-v;t.moveTo(h,d),t.lineTo(h+nd(K,j),d),K-=j,K>0&&t.lineTo(h+j,d+nd(K,nt)),K-=nt,K>0&&t.lineTo(h+id(j-K,0),d+nt),K-=j,K>0&&t.lineTo(h,d+id(nt-K,0));break t}v+=C}t.rect(h,d,j,nt);break;case $t.Z:if(f){var C=p[m++];if(v+C>y){var M=(y-v)/C;t.lineTo(c*(1-M)+o*M,u*(1-M)+l*M);break t}v+=C}t.closePath(),c=o,u=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=$t,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function Us(e,t,r,n,i,s,a){if(i===0)return!1;var o=i,l=0,c=e;if(a>t+o&&a>n+o||a<t-o&&a<n-o||s>e+o&&s>r+o||s<e-o&&s<r-o)return!1;if(e!==r)l=(t-n)/(e-r),c=(e*n-r*t)/(e-r);else return Math.abs(s-e)<=o/2;var u=l*s-a+c,h=u*u/(l*l+1);return h<=o/2*o/2}function jO(e,t,r,n,i,s,a,o,l,c,u){if(l===0)return!1;var h=l;if(u>t+h&&u>n+h&&u>s+h&&u>o+h||u<t-h&&u<n-h&&u<s-h&&u<o-h||c>e+h&&c>r+h&&c>i+h&&c>a+h||c<e-h&&c<r-h&&c<i-h&&c<a-h)return!1;var d=ML(e,t,r,n,i,s,a,o,c,u,null);return d<=h/2}function KO(e,t,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;if(l>t+c&&l>n+c&&l>s+c||l<t-c&&l<n-c&&l<s-c||o>e+c&&o>r+c&&o>i+c||o<e-c&&o<r-c&&o<i-c)return!1;var u=PL(e,t,r,n,i,s,o,l,null);return u<=c/2}var ly=Math.PI*2;function fc(e){return e%=ly,e<0&&(e+=ly),e}var Wa=Math.PI*2;function ZO(e,t,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;o-=e,l-=t;var u=Math.sqrt(o*o+l*l);if(u-c>r||u+c<r)return!1;if(Math.abs(n-i)%Wa<1e-4)return!0;if(s){var h=n;n=fc(i),i=fc(h)}else n=fc(n),i=fc(i);n>i&&(i+=Wa);var d=Math.atan2(l,o);return d<0&&(d+=Wa),d>=n&&d<=i||d+Wa>=n&&d+Wa<=i}function Xn(e,t,r,n,i,s){if(s>t&&s>n||s<t&&s<n||n===t)return 0;var a=(s-t)/(n-t),o=n<t?1:-1;(a===1||a===0)&&(o=n<t?.5:-.5);var l=a*(r-e)+e;return l===i?1/0:l>i?o:0}var li=gs.CMD,zi=Math.PI*2,QO=1e-4;function JO(e,t){return Math.abs(e-t)<QO}var sr=[-1,-1,-1],Vr=[-1,-1];function tC(){var e=Vr[0];Vr[0]=Vr[1],Vr[1]=e}function eC(e,t,r,n,i,s,a,o,l,c){if(c>t&&c>n&&c>s&&c>o||c<t&&c<n&&c<s&&c<o)return 0;var u=lw(t,n,s,o,c,sr);if(u===0)return 0;for(var h=0,d=-1,f=void 0,p=void 0,g=0;g<u;g++){var v=sr[g],m=v===0||v===1?.5:1,y=Ge(e,r,i,a,v);y<l||(d<0&&(d=cw(t,n,s,o,Vr),Vr[1]<Vr[0]&&d>1&&tC(),f=Ge(t,n,s,o,Vr[0]),d>1&&(p=Ge(t,n,s,o,Vr[1]))),d===2?v<Vr[0]?h+=f<t?m:-m:v<Vr[1]?h+=p<f?m:-m:h+=o<p?m:-m:v<Vr[0]?h+=f<t?m:-m:h+=o<f?m:-m)}return h}function rC(e,t,r,n,i,s,a,o){if(o>t&&o>n&&o>s||o<t&&o<n&&o<s)return 0;var l=kL(t,n,s,o,sr);if(l===0)return 0;var c=uw(t,n,s);if(c>=0&&c<=1){for(var u=0,h=Je(t,n,s,c),d=0;d<l;d++){var f=sr[d]===0||sr[d]===1?.5:1,p=Je(e,r,i,sr[d]);p<a||(sr[d]<c?u+=h<t?f:-f:u+=s<h?f:-f)}return u}else{var f=sr[0]===0||sr[0]===1?.5:1,p=Je(e,r,i,sr[0]);return p<a?0:s<t?f:-f}}function nC(e,t,r,n,i,s,a,o){if(o-=t,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);sr[0]=-l,sr[1]=l;var c=Math.abs(n-i);if(c<1e-4)return 0;if(c>=zi-1e-4){n=0,i=zi;var u=s?1:-1;return a>=sr[0]+e&&a<=sr[1]+e?u:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=zi,i+=zi);for(var d=0,f=0;f<2;f++){var p=sr[f];if(p+e>a){var g=Math.atan2(o,p),u=s?1:-1;g<0&&(g=zi+g),(g>=n&&g<=i||g+zi>=n&&g+zi<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(u=-u),d+=u)}}return d}function kw(e,t,r,n,i){for(var s=e.data,a=e.len(),o=0,l=0,c=0,u=0,h=0,d,f,p=0;p<a;){var g=s[p++],v=p===1;switch(g===li.M&&p>1&&(r||(o+=Xn(l,c,u,h,n,i))),v&&(l=s[p],c=s[p+1],u=l,h=c),g){case li.M:u=s[p++],h=s[p++],l=u,c=h;break;case li.L:if(r){if(Us(l,c,s[p],s[p+1],t,n,i))return!0}else o+=Xn(l,c,s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.C:if(r){if(jO(l,c,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],t,n,i))return!0}else o+=eC(l,c,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.Q:if(r){if(KO(l,c,s[p++],s[p++],s[p],s[p+1],t,n,i))return!0}else o+=rC(l,c,s[p++],s[p++],s[p],s[p+1],n,i)||0;l=s[p++],c=s[p++];break;case li.A:var m=s[p++],y=s[p++],T=s[p++],b=s[p++],A=s[p++],R=s[p++];p+=1;var w=!!(1-s[p++]);d=Math.cos(A)*T+m,f=Math.sin(A)*b+y,v?(u=d,h=f):o+=Xn(l,c,d,f,n,i);var S=(n-m)*b/T+m;if(r){if(ZO(m,y,b,A,A+R,w,t,S,i))return!0}else o+=nC(m,y,b,A,A+R,w,S,i);l=Math.cos(A+R)*T+m,c=Math.sin(A+R)*b+y;break;case li.R:u=l=s[p++],h=c=s[p++];var N=s[p++],I=s[p++];if(d=u+N,f=h+I,r){if(Us(u,h,d,h,t,n,i)||Us(d,h,d,f,t,n,i)||Us(d,f,u,f,t,n,i)||Us(u,f,u,h,t,n,i))return!0}else o+=Xn(d,h,d,f,n,i),o+=Xn(u,f,u,h,n,i);break;case li.Z:if(r){if(Us(l,c,u,h,t,n,i))return!0}else o+=Xn(l,c,u,h,n,i);l=u,c=h;break}}return!r&&!JO(c,h)&&(o+=Xn(l,c,u,h,n,i)||0),o!==0}function iC(e,t,r){return kw(e,0,!1,t,r)}function sC(e,t,r,n){return kw(e,t,!0,r,n)}var Cu=$r({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Gh),aC={style:$r({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},$h.style)},od=yl.concat(["invisible","culling","z","z2","zlevel","parent"]),Pe=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var s=i.style;for(var a in n)s[a]!==n[a]&&(s[a]=n[a]);s.fill=n.fill?n.decal:null,s.decal=null,s.shadowColor=null,n.strokeFirst&&(s.stroke=null);for(var o=0;o<od.length;++o)i[od[o]]=this[od[o]];i.__dirty|=jn}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=ee(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var s=0;s<n.length;s++){var a=n[s],o=r[a];a==="style"?this.style?Xt(this.style,o):this.useStyle(o):a==="shape"?Xt(this.shape,o):e.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(gn(r)){var n=vl(r,0);return n>.5?Vp:n>.2?pO:jp}else if(r)return jp}return Vp},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(gn(n)){var i=this.__zr,s=!!(i&&i.isDarkMode()),a=vl(r,0)<qp;if(s===a)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Ha},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new gs(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var s=!1;this.path||(s=!0,this.createPathProxy());var a=this.path;(s||this.__dirty&Ha)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),r=a.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect(),a=this.style;if(r=i[0],n=i[1],s.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),sC(o,l/c,r,n)))return!0}if(this.hasFill())return iC(o,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Ha,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Xt(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Ha)},t.prototype.createStyle=function(r){return Ol(Cu,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Xt({},this.shape))},t.prototype._applyStateObj=function(r,n,i,s,a,o){e.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.shape?a?s?c=n.shape:(c=Xt({},i.shape),Xt(c,n.shape)):(c=Xt({},s?this.shape:i.shape),Xt(c,n.shape)):l&&(c=i.shape),c)if(a){this.shape=Xt({},this.shape);for(var u={},h=ee(c),d=0;d<h.length;d++){var f=h[d];typeof c[f]=="object"?this.shape[f]=c[f]:u[f]=c[f]}this._transitionState(r,{shape:u},o)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return aC},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(s){Zt(a,s);function a(o){var l=s.call(this,o)||this;return r.init&&r.init.call(l,o),l}return a.prototype.getDefaultStyle=function(){return Ei(r.style)},a.prototype.getDefaultShape=function(){return Ei(r.shape)},a}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=jn|fo|Ha}(),t}(Ml),oC=$r({strokeFirst:!0,font:ps,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Cu),El=function(e){Zt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return Ol(oC,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=gO(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var s=r.lineWidth;i.x-=s/2,i.y-=s/2,i.width+=s,i.height+=s}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(Ml);El.prototype.type="tspan";var lC=$r({x:0,y:0},Gh),cC={style:$r({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},$h.style)};function uC(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Il=function(e){Zt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return Ol(lC,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var s=uC(n.image)?n.image:this.__image;if(!s)return 0;var a=r==="width"?"height":"width",o=n[a];return o==null?s[r]:s[r]/s[a]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return cC},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Re(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Ml);Il.prototype.type="image";function hC(e,t){var r=t.x,n=t.y,i=t.width,s=t.height,a=t.r,o,l,c,u;i<0&&(r=r+i,i=-i),s<0&&(n=n+s,s=-s),typeof a=="number"?o=l=c=u=a:a instanceof Array?a.length===1?o=l=c=u=a[0]:a.length===2?(o=c=a[0],l=u=a[1]):a.length===3?(o=a[0],l=u=a[1],c=a[2]):(o=a[0],l=a[1],c=a[2],u=a[3]):o=l=c=u=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),c+u>i&&(h=c+u,c*=i/h,u*=i/h),l+c>s&&(h=l+c,l*=s/h,c*=s/h),o+u>s&&(h=o+u,o*=s/h,u*=s/h),e.moveTo(r+o,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+s-c),c!==0&&e.arc(r+i-c,n+s-c,c,0,Math.PI/2),e.lineTo(r+u,n+s),u!==0&&e.arc(r+u,n+s-u,u,Math.PI/2,Math.PI),e.lineTo(r,n+o),o!==0&&e.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var Ks=Math.round;function fC(e,t,r){if(t){var n=t.x1,i=t.x2,s=t.y1,a=t.y2;e.x1=n,e.x2=i,e.y1=s,e.y2=a;var o=r&&r.lineWidth;return o&&(Ks(n*2)===Ks(i*2)&&(e.x1=e.x2=Zs(n,o,!0)),Ks(s*2)===Ks(a*2)&&(e.y1=e.y2=Zs(s,o,!0))),e}}function dC(e,t,r){if(t){var n=t.x,i=t.y,s=t.width,a=t.height;e.x=n,e.y=i,e.width=s,e.height=a;var o=r&&r.lineWidth;return o&&(e.x=Zs(n,o,!0),e.y=Zs(i,o,!0),e.width=Math.max(Zs(n+s,o,!1)-e.x,s===0?0:1),e.height=Math.max(Zs(i+a,o,!1)-e.y,a===0?0:1)),e}}function Zs(e,t,r){if(!t)return e;var n=Ks(e*2);return(n+Ks(t))%2===0?n/2:(n+(r?1:-1))/2}var pC=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),gC={},bl=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new pC},t.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=dC(gC,n,this.style);i=l.x,s=l.y,a=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,s=n.y,a=n.width,o=n.height;n.r?hC(r,n):r.rect(i,s,a,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Pe);bl.prototype.type="rect";var cy={fill:"#000"},uy=2,vC={style:$r({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},$h.style)},mC=function(e){Zt(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=cy,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,EC(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Re(0,0,0,0),n=this._children,i=[],s=null,a=0;a<n.length;a++){var o=n[a],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(r.copy(l),r.applyTransform(c),s=s||r.clone(),s.union(r)):(s=s||l.clone(),s.union(l))}this._rect=s||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||cy},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,s=r.rich||i&&{};return Xt(r,n),i&&s?(this._mergeRich(s,i),r.rich=s):s&&(r.rich=s),r},t.prototype._mergeRich=function(r,n){for(var i=ee(n),s=0;s<i.length;s++){var a=i[s];r[a]=r[a]||{},Xt(r[a],n[a])}},t.prototype.getAnimationStyleProps=function(){return vC},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||ps,i=r.padding,s=my(r),a=DO(s,r),o=ld(r),l=!!r.backgroundColor,c=a.outerHeight,u=a.outerWidth,h=a.contentWidth,d=a.lines,f=a.lineHeight,p=this._defaultStyle;this.isTruncated=!!a.isTruncated;var g=r.x||0,v=r.y||0,m=r.align||p.align||"left",y=r.verticalAlign||p.verticalAlign||"top",T=g,b=Ws(v,a.contentHeight,y);if(o||i){var A=go(g,u,m),R=Ws(v,c,y);o&&this._renderBackground(r,r,A,R,u,c)}b+=f/2,i&&(T=vy(g,m,i),y==="top"?b+=i[0]:y==="bottom"&&(b-=i[2]));for(var w=0,S=!1,N=gy("fill"in r?r.fill:(S=!0,p.fill)),I=py("stroke"in r?r.stroke:!l&&(!p.autoStroke||S)?(w=uy,p.stroke):null),C=r.textShadowBlur>0,M=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),k=a.calculatedLineHeight,E=0;E<d.length;E++){var O=this._getOrCreateChild(El),_=O.createStyle();O.useStyle(_),_.text=d[E],_.x=T,_.y=b,_.textAlign=m,_.textBaseline="middle",_.opacity=r.opacity,_.strokeFirst=!0,C&&(_.shadowBlur=r.textShadowBlur||0,_.shadowColor=r.textShadowColor||"transparent",_.shadowOffsetX=r.textShadowOffsetX||0,_.shadowOffsetY=r.textShadowOffsetY||0),_.stroke=I,_.fill=N,I&&(_.lineWidth=r.lineWidth||w,_.lineDash=r.lineDash,_.lineDashOffset=r.lineDashOffset||0),_.font=n,fy(_,r),b+=f,M&&O.setBoundingRect(new Re(go(_.x,h,_.textAlign),Ws(_.y,k,_.textBaseline),h,k))}},t.prototype._updateRichTexts=function(){var r=this.style,n=my(r),i=GO(n,r),s=i.width,a=i.outerWidth,o=i.outerHeight,l=r.padding,c=r.x||0,u=r.y||0,h=this._defaultStyle,d=r.align||h.align,f=r.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var p=go(c,a,d),g=Ws(u,o,f),v=p,m=g;l&&(v+=l[3],m+=l[0]);var y=v+s;ld(r)&&this._renderBackground(r,r,p,g,a,o);for(var T=!!r.backgroundColor,b=0;b<i.lines.length;b++){for(var A=i.lines[b],R=A.tokens,w=R.length,S=A.lineHeight,N=A.width,I=0,C=v,M=y,k=w-1,E=void 0;I<w&&(E=R[I],!E.align||E.align==="left");)this._placeToken(E,r,S,m,C,"left",T),N-=E.width,C+=E.width,I++;for(;k>=0&&(E=R[k],E.align==="right");)this._placeToken(E,r,S,m,M,"right",T),N-=E.width,M-=E.width,k--;for(C+=(s-(C-v)-(y-M)-N)/2;I<=k;)E=R[I],this._placeToken(E,r,S,m,C+E.width/2,"center",T),C+=E.width,I++;m+=S}},t.prototype._placeToken=function(r,n,i,s,a,o,l){var c=n.rich[r.styleName]||{};c.text=r.text;var u=r.verticalAlign,h=s+i/2;u==="top"?h=s+r.height/2:u==="bottom"&&(h=s+i-r.height/2);var d=!r.isLineHolder&&ld(c);d&&this._renderBackground(c,n,o==="right"?a-r.width:o==="center"?a-r.width/2:a,h-r.height/2,r.width,r.height);var f=!!c.backgroundColor,p=r.textPadding;p&&(a=vy(a,o,p),h-=r.height/2-p[0]-r.innerHeight/2);var g=this._getOrCreateChild(El),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,T=0,b=gy("fill"in c?c.fill:"fill"in n?n.fill:(y=!0,m.fill)),A=py("stroke"in c?c.stroke:"stroke"in n?n.stroke:!f&&!l&&(!m.autoStroke||y)?(T=uy,m.stroke):null),R=c.textShadowBlur>0||n.textShadowBlur>0;v.text=r.text,v.x=a,v.y=h,R&&(v.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,v.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=r.font||ps,v.opacity=el(c.opacity,n.opacity,1),fy(v,c),A&&(v.lineWidth=el(c.lineWidth,n.lineWidth,T),v.lineDash=ue(c.lineDash,n.lineDash),v.lineDashOffset=n.lineDashOffset||0,v.stroke=A),b&&(v.fill=b);var w=r.contentWidth,S=r.contentHeight;g.setBoundingRect(new Re(go(v.x,w,v.textAlign),Ws(v.y,S,v.textBaseline),w,S))},t.prototype._renderBackground=function(r,n,i,s,a,o){var l=r.backgroundColor,c=r.borderWidth,u=r.borderColor,h=l&&l.image,d=l&&!h,f=r.borderRadius,p=this,g,v;if(d||r.lineHeight||c&&u){g=this._getOrCreateChild(bl),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=i,m.y=s,m.width=a,m.height=o,m.r=f,g.dirtyShape()}if(d){var y=g.style;y.fill=l||null,y.fillOpacity=ue(r.fillOpacity,1)}else if(h){v=this._getOrCreateChild(Il),v.onload=function(){p.dirtyStyle()};var T=v.style;T.image=l.image,T.x=i,T.y=s,T.width=a,T.height=o}if(c&&u){var y=g.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=ue(r.strokeOpacity,1),y.lineDash=r.borderDash,y.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var b=(g||v).style;b.shadowBlur=r.shadowBlur||0,b.shadowColor=r.shadowColor||"transparent",b.shadowOffsetX=r.shadowOffsetX||0,b.shadowOffsetY=r.shadowOffsetY||0,b.opacity=el(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return Dw(r)&&(n=[r.fontStyle,r.fontWeight,Pw(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&ts(n)||r.textFont||r.font},t}(Ml),yC={left:!0,right:1,center:1},TC={top:1,bottom:1,middle:1},hy=["fontStyle","fontWeight","fontSize","fontFamily"];function Pw(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?yv+"px":e+"px"}function fy(e,t){for(var r=0;r<hy.length;r++){var n=hy[r],i=t[n];i!=null&&(e[n]=i)}}function Dw(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function EC(e){return dy(e),yr(e.rich,dy),e}function dy(e){if(e){e.font=mC.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||yC[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||TC[r]?r:"top";var n=e.padding;n&&(e.padding=Bb(e.padding))}}function py(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function gy(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function vy(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function my(e){var t=e.text;return t!=null&&(t+=""),t}function ld(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var Gs=gs.CMD,bC=[[],[],[]],yy=Math.sqrt,wC=Math.atan2;function Fw(e,t){if(t){var r=e.data,n=e.len(),i,s,a,o,l,c,u=Gs.M,h=Gs.C,d=Gs.L,f=Gs.R,p=Gs.A,g=Gs.Q;for(a=0,o=0;a<n;){switch(i=r[a++],o=a,s=0,i){case u:s=1;break;case d:s=1;break;case h:s=3;break;case g:s=2;break;case p:var v=t[4],m=t[5],y=yy(t[0]*t[0]+t[1]*t[1]),T=yy(t[2]*t[2]+t[3]*t[3]),b=wC(-t[1]/T,t[0]/y);r[a]*=y,r[a++]+=v,r[a]*=T,r[a++]+=m,r[a++]*=y,r[a++]*=T,r[a++]+=b,r[a++]+=b,a+=2,o=a;break;case f:c[0]=r[a++],c[1]=r[a++],ra(c,c,t),r[o++]=c[0],r[o++]=c[1],c[0]+=r[a++],c[1]+=r[a++],ra(c,c,t),r[o++]=c[0],r[o++]=c[1]}for(l=0;l<s;l++){var A=bC[l];A[0]=r[a++],A[1]=r[a++],ra(A,A,t),r[o++]=A[0],r[o++]=A[1]}}e.increaseVersion()}}var cd=Math.sqrt,dc=Math.sin,pc=Math.cos,Ya=Math.PI;function Ty(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function tg(e,t){return(e[0]*t[0]+e[1]*t[1])/(Ty(e)*Ty(t))}function Ey(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(tg(e,t))}function by(e,t,r,n,i,s,a,o,l,c,u){var h=l*(Ya/180),d=pc(h)*(e-r)/2+dc(h)*(t-n)/2,f=-1*dc(h)*(e-r)/2+pc(h)*(t-n)/2,p=d*d/(a*a)+f*f/(o*o);p>1&&(a*=cd(p),o*=cd(p));var g=(i===s?-1:1)*cd((a*a*(o*o)-a*a*(f*f)-o*o*(d*d))/(a*a*(f*f)+o*o*(d*d)))||0,v=g*a*f/o,m=g*-o*d/a,y=(e+r)/2+pc(h)*v-dc(h)*m,T=(t+n)/2+dc(h)*v+pc(h)*m,b=Ey([1,0],[(d-v)/a,(f-m)/o]),A=[(d-v)/a,(f-m)/o],R=[(-1*d-v)/a,(-1*f-m)/o],w=Ey(A,R);if(tg(A,R)<=-1&&(w=Ya),tg(A,R)>=1&&(w=0),w<0){var S=Math.round(w/Ya*1e6)/1e6;w=Ya*2+S%2*Ya}u.addData(c,y,T,a,o,b,w,h,s)}var AC=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,_C=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function SC(e){var t=new gs;if(!e)return t;var r=0,n=0,i=r,s=n,a,o=gs.CMD,l=e.match(AC);if(!l)return t;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),d=void 0,f=u.match(_C)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var m=void 0,y=void 0,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=r,N=n,I=void 0,C=void 0;switch(h){case"l":r+=f[v++],n+=f[v++],d=o.L,t.addData(d,r,n);break;case"L":r=f[v++],n=f[v++],d=o.L,t.addData(d,r,n);break;case"m":r+=f[v++],n+=f[v++],d=o.M,t.addData(d,r,n),i=r,s=n,h="l";break;case"M":r=f[v++],n=f[v++],d=o.M,t.addData(d,r,n),i=r,s=n,h="L";break;case"h":r+=f[v++],d=o.L,t.addData(d,r,n);break;case"H":r=f[v++],d=o.L,t.addData(d,r,n);break;case"v":n+=f[v++],d=o.L,t.addData(d,r,n);break;case"V":n=f[v++],d=o.L,t.addData(d,r,n);break;case"C":d=o.C,t.addData(d,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),r=f[v-2],n=f[v-1];break;case"c":d=o.C,t.addData(d,f[v++]+r,f[v++]+n,f[v++]+r,f[v++]+n,f[v++]+r,f[v++]+n),r+=f[v-2],n+=f[v-1];break;case"S":m=r,y=n,I=t.len(),C=t.data,a===o.C&&(m+=r-C[I-4],y+=n-C[I-3]),d=o.C,S=f[v++],N=f[v++],r=f[v++],n=f[v++],t.addData(d,m,y,S,N,r,n);break;case"s":m=r,y=n,I=t.len(),C=t.data,a===o.C&&(m+=r-C[I-4],y+=n-C[I-3]),d=o.C,S=r+f[v++],N=n+f[v++],r+=f[v++],n+=f[v++],t.addData(d,m,y,S,N,r,n);break;case"Q":S=f[v++],N=f[v++],r=f[v++],n=f[v++],d=o.Q,t.addData(d,S,N,r,n);break;case"q":S=f[v++]+r,N=f[v++]+n,r+=f[v++],n+=f[v++],d=o.Q,t.addData(d,S,N,r,n);break;case"T":m=r,y=n,I=t.len(),C=t.data,a===o.Q&&(m+=r-C[I-4],y+=n-C[I-3]),r=f[v++],n=f[v++],d=o.Q,t.addData(d,m,y,r,n);break;case"t":m=r,y=n,I=t.len(),C=t.data,a===o.Q&&(m+=r-C[I-4],y+=n-C[I-3]),r+=f[v++],n+=f[v++],d=o.Q,t.addData(d,m,y,r,n);break;case"A":T=f[v++],b=f[v++],A=f[v++],R=f[v++],w=f[v++],S=r,N=n,r=f[v++],n=f[v++],d=o.A,by(S,N,r,n,R,w,T,b,A,d,t);break;case"a":T=f[v++],b=f[v++],A=f[v++],R=f[v++],w=f[v++],S=r,N=n,r+=f[v++],n+=f[v++],d=o.A,by(S,N,r,n,R,w,T,b,A,d,t);break}}(h==="z"||h==="Z")&&(d=o.Z,t.addData(d),r=i,n=s),a=d}return t.toStatic(),t}var Uw=function(e){Zt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(Pe);function Gw(e){return e.setData!=null}function $w(e,t){var r=SC(e),n=Xt({},t);return n.buildPath=function(i){if(Gw(i)){i.setData(r.data);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=i;r.rebuildPath(s,1)}},n.applyTransform=function(i){Fw(r,i),this.dirtyShape()},n}function xC(e,t){return new Uw($w(e,t))}function X$(e,t){var r=$w(e,t),n=function(i){Zt(s,i);function s(a){var o=i.call(this,a)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return s}(Uw);return n}function q$(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var s=e[i];r.push(s.getUpdatedPathProxy(!0))}var a=new Pe(t);return a.createPathProxy(),a.buildPath=function(o){if(Gw(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},a}function Hw(e,t){t=t||{};var r=new Pe;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?Fw(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var RC=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),zw=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new RC},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(Pe);zw.prototype.type="circle";var NC=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),Bw=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new NC},t.prototype.buildPath=function(r,n){var i=.5522848,s=n.cx,a=n.cy,o=n.rx,l=n.ry,c=o*i,u=l*i;r.moveTo(s-o,a),r.bezierCurveTo(s-o,a-u,s-c,a-l,s,a-l),r.bezierCurveTo(s+c,a-l,s+o,a-u,s+o,a),r.bezierCurveTo(s+o,a+u,s+c,a+l,s,a+l),r.bezierCurveTo(s-c,a+l,s-o,a+u,s-o,a),r.closePath()},t}(Pe);Bw.prototype.type="ellipse";var Ww=Math.PI,ud=Ww*2,Bi=Math.sin,$s=Math.cos,LC=Math.acos,Ke=Math.atan2,wy=Math.abs,nl=Math.sqrt,vo=Math.max,An=Math.min,rn=1e-4;function OC(e,t,r,n,i,s,a,o){var l=r-e,c=n-t,u=a-i,h=o-s,d=h*l-u*c;if(!(d*d<rn))return d=(u*(t-s)-h*(e-i))/d,[e+d*l,t+d*c]}function gc(e,t,r,n,i,s,a){var o=e-r,l=t-n,c=(a?s:-s)/nl(o*o+l*l),u=c*l,h=-c*o,d=e+u,f=t+h,p=r+u,g=n+h,v=(d+p)/2,m=(f+g)/2,y=p-d,T=g-f,b=y*y+T*T,A=i-s,R=d*g-p*f,w=(T<0?-1:1)*nl(vo(0,A*A*b-R*R)),S=(R*T-y*w)/b,N=(-R*y-T*w)/b,I=(R*T+y*w)/b,C=(-R*y+T*w)/b,M=S-v,k=N-m,E=I-v,O=C-m;return M*M+k*k>E*E+O*O&&(S=I,N=C),{cx:S,cy:N,x0:-u,y0:-h,x1:S*(i/A-1),y1:N*(i/A-1)}}function CC(e){var t;if(ya(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function MC(e,t){var r,n=vo(t.r,0),i=vo(t.r0||0,0),s=n>0,a=i>0;if(!(!s&&!a)){if(s||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=t.startAngle,c=t.endAngle;if(!(isNaN(l)||isNaN(c))){var u=t.cx,h=t.cy,d=!!t.clockwise,f=wy(c-l),p=f>ud&&f%ud;if(p>rn&&(f=p),!(n>rn))e.moveTo(u,h);else if(f>ud-rn)e.moveTo(u+n*$s(l),h+n*Bi(l)),e.arc(u,h,n,l,c,!d),i>rn&&(e.moveTo(u+i*$s(c),h+i*Bi(c)),e.arc(u,h,i,c,l,d));else{var g=void 0,v=void 0,m=void 0,y=void 0,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0,M=void 0,k=void 0,E=void 0,O=n*$s(l),_=n*Bi(l),x=i*$s(c),L=i*Bi(c),D=f>rn;if(D){var P=t.cornerRadius;P&&(r=CC(P),g=r[0],v=r[1],m=r[2],y=r[3]);var U=wy(n-i)/2;if(T=An(U,m),b=An(U,y),A=An(U,g),R=An(U,v),N=w=vo(T,b),I=S=vo(A,R),(w>rn||S>rn)&&(C=n*$s(c),M=n*Bi(c),k=i*$s(l),E=i*Bi(l),f<Ww)){var z=OC(O,_,k,E,C,M,x,L);if(z){var H=O-z[0],V=_-z[1],W=C-z[0],q=M-z[1],tt=1/Bi(LC((H*W+V*q)/(nl(H*H+V*V)*nl(W*W+q*q)))/2),Z=nl(z[0]*z[0]+z[1]*z[1]);N=An(w,(n-Z)/(tt+1)),I=An(S,(i-Z)/(tt-1))}}}if(!D)e.moveTo(u+O,h+_);else if(N>rn){var $=An(m,N),Y=An(y,N),X=gc(k,E,O,_,n,$,d),j=gc(C,M,x,L,n,Y,d);e.moveTo(u+X.cx+X.x0,h+X.cy+X.y0),N<w&&$===Y?e.arc(u+X.cx,h+X.cy,N,Ke(X.y0,X.x0),Ke(j.y0,j.x0),!d):($>0&&e.arc(u+X.cx,h+X.cy,$,Ke(X.y0,X.x0),Ke(X.y1,X.x1),!d),e.arc(u,h,n,Ke(X.cy+X.y1,X.cx+X.x1),Ke(j.cy+j.y1,j.cx+j.x1),!d),Y>0&&e.arc(u+j.cx,h+j.cy,Y,Ke(j.y1,j.x1),Ke(j.y0,j.x0),!d))}else e.moveTo(u+O,h+_),e.arc(u,h,n,l,c,!d);if(!(i>rn)||!D)e.lineTo(u+x,h+L);else if(I>rn){var $=An(g,I),Y=An(v,I),X=gc(x,L,C,M,i,-Y,d),j=gc(O,_,k,E,i,-$,d);e.lineTo(u+X.cx+X.x0,h+X.cy+X.y0),I<S&&$===Y?e.arc(u+X.cx,h+X.cy,I,Ke(X.y0,X.x0),Ke(j.y0,j.x0),!d):(Y>0&&e.arc(u+X.cx,h+X.cy,Y,Ke(X.y0,X.x0),Ke(X.y1,X.x1),!d),e.arc(u,h,i,Ke(X.cy+X.y1,X.cx+X.x1),Ke(j.cy+j.y1,j.cx+j.x1),d),$>0&&e.arc(u+j.cx,h+j.cy,$,Ke(j.y1,j.x1),Ke(j.y0,j.x0),!d))}else e.lineTo(u+x,h+L),e.arc(u,h,i,c,l,d)}e.closePath()}}}var IC=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),eg=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new IC},t.prototype.buildPath=function(r,n){MC(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Pe);eg.prototype.type="sector";var kC=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),PC=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new kC},t.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.PI*2;r.moveTo(i+n.r,s),r.arc(i,s,n.r,0,a,!1),r.moveTo(i+n.r0,s),r.arc(i,s,n.r0,0,a,!0)},t}(Pe);PC.prototype.type="ring";function DC(e,t,r,n){var i=[],s=[],a=[],o=[],l,c,u,h;if(n){u=[1/0,1/0],h=[-1/0,-1/0];for(var d=0,f=e.length;d<f;d++)es(u,u,e[d]),rs(h,h,e[d]);es(u,u,n[0]),rs(h,h,n[1])}for(var d=0,f=e.length;d<f;d++){var p=e[d];if(r)l=e[d?d-1:f-1],c=e[(d+1)%f];else if(d===0||d===f-1){i.push(qb(e[d]));continue}else l=e[d-1],c=e[d+1];Vb(s,c,l),Xc(s,s,t);var g=xu(p,l),v=xu(p,c),m=g+v;m!==0&&(g/=m,v/=m),Xc(a,s,-g),Xc(o,s,v);var y=Ip([],p,a),T=Ip([],p,o);n&&(rs(y,y,u),es(y,y,h),rs(T,T,u),es(T,T,h)),i.push(y),i.push(T)}return r&&i.push(i.shift()),i}function Yw(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var s=DC(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,o=0;o<(r?a:a-1);o++){var l=s[o*2],c=s[o*2+1],u=i[(o+1)%a];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)e.lineTo(i[o][0],i[o][1])}r&&e.closePath()}}var FC=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Dv=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new FC},t.prototype.buildPath=function(r,n){Yw(r,n,!0)},t}(Pe);Dv.prototype.type="polygon";var UC=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Xw=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new UC},t.prototype.buildPath=function(r,n){Yw(r,n,!1)},t}(Pe);Xw.prototype.type="polyline";var GC={},$C=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),qw=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $C},t.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=fC(GC,n,this.style);i=l.x1,s=l.y1,a=l.x2,o=l.y2}else i=n.x1,s=n.y1,a=n.x2,o=n.y2;var c=n.percent;c!==0&&(r.moveTo(i,s),c<1&&(a=i*(1-c)+a*c,o=s*(1-c)+o*c),r.lineTo(a,o))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(Pe);qw.prototype.type="line";var pr=[],HC=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function Ay(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?$0:Ge)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?$0:Ge)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?H0:Je)(e.x1,e.cpx1,e.x2,t),(r?H0:Je)(e.y1,e.cpy1,e.y2,t)]}var zC=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new HC},t.prototype.buildPath=function(r,n){var i=n.x1,s=n.y1,a=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,h=n.cpy2,d=n.percent;d!==0&&(r.moveTo(i,s),u==null||h==null?(d<1&&(Lu(i,l,a,d,pr),l=pr[1],a=pr[2],Lu(s,c,o,d,pr),c=pr[1],o=pr[2]),r.quadraticCurveTo(l,c,a,o)):(d<1&&(bi(i,l,u,a,d,pr),l=pr[1],u=pr[2],a=pr[3],bi(s,c,h,o,d,pr),c=pr[1],h=pr[2],o=pr[3]),r.bezierCurveTo(l,c,u,h,a,o)))},t.prototype.pointAt=function(r){return Ay(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=Ay(this.shape,r,!0);return jb(n,n)},t}(Pe);zC.prototype.type="bezier-curve";var BC=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),WC=function(e){Zt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BC},t.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(o),h=Math.sin(o);r.moveTo(u*a+i,h*a+s),r.arc(i,s,a,o,l,!c)},t}(Pe);WC.prototype.type="arc";var YC=function(e){Zt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],s=0;s<i.length;s++)i[s].buildPath(r,i[s].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Pe.prototype.getBoundingRect.call(this)},t}(Pe),Vw=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}(),XC=function(e){Zt(t,e);function t(r,n,i,s,a,o){var l=e.call(this,a)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=s??0,l.type="linear",l.global=o||!1,l}return t}(Vw),qC=function(e){Zt(t,e);function t(r,n,i,s,a){var o=e.call(this,s)||this;return o.x=r??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=a||!1,o}return t}(Vw),Wi=[0,0],Yi=[0,0],vc=new Dt,mc=new Dt,V$=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Dt;for(var n=0;n<2;n++)this._axes[n]=new Dt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,s=t.x,a=t.y,o=s+t.width,l=a+t.height;if(n[0].set(s,a),n[1].set(o,a),n[2].set(o,l),n[3].set(s,l),r)for(var c=0;c<4;c++)n[c].transform(r);Dt.sub(i[0],n[1],n[0]),Dt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return vc.set(1/0,1/0),mc.set(0,0),!this._intersectCheckOneSide(this,t,vc,mc,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,vc,mc,i,-1)&&(n=!1,i)||i||Dt.copy(r,n?vc:mc),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,s,a){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Wi),this._getProjMinMaxOnAxis(l,r._corners,Yi),Wi[1]<Yi[0]||Wi[0]>Yi[1]){if(o=!1,s)return o;var u=Math.abs(Yi[0]-Wi[1]),h=Math.abs(Wi[0]-Yi[1]);Math.min(u,h)>i.len()&&(u<h?Dt.scale(i,c,-u*a):Dt.scale(i,c,h*a))}else if(n){var u=Math.abs(Yi[0]-Wi[1]),h=Math.abs(Wi[0]-Yi[1]);Math.min(u,h)<n.len()&&(u<h?Dt.scale(n,c,u*a):Dt.scale(n,c,-h*a))}}return o},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],s=this._origin,a=r[0].dot(i)+s[t],o=a,l=a,c=1;c<r.length;c++){var u=r[c].dot(i)+s[t];o=Math.min(u,o),l=Math.max(u,l)}n[0]=o,n[1]=l},e}(),VC=[],j$=function(e){Zt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Re(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],s=i.getBoundingRect().clone();i.needLocalTransform()&&s.applyTransform(i.getLocalTransform(VC)),r.union(s)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();if(s.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var o=this._displayables[a];if(o.contain(r,n))return!0}return!1},t}(Ml),jC=Math.round(Math.random()*9),KC=typeof Object.defineProperty=="function",K$=function(){function e(){this._id="__ec_inner_"+jC++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return KC?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),ZC=1e-8;function _y(e,t){return Math.abs(e-t)<ZC}function Z$(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var s=1;s<e.length;s++){var a=e[s];n+=Xn(i[0],i[1],a[0],a[1],t,r),i=a}var o=e[0];return(!_y(i[0],o[0])||!_y(i[1],o[1]))&&(n+=Xn(i[0],i[1],o[0],o[1],t,r)),n!==0}var hd=Math.sin,fd=Math.cos,jw=Math.PI,Xi=Math.PI*2,QC=180/jw,Kw=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,s,a){this._add("C",t,r,n,i,s,a)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,s,a){this.ellipse(t,r,n,n,0,i,s,a)},e.prototype.ellipse=function(t,r,n,i,s,a,o,l){var c=o-a,u=!l,h=Math.abs(c),d=vi(h-Xi)||(u?c>=Xi:-c>=Xi),f=c>0?c%Xi:c%Xi+Xi,p=!1;d?p=!0:vi(h)?p=!1:p=f>=jw==!!u;var g=t+n*fd(a),v=r+i*hd(a);this._start&&this._add("M",g,v);var m=Math.round(s*QC);if(d){var y=1/this._p,T=(u?1:-1)*(Xi-y);this._add("A",n,i,m,1,+u,t+n*fd(a+T),r+i*hd(a+T)),y>.01&&this._add("A",n,i,m,0,+u,g,v)}else{var b=t+n*fd(o),A=r+i*hd(o);this._add("A",n,i,m,+p,+u,b,A)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,s,a,o,l,c){for(var u=[],h=this._p,d=1;d<arguments.length;d++){var f=arguments[d];if(isNaN(f)){this._invalid=!0;return}u.push(Math.round(f*h)/h)}this._d.push(t+u.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),Fv="none",JC=Math.round;function tM(e){var t=e.fill;return t!=null&&t!==Fv}function eM(e){var t=e.stroke;return t!=null&&t!==Fv}var rg=["lineCap","miterLimit","lineJoin"],rM=ye(rg,function(e){return"stroke-"+e.toLowerCase()});function nM(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Il){e("opacity",i);return}if(tM(t)){var s=ml(t.fill);e("fill",s.color);var a=t.fillOpacity!=null?t.fillOpacity*s.opacity*i:s.opacity*i;a<1&&e("fill-opacity",a)}else e("fill",Fv);if(eM(t)){var o=ml(t.stroke);e("stroke",o.color);var l=t.strokeNoScale?r.getLineScale():1,c=l?(t.lineWidth||0)/l:0,u=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*i:o.opacity*i,h=t.strokeFirst;if(c!==1&&e("stroke-width",c),h&&e("paint-order",h?"stroke":"fill"),u<1&&e("stroke-opacity",u),t.lineDash){var d=XS(r),f=d[0],p=d[1];f&&(p=JC(p||0),e("stroke-dasharray",f.join(",")),(p||n)&&e("stroke-dashoffset",p))}for(var g=0;g<rg.length;g++){var v=rg[g];if(t[v]!==Cu[v]){var m=t[v]||Cu[v];m&&e(rM[g],m)}}}}var Zw="http://www.w3.org/2000/svg",Qw="http://www.w3.org/1999/xlink",iM="http://www.w3.org/2000/xmlns/",sM="http://www.w3.org/XML/1998/namespace",Sy="ecmeta_";function Jw(e){return document.createElementNS(Zw,e)}function xe(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function aM(e,t){var r=[];if(t)for(var n in t){var i=t[n],s=n;i!==!1&&(i!==!0&&i!=null&&(s+='="'+i+'"'),r.push(s))}return"<"+e+" "+r.join(" ")+">"}function oM(e){return"</"+e+">"}function Uv(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var s=i.children,a=i.tag,o=i.attrs,l=i.text;return aM(a,o)+(a!=="style"?fL(l):l||"")+(s?""+r+ye(s,function(c){return n(c)}).join(r)+r:"")+oM(a)}return n(e)}function lM(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,s=n+"}",a=ye(ee(e),function(l){return l+i+ye(ee(e[l]),function(c){return c+":"+e[l][c]+";"}).join(n)+s}).join(n),o=ye(ee(t),function(l){return"@keyframes "+l+i+ye(ee(t[l]),function(c){return c+i+ye(ee(t[l][c]),function(u){var h=t[l][c][u];return u==="d"&&(h='path("'+h+'")'),u+":"+h+";"}).join(n)+s}).join(n)+s}).join(n);return!a&&!o?"":["<![CDATA[",a,o,"]]>"].join(n)}function ng(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function xy(e,t,r,n){return xe("svg","root",{width:e,height:t,xmlns:Zw,"xmlns:xlink":Qw,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var cM=0;function tA(){return cM++}var Ry={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ki="transform-origin";function uM(e,t,r){var n=Xt({},e.shape);Xt(n,t),e.buildPath(r,n);var i=new Kw;return i.reset(Ew(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function hM(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[Ki]=r+"px "+n+"px")}var fM={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function eA(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function dM(e,t,r){var n=e.shape.paths,i={},s,a;if(yr(n,function(l){var c=ng(r.zrId);c.animation=!0,Hh(l,{},c,!0);var u=c.cssAnims,h=c.cssNodes,d=ee(u),f=d.length;if(f){a=d[f-1];var p=u[a];for(var g in p){var v=p[g];i[g]=i[g]||{d:""},i[g].d+=v.d||""}for(var m in h){var y=h[m].animation;y.indexOf(a)>=0&&(s=y)}}}),!!s){t.d=!1;var o=eA(i,r);return s.replace(a,o)}}function Ny(e){return gn(e)?Ry[e]?"cubic-bezier("+Ry[e]+")":Mv(e)?e:"":""}function Hh(e,t,r,n){var i=e.animators,s=i.length,a=[];if(e instanceof YC){var o=dM(e,t,r);if(o)a.push(o);else if(!s)return}else if(!s)return;for(var l={},c=0;c<s;c++){var u=i[c],h=[u.getMaxTime()/1e3+"s"],d=Ny(u.getClip().easing),f=u.getDelay();d?h.push(d):h.push("linear"),f&&h.push(f/1e3+"s"),u.getLoop()&&h.push("infinite");var p=h.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(u)}function g(y){var T=y[1],b=T.length,A={},R={},w={},S="animation-timing-function";function N(Z,$,Y){for(var X=Z.getTracks(),j=Z.getMaxTime(),nt=0;nt<X.length;nt++){var K=X[nt];if(K.needsAnimate()){var Gt=K.keyframes,At=K.propName;if(Y&&(At=Y(At)),At)for(var De=0;De<Gt.length;De++){var Ee=Gt[De],Ot=Math.round(Ee.time/j*100)+"%",We=Ny(Ee.easing),Ye=Ee.rawValue;(gn(Ye)||tl(Ye))&&($[Ot]=$[Ot]||{},$[Ot][At]=Ee.rawValue,We&&($[Ot][S]=We))}}}}for(var I=0;I<b;I++){var C=T[I],M=C.targetName;M?M==="shape"&&N(C,R):!n&&N(C,A)}for(var k in A){var E={};Sw(E,e),Xt(E,A[k]);var O=bw(E),_=A[k][S];w[k]=O?{transform:O}:{},hM(w[k],E),_&&(w[k][S]=_)}var x,L=!0;for(var k in R){w[k]=w[k]||{};var D=!x,_=R[k][S];D&&(x=new gs);var P=x.len();x.reset(),w[k].d=uM(e,R[k],x);var U=x.len();if(!D&&P!==U){L=!1;break}_&&(w[k][S]=_)}if(!L)for(var k in w)delete w[k].d;if(!n)for(var I=0;I<b;I++){var C=T[I],M=C.targetName;M==="style"&&N(C,w,function(X){return fM[X]})}for(var z=ee(w),H=!0,V,I=1;I<z.length;I++){var W=z[I-1],q=z[I];if(w[W][Ki]!==w[q][Ki]){H=!1;break}V=w[W][Ki]}if(H&&V){for(var k in w)w[k][Ki]&&delete w[k][Ki];t[Ki]=V}if(_u(z,function(Z){return ee(w[Z]).length>0}).length){var tt=eA(w,r);return tt+" "+y[0]+" both"}}for(var v in l){var o=g(l[v]);o&&a.push(o)}if(a.length){var m=r.zrId+"-cls-"+tA();r.cssNodes["."+m]={animation:a.join(",")},t.class=m}}function pM(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};Ly(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},s=i.fill;if(!s){var a=e.style&&e.style.fill,o=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&o||a;l&&(s=gw(l))}var c=i.lineWidth;if(c){var u=!i.strokeNoScale&&e.transform?e.transform[0]:1;c=c/u}var n={cursor:"pointer"};s&&(n.fill=s),i.stroke&&(n.stroke=i.stroke),c&&(n["stroke-width"]=c),Ly(n,t,r)}}function Ly(e,t,r,n){var i=JSON.stringify(e),s=r.cssStyleCache[i];s||(s=r.zrId+"-cls-"+tA(),r.cssStyleCache[i]=s,r.cssNodes["."+s+":hover"]=e),t.class=t.class?t.class+" "+s:s}var wl=Math.round;function rA(e){return e&&gn(e.src)}function nA(e){return e&&xa(e.toDataURL)}function Gv(e,t,r,n){nM(function(i,s){var a=i==="fill"||i==="stroke";a&&Tw(s)?sA(t,e,i,n):a&&Iv(s)?aA(r,e,i,n):e[i]=s,a&&n.ssr&&s==="none"&&(e["pointer-events"]="visible")},t,r,!1),bM(r,e,n)}function $v(e,t){var r=Rw(t);r&&(r.each(function(n,i){n!=null&&(e[(Sy+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[Sy+"silent"]="true"))}function Oy(e){return vi(e[0]-1)&&vi(e[1])&&vi(e[2])&&vi(e[3]-1)}function gM(e){return vi(e[4])&&vi(e[5])}function Hv(e,t,r){if(t&&!(gM(t)&&Oy(t))){var n=1e4;e.transform=Oy(t)?"translate("+wl(t[4]*n)/n+" "+wl(t[5]*n)/n+")":VL(t)}}function Cy(e,t,r){for(var n=e.points,i=[],s=0;s<n.length;s++)i.push(wl(n[s][0]*r)/r),i.push(wl(n[s][1]*r)/r);t.points=i.join(" ")}function My(e){return!e.smooth}function vM(e){var t=ye(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var s=0;s<t.length;s++){var a=t[s],o=r[a[0]];o!=null&&(n[a[1]]=wl(o*i)/i)}}}var mM={circle:[vM(["cx","cy","r"])],polyline:[Cy,My],polygon:[Cy,My]};function yM(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function iA(e,t){var r=e.style,n=e.shape,i=mM[e.type],s={},a=t.animation,o="path",l=e.style.strokePercent,c=t.compress&&Ew(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(a&&yM(e))&&!(l<1)){o=e.type;var u=Math.pow(10,c);i[0](n,s,u)}else{var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;h&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var f=d.getVersion(),p=e,g=p.__svgPathBuilder;(p.__svgPathVersion!==f||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new Kw),g.reset(c),d.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=f,p.__svgPathStrokePercent=l),s.d=g.getStr()}return Hv(s,e.transform),Gv(s,r,e,t),$v(s,e),t.animation&&Hh(e,s,t),t.emphasis&&pM(e,s,t),xe(o,e.id+"",s)}function TM(e,t){var r=e.style,n=r.image;if(n&&!gn(n)&&(rA(n)?n=n.src:nA(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,s=r.y||0,a=r.width,o=r.height,l={href:n,width:a,height:o};return i&&(l.x=i),s&&(l.y=s),Hv(l,e.transform),Gv(l,r,e,t),$v(l,e),t.animation&&Hh(e,l,t),xe("image",e.id+"",l)}}function EM(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||ps,s=r.x||0,a=KL(r.y||0,Fh(i),r.textBaseline),o=jL[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Dw(r)){var c="",u=r.fontStyle,h=Pw(r.fontSize);if(!parseFloat(h))return;var d=r.fontFamily||Ub,f=r.fontWeight;c+="font-size:"+h+";font-family:"+d+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),f&&f!=="normal"&&(c+="font-weight:"+f+";"),l.style=c}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),s&&(l.x=s),a&&(l.y=a),Hv(l,e.transform),Gv(l,r,e,t),$v(l,e),t.animation&&Hh(e,l,t),xe("text",e.id+"",l,void 0,n)}}function Iy(e,t){if(e instanceof Pe)return iA(e,t);if(e instanceof Il)return TM(e,t);if(e instanceof El)return EM(e,t)}function bM(e,t,r){var n=e.style;if(ZL(n)){var i=QL(e),s=r.shadowCache,a=s[i];if(!a){var o=e.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var u=n.shadowOffsetX||0,h=n.shadowOffsetY||0,d=n.shadowBlur,f=ml(n.shadowColor),p=f.opacity,g=f.color,v=d/2/l,m=d/2/c,y=v+" "+m;a=r.zrId+"-s"+r.shadowIdx++,r.defs[a]=xe("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[xe("feDropShadow","",{dx:u/l,dy:h/c,stdDeviation:y,"flood-color":g,"flood-opacity":p})]),s[i]=a}t.filter=Dh(a)}}function sA(e,t,r,n){var i=e[r],s,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(mw(i))s="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(yw(i))s="radialGradient",a.cx=ue(i.x,.5),a.cy=ue(i.y,.5),a.r=ue(i.r,.5);else return;for(var o=i.colorStops,l=[],c=0,u=o.length;c<u;++c){var h=Hp(o[c].offset)*100+"%",d=o[c].color,f=ml(d),p=f.color,g=f.opacity,v={offset:h};v["stop-color"]=p,g<1&&(v["stop-opacity"]=g),l.push(xe("stop",c+"",v))}var m=xe(s,"",a,l),y=Uv(m),T=n.gradientCache,b=T[y];b||(b=n.zrId+"-g"+n.gradientIdx++,T[y]=b,a.id=b,n.defs[b]=xe(s,b,a,l)),t[r]=Dh(b)}function aA(e,t,r,n){var i=e.style[r],s=e.getBoundingRect(),a={},o=i.repeat,l=o==="no-repeat",c=o==="repeat-x",u=o==="repeat-y",h;if(vw(i)){var d=i.imageWidth,f=i.imageHeight,p=void 0,g=i.image;if(gn(g)?p=g:rA(g)?p=g.src:nA(g)&&(p=g.toDataURL()),typeof Image>"u"){var v="Image width/height must been given explictly in svg-ssr renderer.";Mp(d,v),Mp(f,v)}else if(d==null||f==null){var m=function(I,C){if(I){var M=I.elm,k=d||C.width,E=f||C.height;I.tag==="pattern"&&(c?(E=1,k/=s.width):u&&(k=1,E/=s.height)),I.attrs.width=k,I.attrs.height=E,M&&(M.setAttribute("width",k),M.setAttribute("height",E))}},y=kO(p,null,e,function(I){l||m(R,I),m(h,I)});y&&y.width&&y.height&&(d=d||y.width,f=f||y.height)}h=xe("image","img",{href:p,width:d,height:f}),a.width=d,a.height=f}else i.svgElement&&(h=Ei(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(h){var T,b;l?T=b=1:c?(b=1,T=a.width/s.width):u?(T=1,b=a.height/s.height):a.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(a.width=T),b!=null&&!isNaN(b)&&(a.height=b);var A=bw(i);A&&(a.patternTransform=A);var R=xe("pattern","",a,[h]),w=Uv(R),S=n.patternCache,N=S[w];N||(N=n.zrId+"-p"+n.patternIdx++,S[w]=N,a.id=N,R=n.defs[N]=xe("pattern",N,a,[h])),t[r]=Dh(N)}}function wM(e,t,r){var n=r.clipPathCache,i=r.defs,s=n[e.id];if(!s){s=r.zrId+"-c"+r.clipPathIdx++;var a={id:s};n[e.id]=s,i[s]=xe("clipPath",s,a,[iA(e,r)])}t["clip-path"]=Dh(s)}function ky(e){return document.createTextNode(e)}function Ji(e,t,r){e.insertBefore(t,r)}function Py(e,t){e.removeChild(t)}function Dy(e,t){e.appendChild(t)}function oA(e){return e.parentNode}function lA(e){return e.nextSibling}function dd(e,t){e.textContent=t}var Fy=58,AM=120,_M=xe("","");function ig(e){return e===void 0}function Nn(e){return e!==void 0}function SM(e,t,r){for(var n={},i=t;i<=r;++i){var s=e[i].key;s!==void 0&&(n[s]=i)}return n}function mo(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function Al(e){var t,r=e.children,n=e.tag;if(Nn(n)){var i=e.elm=Jw(n);if(zv(_M,e),ya(r))for(t=0;t<r.length;++t){var s=r[t];s!=null&&Dy(i,Al(s))}else Nn(e.text)&&!Zn(e.text)&&Dy(i,ky(e.text))}else e.elm=ky(e.text);return e.elm}function cA(e,t,r,n,i){for(;n<=i;++n){var s=r[n];s!=null&&Ji(e,Al(s),t)}}function Mu(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(Nn(i.tag)){var s=oA(i.elm);Py(s,i.elm)}else Py(e,i.elm)}}function zv(e,t){var r,n=t.elm,i=e&&e.attrs||{},s=t.attrs||{};if(i!==s){for(r in s){var a=s[r],o=i[r];o!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r==="style"?n.style.cssText=a:r.charCodeAt(0)!==AM?n.setAttribute(r,a):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(iM,r,a):r.charCodeAt(3)===Fy?n.setAttributeNS(sM,r,a):r.charCodeAt(5)===Fy?n.setAttributeNS(Qw,r,a):n.setAttribute(r,a))}for(r in i)r in s||n.removeAttribute(r)}}function xM(e,t,r){for(var n=0,i=0,s=t.length-1,a=t[0],o=t[s],l=r.length-1,c=r[0],u=r[l],h,d,f,p;n<=s&&i<=l;)a==null?a=t[++n]:o==null?o=t[--s]:c==null?c=r[++i]:u==null?u=r[--l]:mo(a,c)?(Ys(a,c),a=t[++n],c=r[++i]):mo(o,u)?(Ys(o,u),o=t[--s],u=r[--l]):mo(a,u)?(Ys(a,u),Ji(e,a.elm,lA(o.elm)),a=t[++n],u=r[--l]):mo(o,c)?(Ys(o,c),Ji(e,o.elm,a.elm),o=t[--s],c=r[++i]):(ig(h)&&(h=SM(t,n,s)),d=h[c.key],ig(d)?Ji(e,Al(c),a.elm):(f=t[d],f.tag!==c.tag?Ji(e,Al(c),a.elm):(Ys(f,c),t[d]=void 0,Ji(e,f.elm,a.elm))),c=r[++i]);(n<=s||i<=l)&&(n>s?(p=r[l+1]==null?null:r[l+1].elm,cA(e,p,r,i,l)):Mu(e,t,n,s))}function Ys(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(zv(e,t),ig(t.text)?Nn(n)&&Nn(i)?n!==i&&xM(r,n,i):Nn(i)?(Nn(e.text)&&dd(r,""),cA(r,null,i,0,i.length-1)):Nn(n)?Mu(r,n,0,n.length-1):Nn(e.text)&&dd(r,""):e.text!==t.text&&(Nn(n)&&Mu(r,n,0,n.length-1),dd(r,t.text)))}function RM(e,t){if(mo(e,t))Ys(e,t);else{var r=e.elm,n=oA(r);Al(t),n!==null&&(Ji(n,t.elm,lA(r)),Mu(n,[e],0,0))}return t}var NM=0,Q$=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=Uy(),this.configLayer=Uy(),this.storage=r,this._opts=n=Xt({},n),this.root=t,this._id="zr"+NM++,this._oldVNode=xy(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var s=this._svgDom=this._oldVNode.elm=Jw("svg");zv(null,this._oldVNode),i.appendChild(s),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",RM(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return Iy(t,ng(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,s=ng(this._id);s.animation=t.animation,s.willUpdate=t.willUpdate,s.compress=t.compress,s.emphasis=t.emphasis,s.ssr=this._opts.ssr;var a=[],o=this._bgVNode=LM(n,i,this._backgroundColor,s);o&&a.push(o);var l=t.compress?null:this._mainVNode=xe("g","main",{},[]);this._paintList(r,s,l?l.children:a),l&&a.push(l);var c=ye(ee(s.defs),function(d){return s.defs[d]});if(c.length&&a.push(xe("defs","defs",{},c)),t.animation){var u=lM(s.cssNodes,s.cssAnims,{newline:!0});if(u){var h=xe("style","stl",{},[],u);a.push(h)}}return xy(n,i,a,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},Uv(this.renderToVNode({animation:ue(t.cssAnimation,!0),emphasis:ue(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ue(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,s=[],a=0,o,l,c=0,u=0;u<i;u++){var h=t[u];if(!h.invisible){var d=h.__clipPaths,f=d&&d.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(f-1,p-1);g>=0&&!(d&&l&&d[g]===l[g]);g--);for(var v=p-1;v>g;v--)a--,o=s[a-1];for(var m=g+1;m<f;m++){var y={};wM(d[m],y,r);var T=xe("g","clip-g-"+c++,y,[]);(o?o.children:n).push(T),s[a++]=T,o=T}l=d;var b=Iy(h,r);b&&(o?o.children:n).push(b)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,s=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&s&&(s.style.display="none",t=Rm(i,0,n),r=Rm(i,1,n),s.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,s){var a=s.style;a.width=t+"px",a.height=r+"px"}if(Iv(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=tO(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function Uy(e){return function(){}}function LM(e,t,r,n){var i;if(r&&r!=="none")if(i=xe("rect","bg",{width:e,height:t,x:"0",y:"0"}),Tw(r))sA({fill:r},i.attrs,"fill",n);else if(Iv(r))aA({style:{fill:r},dirty:mi,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var s=ml(r),a=s.color,o=s.opacity;i.attrs.fill=a,o<1&&(i.attrs["fill-opacity"]=o)}return i}function OM(e){if(gn(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var pd,Iu={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Gy=ee(Iu),ku={"alignment-baseline":"textBaseline","stop-color":"stopColor"},$y=ee(ku),CM=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=OM(t);this._defsUsePending=[];var i=new Qi;this._root=i;var s=[],a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Nr(n,i,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,i,s,null,!1,!1),c=c.nextSibling;kM(this._defs,this._defsUsePending),this._defsUsePending=[];var u,h;if(a){var d=zh(a);d.length>=4&&(u={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(u&&o!=null&&l!=null&&(h=GM(u,{x:0,y:0,width:o,height:l}),!r.ignoreViewBox)){var f=i;i=new Qi,i.add(f),f.scaleX=f.scaleY=h.scale,f.x=h.x,f.y=h.y}return!r.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new bl({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:u,viewBoxTransform:h,named:s}},e.prototype._parseNode=function(t,r,n,i,s,a){var o=t.nodeName.toLowerCase(),l,c=i;if(o==="defs"&&(s=!0),o==="text"&&(a=!0),o==="defs"||o==="switch")l=r;else{if(!s){var u=pd[o];if(u&&pl(pd,o)){l=u.call(this,t,r);var h=t.getAttribute("name");if(h){var d={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(d),o==="g"&&(c=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});r.add(l)}}var f=Hy[o];if(f&&pl(Hy,o)){var p=f.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var v=t.firstChild;v;)v.nodeType===1?this._parseNode(v,l,n,c,s,a):v.nodeType===3&&a&&this._parseText(v,l),v=v.nextSibling},e.prototype._parseText=function(t,r){var n=new El({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),MM(n,r);var i=n.style,s=i.fontSize;s&&s<9&&(i.fontSize=9,n.scaleX*=s/9,n.scaleY*=s/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var o=n.getBoundingRect();return this._textX+=o.width,r.add(n),n},e.internalField=function(){pd={g:function(t,r){var n=new Qi;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new bl;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new zw;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new qw;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new Bw;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=Wy(n));var s=new Dv({shape:{points:i||[]},silent:!0});return Xr(r,s),Nr(t,s,this._defsUsePending,!1,!1),s},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=Wy(n));var s=new Xw({shape:{points:i||[]},silent:!0});return Xr(r,s),Nr(t,s,this._defsUsePending,!1,!1),s},image:function(t,r){var n=new Il;return Xr(r,n),Nr(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",s=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(s),this._textY=parseFloat(i)+parseFloat(a);var o=new Qi;return Xr(r,o),Nr(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var s=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",o=new Qi;return Xr(r,o),Nr(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(s),this._textY+=parseFloat(a),o},path:function(t,r){var n=t.getAttribute("d")||"",i=xC(n);return Xr(r,i),Nr(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),Hy={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),s=new XC(t,r,n,i);return zy(e,s),By(e,s),s},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new qC(t,r,n);return zy(e,i),By(e,i),i}};function zy(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function By(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var s={};uA(r,s,s);var a=s.stopColor||r.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:a})}r=r.nextSibling}}function Xr(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),$r(t.__inheritedStyle,e.__inheritedStyle))}function Wy(e){for(var t=zh(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),s=parseFloat(t[n+1]);r.push([i,s])}return r}function Nr(e,t,r,n,i){var s=t,a=s.__inheritedStyle=s.__inheritedStyle||{},o={};e.nodeType===1&&(FM(e,t),uA(e,a,o),n||UM(e,a,o)),s.style=s.style||{},a.fill!=null&&(s.style.fill=Yy(s,"fill",a.fill,r)),a.stroke!=null&&(s.style.stroke=Yy(s,"stroke",a.stroke,r)),yr(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(s.style[l]=parseFloat(a[l]))}),yr(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(s.style[l]=a[l])}),i&&(s.__selfStyle=o),a.lineDash&&(s.style.lineDash=ye(zh(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(s.invisible=!0),a.display==="none"&&(s.ignore=!0)}function MM(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var s=t.__inheritedStyle;if(s){var a=s.textAlign,o=a;a&&(a==="middle"&&(o="center"),e.style.textAlign=o)}}var IM=/^url\(\s*#(.*?)\)/;function Yy(e,t,r,n){var i=r&&r.match(IM);if(i){var s=ts(i[1]);n.push([e,t,s]);return}return r==="none"&&(r=null),r}function kM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var PM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function zh(e){return e.match(PM)||[]}var DM=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,gd=Math.PI/180;function FM(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(DM,function(h,d,f){return n.push(d,f),""});for(var s=n.length-1;s>0;s-=2){var a=n[s],o=n[s-1],l=zh(a);switch(i=i||yi(),o){case"translate":Ru(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Cv(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ov(i,i,-parseFloat(l[0])*gd,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*gd);na(i,[1,0,c,1,0,0],i);break;case"skewY":var u=Math.tan(parseFloat(l[0])*gd);na(i,[1,u,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var Xy=/([^\s:;]+)\s*:\s*([^:;]+)/g;function uA(e,t,r){var n=e.getAttribute("style");if(n){Xy.lastIndex=0;for(var i;(i=Xy.exec(n))!=null;){var s=i[1],a=pl(Iu,s)?Iu[s]:null;a&&(t[a]=i[2]);var o=pl(ku,s)?ku[s]:null;o&&(r[o]=i[2])}}}function UM(e,t,r){for(var n=0;n<Gy.length;n++){var i=Gy[n],s=e.getAttribute(i);s!=null&&(t[Iu[i]]=s)}for(var n=0;n<$y.length;n++){var i=$y[n],s=e.getAttribute(i);s!=null&&(r[ku[i]]=s)}}function GM(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function J$(e,t){var r=new CM;return r.parse(e,t)}var _n=gs.CMD;function Qs(e,t){return Math.abs(e-t)<1e-5}function sg(e){var t=e.data,r=e.len(),n=[],i,s=0,a=0,o=0,l=0;function c(k,E){i&&i.length>2&&n.push(i),i=[k,E]}function u(k,E,O,_){Qs(k,O)&&Qs(E,_)||i.push(k,E,O,_,O,_)}function h(k,E,O,_,x,L){var D=Math.abs(E-k),P=Math.tan(D/4)*4/3,U=E<k?-1:1,z=Math.cos(k),H=Math.sin(k),V=Math.cos(E),W=Math.sin(E),q=z*x+O,tt=H*L+_,Z=V*x+O,$=W*L+_,Y=x*P*U,X=L*P*U;i.push(q-Y*H,tt+X*z,Z+Y*W,$-X*V,Z,$)}for(var d,f,p,g,v=0;v<r;){var m=t[v++],y=v===1;switch(y&&(s=t[v],a=t[v+1],o=s,l=a,(m===_n.L||m===_n.C||m===_n.Q)&&(i=[o,l])),m){case _n.M:s=o=t[v++],a=l=t[v++],c(o,l);break;case _n.L:d=t[v++],f=t[v++],u(s,a,d,f),s=d,a=f;break;case _n.C:i.push(t[v++],t[v++],t[v++],t[v++],s=t[v++],a=t[v++]);break;case _n.Q:d=t[v++],f=t[v++],p=t[v++],g=t[v++],i.push(s+2/3*(d-s),a+2/3*(f-a),p+2/3*(d-p),g+2/3*(f-g),p,g),s=p,a=g;break;case _n.A:var T=t[v++],b=t[v++],A=t[v++],R=t[v++],w=t[v++],S=t[v++]+w;v+=1;var N=!t[v++];d=Math.cos(w)*A+T,f=Math.sin(w)*R+b,y?(o=d,l=f,c(o,l)):u(s,a,d,f),s=Math.cos(S)*A+T,a=Math.sin(S)*R+b;for(var I=(N?-1:1)*Math.PI/2,C=w;N?C>S:C<S;C+=I){var M=N?Math.max(C+I,S):Math.min(C+I,S);h(C,M,T,b,A,R)}break;case _n.R:o=s=t[v++],l=a=t[v++],d=o+t[v++],f=l+t[v++],c(d,l),u(d,l,d,f),u(d,f,o,f),u(o,f,o,l),u(o,l,d,l);break;case _n.Z:i&&u(s,a,o,l),s=o,a=l;break}}return i&&i.length>2&&n.push(i),n}function ag(e,t,r,n,i,s,a,o,l,c){if(Qs(e,r)&&Qs(t,n)&&Qs(i,a)&&Qs(s,o)){l.push(a,o);return}var u=2/c,h=u*u,d=a-e,f=o-t,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=r-e,v=n-t,m=i-a,y=s-o,T=g*g+v*v,b=m*m+y*y;if(T<h&&b<h){l.push(a,o);return}var A=d*g+f*v,R=-d*m-f*y,w=T-A*A,S=b-R*R;if(w<h&&A>=0&&S<h&&R>=0){l.push(a,o);return}var N=[],I=[];bi(e,r,i,a,.5,N),bi(t,n,s,o,.5,I),ag(N[0],I[0],N[1],I[1],N[2],I[2],N[3],I[3],l,c),ag(N[4],I[4],N[5],I[5],N[6],I[6],N[7],I[7],l,c)}function $M(e,t){var r=sg(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var s=r[i],a=[],o=s[0],l=s[1];a.push(o,l);for(var c=2;c<s.length;){var u=s[c++],h=s[c++],d=s[c++],f=s[c++],p=s[c++],g=s[c++];ag(o,l,u,h,d,f,p,g,a,t),o=p,l=g}n.push(a)}return n}function hA(e,t,r){var n=e[t],i=e[1-t],s=Math.abs(n/i),a=Math.ceil(Math.sqrt(s*r)),o=Math.floor(r/a);o===0&&(o=1,a=r);for(var l=[],c=0;c<a;c++)l.push(o);var u=a*o,h=r-u;if(h>0)for(var c=0;c<h;c++)l[c%a]+=1;return l}function qy(e,t,r){for(var n=e.r0,i=e.r,s=e.startAngle,a=e.endAngle,o=Math.abs(a-s),l=o*i,c=i-n,u=l>Math.abs(c),h=hA([l,c],u?0:1,t),d=(u?o:c)/h.length,f=0;f<h.length;f++)for(var p=(u?c:o)/h[f],g=0;g<h[f];g++){var v={};u?(v.startAngle=s+d*f,v.endAngle=s+d*(f+1),v.r0=n+p*g,v.r=n+p*(g+1)):(v.startAngle=s+p*g,v.endAngle=s+p*(g+1),v.r0=n+d*f,v.r=n+d*(f+1)),v.clockwise=e.clockwise,v.cx=e.cx,v.cy=e.cy,r.push(v)}}function HM(e,t,r){for(var n=e.width,i=e.height,s=n>i,a=hA([n,i],s?0:1,t),o=s?"width":"height",l=s?"height":"width",c=s?"x":"y",u=s?"y":"x",h=e[o]/a.length,d=0;d<a.length;d++)for(var f=e[l]/a[d],p=0;p<a[d];p++){var g={};g[c]=d*h,g[u]=p*f,g[o]=h,g[l]=f,g.x+=e.x,g.y+=e.y,r.push(g)}}function Vy(e,t,r,n){return e*n-r*t}function zM(e,t,r,n,i,s,a,o){var l=r-e,c=n-t,u=a-i,h=o-s,d=Vy(u,h,l,c);if(Math.abs(d)<1e-6)return null;var f=e-i,p=t-s,g=Vy(f,p,u,h)/d;return g<0||g>1?null:new Dt(g*l+e,g*c+t)}function BM(e,t,r){var n=new Dt;Dt.sub(n,r,t),n.normalize();var i=new Dt;Dt.sub(i,e,t);var s=i.dot(n);return s}function Hs(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function WM(e,t,r){for(var n=e.length,i=[],s=0;s<n;s++){var a=e[s],o=e[(s+1)%n],l=zM(a[0],a[1],o[0],o[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:BM(l,t,r),pt:l,idx:s})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(v,m){return v.projPt-m.projPt});var c=i[0],u=i[i.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}for(var d=[c.pt.x,c.pt.y],f=[u.pt.x,u.pt.y],p=[d],g=[f],s=c.idx+1;s<=u.idx;s++)Hs(p,e[s].slice());Hs(p,f),Hs(p,d);for(var s=u.idx+1;s<=c.idx+n;s++)Hs(g,e[s%n].slice());return Hs(g,d),Hs(g,f),[{points:p},{points:g}]}function jy(e){var t=e.points,r=[],n=[];Iw(t,r,n);var i=new Re(r[0],r[1],n[0]-r[0],n[1]-r[1]),s=i.width,a=i.height,o=i.x,l=i.y,c=new Dt,u=new Dt;return s>a?(c.x=u.x=o+s/2,c.y=l,u.y=l+a):(c.y=u.y=l+a/2,c.x=o,u.x=o+s),WM(t,c,u)}function Pu(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),s=e(t);Pu(e,s[0],i,n),Pu(e,s[1],r-i,n)}return n}function YM(e,t){for(var r=[],n=0;n<t;n++)r.push(Hw(e));return r}function XM(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function qM(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function VM(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":HM(n,t,r),i=bl;break;case"sector":qy(n,t,r),i=eg;break;case"circle":qy({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=eg;break;default:var s=e.getComputedTransform(),a=s?Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3])):1,o=ye($M(e.getUpdatedPathProxy(),a),function(m){return qM(m)}),l=o.length;if(l===0)Pu(jy,{points:o[0]},t,r);else if(l===t)for(var c=0;c<l;c++)r.push({points:o[c]});else{var u=0,h=ye(o,function(m){var y=[],T=[];Iw(m,y,T);var b=(T[1]-y[1])*(T[0]-y[0]);return u+=b,{poly:m,area:b}});h.sort(function(m,y){return y.area-m.area});for(var d=t,c=0;c<l;c++){var f=h[c];if(d<=0)break;var p=c===l-1?d:Math.ceil(f.area/u*t);p<0||(Pu(jy,{points:f.poly},p,r),d-=p)}}i=Dv;break}if(!i)return YM(e,t);for(var g=[],c=0;c<r.length;c++){var v=new i;v.setShape(r[c]),XM(e,v),g.push(v)}return g}function jM(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],s=[],a=r<n?e:t,o=Math.min(r,n),l=Math.abs(n-r)/6,c=(o-2)/6,u=Math.ceil(l/c)+1,h=[a[0],a[1]],d=l,f=2;f<o;){var p=a[f-2],g=a[f-1],v=a[f++],m=a[f++],y=a[f++],T=a[f++],b=a[f++],A=a[f++];if(d<=0){h.push(v,m,y,T,b,A);continue}for(var R=Math.min(d,u-1)+1,w=1;w<=R;w++){var S=w/R;bi(p,v,y,b,S,i),bi(g,m,T,A,S,s),p=i[3],g=s[3],h.push(i[1],s[1],i[2],s[2],p,g),v=i[5],m=s[5],y=i[6],T=s[6]}d-=R-1}return a===e?[h,t]:[e,h]}function Ky(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],s=[],a=0;a<t.length;)s[a++]=n,s[a++]=i;return s}function KM(e,t){for(var r,n,i,s=[],a=[],o=0;o<Math.max(e.length,t.length);o++){var l=e[o],c=t[o],u=void 0,h=void 0;l?c?(r=jM(l,c),u=r[0],h=r[1],n=u,i=h):(h=Ky(i||l,l),u=l):(u=Ky(n||c,c),h=c),s.push(u),a.push(h)}return[s,a]}function Zy(e){for(var t=0,r=0,n=0,i=e.length,s=0,a=i-2;s<i;a=s,s+=2){var o=e[a],l=e[a+1],c=e[s],u=e[s+1],h=o*u-c*l;t+=h,r+=(o+c)*h,n+=(l+u)*h}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function ZM(e,t,r,n){for(var i=(e.length-2)/6,s=1/0,a=0,o=e.length,l=o-2,c=0;c<i;c++){for(var u=c*6,h=0,d=0;d<o;d+=2){var f=d===0?u:(u+d-2)%l+2,p=e[f]-r[0],g=e[f+1]-r[1],v=t[d]-n[0],m=t[d+1]-n[1],y=v-p,T=m-g;h+=y*y+T*T}h<s&&(s=h,a=c)}return a}function QM(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function JM(e,t,r,n){for(var i=[],s,a=0;a<e.length;a++){var o=e[a],l=t[a],c=Zy(o),u=Zy(l);s==null&&(s=c[2]<0!=u[2]<0);var h=[],d=[],f=0,p=1/0,g=[],v=o.length;s&&(o=QM(o));for(var m=ZM(o,l,c,u)*6,y=v-2,T=0;T<y;T+=2){var b=(m+T)%y+2;h[T+2]=o[b]-c[0],h[T+3]=o[b+1]-c[1]}h[0]=o[m]-c[0],h[1]=o[m+1]-c[1];for(var A=n/r,R=-n/2;R<=n/2;R+=A){for(var w=Math.sin(R),S=Math.cos(R),N=0,T=0;T<o.length;T+=2){var I=h[T],C=h[T+1],M=l[T]-u[0],k=l[T+1]-u[1],E=M*S-k*w,O=M*w+k*S;g[T]=E,g[T+1]=O;var _=E-I,x=O-C;N+=_*_+x*x}if(N<p){p=N,f=R;for(var L=0;L<g.length;L++)d[L]=g[L]}}i.push({from:h,to:d,fromCp:c,toCp:u,rotation:-f})}return i}function og(e){return e.__isCombineMorphing}var fA="__mOriginal_";function Du(e,t,r){var n=fA+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var s=r.replace,a=r.after,o=r.before;e[t]=function(){var l=arguments,c;return o&&o.apply(this,l),s?c=s.apply(this,l):c=i.apply(this,l),a&&a.apply(this,l),c}}function il(e,t){var r=fA+t;e[r]&&(e[t]=e[r],e[r]=null)}function Qy(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var s=n[i],a=n[i+1];n[i++]=t[0]*s+t[2]*a+t[4],n[i++]=t[1]*s+t[3]*a+t[5]}}function dA(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=KM(sg(r),sg(n)),s=i[0],a=i[1],o=e.getComputedTransform(),l=t.getComputedTransform();function c(){this.transform=null}o&&Qy(s,o),l&&Qy(a,l),Du(t,"updateTransform",{replace:c}),t.transform=null;var u=JM(s,a,10,Math.PI),h=[];Du(t,"buildPath",{replace:function(d){for(var f=t.__morphT,p=1-f,g=[],v=0;v<u.length;v++){var m=u[v],y=m.from,T=m.to,b=m.rotation*f,A=m.fromCp,R=m.toCp,w=Math.sin(b),S=Math.cos(b);Qb(g,A,R,f);for(var N=0;N<y.length;N+=2){var I=y[N],C=y[N+1],M=T[N],k=T[N+1],E=I*p+M*f,O=C*p+k*f;h[N]=E*S-O*w+g[0],h[N+1]=E*w+O*S+g[1]}var _=h[0],x=h[1];d.moveTo(_,x);for(var N=2;N<y.length;){var M=h[N++],k=h[N++],L=h[N++],D=h[N++],P=h[N++],U=h[N++];_===M&&x===k&&L===P&&D===U?d.lineTo(P,U):d.bezierCurveTo(M,k,L,D,P,U),_=P,x=U}}}})}function pA(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;dA(e,t),t.__morphT=0;function s(){il(t,"buildPath"),il(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},$r({during:function(a){t.dirtyShape(),i&&i(a)},done:function(){s(),n&&n()}},r)),t}function tI(e,t,r,n,i,s){var a=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=s===n?0:Math.round(32767*(t-n)/(s-n));for(var o=0,l,c=(1<<a)/2;c>0;c/=2){var u=0,h=0;(e&c)>0&&(u=1),(t&c)>0&&(h=1),o+=c*c*(3*u^h),h===0&&(u===1&&(e=c-1-e,t=c-1-t),l=e,e=t,t=l)}return o}function Fu(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,s=ye(e,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return t=Math.min(u,t),r=Math.min(h,r),n=Math.max(u,n),i=Math.max(h,i),[u,h]}),a=ye(s,function(o,l){return{cp:o,z:tI(o[0],o[1],t,r,n,i),path:e[l]}});return a.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function gA(e){return VM(e.path,e.count)}function lg(){return{fromIndividuals:[],toIndividuals:[],count:0}}function t3(e,t,r){var n=[];function i(A){for(var R=0;R<A.length;R++){var w=A[R];og(w)?i(w.childrenRef()):w instanceof Pe&&n.push(w)}}i(e);var s=n.length;if(!s)return lg();var a=r.dividePath||gA,o=a({path:t,count:s});if(o.length!==s)return console.error("Invalid morphing: unmatched splitted path"),lg();n=Fu(n),o=Fu(o);for(var l=r.done,c=r.during,u=r.individualDelay,h=new Pv,d=0;d<s;d++){var f=n[d],p=o[d];p.parent=t,p.copyTransform(h),u||dA(f,p)}t.__isCombineMorphing=!0,t.childrenRef=function(){return o};function g(A){for(var R=0;R<o.length;R++)o[R].addSelfToZr(A)}Du(t,"addSelfToZr",{after:function(A){g(A)}}),Du(t,"removeSelfFromZr",{after:function(A){for(var R=0;R<o.length;R++)o[R].removeSelfFromZr(A)}});function v(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,il(t,"addSelfToZr"),il(t,"removeSelfFromZr")}var m=o.length;if(u)for(var y=m,T=function(){y--,y===0&&(v(),l&&l())},d=0;d<m;d++){var b=u?$r({delay:(r.delay||0)+u(d,m,n[d],o[d]),done:T},r):r;pA(n[d],o[d],b)}else t.__morphT=0,t.animateTo({__morphT:1},$r({during:function(A){for(var R=0;R<m;R++){var w=o[R];w.__morphT=t.__morphT,w.dirtyShape()}c&&c(A)},done:function(){v();for(var A=0;A<e.length;A++)il(e[A],"updateTransform");l&&l()}},r));return t.__zr&&g(t.__zr),{fromIndividuals:n,toIndividuals:o,count:m}}function e3(e,t,r){var n=t.length,i=[],s=r.dividePath||gA;function a(f){for(var p=0;p<f.length;p++){var g=f[p];og(g)?a(g.childrenRef()):g instanceof Pe&&i.push(g)}}if(og(e)){a(e.childrenRef());var o=i.length;if(o<n)for(var l=0,c=o;c<n;c++)i.push(Hw(i[l++%o]));i.length=n}else{i=s({path:e,count:n});for(var u=e.getComputedTransform(),c=0;c<i.length;c++)i[c].setLocalTransform(u);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),lg()}i=Fu(i),t=Fu(t);for(var h=r.individualDelay,c=0;c<n;c++){var d=h?$r({delay:(r.delay||0)+h(c,n,i[c],t[c])},r):r;pA(i[c],t[c],d)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}var $n={},Hn={},vd={},Jy;function eI(){return Jy||(Jy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=1,r=function(){return"".concat(t++)};e.default=r}(vd)),vd}var Xa={},qa={},md={},t1;function vA(){return t1||(t1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,s=null;return function(){for(var a=this,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];clearTimeout(s),s=setTimeout(function(){n.apply(a,l)},i)}};e.default=t}(md)),md}var zn={},e1;function Bv(){if(e1)return zn;e1=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.SizeSensorId=zn.SensorTabIndex=zn.SensorClassName=void 0;var e="size-sensor-id";zn.SizeSensorId=e;var t="size-sensor-object";zn.SensorClassName=t;var r="-1";return zn.SensorTabIndex=r,zn}var r1;function rI(){if(r1)return qa;r1=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.createSensor=void 0;var e=r(vA()),t=Bv();function r(i){return i&&i.__esModule?i:{default:i}}var n=function(s,a){var o=void 0,l=[],c=function(){getComputedStyle(s).position==="static"&&(s.style.position="relative");var g=document.createElement("object");return g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",u),u()},g.style.display="block",g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.height="100%",g.style.width="100%",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.zIndex="-1",g.style.opacity="0",g.setAttribute("class",t.SensorClassName),g.setAttribute("tabindex",t.SensorTabIndex),g.type="text/html",s.appendChild(g),g.data="about:blank",g},u=(0,e.default)(function(){l.forEach(function(p){p(s)})}),h=function(g){o||(o=c()),l.indexOf(g)===-1&&l.push(g)},d=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",u),o.parentNode.removeChild(o),s.removeAttribute(t.SizeSensorId),o=void 0,l=[],a&&a())},f=function(g){var v=l.indexOf(g);v!==-1&&l.splice(v,1),l.length===0&&o&&d()};return{element:s,bind:h,destroy:d,unbind:f}};return qa.createSensor=n,qa}var Va={},n1;function nI(){if(n1)return Va;n1=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.createSensor=void 0;var e=Bv(),t=r(vA());function r(i){return i&&i.__esModule?i:{default:i}}var n=function(s,a){var o=void 0,l=[],c=(0,t.default)(function(){l.forEach(function(p){p(s)})}),u=function(){var g=new ResizeObserver(c);return g.observe(s),c(),g},h=function(g){o||(o=u()),l.indexOf(g)===-1&&l.push(g)},d=function(){o.disconnect(),l=[],o=void 0,s.removeAttribute(e.SizeSensorId),a&&a()},f=function(g){var v=l.indexOf(g);v!==-1&&l.splice(v,1),l.length===0&&o&&d()};return{element:s,bind:h,destroy:d,unbind:f}};return Va.createSensor=n,Va}var i1;function iI(){if(i1)return Xa;i1=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.createSensor=void 0;var e=rI(),t=nI(),r=typeof ResizeObserver<"u"?t.createSensor:e.createSensor;return Xa.createSensor=r,Xa}var s1;function sI(){if(s1)return Hn;s1=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.removeSensor=Hn.getSensor=Hn.Sensors=void 0;var e=n(eI()),t=iI(),r=Bv();function n(l){return l&&l.__esModule?l:{default:l}}var i={};Hn.Sensors=i;function s(l){l&&i[l]&&delete i[l]}var a=function(c){var u=c.getAttribute(r.SizeSensorId);if(u&&i[u])return i[u];var h=(0,e.default)();c.setAttribute(r.SizeSensorId,h);var d=(0,t.createSensor)(c,function(){return s(h)});return i[h]=d,d};Hn.getSensor=a;var o=function(c){var u=c.element.getAttribute(r.SizeSensorId);c.destroy(),s(u)};return Hn.removeSensor=o,Hn}var a1;function aI(){if(a1)return $n;a1=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.ver=$n.clear=$n.bind=void 0;var e=sI(),t=function(s,a){var o=(0,e.getSensor)(s);return o.bind(a),function(){o.unbind(a)}};$n.bind=t;var r=function(s){var a=(0,e.getSensor)(s);(0,e.removeSensor)(a)};$n.clear=r;var n="1.0.2";return $n.ver=n,$n}var r3=aI(),yd,o1;function oI(){return o1||(o1=1,yd=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),yd}var lI=oI();const n3=sv(lI);class i3 extends Map{constructor(t,r=hI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(l1(this,t))}has(t){return super.has(l1(this,t))}set(t,r){return super.set(cI(this,t),r)}delete(t){return super.delete(uI(this,t))}}function l1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uI({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hI(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Qc={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return Qc.hue2rgb(s,i,e+1/3)*255;case"g":return Qc.hue2rgb(s,i,e)*255;case"b":return Qc.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}}},fI={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},dI={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Tt={channel:Qc,lang:fI,unit:dI},hi={};for(let e=0;e<=255;e++)hi[e]=Tt.unit.dec2hex(e);const Ze={ALL:0,RGB:1,HSL:2};let pI=class{constructor(){this.type=Ze.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Ze.ALL}is(t){return this.type===t}};class gI{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new pI}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Ze.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Tt.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Tt.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Tt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Tt.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Tt.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Tt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(Ze.HSL)&&r!==void 0?r:(this._ensureHSL(),Tt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(Ze.HSL)&&r!==void 0?r:(this._ensureHSL(),Tt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(Ze.HSL)&&r!==void 0?r:(this._ensureHSL(),Tt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(Ze.RGB)&&r!==void 0?r:(this._ensureRGB(),Tt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(Ze.RGB)&&r!==void 0?r:(this._ensureRGB(),Tt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(Ze.RGB)&&r!==void 0?r:(this._ensureRGB(),Tt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Ze.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Ze.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Ze.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Ze.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Ze.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Ze.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Bh=new gI({r:0,g:0,b:0,a:0},"transparent"),sa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(sa.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,u=a?255:15;return Bh.set({r:(n>>l*(c+3)&u)*o,g:(n>>l*(c+2)&u)*o,b:(n>>l*(c+1)&u)*o,a:s?(n&u)*o/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${hi[Math.round(t)]}${hi[Math.round(r)]}${hi[Math.round(n)]}${hi[Math.round(i*255)]}`:`#${hi[Math.round(t)]}${hi[Math.round(r)]}${hi[Math.round(n)]}`}},is={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(is.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return Tt.channel.clamp.h(parseFloat(r)*.9);case"rad":return Tt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Tt.channel.clamp.h(parseFloat(r)*360)}}return Tt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(is.re);if(!r)return;const[,n,i,s,a,o]=r;return Bh.set({h:is._hue2deg(n),s:Tt.channel.clamp.s(parseFloat(i)),l:Tt.channel.clamp.l(parseFloat(s)),a:a?Tt.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Tt.lang.round(t)}, ${Tt.lang.round(r)}%, ${Tt.lang.round(n)}%, ${i})`:`hsl(${Tt.lang.round(t)}, ${Tt.lang.round(r)}%, ${Tt.lang.round(n)}%)`}},sl={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=sl.colors[e];if(t)return sa.parse(t)},stringify:e=>{const t=sa.stringify(e);for(const r in sl.colors)if(sl.colors[r]===t)return r}},yo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(yo.re);if(!r)return;const[,n,i,s,a,o,l,c,u]=r;return Bh.set({r:Tt.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Tt.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:Tt.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?Tt.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Tt.lang.round(t)}, ${Tt.lang.round(r)}, ${Tt.lang.round(n)}, ${Tt.lang.round(i)})`:`rgb(${Tt.lang.round(t)}, ${Tt.lang.round(r)}, ${Tt.lang.round(n)})`}},vn={format:{keyword:sl,hex:sa,rgb:yo,rgba:yo,hsl:is,hsla:is},parse:e=>{if(typeof e!="string")return e;const t=sa.parse(e)||yo.parse(e)||is.parse(e)||sl.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Ze.HSL)||e.data.r===void 0?is.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?yo.stringify(e):sa.stringify(e)},mA=(e,t)=>{const r=vn.parse(e);for(const n in t)r[n]=Tt.channel.clamp[n](t[n]);return vn.stringify(r)},vI=(e,t,r=0,n=1)=>{if(typeof e!="number")return mA(e,{a:t});const i=Bh.set({r:Tt.channel.clamp.r(e),g:Tt.channel.clamp.g(t),b:Tt.channel.clamp.b(r),a:Tt.channel.clamp.a(n)});return vn.stringify(i)},a3=(e,t)=>Tt.lang.round(vn.parse(e)[t]),mI=e=>{const{r:t,g:r,b:n}=vn.parse(e),i=.2126*Tt.channel.toLinear(t)+.7152*Tt.channel.toLinear(r)+.0722*Tt.channel.toLinear(n);return Tt.lang.round(i)},yI=e=>mI(e)>=.5,o3=e=>!yI(e),yA=(e,t,r)=>{const n=vn.parse(e),i=n[t],s=Tt.channel.clamp[t](i+r);return i!==s&&(n[t]=s),vn.stringify(n)},l3=(e,t)=>yA(e,"l",t),c3=(e,t)=>yA(e,"l",-t),u3=(e,t)=>{const r=vn.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return mA(e,n)},TI=(e,t,r=50)=>{const{r:n,g:i,b:s,a}=vn.parse(e),{r:o,g:l,b:c,a:u}=vn.parse(t),h=r/100,d=h*2-1,f=a-u,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,v=1-g,m=n*g+o*v,y=i*g+l*v,T=s*g+c*v,b=a*h+u*(1-h);return vI(m,y,T,b)},h3=(e,t=100)=>{const r=vn.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,TI(r,e,t)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:TA,setPrototypeOf:c1,isFrozen:EI,getPrototypeOf:bI,getOwnPropertyDescriptor:wI}=Object;let{freeze:lr,seal:tn,create:EA}=Object,{apply:cg,construct:ug}=typeof Reflect<"u"&&Reflect;lr||(lr=function(t){return t});tn||(tn=function(t){return t});cg||(cg=function(t,r,n){return t.apply(r,n)});ug||(ug=function(t,r){return new t(...r)});const yc=cr(Array.prototype.forEach),AI=cr(Array.prototype.lastIndexOf),u1=cr(Array.prototype.pop),ja=cr(Array.prototype.push),_I=cr(Array.prototype.splice),Jc=cr(String.prototype.toLowerCase),Td=cr(String.prototype.toString),h1=cr(String.prototype.match),Ka=cr(String.prototype.replace),SI=cr(String.prototype.indexOf),xI=cr(String.prototype.trim),an=cr(Object.prototype.hasOwnProperty),ir=cr(RegExp.prototype.test),Za=RI(TypeError);function cr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return cg(e,t,n)}}function RI(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ug(e,r)}}function Lt(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jc;c1&&c1(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(EI(t)||(t[n]=s),i=s)}e[i]=!0}return e}function NI(e){for(let t=0;t<e.length;t++)an(e,t)||(e[t]=null);return e}function Bn(e){const t=EA(null);for(const[r,n]of TA(e))an(e,r)&&(Array.isArray(n)?t[r]=NI(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Bn(n):t[r]=n);return t}function Qa(e,t){for(;e!==null;){const n=wI(e,t);if(n){if(n.get)return cr(n.get);if(typeof n.value=="function")return cr(n.value)}e=bI(e)}function r(){return null}return r}const f1=lr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ed=lr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),bd=lr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),LI=lr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wd=lr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),OI=lr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),d1=lr(["#text"]),p1=lr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ad=lr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),g1=lr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tc=lr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),CI=tn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),MI=tn(/<%[\w\W]*|[\w\W]*%>/gm),II=tn(/\$\{[\w\W]*/gm),kI=tn(/^data-[\-\w.\u00B7-\uFFFF]+$/),PI=tn(/^aria-[\-\w]+$/),bA=tn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DI=tn(/^(?:\w+script|data):/i),FI=tn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wA=tn(/^html$/i),UI=tn(/^[a-z][.\w]*(-[.\w]+)+$/i);var v1=Object.freeze({__proto__:null,ARIA_ATTR:PI,ATTR_WHITESPACE:FI,CUSTOM_ELEMENT:UI,DATA_ATTR:kI,DOCTYPE_NAME:wA,ERB_EXPR:MI,IS_ALLOWED_URI:bA,IS_SCRIPT_OR_DATA:DI,MUSTACHE_EXPR:CI,TMPLIT_EXPR:II});const Ja={element:1,text:3,progressingInstruction:7,comment:8,document:9},GI=function(){return typeof window>"u"?null:window},$I=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},m1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function AA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GI();const t=ot=>AA(ot);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==Ja.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=e,p=l.prototype,g=Qa(p,"cloneNode"),v=Qa(p,"remove"),m=Qa(p,"nextSibling"),y=Qa(p,"childNodes"),T=Qa(p,"parentNode");if(typeof a=="function"){const ot=r.createElement("template");ot.content&&ot.content.ownerDocument&&(r=ot.content.ownerDocument)}let b,A="";const{implementation:R,createNodeIterator:w,createDocumentFragment:S,getElementsByTagName:N}=r,{importNode:I}=n;let C=m1();t.isSupported=typeof TA=="function"&&typeof T=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:k,TMPLIT_EXPR:E,DATA_ATTR:O,ARIA_ATTR:_,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:D}=v1;let{IS_ALLOWED_URI:P}=v1,U=null;const z=Lt({},[...f1,...Ed,...bd,...wd,...d1]);let H=null;const V=Lt({},[...p1,...Ad,...g1,...Tc]);let W=Object.seal(EA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,tt=null,Z=!0,$=!0,Y=!1,X=!0,j=!1,nt=!0,K=!1,Gt=!1,At=!1,De=!1,Ee=!1,Ot=!1,We=!0,Ye=!1;const Oi="user-content-";let be=!0,Wr=!1,fe={},Xe=null;const Pn=Lt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ii=null;const nr=Lt({},["audio","video","img","source","image","track"]);let Sr=null;const dr=Lt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Q="http://www.w3.org/1998/Math/MathML",et="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml";let ut=st,lt=!1,Et=null;const Qt=Lt({},[Q,et,st],Td);let It=Lt({},["mi","mo","mn","ms","mtext"]),ct=Lt({},["annotation-xml"]);const at=Lt({},["title","style","font","a","script"]);let Nt=null;const jt=["application/xhtml+xml","text/html"],kt="text/html";let Ct=null,mt=null;const pt=r.createElement("form"),Ft=function(F){return F instanceof RegExp||F instanceof Function},ft=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mt&&mt===F)){if((!F||typeof F!="object")&&(F={}),F=Bn(F),Nt=jt.indexOf(F.PARSER_MEDIA_TYPE)===-1?kt:F.PARSER_MEDIA_TYPE,Ct=Nt==="application/xhtml+xml"?Td:Jc,U=an(F,"ALLOWED_TAGS")?Lt({},F.ALLOWED_TAGS,Ct):z,H=an(F,"ALLOWED_ATTR")?Lt({},F.ALLOWED_ATTR,Ct):V,Et=an(F,"ALLOWED_NAMESPACES")?Lt({},F.ALLOWED_NAMESPACES,Td):Qt,Sr=an(F,"ADD_URI_SAFE_ATTR")?Lt(Bn(dr),F.ADD_URI_SAFE_ATTR,Ct):dr,ii=an(F,"ADD_DATA_URI_TAGS")?Lt(Bn(nr),F.ADD_DATA_URI_TAGS,Ct):nr,Xe=an(F,"FORBID_CONTENTS")?Lt({},F.FORBID_CONTENTS,Ct):Pn,q=an(F,"FORBID_TAGS")?Lt({},F.FORBID_TAGS,Ct):Bn({}),tt=an(F,"FORBID_ATTR")?Lt({},F.FORBID_ATTR,Ct):Bn({}),fe=an(F,"USE_PROFILES")?F.USE_PROFILES:!1,Z=F.ALLOW_ARIA_ATTR!==!1,$=F.ALLOW_DATA_ATTR!==!1,Y=F.ALLOW_UNKNOWN_PROTOCOLS||!1,X=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,j=F.SAFE_FOR_TEMPLATES||!1,nt=F.SAFE_FOR_XML!==!1,K=F.WHOLE_DOCUMENT||!1,De=F.RETURN_DOM||!1,Ee=F.RETURN_DOM_FRAGMENT||!1,Ot=F.RETURN_TRUSTED_TYPE||!1,At=F.FORCE_BODY||!1,We=F.SANITIZE_DOM!==!1,Ye=F.SANITIZE_NAMED_PROPS||!1,be=F.KEEP_CONTENT!==!1,Wr=F.IN_PLACE||!1,P=F.ALLOWED_URI_REGEXP||bA,ut=F.NAMESPACE||st,It=F.MATHML_TEXT_INTEGRATION_POINTS||It,ct=F.HTML_INTEGRATION_POINTS||ct,W=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&Ft(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Ft(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),j&&($=!1),Ee&&(De=!0),fe&&(U=Lt({},d1),H=[],fe.html===!0&&(Lt(U,f1),Lt(H,p1)),fe.svg===!0&&(Lt(U,Ed),Lt(H,Ad),Lt(H,Tc)),fe.svgFilters===!0&&(Lt(U,bd),Lt(H,Ad),Lt(H,Tc)),fe.mathMl===!0&&(Lt(U,wd),Lt(H,g1),Lt(H,Tc))),F.ADD_TAGS&&(U===z&&(U=Bn(U)),Lt(U,F.ADD_TAGS,Ct)),F.ADD_ATTR&&(H===V&&(H=Bn(H)),Lt(H,F.ADD_ATTR,Ct)),F.ADD_URI_SAFE_ATTR&&Lt(Sr,F.ADD_URI_SAFE_ATTR,Ct),F.FORBID_CONTENTS&&(Xe===Pn&&(Xe=Bn(Xe)),Lt(Xe,F.FORBID_CONTENTS,Ct)),be&&(U["#text"]=!0),K&&Lt(U,["html","head","body"]),U.table&&(Lt(U,["tbody"]),delete q.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw Za('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Za('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=F.TRUSTED_TYPES_POLICY,A=b.createHTML("")}else b===void 0&&(b=$I(f,i)),b!==null&&typeof A=="string"&&(A=b.createHTML(""));lr&&lr(F),mt=F}},ht=Lt({},[...Ed,...bd,...LI]),we=Lt({},[...wd,...OI]),Rt=function(F){let J=T(F);(!J||!J.tagName)&&(J={namespaceURI:ut,tagName:"template"});const it=Jc(F.tagName),qt=Jc(J.tagName);return Et[F.namespaceURI]?F.namespaceURI===et?J.namespaceURI===st?it==="svg":J.namespaceURI===Q?it==="svg"&&(qt==="annotation-xml"||It[qt]):!!ht[it]:F.namespaceURI===Q?J.namespaceURI===st?it==="math":J.namespaceURI===et?it==="math"&&ct[qt]:!!we[it]:F.namespaceURI===st?J.namespaceURI===et&&!ct[qt]||J.namespaceURI===Q&&!It[qt]?!1:!we[it]&&(at[it]||!ht[it]):!!(Nt==="application/xhtml+xml"&&Et[F.namespaceURI]):!1},wt=function(F){ja(t.removed,{element:F});try{T(F).removeChild(F)}catch{v(F)}},Ae=function(F,J){try{ja(t.removed,{attribute:J.getAttributeNode(F),from:J})}catch{ja(t.removed,{attribute:null,from:J})}if(J.removeAttribute(F),F==="is")if(De||Ee)try{wt(J)}catch{}else try{J.setAttribute(F,"")}catch{}},he=function(F){let J=null,it=null;if(At)F="<remove></remove>"+F;else{const ie=h1(F,/^[\r\n\t ]+/);it=ie&&ie[0]}Nt==="application/xhtml+xml"&&ut===st&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");const qt=b?b.createHTML(F):F;if(ut===st)try{J=new d().parseFromString(qt,Nt)}catch{}if(!J||!J.documentElement){J=R.createDocument(ut,"template",null);try{J.documentElement.innerHTML=lt?A:qt}catch{}}const _e=J.body||J.documentElement;return F&&it&&_e.insertBefore(r.createTextNode(it),_e.childNodes[0]||null),ut===st?N.call(J,K?"html":"body")[0]:K?J.documentElement:_e},qe=function(F){return w.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Jt=function(F){return F instanceof h&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof u)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},xr=function(F){return typeof o=="function"&&F instanceof o};function Ve(ot,F,J){yc(ot,it=>{it.call(t,F,J,mt)})}const Os=function(F){let J=null;if(Ve(C.beforeSanitizeElements,F,null),Jt(F))return wt(F),!0;const it=Ct(F.nodeName);if(Ve(C.uponSanitizeElement,F,{tagName:it,allowedTags:U}),nt&&F.hasChildNodes()&&!xr(F.firstElementChild)&&ir(/<[/\w!]/g,F.innerHTML)&&ir(/<[/\w!]/g,F.textContent)||F.nodeType===Ja.progressingInstruction||nt&&F.nodeType===Ja.comment&&ir(/<[/\w]/g,F.data))return wt(F),!0;if(!U[it]||q[it]){if(!q[it]&&Dn(it)&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,it)||W.tagNameCheck instanceof Function&&W.tagNameCheck(it)))return!1;if(be&&!Xe[it]){const qt=T(F)||F.parentNode,_e=y(F)||F.childNodes;if(_e&&qt){const ie=_e.length;for(let je=ie-1;je>=0;--je){const Rr=g(_e[je],!0);Rr.__removalCount=(F.__removalCount||0)+1,qt.insertBefore(Rr,m(F))}}}return wt(F),!0}return F instanceof l&&!Rt(F)||(it==="noscript"||it==="noembed"||it==="noframes")&&ir(/<\/no(script|embed|frames)/i,F.innerHTML)?(wt(F),!0):(j&&F.nodeType===Ja.text&&(J=F.textContent,yc([M,k,E],qt=>{J=Ka(J,qt," ")}),F.textContent!==J&&(ja(t.removed,{element:F.cloneNode()}),F.textContent=J)),Ve(C.afterSanitizeElements,F,null),!1)},Tn=function(F,J,it){if(We&&(J==="id"||J==="name")&&(it in r||it in pt))return!1;if(!($&&!tt[J]&&ir(O,J))){if(!(Z&&ir(_,J))){if(!H[J]||tt[J]){if(!(Dn(F)&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,F)||W.tagNameCheck instanceof Function&&W.tagNameCheck(F))&&(W.attributeNameCheck instanceof RegExp&&ir(W.attributeNameCheck,J)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(J))||J==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ir(W.tagNameCheck,it)||W.tagNameCheck instanceof Function&&W.tagNameCheck(it))))return!1}else if(!Sr[J]){if(!ir(P,Ka(it,L,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&F!=="script"&&SI(it,"data:")===0&&ii[F])){if(!(Y&&!ir(x,Ka(it,L,"")))){if(it)return!1}}}}}}return!0},Dn=function(F){return F!=="annotation-xml"&&h1(F,D)},Fn=function(F){Ve(C.beforeSanitizeAttributes,F,null);const{attributes:J}=F;if(!J||Jt(F))return;const it={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let qt=J.length;for(;qt--;){const _e=J[qt],{name:ie,namespaceURI:je,value:Rr}=_e,si=Ct(ie),Cs=Rr;let de=ie==="value"?Cs:xI(Cs);if(it.attrName=si,it.attrValue=de,it.keepAttr=!0,it.forceKeepAttr=void 0,Ve(C.uponSanitizeAttribute,F,it),de=it.attrValue,Ye&&(si==="id"||si==="name")&&(Ae(ie,F),de=Oi+de),nt&&ir(/((--!?|])>)|<\/(style|title)/i,de)){Ae(ie,F);continue}if(it.forceKeepAttr)continue;if(!it.keepAttr){Ae(ie,F);continue}if(!X&&ir(/\/>/i,de)){Ae(ie,F);continue}j&&yc([M,k,E],pe=>{de=Ka(de,pe," ")});const Ia=Ct(F.nodeName);if(!Tn(Ia,si,de)){Ae(ie,F);continue}if(b&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!je)switch(f.getAttributeType(Ia,si)){case"TrustedHTML":{de=b.createHTML(de);break}case"TrustedScriptURL":{de=b.createScriptURL(de);break}}if(de!==Cs)try{je?F.setAttributeNS(je,ie,de):F.setAttribute(ie,de),Jt(F)?wt(F):u1(t.removed)}catch{Ae(ie,F)}}Ve(C.afterSanitizeAttributes,F,null)},Un=function ot(F){let J=null;const it=qe(F);for(Ve(C.beforeSanitizeShadowDOM,F,null);J=it.nextNode();)Ve(C.uponSanitizeShadowNode,J,null),Os(J),Fn(J),J.content instanceof s&&ot(J.content);Ve(C.afterSanitizeShadowDOM,F,null)};return t.sanitize=function(ot){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,it=null,qt=null,_e=null;if(lt=!ot,lt&&(ot="<!-->"),typeof ot!="string"&&!xr(ot))if(typeof ot.toString=="function"){if(ot=ot.toString(),typeof ot!="string")throw Za("dirty is not a string, aborting")}else throw Za("toString is not a function");if(!t.isSupported)return ot;if(Gt||ft(F),t.removed=[],typeof ot=="string"&&(Wr=!1),Wr){if(ot.nodeName){const Rr=Ct(ot.nodeName);if(!U[Rr]||q[Rr])throw Za("root node is forbidden and cannot be sanitized in-place")}}else if(ot instanceof o)J=he("<!---->"),it=J.ownerDocument.importNode(ot,!0),it.nodeType===Ja.element&&it.nodeName==="BODY"||it.nodeName==="HTML"?J=it:J.appendChild(it);else{if(!De&&!j&&!K&&ot.indexOf("<")===-1)return b&&Ot?b.createHTML(ot):ot;if(J=he(ot),!J)return De?null:Ot?A:""}J&&At&&wt(J.firstChild);const ie=qe(Wr?ot:J);for(;qt=ie.nextNode();)Os(qt),Fn(qt),qt.content instanceof s&&Un(qt.content);if(Wr)return ot;if(De){if(Ee)for(_e=S.call(J.ownerDocument);J.firstChild;)_e.appendChild(J.firstChild);else _e=J;return(H.shadowroot||H.shadowrootmode)&&(_e=I.call(n,_e,!0)),_e}let je=K?J.outerHTML:J.innerHTML;return K&&U["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&ir(wA,J.ownerDocument.doctype.name)&&(je="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+je),j&&yc([M,k,E],Rr=>{je=Ka(je,Rr," ")}),b&&Ot?b.createHTML(je):je},t.setConfig=function(){let ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ft(ot),Gt=!0},t.clearConfig=function(){mt=null,Gt=!1},t.isValidAttribute=function(ot,F,J){mt||ft({});const it=Ct(ot),qt=Ct(F);return Tn(it,qt,J)},t.addHook=function(ot,F){typeof F=="function"&&ja(C[ot],F)},t.removeHook=function(ot,F){if(F!==void 0){const J=AI(C[ot],F);return J===-1?void 0:_I(C[ot],J,1)[0]}return u1(C[ot])},t.removeHooks=function(ot){C[ot]=[]},t.removeAllHooks=function(){C=m1()},t}var f3=AA();const HI=Object.freeze({left:0,top:0,width:16,height:16}),Uu=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),_A=Object.freeze({...HI,...Uu}),zI=Object.freeze({..._A,body:"",hidden:!1}),BI=Object.freeze({width:null,height:null}),WI=Object.freeze({...BI,...Uu}),d3=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return _d(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return _d(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return _d(o,r)?o:null}return null},_d=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function YI(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function y1(e,t){const r=YI(e,t);for(const n in zI)n in Uu?n in e&&!(n in r)&&(r[n]=Uu[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function XI(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function T1(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function a(o){s=y1(n[o]||i[o],s)}return a(t),r.forEach(a),y1(e,s)}function p3(e,t){if(e.icons[t])return T1(e,t,[]);const r=XI(e,[t])[t];return r?T1(e,t,r):null}const qI=/(-?[0-9.]*[0-9]+[0-9.]*)/g,VI=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function E1(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(qI);if(n===null||!n.length)return e;const i=[];let s=n.shift(),a=VI.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function jI(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function KI(e,t){return e?"<defs>"+e+"</defs>"+t:t}function ZI(e,t,r){const n=jI(e);return KI(n.defs,t+n.content+r)}const QI=e=>e==="unset"||e==="undefined"||e==="none";function g3(e,t){const r={..._A,...e},n={...WI,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(g=>{const v=[],m=g.hFlip,y=g.vFlip;let T=g.rotate;m?y?T+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):y&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let b;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:b=i.height/2+i.top,v.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,v.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}T%2===1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),v.length&&(s=ZI(s,'<g transform="'+v.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let u,h;a===null?(h=o===null?"1em":o==="auto"?c:o,u=E1(h,l/c)):(u=a==="auto"?l:a,h=o===null?E1(u,c/l):o==="auto"?c:o);const d={},f=(g,v)=>{QI(v)||(d[g]=v.toString())};f("width",u),f("height",h);const p=[i.left,i.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const JI=/\sid="(\S+)"/g,tk="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ek=0;function v3(e,t=tk){const r=[];let n;for(;n=JI.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const a=typeof t=="function"?t(s):t+(ek++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function m3(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var to={},Se={},b1;function rk(){return b1||(b1=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.BLANK_URL=Se.relativeFirstCharacters=Se.whitespaceEscapeCharsRegex=Se.urlSchemeRegex=Se.ctrlCharactersRegex=Se.htmlCtrlEntityRegex=Se.htmlEntitiesRegex=Se.invalidProtocolRegex=void 0,Se.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Se.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Se.htmlCtrlEntityRegex=/&(newline|tab);/gi,Se.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Se.urlSchemeRegex=/^.+(:|&colon;)/gim,Se.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Se.relativeFirstCharacters=[".","/"],Se.BLANK_URL="about:blank"),Se}var w1;function nk(){if(w1)return to;w1=1,Object.defineProperty(to,"__esModule",{value:!0}),to.sanitizeUrl=void 0;var e=rk();function t(a){return e.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(e.ctrlCharactersRegex,"");return o.replace(e.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return e.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(e.ctrlCharactersRegex)||l.match(e.htmlEntitiesRegex)||l.match(e.htmlCtrlEntityRegex)||l.match(e.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return e.BLANK_URL;if(t(c))return c;var u=c.trimStart(),h=u.match(e.urlSchemeRegex);if(!h)return c;var d=h[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(d))return e.BLANK_URL;var f=u.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!n(f))return e.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return to.sanitizeUrl=s,to}var y3=nk();function Wv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Rs=Wv();function SA(e){Rs=e}var al={exec:()=>null};function Bt(e,t=""){let r=typeof e=="string"?e:e.source;const n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(ar.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}var ar={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},ik=/^(?:[ \t]*(?:\n|$))+/,sk=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ak=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,kl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ok=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Yv=/(?:[*+-]|\d{1,9}[.)])/,xA=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,RA=Bt(xA).replace(/bull/g,Yv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lk=Bt(xA).replace(/bull/g,Yv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ck=/^[^\n]+/,qv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,uk=Bt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),hk=Bt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Yv).getRegex(),Wh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fk=Bt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Vv).replace("tag",Wh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),NA=Bt(Xv).replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wh).getRegex(),dk=Bt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",NA).getRegex(),jv={blockquote:dk,code:sk,def:uk,fences:ak,heading:ok,hr:kl,html:fk,lheading:RA,list:hk,newline:ik,paragraph:NA,table:al,text:ck},A1=Bt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wh).getRegex(),pk={...jv,lheading:lk,table:A1,paragraph:Bt(Xv).replace("hr",kl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",A1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wh).getRegex()},gk={...jv,html:Bt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:al,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Bt(Xv).replace("hr",kl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",RA).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vk=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mk=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,LA=/^( {2,}|\\)\n(?!\s*$)/,yk=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yh=/[\p{P}\p{S}]/u,Kv=/[\s\p{P}\p{S}]/u,OA=/[^\s\p{P}\p{S}]/u,Tk=Bt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Kv).getRegex(),CA=/(?!~)[\p{P}\p{S}]/u,Ek=/(?!~)[\s\p{P}\p{S}]/u,bk=/(?:[^\s\p{P}\p{S}]|~)/u,wk=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,MA=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ak=Bt(MA,"u").replace(/punct/g,Yh).getRegex(),_k=Bt(MA,"u").replace(/punct/g,CA).getRegex(),IA="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Sk=Bt(IA,"gu").replace(/notPunctSpace/g,OA).replace(/punctSpace/g,Kv).replace(/punct/g,Yh).getRegex(),xk=Bt(IA,"gu").replace(/notPunctSpace/g,bk).replace(/punctSpace/g,Ek).replace(/punct/g,CA).getRegex(),Rk=Bt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,OA).replace(/punctSpace/g,Kv).replace(/punct/g,Yh).getRegex(),Nk=Bt(/\\(punct)/,"gu").replace(/punct/g,Yh).getRegex(),Lk=Bt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ok=Bt(Vv).replace("(?:-->|$)","-->").getRegex(),Ck=Bt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ok).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Gu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Mk=Bt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Gu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kA=Bt(/^!?\[(label)\]\[(ref)\]/).replace("label",Gu).replace("ref",qv).getRegex(),PA=Bt(/^!?\[(ref)\](?:\[\])?/).replace("ref",qv).getRegex(),Ik=Bt("reflink|nolink(?!\\()","g").replace("reflink",kA).replace("nolink",PA).getRegex(),Zv={_backpedal:al,anyPunctuation:Nk,autolink:Lk,blockSkip:wk,br:LA,code:mk,del:al,emStrongLDelim:Ak,emStrongRDelimAst:Sk,emStrongRDelimUnd:Rk,escape:vk,link:Mk,nolink:PA,punctuation:Tk,reflink:kA,reflinkSearch:Ik,tag:Ck,text:yk,url:al},kk={...Zv,link:Bt(/^!?\[(label)\]\((.*?)\)/).replace("label",Gu).getRegex(),reflink:Bt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gu).getRegex()},hg={...Zv,emStrongRDelimAst:xk,emStrongLDelim:_k,url:Bt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Pk={...hg,br:Bt(LA).replace("{2,}","*").getRegex(),text:Bt(hg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ec={normal:jv,gfm:pk,pedantic:gk},eo={normal:Zv,gfm:hg,breaks:Pk,pedantic:kk},Dk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_1=e=>Dk[e];function xn(e,t){if(t){if(ar.escapeTest.test(e))return e.replace(ar.escapeReplace,_1)}else if(ar.escapeTestNoEncode.test(e))return e.replace(ar.escapeReplaceNoEncode,_1);return e}function S1(e){try{e=encodeURI(e).replace(ar.percentDecode,"%")}catch{return null}return e}function x1(e,t){var s;const r=e.replace(ar.findPipe,(a,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(ar.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(ar.slashPipe,"|");return n}function ro(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function Fk(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function R1(e,t,r,n,i){const s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;const l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function Uk(e,t,r){const n=e.match(r.other.indentCodeCompensation);if(n===null)return t;const i=n[1];return t.split(`
`).map(s=>{const a=s.match(r.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var $u=class{constructor(e){bt(this,"options");bt(this,"rules");bt(this,"lexer");this.options=e||Rs}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ro(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],n=Uk(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const n=ro(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ro(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=ro(t[0],`
`).split(`
`),n="",i="";const s=[];for(;r.length>0;){let a=!1;const o=[];let l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))o.push(r[l]),a=!0;else if(!a)o.push(r[l]);else break;r=r.slice(l);const c=o.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,i=i?`${i}
${u}`:u;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=h,r.length===0)break;const d=s.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){const f=d,p=f.raw+`
`+r.join(`
`),g=this.blockquote(p);s[s.length-1]=g,n=n.substring(0,n.length-f.raw.length)+g.raw,i=i.substring(0,i.length-f.text.length)+g.text;break}else if((d==null?void 0:d.type)==="list"){const f=d,p=f.raw+`
`+r.join(`
`),g=this.list(p);s[s.length-1]=g,n=n.substring(0,n.length-d.raw.length)+g.raw,i=i.substring(0,i.length-f.raw.length)+g.raw,r=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const s=this.rules.other.listItemRegex(r);let a=!1;for(;e;){let l=!1,c="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),d=e.split(`
`,1)[0],f=!h.trim(),p=0;if(this.options.pedantic?(p=2,u=h.trimStart()):f?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=h.slice(p),p+=t[1].length),f&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,e=e.substring(d.length+1),l=!0),!l){const m=this.rules.other.nextBulletRegex(p),y=this.rules.other.hrRegex(p),T=this.rules.other.fencesBeginRegex(p),b=this.rules.other.headingBeginRegex(p),A=this.rules.other.htmlBeginRegex(p);for(;e;){const R=e.split(`
`,1)[0];let w;if(d=R,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),w=d):w=d.replace(this.rules.other.tabCharGlobal,"    "),T.test(d)||b.test(d)||A.test(d)||m.test(d)||y.test(d))break;if(w.search(this.rules.other.nonSpaceChar)>=p||!d.trim())u+=`
`+w.slice(p);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||T.test(h)||b.test(h)||y.test(h))break;u+=`
`+d}!f&&!d.trim()&&(f=!0),c+=R+`
`,e=e.substring(R.length+1),h=w.slice(p)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let g=null,v;this.options.gfm&&(g=this.rules.other.listIsTask.exec(u),g&&(v=g[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!g,checked:v,loose:!1,text:u,tokens:[]}),i.raw+=c}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const c=i.items[l].tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){var a;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=x1(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(const o of i)s.rows.push(x1(o,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const s=ro(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Fk(t[2],"()");if(s===-2)return;if(s>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),R1(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[n.toLowerCase()];if(!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return R1(r,i,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...n[0]].length-1;let a,o,l=s,c=0;const u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);(n=u.exec(t))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(o=[...a].length,n[3]||n[4]){l+=o;continue}else if((n[5]||n[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);const h=[...n[0]][0].length,d=e.slice(0,s+n.index+h+o);if(Math.min(s,o)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let s;do s=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(s!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},Qn=class fg{constructor(t){bt(this,"tokens");bt(this,"options");bt(this,"state");bt(this,"tokenizer");bt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Rs,this.options.tokenizer=this.options.tokenizer||new $u,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:ar,block:Ec.normal,inline:eo.normal};this.options.pedantic?(r.block=Ec.pedantic,r.inline=eo.pedantic):this.options.gfm&&(r.block=Ec.gfm,this.options.breaks?r.inline=eo.breaks:r.inline=eo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ec,inline:eo}}static lex(t,r){return new fg(r).lex(t)}static lexInline(t,r){return new fg(r).inlineTokens(t)}lex(t){t=t.replace(ar.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(ar.tabCharGlobal,"    ").replace(ar.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const c=r.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0;const u=t.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o),n=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var o,l,c;let n=t,i=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let u;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(d=>(u=d.call({lexer:this},t,r))?(t=t.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const d=r.at(-1);u.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(t,n,a)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),r.push(u);continue}let h=t;if((c=this.options.extensions)!=null&&c.startInline){let d=1/0;const f=t.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(h=t.substring(0,d+1))}if(u=this.tokenizer.inlineText(h)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),s=!0;const d=r.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},Hu=class{constructor(e){bt(this,"options");bt(this,"parser");this.options=e||Rs}space(e){return""}code({text:e,lang:t,escaped:r}){var s;const n=(s=(t||"").match(ar.notSpaceStart))==null?void 0:s[0],i=e.replace(ar.endingNewline,"")+`
`;return n?'<pre><code class="language-'+xn(n)+'">'+(r?i:xn(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:xn(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let n="";for(let a=0;a<e.items.length;a++){const o=e.items[a];n+=this.listitem(o)}const i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(e){var r;let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+xn(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){const s=e.rows[i];r="";for(let a=0;a<s.length;a++)r+=this.tablecell(s[a]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${xn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const n=this.parser.parseInline(r),i=S1(e);if(i===null)return n;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+xn(t)+'"'),s+=">"+n+"</a>",s}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));const i=S1(e);if(i===null)return xn(r);e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${xn(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:xn(e.text)}},Qv=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Jn=class dg{constructor(t){bt(this,"options");bt(this,"renderer");bt(this,"textRenderer");this.options=t||Rs,this.options.renderer=this.options.renderer||new Hu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Qv}static parse(t,r){return new dg(r).parse(t)}static parseInline(t,r){return new dg(r).parseInline(t)}parse(t,r=!0){var i,s;let n="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;a+1<t.length&&t[a+1].type==="text";)c=t[++a],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r=this.renderer){var i,s;let n="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Zd,tu=(Zd=class{constructor(e){bt(this,"options");bt(this,"block");this.options=e||Rs}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qn.lex:Qn.lexInline}provideParser(){return this.block?Jn.parse:Jn.parseInline}},bt(Zd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Zd),Gk=class{constructor(...e){bt(this,"defaults",Wv());bt(this,"options",this.setOptions);bt(this,"parse",this.parseMarkdown(!0));bt(this,"parseInline",this.parseMarkdown(!1));bt(this,"Parser",Jn);bt(this,"Renderer",Hu);bt(this,"TextRenderer",Qv);bt(this,"Lexer",Qn);bt(this,"Tokenizer",$u);bt(this,"Hooks",tu);this.use(...e)}walkTokens(e,t){var n,i;let r=[];for(const s of e)switch(r=r.concat(t.call(this,s)),s.type){case"table":{const a=s;for(const o of a.header)r=r.concat(this.walkTokens(o.tokens,t));for(const o of a.rows)for(const l of o)r=r.concat(this.walkTokens(l.tokens,t));break}case"list":{const a=s;r=r.concat(this.walkTokens(a.items,t));break}default:{const a=s;(i=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const l=a[o].flat(1/0);r=r.concat(this.walkTokens(l,t))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){const i=this.defaults.renderer||new Hu(this.defaults);for(const s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,o=r.renderer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}n.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new $u(this.defaults);for(const s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,o=r.tokenizer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}n.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new tu;for(const s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,o=r.hooks[a],l=i[a];tu.passThroughHooks.has(s)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(i,c)).then(h=>l.call(i,h));const u=o.call(i,c);return l.call(i,u)}:i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}n.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Qn.lex(e,t??this.defaults)}parser(e,t){return Jn.parse(e,t??this.defaults)}parseMarkdown(e){return(r,n)=>{const i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const o=s.hooks?s.hooks.provideLexer():e?Qn.lex:Qn.lexInline,l=s.hooks?s.hooks.provideParser():e?Jn.parse:Jn.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let c=o(r,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=l(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return a(c)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+xn(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},vs=new Gk;function Vt(e,t){return vs.parse(e,t)}Vt.options=Vt.setOptions=function(e){return vs.setOptions(e),Vt.defaults=vs.defaults,SA(Vt.defaults),Vt};Vt.getDefaults=Wv;Vt.defaults=Rs;Vt.use=function(...e){return vs.use(...e),Vt.defaults=vs.defaults,SA(Vt.defaults),Vt};Vt.walkTokens=function(e,t){return vs.walkTokens(e,t)};Vt.parseInline=vs.parseInline;Vt.Parser=Jn;Vt.parser=Jn.parse;Vt.Renderer=Hu;Vt.TextRenderer=Qv;Vt.Lexer=Qn;Vt.lexer=Qn.lex;Vt.Tokenizer=$u;Vt.Hooks=tu;Vt.parse=Vt;Vt.options;Vt.setOptions;Vt.use;Vt.walkTokens;Vt.parseInline;Jn.parse;Qn.lex;function T3(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(u){var h,d;return(d=(h=u.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),u=c?c[1]:"",h=o;typeof o=="string"&&o.includes(`
`)&&(h=String(o).split(`
`).map(function(d,f){return f===0?d:""+u+d}).join(`
`)),a+=h+n[l+1]}),a}function Sd(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[c,u]=l;l[0]=(c-n)*a-(u-i)*o+n,l[1]=(c-n)*o+(u-i)*a+i}}}function $k(e,t){return e[0]===t[0]&&e[1]===t[1]}function Hk(e,t,r,n=1){const i=r,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const c of a)Sd(c,o,i);const l=function(c,u,h){const d=[];for(const y of c){const T=[...y];$k(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&d.push(T)}const f=[];u=Math.max(u,.1);const p=[];for(const y of d)for(let T=0;T<y.length-1;T++){const b=y[T],A=y[T+1];if(b[1]!==A[1]){const R=Math.min(b[1],A[1]);p.push({ymin:R,ymax:Math.max(b[1],A[1]),x:R===b[1]?b[0]:A[0],islope:(A[0]-b[0])/(A[1]-b[1])})}}if(p.sort((y,T)=>y.ymin<T.ymin?-1:y.ymin>T.ymin?1:y.x<T.x?-1:y.x>T.x?1:y.ymax===T.ymax?0:(y.ymax-T.ymax)/Math.abs(y.ymax-T.ymax)),!p.length)return f;let g=[],v=p[0].ymin,m=0;for(;g.length||p.length;){if(p.length){let y=-1;for(let T=0;T<p.length&&!(p[T].ymin>v);T++)y=T;p.splice(0,y+1).forEach(T=>{g.push({s:v,edge:T})})}if(g=g.filter(y=>!(y.edge.ymax<=v)),g.sort((y,T)=>y.edge.x===T.edge.x?0:(y.edge.x-T.edge.x)/Math.abs(y.edge.x-T.edge.x)),(h!==1||m%u==0)&&g.length>1)for(let y=0;y<g.length;y+=2){const T=y+1;if(T>=g.length)break;const b=g[y].edge,A=g[T].edge;f.push([[Math.round(b.x),v],[Math.round(A.x),v]])}v+=h,g.forEach(y=>{y.edge.x=y.edge.x+h*y.edge.islope}),m++}return f}(a,s,n);if(i){for(const c of a)Sd(c,o,-i);(function(c,u,h){const d=[];c.forEach(f=>d.push(...f)),Sd(d,u,h)})(l,o,-i)}return l}function Pl(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),Hk(e,i,n,s||1)}class Jv{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=Pl(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Xh(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class zk extends Jv{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Pl(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,u]of i)Xh([c,u])&&a.push([[c[0]-o,c[1]+l],[...u]],[[c[0]+o,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class Bk extends Jv{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class Wk{constructor(t){this.helper=t}fillPolygons(t,r){const n=Pl(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of t){const l=Xh(o),c=l/i,u=Math.ceil(c)-1,h=l-u*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<u;p++){const g=f+h+p*i,v=d-a+2*Math.random()*a,m=g-a+2*Math.random()*a,y=this.helper.ellipse(v,m,s,s,r);n.push(...y.ops)}}return{type:"fillSketch",ops:n}}}class Yk{constructor(t){this.helper=t}fillPolygons(t,r){const n=Pl(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(a=>{const o=Xh(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let u=a[0],h=a[1];u[0]>h[0]&&(u=a[1],h=a[0]);const d=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let f=0;f<l;f++){const p=f*(n+i),g=p+n,v=[u[0]+p*Math.cos(d)+c*Math.cos(d),u[1]+p*Math.sin(d)+c*Math.sin(d)],m=[u[0]+g*Math.cos(d)+c*Math.cos(d),u[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(v[0],v[1],m[0],m[1],r))}}),s}}class Xk{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=Pl(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const a=Xh(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<o;h++){const d=2*h*r,f=2*(h+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+d*Math.cos(u),l[1]+d*Math.sin(u)],v=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],m=[g[0]+p*Math.cos(u+Math.PI/4),g[1]+p*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],m[0],m[1],n),...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n))}}),i}}const gr={};class qk{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Vk=0,xd=1,N1=2,bc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Rd(e,t){return e.type===t}function tm(e){const t=[],r=function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:Vk,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:xd,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:N1,text:""},o}(e);let n="BOD",i=0,s=r[i];for(;!Rd(s,N1);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return tm("M0,0"+e);i++,a=bc[s.text],n=s.text}else Rd(s,xd)?a=bc[n]:(i++,a=bc[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!Rd(c,xd))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof bc[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};t.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function DA(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const l=o.map((c,u)=>u%2?c+r:c+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const l=o.map((c,u)=>u%2?c+r:c+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const l=o.map((c,u)=>u%2?c+r:c+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function FA(e){const t=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[n,i]=u,[s,a]=u;break;case"C":t.push({key:"C",data:[...u]}),n=u[4],i=u[5],o=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],t.push({key:"L",data:[n,i]});break;case"V":i=u[0],t.push({key:"L",data:[n,i]});break;case"S":{let h=0,d=0;r==="C"||r==="S"?(h=n+(n-o),d=i+(i-l)):(h=n,d=i),t.push({key:"C",data:[h,d,...u]}),o=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[h,d]=u;let f=0,p=0;r==="Q"||r==="T"?(f=n+(n-o),p=i+(i-l)):(f=n,p=i);const g=n+2*(f-n)/3,v=i+2*(p-i)/3,m=h+2*(f-h)/3,y=d+2*(p-d)/3;t.push({key:"C",data:[g,v,m,y,h,d]}),o=f,l=p,n=h,i=d;break}case"Q":{const[h,d,f,p]=u,g=n+2*(h-n)/3,v=i+2*(d-i)/3,m=f+2*(h-f)/3,y=p+2*(d-p)/3;t.push({key:"C",data:[g,v,m,y,f,p]}),o=h,l=d,n=f,i=p;break}case"A":{const h=Math.abs(u[0]),d=Math.abs(u[1]),f=u[2],p=u[3],g=u[4],v=u[5],m=u[6];h===0||d===0?(t.push({key:"C",data:[n,i,v,m,v,m]}),n=v,i=m):(n!==v||i!==m)&&(UA(n,i,v,m,h,d,f,p,g).forEach(function(y){t.push({key:"C",data:y})}),n=v,i=m);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=a}r=c}return t}function no(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function UA(e,t,r,n,i,s,a,o,l,c){const u=(h=a,Math.PI*h/180);var h;let d=[],f=0,p=0,g=0,v=0;if(c)[f,p,g,v]=c;else{[e,t]=no(e,t,-u),[r,n]=no(r,n,-u);const k=(e-r)/2,E=(t-n)/2;let O=k*k/(i*i)+E*E/(s*s);O>1&&(O=Math.sqrt(O),i*=O,s*=O);const _=i*i,x=s*s,L=_*x-_*E*E-x*k*k,D=_*E*E+x*k*k,P=(o===l?-1:1)*Math.sqrt(Math.abs(L/D));g=P*i*E/s+(e+r)/2,v=P*-s*k/i+(t+n)/2,f=Math.asin(parseFloat(((t-v)/s).toFixed(9))),p=Math.asin(parseFloat(((n-v)/s).toFixed(9))),e<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let m=p-f;if(Math.abs(m)>120*Math.PI/180){const k=p,E=r,O=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=UA(r=g+i*Math.cos(p),n=v+s*Math.sin(p),E,O,i,s,a,0,l,[p,k,g,v])}m=p-f;const y=Math.cos(f),T=Math.sin(f),b=Math.cos(p),A=Math.sin(p),R=Math.tan(m/4),w=4/3*i*R,S=4/3*s*R,N=[e,t],I=[e+w*T,t-S*y],C=[r+w*A,n-S*b],M=[r,n];if(I[0]=2*N[0]-I[0],I[1]=2*N[1]-I[1],c)return[I,C,M].concat(d);{d=[I,C,M].concat(d);const k=[];for(let E=0;E<d.length;E+=3){const O=no(d[E][0],d[E][1],u),_=no(d[E+1][0],d[E+1][1],u),x=no(d[E+2][0],d[E+2][1],u);k.push([O[0],O[1],_[0],_[1],x[0],x[1]])}return k}}const jk={randOffset:function(e,t){return vt(e,t)},randOffsetWithRange:function(e,t,r){return zu(e,t,r)},ellipse:function(e,t,r,n,i){const s=$A(r,n,i);return pg(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return wi(e,t,r,n,i,!0)}};function GA(e,t,r,n,i){return{type:"path",ops:wi(e,t,r,n,i)}}function eu(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...wi(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...wi(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?GA(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Kk(e,t,r,n,i){return function(s,a){return eu(s,!0,a)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function L1(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=wc(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:wc(r[0],1.5*(1+.22*t.roughness),M1(t));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=wc(a,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:wc(a,1.5*(1+.22*t.roughness),M1(t));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function $A(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return a+=vt(a*l,r),o+=vt(o*l,r),{increment:s,rx:a,ry:o}}function pg(e,t,r,n){const[i,s]=I1(n.increment,e,t,n.rx,n.ry,1,n.increment*zu(.1,zu(.4,1,r),r),r);let a=Bu(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=I1(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Bu(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function O1(e,t,r,n,i,s,a,o,l){const c=e,u=t;let h=Math.abs(r/2),d=Math.abs(n/2);h+=vt(.01*h,l),d+=vt(.01*d,l);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,v=Math.min(g/2,(p-f)/2),m=k1(v,c,u,h,d,f,p,1,l);if(!l.disableMultiStroke){const y=k1(v,c,u,h,d,f,p,1.5,l);m.push(...y)}return a&&(o?m.push(...wi(c,u,c+h*Math.cos(f),u+d*Math.sin(f),l),...wi(c,u,c+h*Math.cos(p),u+d*Math.sin(p),l)):m.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(f),u+d*Math.sin(f)]})),{type:"path",ops:m}}function C1(e,t){const r=FA(DA(tm(e))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...wi(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,c,u,h,d,f]=o;n.push(...Zk(l,c,u,h,d,f,s,t)),s=[d,f];break}case"Z":n.push(...wi(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Nd(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+vt(i,t),n[0][1]+vt(i,t)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+vt(i,t),n[a][1]+vt(i,t)]})}}return{type:"fillPath",ops:r}}function zs(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!gr[i])switch(i){case"zigzag":gr[i]||(gr[i]=new zk(n));break;case"cross-hatch":gr[i]||(gr[i]=new Bk(n));break;case"dots":gr[i]||(gr[i]=new Wk(n));break;case"dashed":gr[i]||(gr[i]=new Yk(n));break;case"zigzag-line":gr[i]||(gr[i]=new Xk(n));break;default:i="hachure",gr[i]||(gr[i]=new Jv(n))}return gr[i]}(t,jk).fillPolygons(e,t)}function M1(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function HA(e){return e.randomizer||(e.randomizer=new qk(e.seed||0)),e.randomizer.next()}function zu(e,t,r,n=1){return r.roughness*n*(HA(r)*(t-e)+e)}function vt(e,t,r=1){return zu(-e,e,t,r)}function wi(e,t,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=gg(e,t,r,n,i,!0,!1);if(a)return o;const l=gg(e,t,r,n,i,!0,!0);return o.concat(l)}function gg(e,t,r,n,i,s,a){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=l/10);const h=u/2,d=.2+.2*HA(i);let f=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;f=vt(f,i,c),p=vt(p,i,c);const g=[],v=()=>vt(h,i,c),m=()=>vt(u,i,c),y=i.preserveVertices;return a?g.push({op:"move",data:[e+(y?0:v()),t+(y?0:v())]}):g.push({op:"move",data:[e+(y?0:vt(u,i,c)),t+(y?0:vt(u,i,c))]}),a?g.push({op:"bcurveTo",data:[f+e+(r-e)*d+v(),p+t+(n-t)*d+v(),f+e+2*(r-e)*d+v(),p+t+2*(n-t)*d+v(),r+(y?0:v()),n+(y?0:v())]}):g.push({op:"bcurveTo",data:[f+e+(r-e)*d+m(),p+t+(n-t)*d+m(),f+e+2*(r-e)*d+m(),p+t+2*(n-t)*d+m(),r+(y?0:m()),n+(y?0:m())]}),g}function wc(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+vt(t,r),e[0][1]+vt(t,r)]),n.push([e[0][0]+vt(t,r),e[0][1]+vt(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+vt(t,r),e[i][1]+vt(t,r)]),i===e.length-1&&n.push([e[i][0]+vt(t,r),e[i][1]+vt(t,r)]);return Bu(n,null,r)}function Bu(e,t,r){const n=e.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...gg(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function I1(e,t,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let u=0;u<=2*Math.PI;u+=e){const h=[t+n*Math.cos(u),r+i*Math.sin(u)];l.push(h),c.push(h)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const u=vt(.5,o)-Math.PI/2;c.push([vt(s,o)+t+.9*n*Math.cos(u-e),vt(s,o)+r+.9*i*Math.sin(u-e)]);const h=2*Math.PI+u-.01;for(let d=u;d<h;d+=e){const f=[vt(s,o)+t+n*Math.cos(d),vt(s,o)+r+i*Math.sin(d)];l.push(f),c.push(f)}c.push([vt(s,o)+t+n*Math.cos(u+2*Math.PI+.5*a),vt(s,o)+r+i*Math.sin(u+2*Math.PI+.5*a)]),c.push([vt(s,o)+t+.98*n*Math.cos(u+a),vt(s,o)+r+.98*i*Math.sin(u+a)]),c.push([vt(s,o)+t+.9*n*Math.cos(u+.5*a),vt(s,o)+r+.9*i*Math.sin(u+.5*a)])}return[c,l]}function k1(e,t,r,n,i,s,a,o,l){const c=s+vt(.1,l),u=[];u.push([vt(o,l)+t+.9*n*Math.cos(c-e),vt(o,l)+r+.9*i*Math.sin(c-e)]);for(let h=c;h<=a;h+=e)u.push([vt(o,l)+t+n*Math.cos(h),vt(o,l)+r+i*Math.sin(h)]);return u.push([t+n*Math.cos(a),r+i*Math.sin(a)]),u.push([t+n*Math.cos(a),r+i*Math.sin(a)]),Bu(u,null,l)}function Zk(e,t,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let u=[0,0];const h=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<h;f++)f===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:vt(c[0],o)),a[1]+(d?0:vt(c[0],o))]}),u=d?[i,s]:[i+vt(c[f],o),s+vt(c[f],o)],l.push({op:"bcurveTo",data:[e+vt(c[f],o),t+vt(c[f],o),r+vt(c[f],o),n+vt(c[f],o),u[0],u[1]]});return l}function io(e){return[...e]}function P1(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(io(e[0]),io(e[1]),io(e[2]),io(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const s=[],a=1-t;n.push(io(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function ru(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Qk(e,t,r){const n=ru(t,r);if(n===0)return ru(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),ru(e,Zi(t,r,i))}function Zi(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function vg(e,t,r,n){const i=n||[];if(function(o,l){const c=o[l+0],u=o[l+1],h=o[l+2],d=o[l+3];let f=3*u[0]-2*c[0]-d[0];f*=f;let p=3*u[1]-2*c[1]-d[1];p*=p;let g=3*h[0]-2*d[0]-c[0];g*=g;let v=3*h[1]-2*d[1]-c[1];return v*=v,f<g&&(f=g),p<v&&(p=v),f+p}(e,t)<r){const o=e[t+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(ru(s,a))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const l=e[t+0],c=e[t+1],u=e[t+2],h=e[t+3],d=Zi(l,c,.5),f=Zi(c,u,.5),p=Zi(u,h,.5),g=Zi(d,f,.5),v=Zi(f,p,.5),m=Zi(g,v,.5);vg([l,d,g,m],0,r,i),vg([m,v,p,h],0,r,i)}var s,a;return i}function Jk(e,t){return Wu(e,0,e.length,t)}function Wu(e,t,r,n,i){const s=i||[],a=e[t],o=e[r-1];let l=0,c=1;for(let u=t+1;u<r-1;++u){const h=Qk(e[u],a,o);h>l&&(l=h,c=u)}return Math.sqrt(l)>n?(Wu(e,t,c+1,n,s),Wu(e,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function Ld(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)vg(e,3*s,t,n);return r&&r>0?Wu(n,0,n.length,r):n}const Lr="none";class Yu{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const a=this._o(s);return this._d("line",[GA(t,r,n,i,a)],a)}rectangle(t,r,n,i,s){const a=this._o(s),o=[],l=Kk(t,r,n,i,a);if(a.fill){const c=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];a.fillStyle==="solid"?o.push(Nd([c],a)):o.push(zs([c],a))}return a.stroke!==Lr&&o.push(l),this._d("rectangle",o,a)}ellipse(t,r,n,i,s){const a=this._o(s),o=[],l=$A(n,i,a),c=pg(t,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const u=pg(t,r,a,l).opset;u.type="fillPath",o.push(u)}else o.push(zs([c.estimatedPoints],a));return a.stroke!==Lr&&o.push(c.opset),this._d("ellipse",o,a)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[eu(t,!1,n)],n)}arc(t,r,n,i,s,a,o=!1,l){const c=this._o(l),u=[],h=O1(t,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=O1(t,r,n,i,s,a,!0,!1,d);f.type="fillPath",u.push(f)}else u.push(function(d,f,p,g,v,m,y){const T=d,b=f;let A=Math.abs(p/2),R=Math.abs(g/2);A+=vt(.01*A,y),R+=vt(.01*R,y);let w=v,S=m;for(;w<0;)w+=2*Math.PI,S+=2*Math.PI;S-w>2*Math.PI&&(w=0,S=2*Math.PI);const N=(S-w)/y.curveStepCount,I=[];for(let C=w;C<=S;C+=N)I.push([T+A*Math.cos(C),b+R*Math.sin(C)]);return I.push([T+A*Math.cos(S),b+R*Math.sin(S)]),I.push([T,b]),zs([I],y)}(t,r,n,i,s,a,c));return c.stroke!==Lr&&u.push(h),this._d("arc",u,c)}curve(t,r){const n=this._o(r),i=[],s=L1(t,n);if(n.fill&&n.fill!==Lr)if(n.fillStyle==="solid"){const a=L1(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...Ld(P1([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...Ld(P1(c),10,(1+n.roughness)/2))}a.length&&i.push(zs([a],n))}return n.stroke!==Lr&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=eu(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Nd([t],n)):i.push(zs([t],n))),n.stroke!==Lr&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==Lr,a=n.stroke!==Lr,o=!!(n.simplification&&n.simplification<1),l=function(u,h,d){const f=FA(DA(tm(u))),p=[];let g=[],v=[0,0],m=[];const y=()=>{m.length>=4&&g.push(...Ld(m,h)),m=[]},T=()=>{y(),g.length&&(p.push(g),g=[])};for(const{key:A,data:R}of f)switch(A){case"M":T(),v=[R[0],R[1]],g.push(v);break;case"L":y(),g.push([R[0],R[1]]);break;case"C":if(!m.length){const w=g.length?g[g.length-1]:v;m.push([w[0],w[1]])}m.push([R[0],R[1]]),m.push([R[2],R[3]]),m.push([R[4],R[5]]);break;case"Z":y(),g.push([v[0],v[1]])}if(T(),!d)return p;const b=[];for(const A of p){const R=Jk(A,d);R.length&&b.push(R)}return b}(t,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=C1(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const u=C1(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(Nd(l,n));else i.push(zs(l,n));return a&&(o?l.forEach(u=>{i.push(eu(u,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(a=>+a.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Lr};break;case"fillPath":a={d:this.opsToPath(s),stroke:Lr,strokeWidth:0,fill:n.fill||Lr};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||Lr,strokeWidth:n,fill:Lr}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class tP{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Yu(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map(o=>+o.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a),a}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a),a}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a),a}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c),c}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const Ac="http://www.w3.org/2000/svg";class eP{constructor(t,r){this.svg=t,this.gen=new Yu(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Ac,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Ac,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Ac,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(Ac,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a)}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a)}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var E3={canvas:(e,t)=>new tP(e,t),svg:(e,t)=>new eP(e,t),generator:e=>new Yu(e),newSeed:()=>Yu.newSeed()};function zA(e,t){return function(){return e.apply(t,arguments)}}const{toString:rP}=Object.prototype,{getPrototypeOf:em}=Object,{iterator:qh,toStringTag:BA}=Symbol,Vh=(e=>t=>{const r=rP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>Vh(t)===e),jh=e=>t=>typeof t===e,{isArray:Ra}=Array,_l=jh("undefined");function nP(e){return e!==null&&!_l(e)&&e.constructor!==null&&!_l(e.constructor)&&Tr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WA=yn("ArrayBuffer");function iP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WA(e.buffer),t}const sP=jh("string"),Tr=jh("function"),YA=jh("number"),Kh=e=>e!==null&&typeof e=="object",aP=e=>e===!0||e===!1,nu=e=>{if(Vh(e)!=="object")return!1;const t=em(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(BA in e)&&!(qh in e)},oP=yn("Date"),lP=yn("File"),cP=yn("Blob"),uP=yn("FileList"),hP=e=>Kh(e)&&Tr(e.pipe),fP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tr(e.append)&&((t=Vh(e))==="formdata"||t==="object"&&Tr(e.toString)&&e.toString()==="[object FormData]"))},dP=yn("URLSearchParams"),[pP,gP,vP,mP]=["ReadableStream","Request","Response","Headers"].map(yn),yP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Ra(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function XA(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,qA=e=>!_l(e)&&e!==ss;function mg(){const{caseless:e}=qA(this)&&this||{},t={},r=(n,i)=>{const s=e&&XA(t,i)||i;nu(t[s])&&nu(n)?t[s]=mg(t[s],n):nu(n)?t[s]=mg({},n):Ra(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Dl(arguments[n],r);return t}const TP=(e,t,r,{allOwnKeys:n}={})=>(Dl(t,(i,s)=>{r&&Tr(i)?e[s]=zA(i,r):e[s]=i},{allOwnKeys:n}),e),EP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wP=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&em(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},AP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_P=e=>{if(!e)return null;if(Ra(e))return e;let t=e.length;if(!YA(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&em(Uint8Array)),xP=(e,t)=>{const n=(e&&e[qh]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},RP=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},NP=yn("HTMLFormElement"),LP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),D1=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OP=yn("RegExp"),VA=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Dl(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},CP=e=>{VA(e,(t,r)=>{if(Tr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Tr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},MP=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Ra(e)?n(e):n(String(e).split(t)),r},IP=()=>{},kP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PP(e){return!!(e&&Tr(e.append)&&e[BA]==="FormData"&&e[qh])}const DP=e=>{const t=new Array(10),r=(n,i)=>{if(Kh(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Ra(n)?[]:{};return Dl(n,(a,o)=>{const l=r(a,i+1);!_l(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},FP=yn("AsyncFunction"),UP=e=>e&&(Kh(e)||Tr(e))&&Tr(e.then)&&Tr(e.catch),jA=((e,t)=>e?setImmediate:t?((r,n)=>(ss.addEventListener("message",({source:i,data:s})=>{i===ss&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ss.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Tr(ss.postMessage)),GP=typeof queueMicrotask<"u"?queueMicrotask.bind(ss):typeof process<"u"&&process.nextTick||jA,$P=e=>e!=null&&Tr(e[qh]),B={isArray:Ra,isArrayBuffer:WA,isBuffer:nP,isFormData:fP,isArrayBufferView:iP,isString:sP,isNumber:YA,isBoolean:aP,isObject:Kh,isPlainObject:nu,isReadableStream:pP,isRequest:gP,isResponse:vP,isHeaders:mP,isUndefined:_l,isDate:oP,isFile:lP,isBlob:cP,isRegExp:OP,isFunction:Tr,isStream:hP,isURLSearchParams:dP,isTypedArray:SP,isFileList:uP,forEach:Dl,merge:mg,extend:TP,trim:yP,stripBOM:EP,inherits:bP,toFlatObject:wP,kindOf:Vh,kindOfTest:yn,endsWith:AP,toArray:_P,forEachEntry:xP,matchAll:RP,isHTMLForm:NP,hasOwnProperty:D1,hasOwnProp:D1,reduceDescriptors:VA,freezeMethods:CP,toObjectSet:MP,toCamelCase:LP,noop:IP,toFiniteNumber:kP,findKey:XA,global:ss,isContextDefined:qA,isSpecCompliantForm:PP,toJSONObject:DP,isAsyncFn:FP,isThenable:UP,setImmediate:jA,asap:GP,isIterable:$P};function _t(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const KA=_t.prototype,ZA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZA[e]={value:e}});Object.defineProperties(_t,ZA);Object.defineProperty(KA,"isAxiosError",{value:!0});_t.from=(e,t,r,n,i,s)=>{const a=Object.create(KA);return B.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),_t.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const HP=null;function yg(e){return B.isPlainObject(e)||B.isArray(e)}function QA(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function F1(e,t,r){return e?e.concat(t).map(function(i,s){return i=QA(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function zP(e){return B.isArray(e)&&!e.some(yg)}const BP=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function Zh(e,t,r){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!B.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(B.isDate(p))return p.toISOString();if(B.isBoolean(p))return p.toString();if(!l&&B.isBlob(p))throw new _t("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(p)||B.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,v){let m=p;if(p&&!v&&typeof p=="object"){if(B.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(B.isArray(p)&&zP(p)||(B.isFileList(p)||B.endsWith(g,"[]"))&&(m=B.toArray(p)))return g=QA(g),m.forEach(function(T,b){!(B.isUndefined(T)||T===null)&&t.append(a===!0?F1([g],b,s):a===null?g:g+"[]",c(T))}),!1}return yg(p)?!0:(t.append(F1(v,g,s),c(p)),!1)}const h=[],d=Object.assign(BP,{defaultVisitor:u,convertValue:c,isVisitable:yg});function f(p,g){if(!B.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),B.forEach(p,function(m,y){(!(B.isUndefined(m)||m===null)&&i.call(t,m,B.isString(y)?y.trim():y,g,d))===!0&&f(m,g?g.concat(y):[y])}),h.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return f(e),t}function U1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function rm(e,t){this._pairs=[],e&&Zh(e,this,t)}const JA=rm.prototype;JA.append=function(t,r){this._pairs.push([t,r])};JA.toString=function(t){const r=t?function(n){return t.call(this,n,U1)}:U1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function WP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t_(e,t,r){if(!t)return e;const n=r&&r.encode||WP;B.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=B.isURLSearchParams(t)?t.toString():new rm(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class G1{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(n){n!==null&&t(n)})}}const e_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YP=typeof URLSearchParams<"u"?URLSearchParams:rm,XP=typeof FormData<"u"?FormData:null,qP=typeof Blob<"u"?Blob:null,VP={isBrowser:!0,classes:{URLSearchParams:YP,FormData:XP,Blob:qP},protocols:["http","https","file","blob","url","data"]},nm=typeof window<"u"&&typeof document<"u",Tg=typeof navigator=="object"&&navigator||void 0,jP=nm&&(!Tg||["ReactNative","NativeScript","NS"].indexOf(Tg.product)<0),KP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZP=nm&&window.location.href||"http://localhost",QP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nm,hasStandardBrowserEnv:jP,hasStandardBrowserWebWorkerEnv:KP,navigator:Tg,origin:ZP},Symbol.toStringTag,{value:"Module"})),tr={...QP,...VP};function JP(e,t){return Zh(e,new tr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return tr.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function tD(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eD(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function r_(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&B.isArray(i)?i.length:a,l?(B.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!B.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&B.isArray(i[a])&&(i[a]=eD(i[a])),!o)}if(B.isFormData(e)&&B.isFunction(e.entries)){const r={};return B.forEachEntry(e,(n,i)=>{t(tD(n),i,r,0)}),r}return null}function rD(e,t,r){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fl={transitional:e_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=B.isObject(t);if(s&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return i?JSON.stringify(r_(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JP(t,this.formSerializer).toString();if((o=B.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zh(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),rD(t)):t}],transformResponse:[function(t){const r=this.transitional||Fl.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?_t.from(o,_t.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{Fl.headers[e]={}});const nD=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iD=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&nD[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$1=Symbol("internals");function so(e){return e&&String(e).trim().toLowerCase()}function iu(e){return e===!1||e==null?e:B.isArray(e)?e.map(iu):String(e)}function sD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const aD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Od(e,t,r,n,i){if(B.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!B.isString(t)){if(B.isString(n))return t.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(t)}}function oD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function lD(e,t){const r=B.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}let Er=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,c){const u=so(l);if(!u)throw new Error("header name must be a non-empty string");const h=B.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=iu(o))}const a=(o,l)=>B.forEach(o,(c,u)=>s(c,u,l));if(B.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(B.isString(t)&&(t=t.trim())&&!aD(t))a(iD(t),r);else if(B.isObject(t)&&B.isIterable(t)){let o={},l,c;for(const u of t){if(!B.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?B.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=so(t),t){const n=B.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return sD(i);if(B.isFunction(r))return r.call(this,i,n);if(B.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=so(t),t){const n=B.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Od(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=so(a),a){const o=B.findKey(n,a);o&&(!r||Od(n,n[o],o,r))&&(delete n[o],i=!0)}}return B.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Od(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return B.forEach(this,(i,s)=>{const a=B.findKey(n,s);if(a){r[a]=iu(i),delete r[s];return}const o=t?oD(s):String(s).trim();o!==s&&delete r[s],r[o]=iu(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return B.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[$1]=this[$1]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=so(a);n[o]||(lD(i,a),n[o]=!0)}return B.isArray(t)?t.forEach(s):s(t),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Er.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});B.freezeMethods(Er);function Cd(e,t){const r=this||Fl,n=t||r,i=Er.from(n.headers);let s=n.data;return B.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function n_(e){return!!(e&&e.__CANCEL__)}function Na(e,t,r){_t.call(this,e??"canceled",_t.ERR_CANCELED,t,r),this.name="CanceledError"}B.inherits(Na,_t,{__CANCEL__:!0});function i_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new _t("Request failed with status code "+r.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uD(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,d=0;for(;h!==i;)d+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-a<t)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function hD(e,t){let r=0,n=1e3/t,i,s;const a=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Xu=(e,t,r=3)=>{let n=0;const i=uD(50,250);return hD(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),u=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},H1=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},z1=e=>(...t)=>B.asap(()=>e(...t)),fD=tr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,dD=tr.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const a=[e+"="+encodeURIComponent(t)];B.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),B.isString(n)&&a.push("path="+n),B.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s_(e,t,r){let n=!pD(t);return e&&(n||r==!1)?gD(e,t):t}const B1=e=>e instanceof Er?{...e}:e;function ms(e,t){t=t||{};const r={};function n(c,u,h,d){return B.isPlainObject(c)&&B.isPlainObject(u)?B.merge.call({caseless:d},c,u):B.isPlainObject(u)?B.merge({},u):B.isArray(u)?u.slice():u}function i(c,u,h,d){if(B.isUndefined(u)){if(!B.isUndefined(c))return n(void 0,c,h,d)}else return n(c,u,h,d)}function s(c,u){if(!B.isUndefined(u))return n(void 0,u)}function a(c,u){if(B.isUndefined(u)){if(!B.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,h)=>i(B1(c),B1(u),h,!0)};return B.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||i,d=h(e[u],t[u],u);B.isUndefined(d)&&h!==o||(r[u]=d)}),r}const a_=e=>{const t=ms({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=Er.from(a),t.url=t_(s_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(B.isFormData(r)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(tr.hasStandardBrowserEnv&&(n&&B.isFunction(n)&&(n=n(t)),n||n!==!1&&fD(t.url))){const c=i&&s&&dD.read(s);c&&a.set(i,c)}return t},vD=typeof XMLHttpRequest<"u",mD=vD&&function(e){return new Promise(function(r,n){const i=a_(e);let s=i.data;const a=Er.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,h,d,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const T=Er.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:T,config:e,request:v};i_(function(w){r(w),g()},function(w){n(w),g()},A),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(n(new _t("Request aborted",_t.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new _t("Network Error",_t.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||e_;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new _t(b,A.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&B.forEach(a.toJSON(),function(b,A){v.setRequestHeader(A,b)}),B.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),c&&([d,p]=Xu(c,!0),v.addEventListener("progress",d)),l&&v.upload&&([h,f]=Xu(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=T=>{v&&(n(!T||T.type?new Na(null,e,v):T),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=cD(i.url);if(y&&tr.protocols.indexOf(y)===-1){n(new _t("Unsupported protocol "+y+":",_t.ERR_BAD_REQUEST,e));return}v.send(s||null)})},yD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof _t?u:new Na(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,s(new _t(`timeout ${t} of ms exceeded`,_t.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>B.asap(o),l}},TD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},ED=async function*(e,t){for await(const r of bD(e))yield*TD(r,t)},bD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},W1=(e,t,r,n)=>{const i=ED(e,t);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let h=u.byteLength;if(r){let d=s+=h;r(d)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Qh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o_=Qh&&typeof ReadableStream=="function",wD=Qh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),l_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},AD=o_&&l_(()=>{let e=!1;const t=new Request(tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Y1=64*1024,Eg=o_&&l_(()=>B.isReadableStream(new Response("").body)),qu={stream:Eg&&(e=>e.body)};Qh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qu[t]&&(qu[t]=B.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new _t(`Response type '${t}' is not supported`,_t.ERR_NOT_SUPPORT,n)})})})(new Response);const _D=async e=>{if(e==null)return 0;if(B.isBlob(e))return e.size;if(B.isSpecCompliantForm(e))return(await new Request(tr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(B.isArrayBufferView(e)||B.isArrayBuffer(e))return e.byteLength;if(B.isURLSearchParams(e)&&(e=e+""),B.isString(e))return(await wD(e)).byteLength},SD=async(e,t)=>{const r=B.toFiniteNumber(e.getContentLength());return r??_D(t)},xD=Qh&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=a_(e);c=c?(c+"").toLowerCase():"text";let f=yD([i,s&&s.toAbortSignal()],a),p;const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&AD&&r!=="get"&&r!=="head"&&(v=await SD(u,n))!==0){let A=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(B.isFormData(n)&&(R=A.headers.get("content-type"))&&u.setContentType(R),A.body){const[w,S]=H1(v,Xu(z1(l)));n=W1(A.body,Y1,w,S)}}B.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;p=new Request(t,{...d,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?h:void 0});let y=await fetch(p,d);const T=Eg&&(c==="stream"||c==="response");if(Eg&&(o||T&&g)){const A={};["status","statusText","headers"].forEach(N=>{A[N]=y[N]});const R=B.toFiniteNumber(y.headers.get("content-length")),[w,S]=o&&H1(R,Xu(z1(o),!0))||[];y=new Response(W1(y.body,Y1,w,()=>{S&&S(),g&&g()}),A)}c=c||"text";let b=await qu[B.findKey(qu,c)||"text"](y,e);return!T&&g&&g(),await new Promise((A,R)=>{i_(A,R,{data:b,headers:Er.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:p})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,p),{cause:m.cause||m}):_t.from(m,m&&m.code,e,p)}}),bg={http:HP,xhr:mD,fetch:xD};B.forEach(bg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const X1=e=>`- ${e}`,RD=e=>B.isFunction(e)||e===null||e===!1,c_={getAdapter:e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!RD(r)&&(n=bg[(a=String(r)).toLowerCase()],n===void 0))throw new _t(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(X1).join(`
`):" "+X1(s[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:bg};function Md(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Na(null,e)}function q1(e){return Md(e),e.headers=Er.from(e.headers),e.data=Cd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(e.adapter||Fl.adapter)(e).then(function(n){return Md(e),n.data=Cd.call(e,e.transformResponse,n),n.headers=Er.from(n.headers),n},function(n){return n_(n)||(Md(e),n&&n.response&&(n.response.data=Cd.call(e,e.transformResponse,n.response),n.response.headers=Er.from(n.response.headers))),Promise.reject(n)})}const u_="1.10.0",Jh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const V1={};Jh.transitional=function(t,r,n){function i(s,a){return"[Axios v"+u_+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new _t(i(a," has been removed"+(r?" in "+r:"")),_t.ERR_DEPRECATED);return r&&!V1[a]&&(V1[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};Jh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ND(e,t,r){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new _t("option "+s+" must be "+l,_t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}}const su={assertOptions:ND,validators:Jh},Sn=su.validators;let us=class{constructor(t){this.defaults=t||{},this.interceptors={request:new G1,response:new G1}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ms(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&su.assertOptions(n,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),i!=null&&(B.isFunction(i)?r.paramsSerializer={serialize:i}:su.assertOptions(i,{encode:Sn.function,serialize:Sn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),su.assertOptions(r,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&B.merge(s.common,s[r.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Er.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,d;if(!l){const p=[q1.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),d=p.length,u=Promise.resolve(r);h<d;)u=u.then(p[h++],p[h++]);return u}d=o.length;let f=r;for(h=0;h<d;){const p=o[h++],g=o[h++];try{f=p(f)}catch(v){g.call(this,v);break}}try{u=q1.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=ms(this.defaults,t);const r=s_(t.baseURL,t.url,t.allowAbsoluteUrls);return t_(r,t.params,t.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(t){us.prototype[t]=function(r,n){return this.request(ms(n||{},{method:t,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(ms(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}us.prototype[t]=r(),us.prototype[t+"Form"]=r(!0)});let LD=class h_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new Na(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new h_(function(i){t=i}),cancel:t}}};function OD(e){return function(r){return e.apply(null,r)}}function CD(e){return B.isObject(e)&&e.isAxiosError===!0}const wg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wg).forEach(([e,t])=>{wg[t]=e});function f_(e){const t=new us(e),r=zA(us.prototype.request,t);return B.extend(r,us.prototype,t,{allOwnKeys:!0}),B.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return f_(ms(e,i))},r}const Te=f_(Fl);Te.Axios=us;Te.CanceledError=Na;Te.CancelToken=LD;Te.isCancel=n_;Te.VERSION=u_;Te.toFormData=Zh;Te.AxiosError=_t;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=OD;Te.isAxiosError=CD;Te.mergeConfig=ms;Te.AxiosHeaders=Er;Te.formToJSON=e=>r_(B.isHTMLForm(e)?new FormData(e):e);Te.getAdapter=c_.getAdapter;Te.HttpStatusCode=wg;Te.default=Te;const{Axios:A3,AxiosError:_3,CanceledError:S3,isCancel:x3,CancelToken:R3,VERSION:N3,all:L3,Cancel:O3,isAxiosError:C3,spread:M3,toFormData:I3,AxiosHeaders:k3,HttpStatusCode:P3,formToJSON:D3,getAdapter:F3,mergeConfig:U3}=Te;function rr(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function In(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function MD(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function au(e){return typeof e=="object"&&e!==null&&rr(e.container)&&In(e.reference)&&typeof e.message=="string"}class ID{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return rr(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});const i=n[r];if(i!==void 0)return i;{const s=this.computeIsSubtype(t,r);return n[r]=s,s}}getAllSubTypes(t){const r=this.allSubtypes[t];if(r)return r;{const n=this.getAllTypes(),i=[];for(const s of n)this.isSubtype(s,t)&&i.push(s);return this.allSubtypes[t]=i,i}}}function Sl(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function d_(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function p_(e){return Sl(e)&&typeof e.fullText=="string"}class $e{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const t=this.iterator();let r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){const t=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){const n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){return new $e(()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return Or})}join(t=","){const r=this.iterator();let n="",i,s=!1;do i=r.next(),i.done||(s&&(n+=t),n+=kD(i.value)),s=!0;while(!i.done);return n}indexOf(t,r=0){const n=this.iterator();let i=0,s=n.next();for(;!s.done;){if(i>=r&&s.value===t)return i;s=n.next(),i++}return-1}every(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new $e(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?Or:{done:!1,value:t(i)}})}filter(t){return new $e(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return Or})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){const n=this.iterator();let i=r,s=n.next();for(;!s.done;)i===void 0?i=s.value:i=t(i,s.value),s=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){const i=t.next();if(i.done)return n;const s=this.recursiveReduce(t,r,n);return s===void 0?i.value:r(s,i.value)}find(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new $e(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const s=r.iterator.next();if(s.done)r.iterator=void 0;else return s}const{done:n,value:i}=this.nextFn(r.this);if(!n){const s=t(i);if(Vu(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(r.iterator);return Or})}flat(t){if(t===void 0&&(t=1),t<=0)return this;const r=t>1?this.flat(t-1):this;return new $e(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const a=n.iterator.next();if(a.done)n.iterator=void 0;else return a}const{done:i,value:s}=r.nextFn(n.this);if(!i)if(Vu(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(n.iterator);return Or})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new $e(()=>{const r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new $e(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?Or:this.nextFn(r.state)))}distinct(t){return new $e(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){const i=t?t(n.value):n.value;if(!r.set.has(i))return r.set.add(i),n}while(!n.done);return Or})}exclude(t,r){const n=new Set;for(const i of t){const s=r?r(i):i;n.add(s)}return this.filter(i=>{const s=r?r(i):i;return!n.has(s)})}}function kD(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Vu(e){return!!e&&typeof e[Symbol.iterator]=="function"}const PD=new $e(()=>{},()=>Or),Or=Object.freeze({done:!0,value:void 0});function He(...e){if(e.length===1){const t=e[0];if(t instanceof $e)return t;if(Vu(t))return new $e(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new $e(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:Or)}return e.length>1?new $e(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const r=e[t.collIndex++];Vu(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Or}):PD}class im extends $e{constructor(t,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(a.done)i.iterators.pop();else return i.iterators.push(r(a.value)[Symbol.iterator]()),a}return Or})}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}}var Ag;(function(e){function t(s){return s.reduce((a,o)=>a+o,0)}e.sum=t;function r(s){return s.reduce((a,o)=>a*o,0)}e.product=r;function n(s){return s.reduce((a,o)=>Math.min(a,o))}e.min=n;function i(s){return s.reduce((a,o)=>Math.max(a,o))}e.max=i})(Ag||(Ag={}));function _g(e){return new im(e,t=>Sl(t)?t.content:[],{includeRoot:!0})}function DD(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function Sg(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function ju(e){if(!e)return;const{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}var Vn;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"})(Vn||(Vn={}));function FD(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return Vn.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return Vn.After;const r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?Vn.Inside:r?Vn.OverlapBack:n?Vn.OverlapFront:Vn.Outside}function UD(e,t){return FD(e,t)>Vn.After}const GD=/^[\w\p{L}]$/u;function $D(e,t){if(e){const r=HD(e,!0);if(r&&j1(r,t))return r;if(p_(e)){const n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const s=e.content[i];if(j1(s,t))return s}}}}function j1(e,t){return d_(e)&&t.includes(e.tokenType.name)}function HD(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);for(;n>0;){n--;const i=r.content[n];if(t||!i.hidden)return i}e=r}}class g_ extends Error{constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}}function Ul(e){throw new Error("Error! The input value was not handled.")}const _c="AbstractRule",Sc="AbstractType",Id="Condition",K1="TypeDefinition",kd="ValueLiteral",To="AbstractElement";function zD(e){return Wt.isInstance(e,To)}const xc="ArrayLiteral",Rc="ArrayType",Eo="BooleanLiteral";function BD(e){return Wt.isInstance(e,Eo)}const bo="Conjunction";function WD(e){return Wt.isInstance(e,bo)}const wo="Disjunction";function YD(e){return Wt.isInstance(e,wo)}const Nc="Grammar",Pd="GrammarImport",Ao="InferredType";function v_(e){return Wt.isInstance(e,Ao)}const _o="Interface";function m_(e){return Wt.isInstance(e,_o)}const Dd="NamedArgument",So="Negation";function XD(e){return Wt.isInstance(e,So)}const Lc="NumberLiteral",Oc="Parameter",xo="ParameterReference";function qD(e){return Wt.isInstance(e,xo)}const Ro="ParserRule";function en(e){return Wt.isInstance(e,Ro)}const Cc="ReferenceType",ou="ReturnType";function VD(e){return Wt.isInstance(e,ou)}const No="SimpleType";function jD(e){return Wt.isInstance(e,No)}const Mc="StringLiteral",Xs="TerminalRule";function Ns(e){return Wt.isInstance(e,Xs)}const Lo="Type";function y_(e){return Wt.isInstance(e,Lo)}const Fd="TypeAttribute",Ic="UnionType",Oo="Action";function tf(e){return Wt.isInstance(e,Oo)}const Co="Alternatives";function T_(e){return Wt.isInstance(e,Co)}const Mo="Assignment";function ys(e){return Wt.isInstance(e,Mo)}const Io="CharacterRange";function KD(e){return Wt.isInstance(e,Io)}const ko="CrossReference";function sm(e){return Wt.isInstance(e,ko)}const Po="EndOfFile";function ZD(e){return Wt.isInstance(e,Po)}const Do="Group";function am(e){return Wt.isInstance(e,Do)}const Fo="Keyword";function Ts(e){return Wt.isInstance(e,Fo)}const Uo="NegatedToken";function QD(e){return Wt.isInstance(e,Uo)}const Go="RegexToken";function JD(e){return Wt.isInstance(e,Go)}const $o="RuleCall";function Es(e){return Wt.isInstance(e,$o)}const Ho="TerminalAlternatives";function t2(e){return Wt.isInstance(e,Ho)}const zo="TerminalGroup";function e2(e){return Wt.isInstance(e,zo)}const Bo="TerminalRuleCall";function r2(e){return Wt.isInstance(e,Bo)}const Wo="UnorderedGroup";function E_(e){return Wt.isInstance(e,Wo)}const Yo="UntilToken";function n2(e){return Wt.isInstance(e,Yo)}const Xo="Wildcard";function i2(e){return Wt.isInstance(e,Xo)}class b_ extends ID{getAllTypes(){return[To,_c,Sc,Oo,Co,xc,Rc,Mo,Eo,Io,Id,bo,ko,wo,Po,Nc,Pd,Do,Ao,_o,Fo,Dd,Uo,So,Lc,Oc,xo,Ro,Cc,Go,ou,$o,No,Mc,Ho,zo,Xs,Bo,Lo,Fd,K1,Ic,Wo,Yo,kd,Xo]}computeIsSubtype(t,r){switch(t){case Oo:case Co:case Mo:case Io:case ko:case Po:case Do:case Fo:case Uo:case Go:case $o:case Ho:case zo:case Bo:case Wo:case Yo:case Xo:return this.isSubtype(To,r);case xc:case Lc:case Mc:return this.isSubtype(kd,r);case Rc:case Cc:case No:case Ic:return this.isSubtype(K1,r);case Eo:return this.isSubtype(Id,r)||this.isSubtype(kd,r);case bo:case wo:case So:case xo:return this.isSubtype(Id,r);case Ao:case _o:case Lo:return this.isSubtype(Sc,r);case Ro:return this.isSubtype(_c,r)||this.isSubtype(Sc,r);case Xs:return this.isSubtype(_c,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Sc;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return _c;case"Grammar:usedGrammars":return Nc;case"NamedArgument:parameter":case"ParameterReference:parameter":return Oc;case"TerminalRuleCall:rule":return Xs;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case To:return{name:To,properties:[{name:"cardinality"},{name:"lookahead"}]};case xc:return{name:xc,properties:[{name:"elements",defaultValue:[]}]};case Rc:return{name:Rc,properties:[{name:"elementType"}]};case Eo:return{name:Eo,properties:[{name:"true",defaultValue:!1}]};case bo:return{name:bo,properties:[{name:"left"},{name:"right"}]};case wo:return{name:wo,properties:[{name:"left"},{name:"right"}]};case Nc:return{name:Nc,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Pd:return{name:Pd,properties:[{name:"path"}]};case Ao:return{name:Ao,properties:[{name:"name"}]};case _o:return{name:_o,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Dd:return{name:Dd,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case So:return{name:So,properties:[{name:"value"}]};case Lc:return{name:Lc,properties:[{name:"value"}]};case Oc:return{name:Oc,properties:[{name:"name"}]};case xo:return{name:xo,properties:[{name:"parameter"}]};case Ro:return{name:Ro,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Cc:return{name:Cc,properties:[{name:"referenceType"}]};case ou:return{name:ou,properties:[{name:"name"}]};case No:return{name:No,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Mc:return{name:Mc,properties:[{name:"value"}]};case Xs:return{name:Xs,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Lo:return{name:Lo,properties:[{name:"name"},{name:"type"}]};case Fd:return{name:Fd,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Ic:return{name:Ic,properties:[{name:"types",defaultValue:[]}]};case Oo:return{name:Oo,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Co:return{name:Co,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Mo:return{name:Mo,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Io:return{name:Io,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case ko:return{name:ko,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case Po:return{name:Po,properties:[{name:"cardinality"},{name:"lookahead"}]};case Do:return{name:Do,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Fo:return{name:Fo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Uo:return{name:Uo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Go:return{name:Go,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case $o:return{name:$o,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Ho:return{name:Ho,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case zo:return{name:zo,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Bo:return{name:Bo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Wo:return{name:Wo,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Yo:return{name:Yo,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Xo:return{name:Xo,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}}const Wt=new b_;function s2(e){for(const[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{rr(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):rr(r)&&(r.$container=e,r.$containerProperty=t))}function ef(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function Ai(e){const r=xg(e).$document;if(!r)throw new Error("AST node has no document.");return r}function xg(e){for(;e.$container;)e=e.$container;return e}function om(e,t){if(!e)throw new Error("Node must be an AstNode.");const r=t==null?void 0:t.range;return new $e(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const s=e[i];if(rr(s)){if(n.keyIndex++,Z1(s,r))return{done:!1,value:s}}else if(Array.isArray(s)){for(;n.arrayIndex<s.length;){const a=n.arrayIndex++,o=s[a];if(rr(o)&&Z1(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return Or})}function Gl(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new im(e,r=>om(r,t))}function aa(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new im(e,r=>om(r,t),{includeRoot:!0})}function Z1(e,t){var r;if(!t)return!0;const n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?UD(n,t):!1}function w_(e){return new $e(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const n=e[r];if(In(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){const i=t.arrayIndex++,s=n[i];if(In(s))return{done:!1,value:{reference:s,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return Or})}function a2(e,t){const r=e.getTypeMetaData(t.$type),n=t;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=A_(i.defaultValue))}function A_(e){return Array.isArray(e)?[...e.map(A_)]:e}function yt(e){return e.charCodeAt(0)}function Ud(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function ao(e,t){if(e[t]===!0)throw"duplicate flag "+t;e[t],e[t]=!0}function Bs(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function o2(){throw Error("Internal Error - Should never get here!")}function Q1(e){return e.type==="Character"}const Ku=[];for(let e=yt("0");e<=yt("9");e++)Ku.push(e);const Zu=[yt("_")].concat(Ku);for(let e=yt("a");e<=yt("z");e++)Zu.push(e);for(let e=yt("A");e<=yt("Z");e++)Zu.push(e);const J1=[yt(" "),yt("\f"),yt(`
`),yt("\r"),yt("	"),yt("\v"),yt("	"),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt(""),yt("\u2028"),yt("\u2029"),yt(""),yt(""),yt(""),yt("\uFEFF")],l2=/[0-9a-fA-F]/,kc=/[0-9]/,c2=/[1-9]/;class __{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":ao(n,"global");break;case"i":ao(n,"ignoreCase");break;case"m":ao(n,"multiLine");break;case"u":ao(n,"unicode");break;case"y":ao(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){const t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Bs(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return o2()}quantifier(t=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),r={atLeast:i,atMost:s}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;Bs(r);break}if(!(t===!0&&r===void 0)&&Bs(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t;const r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),Bs(t))return t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[yt(`
`),yt("\r"),yt("\u2028"),yt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=Ku;break;case"D":t=Ku,r=!0;break;case"s":t=J1;break;case"S":t=J1,r=!0;break;case"w":t=Zu;break;case"W":t=Zu,r=!0;break}if(Bs(t))return{type:"Set",value:t,complement:r}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=yt("\f");break;case"n":t=yt(`
`);break;case"r":t=yt("\r");break;case"t":t=yt("	");break;case"v":t=yt("\v");break}if(Bs(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:yt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:yt(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:yt(t)}}}characterClass(){const t=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,Q1(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,Q1(i)){if(i.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:i.value})}else Ud(n.value,t),t.push(yt("-")),Ud(i.value,t)}else Ud(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:yt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(c2.test(t)===!1)throw Error("Expecting a positive integer");for(;kc.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(kc.test(t)===!1)throw Error("Expecting an integer");for(;kc.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:yt(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return kc.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){const s=this.popChar();if(l2.test(s)===!1)throw Error("Expecting a HexDecimal digits");r+=s}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}class rf{visitChildren(t){for(const r in t){const n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}const u2=/\r?\n/gm,h2=new __;class f2 extends rf{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=nf(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){const r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}}const Gd=new f2;function d2(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Gd.reset(e),Gd.visit(h2.pattern(e)),Gd.multiline}catch{return!1}}const p2=`\f
\r	\v \u2028\u2029\uFEFF`.split("");function Rg(e){const t=typeof e=="string"?new RegExp(e):e;return p2.some(r=>t.test(r))}function nf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g2(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:nf(t)).join("")}function v2(e,t){const r=m2(e),n=t.match(r);return!!n&&n[0].length>0}function m2(e){typeof e=="string"&&(e=new RegExp(e));const t=e,r=e.source;let n=0;function i(){let s="",a;function o(c){s+=r.substr(n,c),n+=c}function l(c){s+="(?:"+r.substr(n,c)+"|$)",n+=c}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":t.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":t.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=n,a=a.exec(r)||[],l(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=n,a=a.exec(r),a?o(a[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":s+="(?:",n+=3,s+=i()+"|$)";break;case"=":s+="(?=",n+=3,s+=i()+")";break;case"!":a=n,n+=3,i(),s+=r.substr(a,n-a);break;case"<":switch(r[n+3]){case"=":case"!":a=n,n+=4,i(),s+=r.substr(a,n-a);break;default:o(r.indexOf(">",n)-n+1),s+=i()+"|$)";break}break}else o(1),s+=i()+"|$)";break;case")":return++n,s;default:l(1);break}return s}return new RegExp(i(),e.flags)}function y2(e){return e.rules.find(t=>en(t)&&t.entry)}function T2(e){return e.rules.filter(t=>Ns(t)&&t.hidden)}function S_(e,t){const r=new Set,n=y2(e);if(!n)return new Set(e.rules);const i=[n].concat(T2(e));for(const a of i)x_(a,r,t);const s=new Set;for(const a of e.rules)(r.has(a.name)||Ns(a)&&a.hidden)&&s.add(a);return s}function x_(e,t,r){t.add(e.name),Gl(e).forEach(n=>{if(Es(n)||r){const i=n.rule.ref;i&&!t.has(i.name)&&x_(i,t,r)}})}function E2(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=N_(e.type.ref);return t==null?void 0:t.terminal}}function b2(e){return e.hidden&&!Rg(hm(e))}function w2(e,t){return!e||!t?[]:lm(e,t,e.astNode,!0)}function R_(e,t,r){if(!e||!t)return;const n=lm(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function lm(e,t,r,n){if(!n){const i=ef(e.grammarSource,ys);if(i&&i.feature===t)return[e]}return Sl(e)&&e.astNode===r?e.content.flatMap(i=>lm(i,t,r,!1)):[]}function A2(e,t,r){if(!e)return;const n=_2(e,t,e==null?void 0:e.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function _2(e,t,r){if(e.astNode!==r)return[];if(Ts(e.grammarSource)&&e.grammarSource.value===t)return[e];const n=_g(e).iterator();let i;const s=[];do if(i=n.next(),!i.done){const a=i.value;a.astNode===r?Ts(a.grammarSource)&&a.grammarSource.value===t&&s.push(a):n.prune()}while(!i.done);return s}function S2(e){var t;const r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){const n=ef(e.grammarSource,ys);if(n)return n;e=e.container}}function N_(e){let t=e;return v_(t)&&(tf(t.$container)?t=t.$container.$container:en(t.$container)?t=t.$container:Ul(t.$container)),L_(e,t,new Map)}function L_(e,t,r){var n;function i(s,a){let o;return ef(s,ys)||(o=L_(a,a,r)),r.set(e,o),o}if(r.has(e))return r.get(e);r.set(e,void 0);for(const s of Gl(t)){if(ys(s)&&s.feature.toLowerCase()==="name")return r.set(e,s),s;if(Es(s)&&en(s.rule.ref))return i(s,s.rule.ref);if(jD(s)&&(!((n=s.typeRef)===null||n===void 0)&&n.ref))return i(s,s.typeRef.ref)}}function O_(e){return C_(e,new Set)}function C_(e,t){if(t.has(e))return!0;t.add(e);for(const r of Gl(e))if(Es(r)){if(!r.rule.ref||en(r.rule.ref)&&!C_(r.rule.ref,t))return!1}else{if(ys(r))return!1;if(tf(r))return!1}return!!e.definition}function cm(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(en(t))return t.name;if(m_(t)||y_(t))return t.name}}}function um(e){var t;if(en(e))return O_(e)?e.name:(t=cm(e))!==null&&t!==void 0?t:e.name;if(m_(e)||y_(e)||VD(e))return e.name;if(tf(e)){const r=x2(e);if(r)return r}else if(v_(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function x2(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return um(e.type.ref)}function R2(e){var t,r,n;return Ns(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":(n=cm(e))!==null&&n!==void 0?n:e.name}function hm(e){const t={s:!1,i:!1,u:!1},r=La(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const fm=/[\s\S]/.source;function La(e,t){if(t2(e))return N2(e);if(e2(e))return L2(e);if(KD(e))return M2(e);if(r2(e)){const r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return ti(La(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(QD(e))return C2(e);if(n2(e))return O2(e);if(JD(e)){const r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),ti(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(i2(e))return ti(fm,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}}}function N2(e){return ti(e.elements.map(t=>La(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function L2(e){return ti(e.elements.map(t=>La(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function O2(e){return ti(`${fm}*?${La(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function C2(e){return ti(`(?!${La(e.terminal)})${fm}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function M2(e){return e.right?ti(`[${$d(e.left)}-${$d(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):ti($d(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function $d(e){return nf(e.value)}function ti(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function I2(e){const t=[],r=e.Grammar;for(const n of r.rules)Ns(n)&&b2(n)&&d2(hm(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:GD}}function Ng(e){console&&console.error&&console.error(`Error: ${e}`)}function M_(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function I_(e){const t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function k_(e){function t(){}t.prototype=e;const r=new t;function n(){return typeof r.bar}return n(),n(),e}function k2(e){return P2(e)?e.LABEL:e.name}function P2(e){return Fr(e.LABEL)&&e.LABEL!==""}class kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),dt(this.definition,r=>{r.accept(t)})}}class ur extends kn{constructor(t){super([]),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class Oa extends kn{constructor(t){super(t.definition),this.orgText="",Dr(this,mn(t,r=>r!==void 0))}}class wr extends kn{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Dr(this,mn(t,r=>r!==void 0))}}class ze extends kn{constructor(t){super(t.definition),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}}class zr extends kn{constructor(t){super(t.definition),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}}class Br extends kn{constructor(t){super(t.definition),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}}class le extends kn{constructor(t){super(t.definition),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}}class Ar extends kn{constructor(t){super(t.definition),this.idx=1,Dr(this,mn(t,r=>r!==void 0))}}class _r extends kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Dr(this,mn(t,r=>r!==void 0))}}class re{constructor(t){this.idx=1,Dr(this,mn(t,r=>r!==void 0))}accept(t){t.visit(this)}}function D2(e){return rt(e,lu)}function lu(e){function t(r){return rt(r,lu)}if(e instanceof ur){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Fr(e.label)&&(r.label=e.label),r}else{if(e instanceof wr)return{type:"Alternative",definition:t(e.definition)};if(e instanceof ze)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof zr)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Br)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:lu(new re({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ar)return{type:"RepetitionWithSeparator",idx:e.idx,separator:lu(new re({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof le)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof _r)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof re){const r={type:"Terminal",name:e.terminalType.name,label:k2(e.terminalType),idx:e.idx};Fr(e.label)&&(r.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=ei(n)?n.source:n),r}else{if(e instanceof Oa)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}class Ca{visit(t){const r=t;switch(r.constructor){case ur:return this.visitNonTerminal(r);case wr:return this.visitAlternative(r);case ze:return this.visitOption(r);case zr:return this.visitRepetitionMandatory(r);case Br:return this.visitRepetitionMandatoryWithSeparator(r);case Ar:return this.visitRepetitionWithSeparator(r);case le:return this.visitRepetition(r);case _r:return this.visitAlternation(r);case re:return this.visitTerminal(r);case Oa:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function F2(e){return e instanceof wr||e instanceof ze||e instanceof le||e instanceof zr||e instanceof Br||e instanceof Ar||e instanceof re||e instanceof Oa}function Qu(e,t=[]){return e instanceof ze||e instanceof le||e instanceof Ar?!0:e instanceof _r?jE(e.definition,n=>Qu(n,t)):e instanceof ur&&fr(t,e)?!1:e instanceof kn?(e instanceof ur&&t.push(e),cn(e.definition,n=>Qu(n,t))):!1}function U2(e){return e instanceof _r}function On(e){if(e instanceof ur)return"SUBRULE";if(e instanceof ze)return"OPTION";if(e instanceof _r)return"OR";if(e instanceof zr)return"AT_LEAST_ONE";if(e instanceof Br)return"AT_LEAST_ONE_SEP";if(e instanceof Ar)return"MANY_SEP";if(e instanceof le)return"MANY";if(e instanceof re)return"CONSUME";throw Error("non exhaustive match")}class sf{walk(t,r=[]){dt(t.definition,(n,i)=>{const s=Ue(t.definition,i+1);if(n instanceof ur)this.walkProdRef(n,s,r);else if(n instanceof re)this.walkTerminal(n,s,r);else if(n instanceof wr)this.walkFlat(n,s,r);else if(n instanceof ze)this.walkOption(n,s,r);else if(n instanceof zr)this.walkAtLeastOne(n,s,r);else if(n instanceof Br)this.walkAtLeastOneSep(n,s,r);else if(n instanceof Ar)this.walkManySep(n,s,r);else if(n instanceof le)this.walkMany(n,s,r);else if(n instanceof _r)this.walkOr(n,s,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){const i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){const i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){const i=[new ze({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){const i=tT(t,r,n);this.walk(t,i)}walkMany(t,r,n){const i=[new ze({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){const i=tT(t,r,n);this.walk(t,i)}walkOr(t,r,n){const i=r.concat(n);dt(t.definition,s=>{const a=new wr({definition:[s]});this.walk(a,i)})}}function tT(e,t,r){return[new ze({definition:[new re({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function $l(e){if(e instanceof ur)return $l(e.referencedRule);if(e instanceof re)return H2(e);if(F2(e))return G2(e);if(U2(e))return $2(e);throw Error("non exhaustive match")}function G2(e){let t=[];const r=e.definition;let n=0,i=r.length>n,s,a=!0;for(;i&&a;)s=r[n],a=Qu(s),t=t.concat($l(s)),n=n+1,i=r.length>n;return av(t)}function $2(e){const t=rt(e.definition,r=>$l(r));return av(Kr(t))}function H2(e){return[e.terminalType]}const P_="_~IN~_";class z2 extends sf{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){const i=W2(t.referencedRule,t.idx)+this.topProd.name,s=r.concat(n),a=new wr({definition:s}),o=$l(a);this.follows[i]=o}}function B2(e){const t={};return dt(e,r=>{const n=new z2(r).startWalking();Dr(t,n)}),t}function W2(e,t){return e.name+t+P_}let cu={};const Y2=new __;function af(e){const t=e.toString();if(cu.hasOwnProperty(t))return cu[t];{const r=Y2.pattern(t);return cu[t]=r,r}}function X2(){cu={}}const D_="Complement Sets are not supported for first char optimization",Ju=`Unable to use "first char" lexer optimizations:
`;function q2(e,t=!1){try{const r=af(e);return Lg(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===D_)t&&M_(`${Ju}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Ng(`${Ju}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Lg(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Lg(e.value[i],t,r);break;case"Alternative":const n=e.value;for(let i=0;i<n.length;i++){const s=n[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":Pc(a.value,t,r);break;case"Set":if(a.complement===!0)throw Error(D_);dt(a.value,l=>{if(typeof l=="number")Pc(l,t,r);else{const c=l;if(r===!0)for(let u=c.from;u<=c.to;u++)Pc(u,t,r);else{for(let u=c.from;u<=c.to&&u<Vo;u++)Pc(u,t,r);if(c.to>=Vo){const u=c.from>=Vo?c.from:Vo,h=c.to,d=_i(u),f=_i(h);for(let p=d;p<=f;p++)t[p]=p}}}});break;case"Group":Lg(a.value,t,r);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&Og(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Me(t)}function Pc(e,t,r){const n=_i(e);t[n]=n,r===!0&&V2(e,t)}function V2(e,t){const r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){const i=_i(n.charCodeAt(0));t[i]=i}else{const i=r.toLowerCase();if(i!==r){const s=_i(i.charCodeAt(0));t[s]=s}}}function eT(e,t){return la(e.value,r=>{if(typeof r=="number")return fr(t,r);{const n=r;return la(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Og(e){const t=e.quantifier;return t&&t.atLeast===0?!0:e.value?Zr(e.value)?cn(e.value,Og):Og(e.value):!1}class j2 extends rf{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){fr(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?eT(t,this.targetCharCodes)===void 0&&(this.found=!0):eT(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function dm(e,t){if(t instanceof RegExp){const r=af(t),n=new j2(e);return n.visit(r),n.found}else return la(t,r=>fr(e,r.charCodeAt(0)))!==void 0}const bs="PATTERN",qo="defaultMode",Dc="modes";let F_=typeof new RegExp("(?:)").sticky=="boolean";function K2(e,t){t=ov(t,{useSticky:F_,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,T)=>T()});const r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{TF()});let n;r("Reject Lexer.NA",()=>{n=mh(e,y=>y[bs]===br.NA)});let i=!1,s;r("Transform Patterns",()=>{i=!1,s=rt(n,y=>{const T=y[bs];if(ei(T)){const b=T.source;return b.length===1&&b!=="^"&&b!=="$"&&b!=="."&&!T.ignoreCase?b:b.length===2&&b[0]==="\\"&&!fr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],b[1])?b[1]:t.useSticky?nT(T):rT(T)}else{if(_s(T))return i=!0,{exec:T};if(typeof T=="object")return i=!0,T;if(typeof T=="string"){if(T.length===1)return T;{const b=T.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),A=new RegExp(b);return t.useSticky?nT(A):rT(A)}}else throw Error("non exhaustive match")}})});let a,o,l,c,u;r("misc mapping",()=>{a=rt(n,y=>y.tokenTypeIdx),o=rt(n,y=>{const T=y.GROUP;if(T!==br.SKIPPED){if(Fr(T))return T;if(ri(T))return!1;throw Error("non exhaustive match")}}),l=rt(n,y=>{const T=y.LONGER_ALT;if(T)return Zr(T)?rt(T,A=>Nm(n,A)):[Nm(n,T)]}),c=rt(n,y=>y.PUSH_MODE),u=rt(n,y=>gt(y,"POP_MODE"))});let h;r("Line Terminator Handling",()=>{const y=$_(t.lineTerminatorCharacters);h=rt(n,T=>!1),t.positionTracking!=="onlyOffset"&&(h=rt(n,T=>gt(T,"LINE_BREAKS")?!!T.LINE_BREAKS:G_(T,y)===!1&&dm(y,T.PATTERN)))});let d,f,p,g;r("Misc Mapping #2",()=>{d=rt(n,U_),f=rt(s,vF),p=or(n,(y,T)=>{const b=T.GROUP;return Fr(b)&&b!==br.SKIPPED&&(y[b]=[]),y},{}),g=rt(s,(y,T)=>({pattern:s[T],longerAlt:l[T],canLineTerminator:h[T],isCustom:d[T],short:f[T],group:o[T],push:c[T],pop:u[T],tokenTypeIdx:a[T],tokenType:n[T]}))});let v=!0,m=[];return t.safeMode||r("First Char Optimization",()=>{m=or(n,(y,T,b)=>{if(typeof T.PATTERN=="string"){const A=T.PATTERN.charCodeAt(0),R=_i(A);Hd(y,R,g[b])}else if(Zr(T.START_CHARS_HINT)){let A;dt(T.START_CHARS_HINT,R=>{const w=typeof R=="string"?R.charCodeAt(0):R,S=_i(w);A!==S&&(A=S,Hd(y,S,g[b]))})}else if(ei(T.PATTERN))if(T.PATTERN.unicode)v=!1,t.ensureOptimizations&&Ng(`${Ju}	Unable to analyze < ${T.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const A=q2(T.PATTERN,t.ensureOptimizations);Kt(A)&&(v=!1),dt(A,R=>{Hd(y,R,g[b])})}else t.ensureOptimizations&&Ng(`${Ju}	TokenType: <${T.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return y},[])}),{emptyGroups:p,patternIdxToConfig:g,charCodeToPatternIdxToConfig:m,hasCustom:i,canBeOptimized:v}}function Z2(e,t){let r=[];const n=J2(e);r=r.concat(n.errors);const i=tF(n.valid),s=i.valid;return r=r.concat(i.errors),r=r.concat(Q2(s)),r=r.concat(lF(s)),r=r.concat(cF(s,t)),r=r.concat(uF(s)),r}function Q2(e){let t=[];const r=Hr(e,n=>ei(n[bs]));return t=t.concat(rF(r)),t=t.concat(sF(r)),t=t.concat(aF(r)),t=t.concat(oF(r)),t=t.concat(nF(r)),t}function J2(e){const t=Hr(e,i=>!gt(i,bs)),r=rt(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:ce.MISSING_PATTERN,tokenTypes:[i]})),n=yh(e,t);return{errors:r,valid:n}}function tF(e){const t=Hr(e,i=>{const s=i[bs];return!ei(s)&&!_s(s)&&!gt(s,"exec")&&!Fr(s)}),r=rt(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ce.INVALID_PATTERN,tokenTypes:[i]})),n=yh(e,t);return{errors:r,valid:n}}const eF=/[^\\][$]/;function rF(e){class t extends rf{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const r=Hr(e,i=>{const s=i.PATTERN;try{const a=af(s),o=new t;return o.visit(a),o.found}catch{return eF.test(s.source)}});return rt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ce.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function nF(e){const t=Hr(e,n=>n.PATTERN.test(""));return rt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:ce.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const iF=/[^\\[][\^]|^\^/;function sF(e){class t extends rf{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const r=Hr(e,i=>{const s=i.PATTERN;try{const a=af(s),o=new t;return o.visit(a),o.found}catch{return iF.test(s.source)}});return rt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ce.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function aF(e){const t=Hr(e,n=>{const i=n[bs];return i instanceof RegExp&&(i.multiline||i.global)});return rt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ce.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function oF(e){const t=[];let r=rt(e,s=>or(e,(a,o)=>(s.PATTERN.source===o.PATTERN.source&&!fr(t,o)&&o.PATTERN!==br.NA&&(t.push(o),a.push(o)),a),[]));r=Nl(r);const n=Hr(r,s=>s.length>1);return rt(n,s=>{const a=rt(s,l=>l.name);return{message:`The same RegExp pattern ->${dn(s).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:ce.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function lF(e){const t=Hr(e,n=>{if(!gt(n,"GROUP"))return!1;const i=n.GROUP;return i!==br.SKIPPED&&i!==br.NA&&!Fr(i)});return rt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ce.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function cF(e,t){const r=Hr(e,i=>i.PUSH_MODE!==void 0&&!fr(t,i.PUSH_MODE));return rt(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:ce.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function uF(e){const t=[],r=or(e,(n,i,s)=>{const a=i.PATTERN;return a===br.NA||(Fr(a)?n.push({str:a,idx:s,tokenType:i}):ei(a)&&fF(a)&&n.push({str:a.source,idx:s,tokenType:i})),n},[]);return dt(e,(n,i)=>{dt(r,({str:s,idx:a,tokenType:o})=>{if(i<a&&hF(s,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:l,type:ce.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),t}function hF(e,t){if(ei(t)){const r=t.exec(e);return r!==null&&r.index===0}else{if(_s(t))return t(e,0,[],{});if(gt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function fF(e){return la([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function rT(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function nT(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function dF(e,t,r){const n=[];return gt(e,qo)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+qo+`> property in its definition
`,type:ce.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),gt(e,Dc)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Dc+`> property in its definition
`,type:ce.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),gt(e,Dc)&&gt(e,qo)&&!gt(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${qo}: <${e.defaultMode}>which does not exist
`,type:ce.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),gt(e,Dc)&&dt(e.modes,(i,s)=>{dt(i,(a,o)=>{if(ri(a))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:ce.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(gt(a,"LONGER_ALT")){const l=Zr(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];dt(l,c=>{!ri(c)&&!fr(i,c)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${a.name}> outside of mode <${s}>
`,type:ce.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function pF(e,t,r){const n=[];let i=!1;const s=Nl(Kr(Me(e.modes))),a=mh(s,l=>l[bs]===br.NA),o=$_(r);return t&&dt(a,l=>{const c=G_(l,o);if(c!==!1){const h={message:yF(l,c),type:c.issue,tokenType:l};n.push(h)}else gt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):dm(o,l.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:ce.NO_LINE_BREAKS_FLAGS}),n}function gF(e){const t={},r=ll(e);return dt(r,n=>{const i=e[n];if(Zr(i))t[n]=[];else throw Error("non exhaustive match")}),t}function U_(e){const t=e.PATTERN;if(ei(t))return!1;if(_s(t))return!0;if(gt(t,"exec"))return!0;if(Fr(t))return!1;throw Error("non exhaustive match")}function vF(e){return Fr(e)&&e.length===1?e.charCodeAt(0):!1}const mF={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function G_(e,t){if(gt(e,"LINE_BREAKS"))return!1;if(ei(e.PATTERN)){try{dm(t,e.PATTERN)}catch(r){return{issue:ce.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Fr(e.PATTERN))return!1;if(U_(e))return{issue:ce.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function yF(e,t){if(t.issue===ce.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ce.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function $_(e){return rt(e,r=>Fr(r)?r.charCodeAt(0):r)}function Hd(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}const Vo=256;let uu=[];function _i(e){return e<Vo?e:uu[e]}function TF(){if(Kt(uu)){uu=new Array(65536);for(let e=0;e<65536;e++)uu[e]=e>255?255+~~(e/255):e}}function Hl(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function th(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let iT=1;const H_={};function zl(e){const t=EF(e);bF(t),AF(t),wF(t),dt(t,r=>{r.isParent=r.categoryMatches.length>0})}function EF(e){let t=Be(e),r=e,n=!0;for(;n;){r=Nl(Kr(rt(r,s=>s.CATEGORIES)));const i=yh(r,t);t=t.concat(i),Kt(i)?n=!1:r=i}return t}function bF(e){dt(e,t=>{B_(t)||(H_[iT]=t,t.tokenTypeIdx=iT++),sT(t)&&!Zr(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),sT(t)||(t.CATEGORIES=[]),_F(t)||(t.categoryMatches=[]),SF(t)||(t.categoryMatchesMap={})})}function wF(e){dt(e,t=>{t.categoryMatches=[],dt(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(H_[n].tokenTypeIdx)})})}function AF(e){dt(e,t=>{z_([],t)})}function z_(e,t){dt(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),dt(t.CATEGORIES,r=>{const n=e.concat(t);fr(n,r)||z_(n,r)})}function B_(e){return gt(e,"tokenTypeIdx")}function sT(e){return gt(e,"CATEGORIES")}function _F(e){return gt(e,"categoryMatches")}function SF(e){return gt(e,"categoryMatchesMap")}function xF(e){return gt(e,"tokenTypeIdx")}const Cg={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var ce;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(ce||(ce={}));const jo={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Cg,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(jo);class br{constructor(t,r=jo){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:l}=I_(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return s()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Dr({},jo,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===jo.lineTerminatorsPattern)this.config.lineTerminatorsPattern=mF;else if(this.config.lineTerminatorCharacters===jo.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Zr(t)?i={modes:{defaultMode:Be(t)},defaultMode:qo}:(s=!1,i=Be(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(dF(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(pF(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},dt(i.modes,(o,l)=>{i.modes[l]=mh(o,c=>ri(c))});const a=ll(i.modes);if(dt(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Z2(o,a))}),Kt(this.lexerDefinitionErrors)){zl(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=K2(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Dr({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Kt(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=rt(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}dt(this.lexerDefinitionWarning,o=>{M_(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(F_?(this.chopInput=Lm,this.match=this.matchWithTest):(this.updateLastIndex=Ce,this.match=this.matchWithExec),s&&(this.handleModes=Ce),this.trackStartLines===!1&&(this.computeNewColumn=Lm),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ce),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=or(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(r.ensureOptimizations&&!Kt(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{X2()}),this.TRACE_INIT("toFastProperties",()=>{k_(this)})})}tokenize(t,r=this.defaultMode){if(!Kt(this.lexerDefinitionErrors)){const i=rt(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,s,a,o,l,c,u,h,d,f,p,g,v,m;const y=t,T=y.length;let b=0,A=0;const R=this.hasCustom?0:Math.floor(t.length/10),w=new Array(R),S=[];let N=this.trackStartLines?1:void 0,I=this.trackStartLines?1:void 0;const C=gF(this.emptyGroups),M=this.trackStartLines,k=this.config.lineTerminatorsPattern;let E=0,O=[],_=[];const x=[],L=[];Object.freeze(L);let D;function P(){return O}function U(q){const tt=_i(q),Z=_[tt];return Z===void 0?L:Z}const z=q=>{if(x.length===1&&q.tokenType.PUSH_MODE===void 0){const tt=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(q);S.push({offset:q.startOffset,line:q.startLine,column:q.startColumn,length:q.image.length,message:tt})}else{x.pop();const tt=ca(x);O=this.patternIdxToConfig[tt],_=this.charCodeToPatternIdxToConfig[tt],E=O.length;const Z=this.canModeBeOptimized[tt]&&this.config.safeMode===!1;_&&Z?D=U:D=P}};function H(q){x.push(q),_=this.charCodeToPatternIdxToConfig[q],O=this.patternIdxToConfig[q],E=O.length,E=O.length;const tt=this.canModeBeOptimized[q]&&this.config.safeMode===!1;_&&tt?D=U:D=P}H.call(this,r);let V;const W=this.config.recoveryEnabled;for(;b<T;){l=null;const q=y.charCodeAt(b),tt=D(q),Z=tt.length;for(n=0;n<Z;n++){V=tt[n];const $=V.pattern;c=null;const Y=V.short;if(Y!==!1?q===Y&&(l=$):V.isCustom===!0?(m=$.exec(y,b,w,C),m!==null?(l=m[0],m.payload!==void 0&&(c=m.payload)):l=null):(this.updateLastIndex($,b),l=this.match($,t,b)),l!==null){if(o=V.longerAlt,o!==void 0){const X=o.length;for(s=0;s<X;s++){const j=O[o[s]],nt=j.pattern;if(u=null,j.isCustom===!0?(m=nt.exec(y,b,w,C),m!==null?(a=m[0],m.payload!==void 0&&(u=m.payload)):a=null):(this.updateLastIndex(nt,b),a=this.match(nt,t,b)),a&&a.length>l.length){l=a,c=u,V=j;break}}}break}}if(l!==null){if(h=l.length,d=V.group,d!==void 0&&(f=V.tokenTypeIdx,p=this.createTokenInstance(l,b,f,V.tokenType,N,I,h),this.handlePayload(p,c),d===!1?A=this.addToken(w,A,p):C[d].push(p)),t=this.chopInput(t,h),b=b+h,I=this.computeNewColumn(I,h),M===!0&&V.canLineTerminator===!0){let $=0,Y,X;k.lastIndex=0;do Y=k.test(l),Y===!0&&(X=k.lastIndex-1,$++);while(Y===!0);$!==0&&(N=N+$,I=h-X,this.updateTokenEndLineColumnLocation(p,d,X,$,N,I,h))}this.handleModes(V,z,H,p)}else{const $=b,Y=N,X=I;let j=W===!1;for(;j===!1&&b<T;)for(t=this.chopInput(t,1),b++,i=0;i<E;i++){const nt=O[i],K=nt.pattern,Gt=nt.short;if(Gt!==!1?y.charCodeAt(b)===Gt&&(j=!0):nt.isCustom===!0?j=K.exec(y,b,w,C)!==null:(this.updateLastIndex(K,b),j=K.exec(t)!==null),j===!0)break}if(g=b-$,I=this.computeNewColumn(I,g),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,$,g,Y,X),S.push({offset:$,line:Y,column:X,length:g,message:v}),W===!1)break}}return this.hasCustom||(w.length=A),{tokens:w,groups:C,errors:S}}handleModes(t,r,n,i){if(t.pop===!0){const s=t.push;r(i),s!==void 0&&n.call(this,s)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,s,a,o){let l,c;r!==void 0&&(l=n===o-1,c=l?-1:0,i===1&&l===!0||(t.endLine=s+c,t.endColumn=a-1+-c))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,s,a){return{image:t,startOffset:r,startLine:s,startColumn:a,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,s,a,o){return{image:t,startOffset:r,endOffset:r+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){const n=t.exec(r);return n!==null?n[0]:null}}br.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";br.NA=/NOT_APPLICABLE/;function oa(e){return W_(e)?e.LABEL:e.name}function W_(e){return Fr(e.LABEL)&&e.LABEL!==""}const RF="parent",aT="categories",oT="label",lT="group",cT="push_mode",uT="pop_mode",hT="longer_alt",fT="line_breaks",dT="start_chars_hint";function Y_(e){return NF(e)}function NF(e){const t=e.pattern,r={};if(r.name=e.name,ri(t)||(r.PATTERN=t),gt(e,RF))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return gt(e,aT)&&(r.CATEGORIES=e[aT]),zl([r]),gt(e,oT)&&(r.LABEL=e[oT]),gt(e,lT)&&(r.GROUP=e[lT]),gt(e,uT)&&(r.POP_MODE=e[uT]),gt(e,cT)&&(r.PUSH_MODE=e[cT]),gt(e,hT)&&(r.LONGER_ALT=e[hT]),gt(e,fT)&&(r.LINE_BREAKS=e[fT]),gt(e,dT)&&(r.START_CHARS_HINT=e[dT]),r}const Si=Y_({name:"EOF",pattern:br.NA});zl([Si]);function pm(e,t,r,n,i,s,a,o){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function X_(e,t){return Hl(e,t)}const Js={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${W_(e)?`--> ${oa(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){const s="Expecting: ",o=`
but found: '`+dn(t).image+"'";if(n)return s+n+o;{const l=or(e,(d,f)=>d.concat(f),[]),c=rt(l,d=>`[${rt(d,f=>oa(f)).join(", ")}]`),h=`one of these possible Token sequences:
${rt(c,(d,f)=>`  ${f+1}. ${d}`).join(`
`)}`;return s+h+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){const i="Expecting: ",a=`
but found: '`+dn(t).image+"'";if(r)return i+r+a;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${rt(e,c=>`[${rt(c,u=>oa(u)).join(",")}]`).join(" ,")}>`;return i+l+a}}};Object.freeze(Js);const LF={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},as={buildDuplicateFoundError(e,t){function r(u){return u instanceof re?u.terminalType.name:u instanceof ur?u.nonTerminalName:""}const n=e.name,i=dn(t),s=i.idx,a=On(i),o=r(i),l=s>0;let c=`->${a}${l?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){const t=rt(e.prefixPath,i=>oa(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const t=rt(e.prefixPath,i=>oa(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=On(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){const t=e.topLevelRule.name,r=rt(e.leftRecursionPath,s=>s.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Oa?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function OF(e,t){const r=new CF(e,t);return r.resolveRefs(),r.errors}class CF extends Ca{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){dt(Me(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:hr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}class MF extends sf{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Be(this.path.ruleStack).reverse(),this.occurrenceStack=Be(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){Kt(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class IF extends MF{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),s=new wr({definition:i});this.possibleTokTypes=$l(s),this.found=!0}}}class of extends sf{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class kF extends of{walkMany(t,r,n){if(t.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}}class pT extends of{walkManySep(t,r,n){if(t.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}}class PF extends of{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}}class gT extends of{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){const i=dn(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}}function Mg(e,t,r=[]){r=Be(r);let n=[],i=0;function s(o){return o.concat(Ue(e,i+1))}function a(o){const l=Mg(s(o),t,r);return n.concat(l)}for(;r.length<t&&i<e.length;){const o=e[i];if(o instanceof wr)return a(o.definition);if(o instanceof ur)return a(o.definition);if(o instanceof ze)n=a(o.definition);else if(o instanceof zr){const l=o.definition.concat([new le({definition:o.definition})]);return a(l)}else if(o instanceof Br){const l=[new wr({definition:o.definition}),new le({definition:[new re({terminalType:o.separator})].concat(o.definition)})];return a(l)}else if(o instanceof Ar){const l=o.definition.concat([new le({definition:[new re({terminalType:o.separator})].concat(o.definition)})]);n=a(l)}else if(o instanceof le){const l=o.definition.concat([new le({definition:o.definition})]);n=a(l)}else{if(o instanceof _r)return dt(o.definition,l=>{Kt(l.definition)===!1&&(n=a(l.definition))}),n;if(o instanceof re)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ue(e,i)}),n}function q_(e,t,r,n){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const l=t.length,c=l-n-1,u=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Kt(h);){const d=h.pop();if(d===a){o&&ca(h).idx<=c&&h.pop();continue}const f=d.def,p=d.idx,g=d.ruleStack,v=d.occurrenceStack;if(Kt(f))continue;const m=f[0];if(m===i){const y={idx:p,def:Ue(f),ruleStack:cl(g),occurrenceStack:cl(v)};h.push(y)}else if(m instanceof re)if(p<l-1){const y=p+1,T=t[y];if(r(T,m.terminalType)){const b={idx:y,def:Ue(f),ruleStack:g,occurrenceStack:v};h.push(b)}}else if(p===l-1)u.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:g,occurrenceStack:v}),o=!0;else throw Error("non exhaustive match");else if(m instanceof ur){const y=Be(g);y.push(m.nonTerminalName);const T=Be(v);T.push(m.idx);const b={idx:p,def:m.definition.concat(s,Ue(f)),ruleStack:y,occurrenceStack:T};h.push(b)}else if(m instanceof ze){const y={idx:p,def:Ue(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T={idx:p,def:m.definition.concat(Ue(f)),ruleStack:g,occurrenceStack:v};h.push(T)}else if(m instanceof zr){const y=new le({definition:m.definition,idx:m.idx}),T=m.definition.concat([y],Ue(f)),b={idx:p,def:T,ruleStack:g,occurrenceStack:v};h.push(b)}else if(m instanceof Br){const y=new re({terminalType:m.separator}),T=new le({definition:[y].concat(m.definition),idx:m.idx}),b=m.definition.concat([T],Ue(f)),A={idx:p,def:b,ruleStack:g,occurrenceStack:v};h.push(A)}else if(m instanceof Ar){const y={idx:p,def:Ue(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T=new re({terminalType:m.separator}),b=new le({definition:[T].concat(m.definition),idx:m.idx}),A=m.definition.concat([b],Ue(f)),R={idx:p,def:A,ruleStack:g,occurrenceStack:v};h.push(R)}else if(m instanceof le){const y={idx:p,def:Ue(f),ruleStack:g,occurrenceStack:v};h.push(y),h.push(a);const T=new le({definition:m.definition,idx:m.idx}),b=m.definition.concat([T],Ue(f)),A={idx:p,def:b,ruleStack:g,occurrenceStack:v};h.push(A)}else if(m instanceof _r)for(let y=m.definition.length-1;y>=0;y--){const T=m.definition[y],b={idx:p,def:T.definition.concat(Ue(f)),ruleStack:g,occurrenceStack:v};h.push(b),h.push(a)}else if(m instanceof wr)h.push({idx:p,def:m.definition.concat(Ue(f)),ruleStack:g,occurrenceStack:v});else if(m instanceof Oa)h.push(DF(m,p,g,v));else throw Error("non exhaustive match")}return u}function DF(e,t,r,n){const i=Be(r);i.push(e.name);const s=Be(n);return s.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:s}}var se;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(se||(se={}));function gm(e){if(e instanceof ze||e==="Option")return se.OPTION;if(e instanceof le||e==="Repetition")return se.REPETITION;if(e instanceof zr||e==="RepetitionMandatory")return se.REPETITION_MANDATORY;if(e instanceof Br||e==="RepetitionMandatoryWithSeparator")return se.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Ar||e==="RepetitionWithSeparator")return se.REPETITION_WITH_SEPARATOR;if(e instanceof _r||e==="Alternation")return se.ALTERNATION;throw Error("non exhaustive match")}function vT(e){const{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,s=gm(n);return s===se.ALTERNATION?lf(t,r,i):cf(t,r,s,i)}function FF(e,t,r,n,i,s){const a=lf(e,t,r),o=K_(a)?th:Hl;return s(a,n,o,i)}function UF(e,t,r,n,i,s){const a=cf(e,t,i,r),o=K_(a)?th:Hl;return s(a[0],o,n)}function GF(e,t,r,n){const i=e.length,s=cn(e,a=>cn(a,o=>o.length===1));if(t)return function(a){const o=rt(a,l=>l.GATE);for(let l=0;l<i;l++){const c=e[l],u=c.length,h=o[l];if(!(h!==void 0&&h.call(this)===!1))t:for(let d=0;d<u;d++){const f=c[d],p=f.length;for(let g=0;g<p;g++){const v=this.LA(g+1);if(r(v,f[g])===!1)continue t}return l}}};if(s&&!n){const a=rt(e,l=>Kr(l)),o=or(a,(l,c,u)=>(dt(c,h=>{gt(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=u),dt(h.categoryMatches,d=>{gt(l,d)||(l[d]=u)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=e[a],l=o.length;t:for(let c=0;c<l;c++){const u=o[c],h=u.length;for(let d=0;d<h;d++){const f=this.LA(d+1);if(r(f,u[d])===!1)continue t}return a}}}}function $F(e,t,r){const n=cn(e,s=>s.length===1),i=e.length;if(n&&!r){const s=Kr(e);if(s.length===1&&Kt(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const a=or(s,(o,l,c)=>(o[l.tokenTypeIdx]=!0,dt(l.categoryMatches,u=>{o[u]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){t:for(let s=0;s<i;s++){const a=e[s],o=a.length;for(let l=0;l<o;l++){const c=this.LA(l+1);if(t(c,a[l])===!1)continue t}return!0}return!1}}class HF extends sf{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,se.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,se.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,se.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,se.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,se.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}}class V_ extends Ca{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,se.OPTION)}visitRepetition(t){this.checkIsTarget(t,se.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,se.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,se.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,se.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,se.ALTERNATION)}}function mT(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function zd(e){let t=[""];for(let r=0;r<e.length;r++){const n=e[r],i=[];for(let s=0;s<t.length;s++){const a=t[s];i.push(a+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(a+l)}}t=i}return t}function zF(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;const i=e[n];for(let s=0;s<t.length;s++){const a=t[s];if(i[a]===!0)return!1}}return!0}function j_(e,t){const r=rt(e,a=>Mg([a],1)),n=mT(r.length),i=rt(r,a=>{const o={};return dt(a,l=>{const c=zd(l.partialPath);dt(c,u=>{o[u]=!0})}),o});let s=r;for(let a=1;a<=t;a++){const o=s;s=mT(o.length);for(let l=0;l<o.length;l++){const c=o[l];for(let u=0;u<c.length;u++){const h=c[u].partialPath,d=c[u].suffixDef,f=zd(h);if(zF(i,f,l)||Kt(d)||h.length===t){const g=n[l];if(Ig(g,h)===!1){g.push(h);for(let v=0;v<f.length;v++){const m=f[v];i[l][m]=!0}}}else{const g=Mg(d,a+1,h);s[l]=s[l].concat(g),dt(g,v=>{const m=zd(v.partialPath);dt(m,y=>{i[l][y]=!0})})}}}}return n}function lf(e,t,r,n){const i=new V_(e,se.ALTERNATION,n);return t.accept(i),j_(i.result,r)}function cf(e,t,r,n){const i=new V_(e,r);t.accept(i);const s=i.result,o=new HF(t,e,r).startWalking(),l=new wr({definition:s}),c=new wr({definition:o});return j_([l,c],n)}function Ig(e,t){t:for(let r=0;r<e.length;r++){const n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){const s=t[i],a=n[i];if((s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue t}return!0}}return!1}function BF(e,t){return e.length<t.length&&cn(e,(r,n)=>{const i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function K_(e){return cn(e,t=>cn(t,r=>cn(r,n=>Kt(n.categoryMatches))))}function WF(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return rt(t,r=>Object.assign({type:hr.CUSTOM_LOOKAHEAD_VALIDATION},r))}function YF(e,t,r,n){const i=Ir(e,l=>XF(l,r)),s=iU(e,t,r),a=Ir(e,l=>tU(l,r)),o=Ir(e,l=>jF(l,e,n,r));return i.concat(s,a,o)}function XF(e,t){const r=new VF;e.accept(r);const n=r.allProductions,i=qS(n,qF),s=mn(i,o=>o.length>1);return rt(Me(s),o=>{const l=dn(o),c=t.buildDuplicateFoundError(e,o),u=On(l),h={message:c,type:hr.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:u,occurrence:l.idx},d=Z_(l);return d&&(h.parameter=d),h})}function qF(e){return`${On(e)}_#_${e.idx}_#_${Z_(e)}`}function Z_(e){return e instanceof re?e.terminalType.name:e instanceof ur?e.nonTerminalName:""}class VF extends Ca{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function jF(e,t,r,n){const i=[];if(or(t,(a,o)=>o.name===e.name?a+1:a,0)>1){const a=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:a,type:hr.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function KF(e,t,r){const n=[];let i;return fr(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:hr.INVALID_RULE_OVERRIDE,ruleName:e})),n}function Q_(e,t,r,n=[]){const i=[],s=hu(t.definition);if(Kt(s))return[];{const a=e.name;fr(s,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:hr.LEFT_RECURSION,ruleName:a});const l=yh(s,n.concat([e])),c=Ir(l,u=>{const h=Be(n);return h.push(u),Q_(e,u,r,h)});return i.concat(c)}}function hu(e){let t=[];if(Kt(e))return t;const r=dn(e);if(r instanceof ur)t.push(r.referencedRule);else if(r instanceof wr||r instanceof ze||r instanceof zr||r instanceof Br||r instanceof Ar||r instanceof le)t=t.concat(hu(r.definition));else if(r instanceof _r)t=Kr(rt(r.definition,s=>hu(s.definition)));else if(!(r instanceof re))throw Error("non exhaustive match");const n=Qu(r),i=e.length>1;if(n&&i){const s=Ue(e);return t.concat(hu(s))}else return t}class vm extends Ca{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function ZF(e,t){const r=new vm;e.accept(r);const n=r.alternations;return Ir(n,s=>{const a=cl(s.definition);return Ir(a,(o,l)=>{const c=q_([o],[],Hl,1);return Kt(c)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:s,emptyChoiceIdx:l}),type:hr.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:s.idx,alternative:l+1}]:[]})})}function QF(e,t,r){const n=new vm;e.accept(n);let i=n.alternations;return i=mh(i,a=>a.ignoreAmbiguities===!0),Ir(i,a=>{const o=a.idx,l=a.maxLookahead||t,c=lf(o,e,l,a),u=rU(c,a,e,r),h=nU(c,a,e,r);return u.concat(h)})}class JF extends Ca{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function tU(e,t){const r=new vm;e.accept(r);const n=r.alternations;return Ir(n,s=>s.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:s}),type:hr.TOO_MANY_ALTS,ruleName:e.name,occurrence:s.idx}]:[])}function eU(e,t,r){const n=[];return dt(e,i=>{const s=new JF;i.accept(s);const a=s.allProductions;dt(a,o=>{const l=gm(o),c=o.maxLookahead||t,u=o.idx,d=cf(u,i,l,c)[0];if(Kt(Kr(d))){const f=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:f,type:hr.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function rU(e,t,r,n){const i=[],s=or(e,(o,l,c)=>(t.definition[c].ignoreAmbiguities===!0||dt(l,u=>{const h=[c];dt(e,(d,f)=>{c!==f&&Ig(d,u)&&t.definition[f].ignoreAmbiguities!==!0&&h.push(f)}),h.length>1&&!Ig(i,u)&&(i.push(u),o.push({alts:h,path:u}))}),o),[]);return rt(s,o=>{const l=rt(o.alts,u=>u+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:o.path}),type:hr.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:o.alts}})}function nU(e,t,r,n){const i=or(e,(a,o,l)=>{const c=rt(o,u=>({idx:l,path:u}));return a.concat(c)},[]);return Nl(Ir(i,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];const l=a.idx,c=a.path,u=Hr(i,d=>t.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&BF(d.path,c));return rt(u,d=>{const f=[d.idx+1,l+1],p=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:f,prefixPath:d.path}),type:hr.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:f}})}))}function iU(e,t,r){const n=[],i=rt(t,s=>s.name);return dt(e,s=>{const a=s.name;if(fr(i,a)){const o=r.buildNamespaceConflictError(s);n.push({message:o,type:hr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),n}function sU(e){const t=ov(e,{errMsgProvider:LF}),r={};return dt(e.rules,n=>{r[n.name]=n}),OF(r,t.errMsgProvider)}function aU(e){return e=ov(e,{errMsgProvider:as}),YF(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const J_="MismatchedTokenException",tS="NoViableAltException",eS="EarlyExitException",rS="NotAllInputParsedException",nS=[J_,tS,eS,rS];Object.freeze(nS);function eh(e){return fr(nS,e.name)}class uf extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class iS extends uf{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=J_}}class oU extends uf{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=tS}}class lU extends uf{constructor(t,r){super(t,r),this.name=rS}}class cU extends uf{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=eS}}const Bd={},sS="InRuleRecoveryException";class uU extends Error{constructor(t){super(t),this.name=sS}}class hU{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=gt(t,"recoveryEnabled")?t.recoveryEnabled:ni.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=fU)}getTokenToInsert(t){const r=pm(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const h=()=>{const d=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:d,ruleName:this.getCurrRuleFullName()}),p=new iS(f,c,this.LA(0));p.resyncedTokens=cl(o),this.SAVE_ERROR(p)};for(;!l;)if(this.tokenMatcher(u,i)){h();return}else if(n.call(this)){h(),t.apply(this,r);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){const n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new uU("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||Kt(r))return!1;const n=this.LA(1);return la(r,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return fr(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=la(t,s=>X_(r,s));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Bd;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return rt(t,(n,i)=>i===0?Bd:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){const t=rt(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Kr(t)}getFollowSetFromFollowKey(t){if(t===Bd)return[Si];const r=t.ruleName+t.idxInCallingRule+P_+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,Si)||r.push(t),r}reSyncTo(t){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return cl(r)}attemptInRepetitionRecovery(t,r,n,i,s,a,o){}getCurrentGrammarPath(t,r){const n=this.getHumanReadableRuleStack(),i=Be(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return rt(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function fU(e,t,r,n,i,s,a){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const d=this.getCurrRuleFullName(),f=this.getGAstProductions()[d];l=new s(f,i).startWalking(),this.firstAfterRepMap[o]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=Si,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,a)&&this.tryInRepetitionRecovery(e,t,r,c)}const dU=4,Ni=8,aS=1<<Ni,oS=2<<Ni,kg=3<<Ni,Pg=4<<Ni,Dg=5<<Ni,fu=6<<Ni;function Wd(e,t,r){return r|t|e}class mm{constructor(t){var r;this.maxLookahead=(r=t==null?void 0:t.maxLookahead)!==null&&r!==void 0?r:ni.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(Kt(r)){const n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...s]}return r}validateNoLeftRecursion(t){return Ir(t,r=>Q_(r,r,as))}validateEmptyOrAlternatives(t){return Ir(t,r=>ZF(r,as))}validateAmbiguousAlternationAlternatives(t,r){return Ir(t,n=>QF(n,r,as))}validateSomeNonEmptyLookaheadPath(t,r){return eU(t,r,as)}buildLookaheadForAlternation(t){return FF(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,GF)}buildLookaheadForOptional(t){return UF(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,gm(t.prodType),$F)}}class pU{initLooksAhead(t){this.dynamicTokensEnabled=gt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:ni.dynamicTokensEnabled,this.maxLookahead=gt(t,"maxLookahead")?t.maxLookahead:ni.maxLookahead,this.lookaheadStrategy=gt(t,"lookaheadStrategy")?t.lookaheadStrategy:new mm({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){dt(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=vU(r);dt(n,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${On(c)}${u}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:r,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=Wd(this.fullRuleNameToShort[r.name],aS,c.idx);this.setLaFuncCache(d,h)})}),dt(i,c=>{this.computeLookaheadFunc(r,c.idx,kg,"Repetition",c.maxLookahead,On(c))}),dt(s,c=>{this.computeLookaheadFunc(r,c.idx,oS,"Option",c.maxLookahead,On(c))}),dt(a,c=>{this.computeLookaheadFunc(r,c.idx,Pg,"RepetitionMandatory",c.maxLookahead,On(c))}),dt(o,c=>{this.computeLookaheadFunc(r,c.idx,fu,"RepetitionMandatoryWithSeparator",c.maxLookahead,On(c))}),dt(l,c=>{this.computeLookaheadFunc(r,c.idx,Dg,"RepetitionWithSeparator",c.maxLookahead,On(c))})})})}computeLookaheadFunc(t,r,n,i,s,a){this.TRACE_INIT(`${a}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=Wd(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(t,r){const n=this.getLastExplicitRuleShortName();return Wd(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}}class gU extends Ca{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const Fc=new gU;function vU(e){Fc.reset(),e.accept(Fc);const t=Fc.dslMethods;return Fc.reset(),t}function yT(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function TT(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function mU(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function yU(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}const TU="name";function lS(e,t){Object.defineProperty(e,TU,{enumerable:!1,configurable:!0,writable:!1,value:t})}function EU(e,t){const r=ll(e),n=r.length;for(let i=0;i<n;i++){const s=r[i],a=e[s],o=a.length;for(let l=0;l<o;l++){const c=a[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,t)}}}function bU(e,t){const r=function(){};lS(r,e+"BaseSemantics");const n={visit:function(i,s){if(Zr(i)&&(i=i[0]),!ri(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=AU(this,t);if(!Kt(i)){const s=rt(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function wU(e,t,r){const n=function(){};lS(n,e+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return dt(t,s=>{i[s]=EU}),n.prototype=i,n.prototype.constructor=n,n}var Fg;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(Fg||(Fg={}));function AU(e,t){return _U(e,t)}function _U(e,t){const r=Hr(t,i=>_s(e[i])===!1),n=rt(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:Fg.MISSING_METHOD,methodName:i}));return Nl(n)}class SU{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=gt(t,"nodeLocationTracking")?t.nodeLocationTracking:ni.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ce,this.cstFinallyStateUpdate=Ce,this.cstPostTerminal=Ce,this.cstPostNonTerminal=Ce,this.cstPostRule=Ce;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=TT,this.setNodeLocationFromNode=TT,this.cstPostRule=Ce,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ce,this.setNodeLocationFromNode=Ce,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=yT,this.setNodeLocationFromNode=yT,this.cstPostRule=Ce,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ce,this.setNodeLocationFromNode=Ce,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ce,this.setNodeLocationFromNode=Ce,this.cstPostRule=Ce,this.setInitialNodeLocation=Ce;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];mU(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];yU(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(ri(this.baseCstVisitorConstructor)){const t=bU(this.className,ll(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ri(this.baseCstVisitorWithDefaultsConstructor)){const t=wU(this.className,ll(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class xU{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):nh}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?nh:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class RU{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=ih){if(fr(this.definedRulesNames,t)){const a={message:as.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:hr.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(a)}this.definedRulesNames.push(t);const i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=ih){const i=KF(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(t,r,n);return this[t]=s,s}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(eh(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return D2(Me(this.gastProductionsCache))}}class NU{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=th,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},gt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Zr(t)){if(Kt(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Zr(t))this.tokensMap=or(t,(s,a)=>(s[a.name]=a,s),{});else if(gt(t,"modes")&&cn(Kr(Me(t.modes)),xF)){const s=Kr(Me(t.modes)),a=av(s);this.tokensMap=or(a,(o,l)=>(o[l.name]=l,o),{})}else if(VS(t))this.tokensMap=Be(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Si;const n=gt(t,"modes")?Kr(Me(t.modes)):Me(t),i=cn(n,s=>Kt(s.categoryMatches));this.tokenMatcher=i?th:Hl,zl(Me(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=gt(n,"resyncEnabled")?n.resyncEnabled:ih.resyncEnabled,s=gt(n,"recoveryValueFunc")?n.recoveryValueFunc:ih.recoveryValueFunc,a=this.ruleShortNameIdx<<dU+Ni;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=t,this.fullRuleNameToShort[t]=a;let o;return this.outputCst===!0?o=function(...u){try{this.ruleInvocationStateUpdate(a,t,this.subruleIdx),r.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...u){try{return this.ruleInvocationStateUpdate(a,t,this.subruleIdx),r.apply(this,u)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){const i=this.RULE_STACK.length===1,s=r&&!this.isBackTracking()&&this.recoveryEnabled;if(eh(t)){const a=t;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(t);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}}else{if(i)return this.moveToTerminatedState(),n(t);throw a}}else throw t}optionInternal(t,r){const n=this.getKeyForAutomaticLookahead(oS,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof t!="function"){s=t.DEF;const a=t.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=t;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(t,r){const n=this.getKeyForAutomaticLookahead(Pg,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const a=r.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=r;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(t,se.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,Pg,t,PF)}atLeastOneSepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(fu,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,o,i,gT],o,fu,t,gT)}else throw this.raiseEarlyExitException(t,se.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){const n=this.getKeyForAutomaticLookahead(kg,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else s=r;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,kg,t,kF,a)}manySepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(Dg,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,o,i,pT],o,Dg,t,pT)}}repetitionSepSecondInternal(t,r,n,i,s){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,s],n,fu,t,s)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const n=this.getKeyForAutomaticLookahead(aS,r),i=Zr(t)?t:t.DEF,a=this.getLaFuncFromCache(n).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new lU(r,t))}}subruleInternal(t,r,n){let i;try{const s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,s),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(s){throw this.subruleInternalError(s,n,t.ruleName)}}subruleInternalError(t,r,n){throw eh(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{const s=this.LA(1);this.tokenMatcher(s,t)===!0?(this.consumeToken(),i=s):this.consumeInternalError(t,s,n)}catch(s){i=this.consumeInternalRecovery(t,r,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i;const s=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new iS(i,r,s))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(s){throw s.name===sS?n:s}}else throw n}saveRecogState(){const t=this.errors,r=Be(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Si)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class LU{initErrorHandler(t){this._errors=[],this.errorMessageProvider=gt(t,"errorMessageProvider")?t.errorMessageProvider:ni.errorMessageProvider}SAVE_ERROR(t){if(eh(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Be(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Be(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],o=cf(t,s,r,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new cU(c,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],s=lf(t,i,this.maxLookahead),a=[];for(let c=1;c<=this.maxLookahead;c++)a.push(this.LA(c));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new oU(l,this.LA(1),o))}}class OU{initContentAssist(){}computeContentAssist(t,r){const n=this.gastProductionsCache[t];if(ri(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return q_([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=dn(t.ruleStack),i=this.getGAstProductions()[r];return new IF(i,t).startWalking()}}const hf={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(hf);const ET=!0,bT=Math.pow(2,Ni)-1,cS=Y_({name:"RECORDING_PHASE_TOKEN",pattern:br.NA});zl([cS]);const uS=pm(cS,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(uS);const CU={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class MU{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return nh}topLevelRuleRecord(t,r){try{const n=new Oa({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return oo.call(this,ze,t,r)}atLeastOneInternalRecord(t,r){oo.call(this,zr,r,t)}atLeastOneSepFirstInternalRecord(t,r){oo.call(this,Br,r,t,ET)}manyInternalRecord(t,r){oo.call(this,le,r,t)}manySepFirstInternalRecord(t,r){oo.call(this,Ar,r,t,ET)}orInternalRecord(t,r){return IU.call(this,t,r)}subruleInternalRecord(t,r,n){if(rh(r),!t||gt(t,"ruleName")===!1){const o=new Error(`<SUBRULE${wT(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=ca(this.recordingProdStack),s=t.ruleName,a=new ur({idx:r,nonTerminalName:s,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?CU:hf}consumeInternalRecord(t,r,n){if(rh(r),!B_(t)){const a=new Error(`<CONSUME${wT(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=ca(this.recordingProdStack),s=new re({idx:r,terminalType:t,label:n==null?void 0:n.LABEL});return i.definition.push(s),uS}}function oo(e,t,r,n=!1){rh(r);const i=ca(this.recordingProdStack),s=_s(t)?t:t.DEF,a=new e({definition:[],idx:r});return n&&(a.separator=t.SEP),gt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),hf}function IU(e,t){rh(t);const r=ca(this.recordingProdStack),n=Zr(e)===!1,i=n===!1?e:e.DEF,s=new _r({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});gt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const a=jE(i,o=>_s(o.GATE));return s.hasPredicates=a,r.definition.push(s),dt(i,o=>{const l=new wr({definition:[]});s.definition.push(l),gt(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:gt(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),hf}function wT(e){return e===0?"":`${e}`}function rh(e){if(e<0||e>bT){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${bT+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class kU{initPerformanceTracer(t){if(gt(t,"traceInitPerf")){const r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=ni.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);const{time:i,value:s}=I_(r),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,s}else return r()}}function PU(e,t){t.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(n,i);s&&(s.get||s.set)?Object.defineProperty(e.prototype,i,s):e.prototype[i]=r.prototype[i]})})}const nh=pm(Si,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(nh);const ni=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Js,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ih=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var hr;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(hr||(hr={}));function AT(e=void 0){return function(){return e}}class Bl{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{k_(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),dt(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=sU({rules:Me(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Kt(n)&&this.skipValidations===!1){const i=aU({rules:Me(this.gastProductionsCache),tokenTypes:Me(this.tokensMap),errMsgProvider:as,grammarName:r}),s=WF({lookaheadStrategy:this.lookaheadStrategy,rules:Me(this.gastProductionsCache),tokenTypes:Me(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Kt(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=B2(Me(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Me(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Me(this.gastProductionsCache))})),!Bl.DEFER_DEFINITION_ERRORS_HANDLING&&!Kt(this.definitionErrors))throw t=rt(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),gt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=gt(r,"skipValidations")?r.skipValidations:ni.skipValidations}}Bl.DEFER_DEFINITION_ERRORS_HANDLING=!1;PU(Bl,[hU,pU,SU,xU,NU,RU,LU,OU,MU,kU]);class DU extends Bl{constructor(t,r=ni){const n=Be(r);n.outputCst=!1,super(t,n)}}function Ta(e,t,r){return`${e.name}_${t}_${r}`}const xi=1,FU=2,hS=4,fS=5,Wl=7,UU=8,GU=9,$U=10,HU=11,dS=12;class ym{constructor(t){this.target=t}isEpsilon(){return!1}}class Tm extends ym{constructor(t,r){super(t),this.tokenType=r}}class pS extends ym{constructor(t){super(t)}isEpsilon(){return!0}}class Em extends ym{constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}}function zU(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};BU(t,e);const r=e.length;for(let n=0;n<r;n++){const i=e[n],s=Ls(t,i,i);s!==void 0&&t5(t,i,s)}return t}function BU(e,t){const r=t.length;for(let n=0;n<r;n++){const i=t[n],s=ke(e,i,void 0,{type:FU}),a=ke(e,i,void 0,{type:Wl});s.stop=a,e.ruleToStartState.set(i,s),e.ruleToStopState.set(i,a)}}function gS(e,t,r){return r instanceof re?bm(e,t,r.terminalType,r):r instanceof ur?JU(e,t,r):r instanceof _r?VU(e,t,r):r instanceof ze?jU(e,t,r):r instanceof le?WU(e,t,r):r instanceof Ar?YU(e,t,r):r instanceof zr?XU(e,t,r):r instanceof Br?qU(e,t,r):Ls(e,t,r)}function WU(e,t,r){const n=ke(e,t,r,{type:fS});Li(e,n);const i=Ma(e,t,n,r,Ls(e,t,r));return mS(e,t,r,i)}function YU(e,t,r){const n=ke(e,t,r,{type:fS});Li(e,n);const i=Ma(e,t,n,r,Ls(e,t,r)),s=bm(e,t,r.separator,r);return mS(e,t,r,i,s)}function XU(e,t,r){const n=ke(e,t,r,{type:hS});Li(e,n);const i=Ma(e,t,n,r,Ls(e,t,r));return vS(e,t,r,i)}function qU(e,t,r){const n=ke(e,t,r,{type:hS});Li(e,n);const i=Ma(e,t,n,r,Ls(e,t,r)),s=bm(e,t,r.separator,r);return vS(e,t,r,i,s)}function VU(e,t,r){const n=ke(e,t,r,{type:xi});Li(e,n);const i=rt(r.definition,a=>gS(e,t,a));return Ma(e,t,n,r,...i)}function jU(e,t,r){const n=ke(e,t,r,{type:xi});Li(e,n);const i=Ma(e,t,n,r,Ls(e,t,r));return KU(e,t,r,i)}function Ls(e,t,r){const n=Hr(rt(r.definition,i=>gS(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:QU(e,n)}function vS(e,t,r,n,i){const s=n.left,a=n.right,o=ke(e,t,r,{type:HU});Li(e,o);const l=ke(e,t,r,{type:dS});return s.loopback=o,l.loopback=o,e.decisionMap[Ta(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,ge(a,o),i===void 0?(ge(o,s),ge(o,l)):(ge(o,l),ge(o,i.left),ge(i.right,s)),{left:s,right:l}}function mS(e,t,r,n,i){const s=n.left,a=n.right,o=ke(e,t,r,{type:$U});Li(e,o);const l=ke(e,t,r,{type:dS}),c=ke(e,t,r,{type:GU});return o.loopback=c,l.loopback=c,ge(o,s),ge(o,l),ge(a,c),i!==void 0?(ge(c,l),ge(c,i.left),ge(i.right,s)):ge(c,o),e.decisionMap[Ta(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function KU(e,t,r,n){const i=n.left,s=n.right;return ge(i,s),e.decisionMap[Ta(t,"Option",r.idx)]=i,n}function Li(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Ma(e,t,r,n,...i){const s=ke(e,t,n,{type:UU,start:r});r.end=s;for(const o of i)o!==void 0?(ge(r,o.left),ge(o.right,s)):ge(r,s);const a={left:r,right:s};return e.decisionMap[Ta(t,ZU(n),n.idx)]=r,a}function ZU(e){if(e instanceof _r)return"Alternation";if(e instanceof ze)return"Option";if(e instanceof le)return"Repetition";if(e instanceof Ar)return"RepetitionWithSeparator";if(e instanceof zr)return"RepetitionMandatory";if(e instanceof Br)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function QU(e,t){const r=t.length;for(let s=0;s<r-1;s++){const a=t[s];let o;a.left.transitions.length===1&&(o=a.left.transitions[0]);const l=o instanceof Em,c=o,u=t[s+1].left;a.left.type===xi&&a.right.type===xi&&o!==void 0&&(l&&c.followState===a.right||o.target===a.right)?(l?c.followState=u:o.target=u,e5(e,a.right)):ge(a.right,u)}const n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function bm(e,t,r,n){const i=ke(e,t,n,{type:xi}),s=ke(e,t,n,{type:xi});return wm(i,new Tm(s,r)),{left:i,right:s}}function JU(e,t,r){const n=r.referencedRule,i=e.ruleToStartState.get(n),s=ke(e,t,r,{type:xi}),a=ke(e,t,r,{type:xi}),o=new Em(i,n,a);return wm(s,o),{left:s,right:a}}function t5(e,t,r){const n=e.ruleToStartState.get(t);ge(n,r.left);const i=e.ruleToStopState.get(t);return ge(r.right,i),{left:n,right:i}}function ge(e,t){const r=new pS(t);wm(e,r)}function ke(e,t,r,n){const i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function wm(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function e5(e,t){e.states.splice(e.states.indexOf(t),1)}const sh={};class Ug{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const r=yS(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return rt(this.configs,t=>t.alt)}get key(){let t="";for(const r in this.map)t+=r+":";return t}}function yS(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}function r5(e,t){const r={};return n=>{const i=n.toString();let s=r[i];return s!==void 0||(s={atnStartState:e,decision:t,states:{}},r[i]=s),s}}class TS{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="";const r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}}const _T=new TS;class n5 extends mm{constructor(t){var r;super(),this.logging=(r=t==null?void 0:t.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=zU(t.rules),this.dfas=i5(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:s}=t,a=this.dfas,o=this.logging,l=Ta(n,"Alternation",r),u=this.atn.decisionMap[l].decision,h=rt(vT({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>rt(d,f=>f[0]));if(ST(h,!1)&&!s){const d=or(h,(f,p,g)=>(dt(p,v=>{v&&(f[v.tokenTypeIdx]=g,dt(v.categoryMatches,m=>{f[m]=g}))}),f),{});return i?function(f){var p;const g=this.LA(1),v=d[g.tokenTypeIdx];if(f!==void 0&&v!==void 0){const m=(p=f[v])===null||p===void 0?void 0:p.GATE;if(m!==void 0&&m.call(this)===!1)return}return v}:function(){const f=this.LA(1);return d[f.tokenTypeIdx]}}else return i?function(d){const f=new TS,p=d===void 0?0:d.length;for(let v=0;v<p;v++){const m=d==null?void 0:d[v].GATE;f.set(v,m===void 0||m.call(this))}const g=Yd.call(this,a,u,f,o);return typeof g=="number"?g:void 0}:function(){const d=Yd.call(this,a,u,_T,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(t){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:s}=t,a=this.dfas,o=this.logging,l=Ta(n,i,r),u=this.atn.decisionMap[l].decision,h=rt(vT({maxLookahead:1,occurrence:r,prodType:i,rule:n}),d=>rt(d,f=>f[0]));if(ST(h)&&h[0][0]&&!s){const d=h[0],f=Kr(d);if(f.length===1&&Kt(f[0].categoryMatches)){const g=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{const p=or(f,(g,v)=>(v!==void 0&&(g[v.tokenTypeIdx]=!0,dt(v.categoryMatches,m=>{g[m]=!0})),g),{});return function(){const g=this.LA(1);return p[g.tokenTypeIdx]===!0}}}return function(){const d=Yd.call(this,a,u,_T,o);return typeof d=="object"?!1:d===0}}}function ST(e,t=!0){const r=new Set;for(const n of e){const i=new Set;for(const s of n){if(s===void 0){if(t)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function i5(e){const t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=r5(e.decisionStates[n],n);return r}function Yd(e,t,r,n){const i=e[t](r);let s=i.start;if(s===void 0){const o=g5(i.atnStartState);s=bS(i,ES(o)),i.start=s}return s5.apply(this,[i,s,r,n])}function s5(e,t,r,n){let i=t,s=1;const a=[];let o=this.LA(s++);for(;;){let l=h5(i,o);if(l===void 0&&(l=a5.apply(this,[e,i,o,s,r,n])),l===sh)return u5(a,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,a.push(o),o=this.LA(s++)}}function a5(e,t,r,n,i,s){const a=f5(t.configs,r,i);if(a.size===0)return xT(e,t,r,sh),sh;let o=ES(a);const l=p5(a,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(T5(a)){const c=jS(a.alts);o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c,o5.apply(this,[e,n,a.alts,s])}return o=xT(e,t,r,o),o}function o5(e,t,r,n){const i=[];for(let c=1;c<=t;c++)i.push(this.LA(c).tokenType);const s=e.atnStartState,a=s.rule,o=s.production,l=l5({topLevelRule:a,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function l5(e){const t=rt(e.prefixPath,i=>oa(i)).join(", "),r=e.production.idx===0?"":e.production.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${c5(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function c5(e){if(e instanceof ur)return"SUBRULE";if(e instanceof ze)return"OPTION";if(e instanceof _r)return"OR";if(e instanceof zr)return"AT_LEAST_ONE";if(e instanceof Br)return"AT_LEAST_ONE_SEP";if(e instanceof Ar)return"MANY_SEP";if(e instanceof le)return"MANY";if(e instanceof re)return"CONSUME";throw Error("non exhaustive match")}function u5(e,t,r){const n=Ir(t.configs.elements,s=>s.state.transitions),i=KS(n.filter(s=>s instanceof Tm).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function h5(e,t){return e.edges[t.tokenTypeIdx]}function f5(e,t,r){const n=new Ug,i=[];for(const a of e.elements){if(r.is(a.alt)===!1)continue;if(a.state.type===Wl){i.push(a);continue}const o=a.state.transitions.length;for(let l=0;l<o;l++){const c=a.state.transitions[l],u=d5(c,t);u!==void 0&&n.add({state:u,alt:a.alt,stack:a.stack})}}let s;if(i.length===0&&n.size===1&&(s=n),s===void 0){s=new Ug;for(const a of n.elements)ah(a,s)}if(i.length>0&&!m5(s))for(const a of i)s.add(a);return s}function d5(e,t){if(e instanceof Tm&&X_(t,e.tokenType))return e.target}function p5(e,t){let r;for(const n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function ES(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function xT(e,t,r,n){return n=bS(e,n),t.edges[r.tokenTypeIdx]=n,n}function bS(e,t){if(t===sh)return t;const r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function g5(e){const t=new Ug,r=e.transitions.length;for(let n=0;n<r;n++){const s={state:e.transitions[n].target,alt:n,stack:[]};ah(s,t)}return t}function ah(e,t){const r=e.state;if(r.type===Wl){if(e.stack.length>0){const i=[...e.stack],a={state:i.pop(),alt:e.alt,stack:i};ah(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);const n=r.transitions.length;for(let i=0;i<n;i++){const s=r.transitions[i],a=v5(e,s);a!==void 0&&ah(a,t)}}function v5(e,t){if(t instanceof pS)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Em){const r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function m5(e){for(const t of e.elements)if(t.state.type===Wl)return!0;return!1}function y5(e){for(const t of e.elements)if(t.state.type!==Wl)return!1;return!0}function T5(e){if(y5(e))return!0;const t=E5(e.elements);return b5(t)&&!w5(t)}function E5(e){const t=new Map;for(const r of e){const n=yS(r,!1);let i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function b5(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function w5(e){for(const t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var RT;(function(e){function t(r){return typeof r=="string"}e.is=t})(RT||(RT={}));var Gg;(function(e){function t(r){return typeof r=="string"}e.is=t})(Gg||(Gg={}));var NT;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(NT||(NT={}));var oh;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(oh||(oh={}));var zt;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=oh.MAX_VALUE),i===Number.MAX_VALUE&&(i=oh.MAX_VALUE),{line:n,character:i}}e.create=t;function r(n){let i=n;return G.objectLiteral(i)&&G.uinteger(i.line)&&G.uinteger(i.character)}e.is=r})(zt||(zt={}));var Pt;(function(e){function t(n,i,s,a){if(G.uinteger(n)&&G.uinteger(i)&&G.uinteger(s)&&G.uinteger(a))return{start:zt.create(n,i),end:zt.create(s,a)};if(zt.is(n)&&zt.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}e.create=t;function r(n){let i=n;return G.objectLiteral(i)&&zt.is(i.start)&&zt.is(i.end)}e.is=r})(Pt||(Pt={}));var lh;(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){let i=n;return G.objectLiteral(i)&&Pt.is(i.range)&&(G.string(i.uri)||G.undefined(i.uri))}e.is=r})(lh||(lh={}));var LT;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}e.create=t;function r(n){let i=n;return G.objectLiteral(i)&&Pt.is(i.targetRange)&&G.string(i.targetUri)&&Pt.is(i.targetSelectionRange)&&(Pt.is(i.originSelectionRange)||G.undefined(i.originSelectionRange))}e.is=r})(LT||(LT={}));var $g;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&G.numberRange(i.red,0,1)&&G.numberRange(i.green,0,1)&&G.numberRange(i.blue,0,1)&&G.numberRange(i.alpha,0,1)}e.is=r})($g||($g={}));var OT;(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&Pt.is(i.range)&&$g.is(i.color)}e.is=r})(OT||(OT={}));var CT;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&G.string(i.label)&&(G.undefined(i.textEdit)||ba.is(i))&&(G.undefined(i.additionalTextEdits)||G.typedArray(i.additionalTextEdits,ba.is))}e.is=r})(CT||(CT={}));var MT;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(MT||(MT={}));var IT;(function(e){function t(n,i,s,a,o,l){const c={startLine:n,endLine:i};return G.defined(s)&&(c.startCharacter=s),G.defined(a)&&(c.endCharacter=a),G.defined(o)&&(c.kind=o),G.defined(l)&&(c.collapsedText=l),c}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&G.uinteger(i.startLine)&&G.uinteger(i.startLine)&&(G.undefined(i.startCharacter)||G.uinteger(i.startCharacter))&&(G.undefined(i.endCharacter)||G.uinteger(i.endCharacter))&&(G.undefined(i.kind)||G.string(i.kind))}e.is=r})(IT||(IT={}));var Hg;(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){let i=n;return G.defined(i)&&lh.is(i.location)&&G.string(i.message)}e.is=r})(Hg||(Hg={}));var kT;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(kT||(kT={}));var PT;(function(e){e.Unnecessary=1,e.Deprecated=2})(PT||(PT={}));var DT;(function(e){function t(r){const n=r;return G.objectLiteral(n)&&G.string(n.href)}e.is=t})(DT||(DT={}));var ch;(function(e){function t(n,i,s,a,o,l){let c={range:n,message:i};return G.defined(s)&&(c.severity=s),G.defined(a)&&(c.code=a),G.defined(o)&&(c.source=o),G.defined(l)&&(c.relatedInformation=l),c}e.create=t;function r(n){var i;let s=n;return G.defined(s)&&Pt.is(s.range)&&G.string(s.message)&&(G.number(s.severity)||G.undefined(s.severity))&&(G.integer(s.code)||G.string(s.code)||G.undefined(s.code))&&(G.undefined(s.codeDescription)||G.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(G.string(s.source)||G.undefined(s.source))&&(G.undefined(s.relatedInformation)||G.typedArray(s.relatedInformation,Hg.is))}e.is=r})(ch||(ch={}));var Ea;(function(e){function t(n,i,...s){let a={title:n,command:i};return G.defined(s)&&s.length>0&&(a.arguments=s),a}e.create=t;function r(n){let i=n;return G.defined(i)&&G.string(i.title)&&G.string(i.command)}e.is=r})(Ea||(Ea={}));var ba;(function(e){function t(s,a){return{range:s,newText:a}}e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}e.insert=r;function n(s){return{range:s,newText:""}}e.del=n;function i(s){const a=s;return G.objectLiteral(a)&&G.string(a.newText)&&Pt.is(a.range)}e.is=i})(ba||(ba={}));var zg;(function(e){function t(n,i,s){const a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&G.string(i.label)&&(G.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(G.string(i.description)||i.description===void 0)}e.is=r})(zg||(zg={}));var wa;(function(e){function t(r){const n=r;return G.string(n)}e.is=t})(wa||(wa={}));var FT;(function(e){function t(s,a,o){return{range:s,newText:a,annotationId:o}}e.replace=t;function r(s,a,o){return{range:{start:s,end:s},newText:a,annotationId:o}}e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}e.del=n;function i(s){const a=s;return ba.is(a)&&(zg.is(a.annotationId)||wa.is(a.annotationId))}e.is=i})(FT||(FT={}));var Bg;(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){let i=n;return G.defined(i)&&Vg.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(Bg||(Bg={}));var Wg;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&G.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||G.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||G.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||wa.is(i.annotationId))}e.is=r})(Wg||(Wg={}));var Yg;(function(e){function t(n,i,s,a){let o={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),a!==void 0&&(o.annotationId=a),o}e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&G.string(i.oldUri)&&G.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||G.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||G.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||wa.is(i.annotationId))}e.is=r})(Yg||(Yg={}));var Xg;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&G.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||G.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||G.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||wa.is(i.annotationId))}e.is=r})(Xg||(Xg={}));var qg;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>G.string(i.kind)?Wg.is(i)||Yg.is(i)||Xg.is(i):Bg.is(i)))}e.is=t})(qg||(qg={}));var UT;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)}e.is=r})(UT||(UT={}));var GT;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&G.integer(i.version)}e.is=r})(GT||(GT={}));var Vg;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&(i.version===null||G.integer(i.version))}e.is=r})(Vg||(Vg={}));var $T;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}e.create=t;function r(n){let i=n;return G.defined(i)&&G.string(i.uri)&&G.string(i.languageId)&&G.integer(i.version)&&G.string(i.text)}e.is=r})($T||($T={}));var jg;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){const n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(jg||(jg={}));var xl;(function(e){function t(r){const n=r;return G.objectLiteral(r)&&jg.is(n.kind)&&G.string(n.value)}e.is=t})(xl||(xl={}));var HT;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(HT||(HT={}));var zT;(function(e){e.PlainText=1,e.Snippet=2})(zT||(zT={}));var BT;(function(e){e.Deprecated=1})(BT||(BT={}));var WT;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}e.create=t;function r(n){const i=n;return i&&G.string(i.newText)&&Pt.is(i.insert)&&Pt.is(i.replace)}e.is=r})(WT||(WT={}));var YT;(function(e){e.asIs=1,e.adjustIndentation=2})(YT||(YT={}));var XT;(function(e){function t(r){const n=r;return n&&(G.string(n.detail)||n.detail===void 0)&&(G.string(n.description)||n.description===void 0)}e.is=t})(XT||(XT={}));var qT;(function(e){function t(r){return{label:r}}e.create=t})(qT||(qT={}));var VT;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(VT||(VT={}));var uh;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){const i=n;return G.string(i)||G.objectLiteral(i)&&G.string(i.language)&&G.string(i.value)}e.is=r})(uh||(uh={}));var jT;(function(e){function t(r){let n=r;return!!n&&G.objectLiteral(n)&&(xl.is(n.contents)||uh.is(n.contents)||G.typedArray(n.contents,uh.is))&&(r.range===void 0||Pt.is(r.range))}e.is=t})(jT||(jT={}));var KT;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(KT||(KT={}));var ZT;(function(e){function t(r,n,...i){let s={label:r};return G.defined(n)&&(s.documentation=n),G.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(ZT||(ZT={}));var QT;(function(e){e.Text=1,e.Read=2,e.Write=3})(QT||(QT={}));var JT;(function(e){function t(r,n){let i={range:r};return G.number(n)&&(i.kind=n),i}e.create=t})(JT||(JT={}));var tE;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(tE||(tE={}));var eE;(function(e){e.Deprecated=1})(eE||(eE={}));var rE;(function(e){function t(r,n,i,s,a){let o={name:r,kind:n,location:{uri:s,range:i}};return a&&(o.containerName=a),o}e.create=t})(rE||(rE={}));var nE;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}e.create=t})(nE||(nE={}));var iE;(function(e){function t(n,i,s,a,o,l){let c={name:n,detail:i,kind:s,range:a,selectionRange:o};return l!==void 0&&(c.children=l),c}e.create=t;function r(n){let i=n;return i&&G.string(i.name)&&G.number(i.kind)&&Pt.is(i.range)&&Pt.is(i.selectionRange)&&(i.detail===void 0||G.string(i.detail))&&(i.deprecated===void 0||G.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=r})(iE||(iE={}));var sE;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(sE||(sE={}));var hh;(function(e){e.Invoked=1,e.Automatic=2})(hh||(hh={}));var aE;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}e.create=t;function r(n){let i=n;return G.defined(i)&&G.typedArray(i.diagnostics,ch.is)&&(i.only===void 0||G.typedArray(i.only,G.string))&&(i.triggerKind===void 0||i.triggerKind===hh.Invoked||i.triggerKind===hh.Automatic)}e.is=r})(aE||(aE={}));var oE;(function(e){function t(n,i,s){let a={title:n},o=!0;return typeof i=="string"?(o=!1,a.kind=i):Ea.is(i)?a.command=i:a.edit=i,o&&s!==void 0&&(a.kind=s),a}e.create=t;function r(n){let i=n;return i&&G.string(i.title)&&(i.diagnostics===void 0||G.typedArray(i.diagnostics,ch.is))&&(i.kind===void 0||G.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ea.is(i.command))&&(i.isPreferred===void 0||G.boolean(i.isPreferred))&&(i.edit===void 0||qg.is(i.edit))}e.is=r})(oE||(oE={}));var lE;(function(e){function t(n,i){let s={range:n};return G.defined(i)&&(s.data=i),s}e.create=t;function r(n){let i=n;return G.defined(i)&&Pt.is(i.range)&&(G.undefined(i.command)||Ea.is(i.command))}e.is=r})(lE||(lE={}));var cE;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){let i=n;return G.defined(i)&&G.uinteger(i.tabSize)&&G.boolean(i.insertSpaces)}e.is=r})(cE||(cE={}));var uE;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}e.create=t;function r(n){let i=n;return G.defined(i)&&Pt.is(i.range)&&(G.undefined(i.target)||G.string(i.target))}e.is=r})(uE||(uE={}));var hE;(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){let i=n;return G.objectLiteral(i)&&Pt.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(hE||(hE={}));var fE;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(fE||(fE={}));var dE;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(dE||(dE={}));var pE;(function(e){function t(r){const n=r;return G.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(pE||(pE={}));var gE;(function(e){function t(n,i){return{range:n,text:i}}e.create=t;function r(n){const i=n;return i!=null&&Pt.is(i.range)&&G.string(i.text)}e.is=r})(gE||(gE={}));var vE;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}e.create=t;function r(n){const i=n;return i!=null&&Pt.is(i.range)&&G.boolean(i.caseSensitiveLookup)&&(G.string(i.variableName)||i.variableName===void 0)}e.is=r})(vE||(vE={}));var mE;(function(e){function t(n,i){return{range:n,expression:i}}e.create=t;function r(n){const i=n;return i!=null&&Pt.is(i.range)&&(G.string(i.expression)||i.expression===void 0)}e.is=r})(mE||(mE={}));var yE;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}e.create=t;function r(n){const i=n;return G.defined(i)&&Pt.is(n.stoppedLocation)}e.is=r})(yE||(yE={}));var Kg;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(Kg||(Kg={}));var Zg;(function(e){function t(n){return{value:n}}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&(i.tooltip===void 0||G.string(i.tooltip)||xl.is(i.tooltip))&&(i.location===void 0||lh.is(i.location))&&(i.command===void 0||Ea.is(i.command))}e.is=r})(Zg||(Zg={}));var TE;(function(e){function t(n,i,s){const a={position:n,label:i};return s!==void 0&&(a.kind=s),a}e.create=t;function r(n){const i=n;return G.objectLiteral(i)&&zt.is(i.position)&&(G.string(i.label)||G.typedArray(i.label,Zg.is))&&(i.kind===void 0||Kg.is(i.kind))&&i.textEdits===void 0||G.typedArray(i.textEdits,ba.is)&&(i.tooltip===void 0||G.string(i.tooltip)||xl.is(i.tooltip))&&(i.paddingLeft===void 0||G.boolean(i.paddingLeft))&&(i.paddingRight===void 0||G.boolean(i.paddingRight))}e.is=r})(TE||(TE={}));var EE;(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(EE||(EE={}));var bE;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}e.create=t})(bE||(bE={}));var wE;(function(e){function t(r){return{items:r}}e.create=t})(wE||(wE={}));var AE;(function(e){e.Invoked=0,e.Automatic=1})(AE||(AE={}));var _E;(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(_E||(_E={}));var SE;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(SE||(SE={}));var xE;(function(e){function t(r){const n=r;return G.objectLiteral(n)&&Gg.is(n.uri)&&G.string(n.name)}e.is=t})(xE||(xE={}));var RE;(function(e){function t(s,a,o,l){return new A5(s,a,o,l)}e.create=t;function r(s){let a=s;return!!(G.defined(a)&&G.string(a.uri)&&(G.undefined(a.languageId)||G.string(a.languageId))&&G.uinteger(a.lineCount)&&G.func(a.getText)&&G.func(a.positionAt)&&G.func(a.offsetAt))}e.is=r;function n(s,a){let o=s.getText(),l=i(a,(u,h)=>{let d=u.range.start.line-h.range.start.line;return d===0?u.range.start.character-h.range.start.character:d}),c=o.length;for(let u=l.length-1;u>=0;u--){let h=l[u],d=s.offsetAt(h.range.start),f=s.offsetAt(h.range.end);if(f<=c)o=o.substring(0,d)+h.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");c=d}return o}e.applyEdits=n;function i(s,a){if(s.length<=1)return s;const o=s.length/2|0,l=s.slice(0,o),c=s.slice(o);i(l,a),i(c,a);let u=0,h=0,d=0;for(;u<l.length&&h<c.length;)a(l[u],c[h])<=0?s[d++]=l[u++]:s[d++]=c[h++];for(;u<l.length;)s[d++]=l[u++];for(;h<c.length;)s[d++]=c[h++];return s}})(RE||(RE={}));let A5=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return zt.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return zt.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var G;(function(e){const t=Object.prototype.toString;function r(f){return typeof f<"u"}e.defined=r;function n(f){return typeof f>"u"}e.undefined=n;function i(f){return f===!0||f===!1}e.boolean=i;function s(f){return t.call(f)==="[object String]"}e.string=s;function a(f){return t.call(f)==="[object Number]"}e.number=a;function o(f,p,g){return t.call(f)==="[object Number]"&&p<=f&&f<=g}e.numberRange=o;function l(f){return t.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}e.integer=l;function c(f){return t.call(f)==="[object Number]"&&0<=f&&f<=2147483647}e.uinteger=c;function u(f){return t.call(f)==="[object Function]"}e.func=u;function h(f){return f!==null&&typeof f=="object"}e.objectLiteral=h;function d(f,p){return Array.isArray(f)&&f.every(p)}e.typedArray=d})(G||(G={}));class _5{constructor(){this.nodeStack=[]}get current(){var t;return(t=this.nodeStack[this.nodeStack.length-1])!==null&&t!==void 0?t:this.rootNode}buildRootNode(t){return this.rootNode=new AS(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){const r=new Am;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){const n=new Qg(t.startOffset,t.image.length,Sg(t),t.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){const r=t.container;if(r){const n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}addHiddenNodes(t){const r=[];for(const s of t){const a=new Qg(s.startOffset,s.image.length,Sg(s),s.tokenType,!0);a.root=this.rootNode,r.push(a)}let n=this.current,i=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){const s=n.container.content.indexOf(n);if(s>0){n.container.content.splice(s,0,...r),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...r)}construct(t){const r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}}class wS{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;const n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Qg extends wS{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,i,s=!1){super(),this._hidden=s,this._offset=t,this._tokenType=i,this._length=r,this._range=n}}class Am extends wS{constructor(){super(...arguments),this.content=new _m(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){const t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){const{range:n}=t,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:zt.create(0,0),end:zt.create(0,0)}}get firstNonHiddenNode(){for(const t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){const r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}}class _m extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,_m.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(const r of t)r.container=this.parent}}class AS extends Am{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}const Jg=Symbol("Datatype");function Xd(e){return e.$type===Jg}const NE="",_S=e=>e.endsWith(NE)?e:e+NE;class SS{constructor(t){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=t.parser.Lexer;const r=this.lexer.definition,n=t.LanguageMetaData.mode==="production";this.wrapper=new L5(r,Object.assign(Object.assign({},t.parser.ParserConfig),{skipValidations:n,errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}getRule(t){return this.allRules.get(t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class S5 extends SS{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new _5,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){const n=this.computeRuleType(t),i=this.wrapper.DEFINE_RULE(_S(t.name),this.startImplementation(n,r).bind(this));return this.allRules.set(t.name,i),t.entry&&(this.mainRule=i),i}computeRuleType(t){if(!t.fragment){if(O_(t))return Jg;{const r=cm(t);return r??t.name}}}parse(t,r={}){this.nodeBuilder.buildRootNode(t);const n=this.lexerResult=this.lexer.tokenize(t);this.wrapper.input=n.tokens;const i=r.rule?this.allRules.get(r.rule):this.mainRule;if(!i)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");const s=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:s,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{const i=!this.isRecording()&&t!==void 0;if(i){const a={$type:t};this.stack.push(a),t===Jg&&(a.value="")}let s;try{s=r(n)}catch{s=void 0}return s===void 0&&i&&(s=this.construct()),s}}extractHiddenTokens(t){const r=this.lexerResult.hidden;if(!r.length)return[];const n=t.startOffset;for(let i=0;i<r.length;i++)if(r[i].startOffset>n)return r.splice(0,i);return r.splice(0,r.length)}consume(t,r,n){const i=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:o,isCrossRef:l}=this.getAssignment(n),c=this.current;if(o){const u=Ts(n)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,u,a,l)}else if(Xd(c)){let u=i.image;Ts(n)||(u=this.converter.convert(u,a).toString()),c.value+=u}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,i,s){let a;!this.isRecording()&&!n&&(a=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(t,r,s);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(t,r,n){const{assignment:i,isCrossRef:s}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,t,n,s);else if(!i){const a=this.current;if(Xd(a))a.value+=t.toString();else if(typeof t=="object"&&t){const l=this.assignWithoutOverride(t,a);this.stack.pop(),this.stack.push(l)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);const s={$type:t};this.stack.push(s),this.assign(r.operator,r.feature,n,n.$cstNode,!1)}else n.$type=t}}construct(){if(this.isRecording())return;const t=this.current;return s2(t),this.nodeBuilder.construct(t),this.stack.pop(),Xd(t)?this.converter.convert(t.value,t.$cstNode):(a2(this.astReflection,t),t)}getAssignment(t){if(!this.assignmentMap.has(t)){const r=ef(t,ys);this.assignmentMap.set(t,{assignment:r,isCrossRef:r?sm(r.terminal):!1})}return this.assignmentMap.get(t)}assign(t,r,n,i,s){const a=this.current;let o;switch(s&&typeof n=="string"?o=this.linker.buildReference(a,r,i,n):o=n,t){case"=":{a[r]=o;break}case"?=":{a[r]=!0;break}case"+=":Array.isArray(a[r])||(a[r]=[]),a[r].push(o)}}assignWithoutOverride(t,r){for(const[i,s]of Object.entries(r)){const a=t[i];a===void 0?t[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),t[i]=s)}const n=t.$cstNode;return n&&(n.astNode=void 0,t.$cstNode=void 0),t}get definitionErrors(){return this.wrapper.definitionErrors}}class x5{buildMismatchTokenMessage(t){return Js.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return Js.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return Js.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return Js.buildEarlyExitMessage(t)}}class xS extends x5{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}}class R5 extends SS{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();const r=this.lexer.tokenize(t,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){const n=this.wrapper.DEFINE_RULE(_S(t.name),this.startImplementation(r).bind(this));return this.allRules.set(t.name,n),t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{const n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,i,s){this.before(i),this.wrapper.wrapSubrule(t,r,s),this.after(i)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const N5={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new xS};class L5 extends DU{constructor(t,r){const n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},N5),{lookaheadStrategy:n?new mm({maxLookahead:r.maxLookahead}):new n5({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}}function RS(e,t,r){return O5({parser:t,tokens:r,ruleNames:new Map},e),t}function O5(e,t){const r=S_(t,!1),n=He(t.rules).filter(en).filter(i=>r.has(i));for(const i of n){const s=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(i,ws(s,i.definition))}}function ws(e,t,r=!1){let n;if(Ts(t))n=F5(e,t);else if(tf(t))n=C5(e,t);else if(ys(t))n=ws(e,t.terminal);else if(sm(t))n=NS(e,t);else if(Es(t))n=M5(e,t);else if(T_(t))n=k5(e,t);else if(E_(t))n=P5(e,t);else if(am(t))n=D5(e,t);else if(ZD(t)){const i=e.consume++;n=()=>e.parser.consume(i,Si,t)}else throw new g_(t.$cstNode,`Unexpected element type: ${t.$type}`);return LS(e,r?void 0:fh(t),n,t.cardinality)}function C5(e,t){const r=um(t);return()=>e.parser.action(r,t)}function M5(e,t){const r=t.rule.ref;if(en(r)){const n=e.subrule++,i=r.fragment,s=t.arguments.length>0?I5(r,t.arguments):()=>({});return a=>e.parser.subrule(n,OS(e,r),i,t,s(a))}else if(Ns(r)){const n=e.consume++,i=tv(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)Ul();else throw new g_(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function I5(e,t){const r=t.map(n=>Kn(n.value));return n=>{const i={};for(let s=0;s<r.length;s++){const a=e.parameters[s],o=r[s];i[a.name]=o(n)}return i}}function Kn(e){if(YD(e)){const t=Kn(e.left),r=Kn(e.right);return n=>t(n)||r(n)}else if(WD(e)){const t=Kn(e.left),r=Kn(e.right);return n=>t(n)&&r(n)}else if(XD(e)){const t=Kn(e.value);return r=>!t(r)}else if(qD(e)){const t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(BD(e)){const t=!!e.true;return()=>t}Ul()}function k5(e,t){if(t.elements.length===1)return ws(e,t.elements[0]);{const r=[];for(const i of t.elements){const s={ALT:ws(e,i,!0)},a=fh(i);a&&(s.GATE=Kn(a)),r.push(s)}const n=e.or++;return i=>e.parser.alternatives(n,r.map(s=>{const a={ALT:()=>s.ALT(i)},o=s.GATE;return o&&(a.GATE=()=>o(i)),a}))}}function P5(e,t){if(t.elements.length===1)return ws(e,t.elements[0]);const r=[];for(const o of t.elements){const l={ALT:ws(e,o,!0)},c=fh(o);c&&(l.GATE=Kn(c)),r.push(l)}const n=e.or++,i=(o,l)=>{const c=l.getRuleStack().join("-");return`uGroup_${o}_${c}`},s=o=>e.parser.alternatives(n,r.map((l,c)=>{const u={ALT:()=>!0},h=e.parser;u.ALT=()=>{if(l.ALT(o),!h.isRecording()){const f=i(n,h);h.unorderedGroups.get(f)||h.unorderedGroups.set(f,[]);const p=h.unorderedGroups.get(f);typeof(p==null?void 0:p[c])>"u"&&(p[c]=!0)}};const d=l.GATE;return d?u.GATE=()=>d(o):u.GATE=()=>{const f=h.unorderedGroups.get(i(n,h));return!(f!=null&&f[c])},u})),a=LS(e,fh(t),s,"*");return o=>{a(o),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function D5(e,t){const r=t.elements.map(n=>ws(e,n));return n=>r.forEach(i=>i(n))}function fh(e){if(am(e))return e.guardCondition}function NS(e,t,r=t.terminal){if(r)if(Es(r)&&en(r.rule.ref)){const n=r.rule.ref,i=e.subrule++;return s=>e.parser.subrule(i,OS(e,n),!1,t,s)}else if(Es(r)&&Ns(r.rule.ref)){const n=e.consume++,i=tv(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(Ts(r)){const n=e.consume++,i=tv(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=N_(t.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+um(t.type.ref));return NS(e,t,i)}}function F5(e,t){const r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function LS(e,t,r,n){const i=t&&Kn(t);if(!n)if(i){const s=e.or++;return a=>e.parser.alternatives(s,[{ALT:()=>r(a),GATE:()=>i(a)},{ALT:AT(),GATE:()=>!i(a)}])}else return r;if(n==="*"){const s=e.many++;return a=>e.parser.many(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else if(n==="+"){const s=e.many++;if(i){const a=e.or++;return o=>e.parser.alternatives(a,[{ALT:()=>e.parser.atLeastOne(s,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:AT(),GATE:()=>!i(o)}])}else return a=>e.parser.atLeastOne(s,{DEF:()=>r(a)})}else if(n==="?"){const s=e.optional++;return a=>e.parser.optional(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else Ul()}function OS(e,t){const r=U5(e,t),n=e.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function U5(e,t){if(en(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!en(n);)(am(n)||T_(n)||E_(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function tv(e,t){const r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function G5(e){const t=e.Grammar,r=e.parser.Lexer,n=new R5(e);return RS(t,n,r.definition),n.finalize(),n}function $5(e){const t=H5(e);return t.finalize(),t}function H5(e){const t=e.Grammar,r=e.parser.Lexer,n=new S5(e);return RS(t,n,r.definition)}class z5{constructor(){this.diagnostics=[]}buildTokens(t,r){const n=He(S_(t,!1)),i=this.buildTerminalTokens(n),s=this.buildKeywordTokens(n,i,r);return i.forEach(a=>{const o=a.PATTERN;typeof o=="object"&&o&&"test"in o&&Rg(o)?s.unshift(a):s.push(a)}),s}flushLexingReport(t){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const t=[...this.diagnostics];return this.diagnostics=[],t}buildTerminalTokens(t){return t.filter(Ns).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){const r=hm(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:t.name,PATTERN:n};return typeof n=="function"&&(i.LINE_BREAKS=!0),t.hidden&&(i.GROUP=Rg(r)?br.SKIPPED:"hidden"),i}requiresCustomPattern(t){return t.flags.includes("u")||t.flags.includes("s")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){const r=new RegExp(t,t.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(en).flatMap(i=>Gl(i).filter(Ts)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(t,r,n){const i=this.buildKeywordPattern(t,n),s={name:t.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(t,r)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(t,r){return r?new RegExp(g2(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,i)=>{const s=i==null?void 0:i.PATTERN;return s!=null&&s.source&&v2("^"+s.source+"$",t.value)&&n.push(i),n},[])}}class B5{convert(t,r){let n=r.grammarSource;if(sm(n)&&(n=E2(n)),Es(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,t,r)}return t}runConverter(t,r,n){var i;switch(t.name.toUpperCase()){case"INT":return qn.convertInt(r);case"STRING":return qn.convertString(r);case"ID":return qn.convertID(r)}switch((i=R2(t))===null||i===void 0?void 0:i.toLowerCase()){case"number":return qn.convertNumber(r);case"boolean":return qn.convertBoolean(r);case"bigint":return qn.convertBigint(r);case"date":return qn.convertDate(r);default:return r}}}var qn;(function(e){function t(c){let u="";for(let h=1;h<c.length-1;h++){const d=c.charAt(h);if(d==="\\"){const f=c.charAt(++h);u+=r(f)}else u+=d}return u}e.convertString=t;function r(c){switch(c){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return c}}function n(c){return c.charAt(0)==="^"?c.substring(1):c}e.convertID=n;function i(c){return parseInt(c)}e.convertInt=i;function s(c){return BigInt(c)}e.convertBigint=s;function a(c){return new Date(c)}e.convertDate=a;function o(c){return Number(c)}e.convertNumber=o;function l(c){return c.toLowerCase()==="true"}e.convertBoolean=l})(qn||(qn={}));var qi={},Uc={},LE;function CS(){if(LE)return Uc;LE=1,Object.defineProperty(Uc,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return function(r){function n(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}r.install=n}(t||(t={})),Uc.default=t,Uc}var Fe={},OE;function W5(){if(OE)return Fe;OE=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.stringArray=Fe.array=Fe.func=Fe.error=Fe.number=Fe.string=Fe.boolean=void 0;function e(o){return o===!0||o===!1}Fe.boolean=e;function t(o){return typeof o=="string"||o instanceof String}Fe.string=t;function r(o){return typeof o=="number"||o instanceof Number}Fe.number=r;function n(o){return o instanceof Error}Fe.error=n;function i(o){return typeof o=="function"}Fe.func=i;function s(o){return Array.isArray(o)}Fe.array=s;function a(o){return s(o)&&o.every(l=>t(l))}return Fe.stringArray=a,Fe}var Vi={},CE;function MS(){if(CE)return Vi;CE=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Emitter=Vi.Event=void 0;const e=CS();var t;(function(i){const s={dispose(){}};i.None=function(){return s}})(t||(Vi.Event=t={}));class r{add(s,a=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(a),Array.isArray(o)&&o.push({dispose:()=>this.remove(s,a)})}remove(s,a=null){if(!this._callbacks)return;let o=!1;for(let l=0,c=this._callbacks.length;l<c;l++)if(this._callbacks[l]===s)if(this._contexts[l]===a){this._callbacks.splice(l,1),this._contexts.splice(l,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const a=[],o=this._callbacks.slice(0),l=this._contexts.slice(0);for(let c=0,u=o.length;c<u;c++)try{a.push(o[c].apply(l[c],s))}catch(h){(0,e.default)().console.error(h)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class n{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,a,o)=>{this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,a);const l={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,a),l.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(l),l}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Vi.Emitter=n,n._noop=function(){},Vi}var ME;function Y5(){if(ME)return qi;ME=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.CancellationTokenSource=qi.CancellationToken=void 0;const e=CS(),t=W5(),r=MS();var n;(function(o){o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function l(c){const u=c;return u&&(u===o.None||u===o.Cancelled||t.boolean(u.isCancellationRequested)&&!!u.onCancellationRequested)}o.is=l})(n||(qi.CancellationToken=n={}));const i=Object.freeze(function(o,l){const c=(0,e.default)().timer.setTimeout(o.bind(l),0);return{dispose(){c.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class a{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=n.None}}return qi.CancellationTokenSource=a,qi}var ae=Y5();function X5(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}let du=0,q5=10;function V5(){return du=performance.now(),new ae.CancellationTokenSource}const dh=Symbol("OperationCancelled");function ff(e){return e===dh}async function Cr(e){if(e===ae.CancellationToken.None)return;const t=performance.now();if(t-du>=q5&&(du=t,await X5(),du=performance.now()),e.isCancellationRequested)throw dh}class Sm{constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}}class Rl{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(const n of t)if(Rl.isIncremental(n)){const i=kS(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let c=this._lineOffsets;const u=IE(n.text,!1,s);if(l-o===u.length)for(let d=0,f=u.length;d<f;d++)c[d+o+1]=u[d];else u.length<1e4?c.splice(o+1,l-o,...u):this._lineOffsets=c=c.slice(0,o+1).concat(u,c.slice(l+1));const h=n.text.length-(a-s);if(h!==0)for(let d=o+1+u.length,f=c.length;d<f;d++)c[d]=c[d]+h}else if(Rl.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=IE(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){const a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}const s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){const r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;const n=r[t.line];if(t.character<=0)return n;const i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&IS(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var ev;(function(e){function t(i,s,a,o){return new Rl(i,s,a,o)}e.create=t;function r(i,s,a){if(i instanceof Rl)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(i,s){const a=i.getText(),o=rv(s.map(j5),(u,h)=>{const d=u.range.start.line-h.range.start.line;return d===0?u.range.start.character-h.range.start.character:d});let l=0;const c=[];for(const u of o){const h=i.offsetAt(u.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&c.push(a.substring(l,h)),u.newText.length&&c.push(u.newText),l=i.offsetAt(u.range.end)}return c.push(a.substr(l)),c.join("")}e.applyEdits=n})(ev||(ev={}));function rv(e,t){if(e.length<=1)return e;const r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);rv(n,t),rv(i,t);let s=0,a=0,o=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[o++]=n[s++]:e[o++]=i[a++];for(;s<n.length;)e[o++]=n[s++];for(;a<i.length;)e[o++]=i[a++];return e}function IE(e,t,r=0){const n=t?[r]:[];for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);IS(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function IS(e){return e===13||e===10}function kS(e){const t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function j5(e){const t=kS(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var PS;(()=>{var e={470:i=>{function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,c){for(var u,h="",d=0,f=-1,p=0,g=0;g<=l.length;++g){if(g<l.length)u=l.charCodeAt(g);else{if(u===47)break;u=47}if(u===47){if(!(f===g-1||p===1))if(f!==g-1&&p===2){if(h.length<2||d!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var v=h.lastIndexOf("/");if(v!==h.length-1){v===-1?(h="",d=0):d=(h=h.slice(0,v)).length-1-h.lastIndexOf("/"),f=g,p=0;continue}}else if(h.length===2||h.length===1){h="",d=0,f=g,p=0;continue}}c&&(h.length>0?h+="/..":h="..",d=2)}else h.length>0?h+="/"+l.slice(f+1,g):h=l.slice(f+1,g),d=g-f-1;f=g,p=0}else u===46&&p!==-1?++p:p=-1}return h}var o={resolve:function(){for(var l,c="",u=!1,h=arguments.length-1;h>=-1&&!u;h--){var d;h>=0?d=arguments[h]:(l===void 0&&(l=process.cwd()),d=l),s(d),d.length!==0&&(c=d+"/"+c,u=d.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(l){if(s(l),l.length===0)return".";var c=l.charCodeAt(0)===47,u=l.charCodeAt(l.length-1)===47;return(l=a(l,!c)).length!==0||c||(l="."),l.length>0&&u&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return s(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var u=arguments[c];s(u),u.length>0&&(l===void 0?l=u:l+="/"+u)}return l===void 0?".":o.normalize(l)},relative:function(l,c){if(s(l),s(c),l===c||(l=o.resolve(l))===(c=o.resolve(c)))return"";for(var u=1;u<l.length&&l.charCodeAt(u)===47;++u);for(var h=l.length,d=h-u,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,g=d<p?d:p,v=-1,m=0;m<=g;++m){if(m===g){if(p>g){if(c.charCodeAt(f+m)===47)return c.slice(f+m+1);if(m===0)return c.slice(f+m)}else d>g&&(l.charCodeAt(u+m)===47?v=m:m===0&&(v=0));break}var y=l.charCodeAt(u+m);if(y!==c.charCodeAt(f+m))break;y===47&&(v=m)}var T="";for(m=u+v+1;m<=h;++m)m!==h&&l.charCodeAt(m)!==47||(T.length===0?T+="..":T+="/..");return T.length>0?T+c.slice(f+v):(f+=v,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(l){return l},dirname:function(l){if(s(l),l.length===0)return".";for(var c=l.charCodeAt(0),u=c===47,h=-1,d=!0,f=l.length-1;f>=1;--f)if((c=l.charCodeAt(f))===47){if(!d){h=f;break}}else d=!1;return h===-1?u?"/":".":u&&h===1?"//":l.slice(0,h)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');s(l);var u,h=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var p=c.length-1,g=-1;for(u=l.length-1;u>=0;--u){var v=l.charCodeAt(u);if(v===47){if(!f){h=u+1;break}}else g===-1&&(f=!1,g=u+1),p>=0&&(v===c.charCodeAt(p)?--p==-1&&(d=u):(p=-1,d=g))}return h===d?d=g:d===-1&&(d=l.length),l.slice(h,d)}for(u=l.length-1;u>=0;--u)if(l.charCodeAt(u)===47){if(!f){h=u+1;break}}else d===-1&&(f=!1,d=u+1);return d===-1?"":l.slice(h,d)},extname:function(l){s(l);for(var c=-1,u=0,h=-1,d=!0,f=0,p=l.length-1;p>=0;--p){var g=l.charCodeAt(p);if(g!==47)h===-1&&(d=!1,h=p+1),g===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){u=p+1;break}}return c===-1||h===-1||f===0||f===1&&c===h-1&&c===u+1?"":l.slice(c,h)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(c,u){var h=u.dir||u.root,d=u.base||(u.name||"")+(u.ext||"");return h?h===u.root?h+d:h+"/"+d:d}(0,l)},parse:function(l){s(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var u,h=l.charCodeAt(0),d=h===47;d?(c.root="/",u=1):u=0;for(var f=-1,p=0,g=-1,v=!0,m=l.length-1,y=0;m>=u;--m)if((h=l.charCodeAt(m))!==47)g===-1&&(v=!1,g=m+1),h===46?f===-1?f=m:y!==1&&(y=1):f!==-1&&(y=-1);else if(!v){p=m+1;break}return f===-1||g===-1||y===0||y===1&&f===g-1&&f===p+1?g!==-1&&(c.base=c.name=p===0&&d?l.slice(1,g):l.slice(p,g)):(p===0&&d?(c.name=l.slice(1,f),c.base=l.slice(1,g)):(c.name=l.slice(p,f),c.base=l.slice(p,g)),c.ext=l.slice(f,g)),p>0?c.dir=l.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},t={};function r(i){var s=t[i];if(s!==void 0)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,r),a.exports}r.d=(i,s)=>{for(var a in s)r.o(s,a)&&!r.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>d,Utils:()=>I}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function l(C,M){if(!C.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!s.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!a.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const c="",u="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(M,k,E,O,_,x=!1){bt(this,"scheme");bt(this,"authority");bt(this,"path");bt(this,"query");bt(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||c,this.authority=M.authority||c,this.path=M.path||c,this.query=M.query||c,this.fragment=M.fragment||c):(this.scheme=function(L,D){return L||D?L:"file"}(M,x),this.authority=k||c,this.path=function(L,D){switch(L){case"https":case"http":case"file":D?D[0]!==u&&(D=u+D):D=u}return D}(this.scheme,E||c),this.query=O||c,this.fragment=_||c,l(this,x))}static isUri(M){return M instanceof d||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return y(this)}with(M){if(!M)return this;let{scheme:k,authority:E,path:O,query:_,fragment:x}=M;return k===void 0?k=this.scheme:k===null&&(k=c),E===void 0?E=this.authority:E===null&&(E=c),O===void 0?O=this.path:O===null&&(O=c),_===void 0?_=this.query:_===null&&(_=c),x===void 0?x=this.fragment:x===null&&(x=c),k===this.scheme&&E===this.authority&&O===this.path&&_===this.query&&x===this.fragment?this:new p(k,E,O,_,x)}static parse(M,k=!1){const E=h.exec(M);return E?new p(E[2]||c,R(E[4]||c),R(E[5]||c),R(E[7]||c),R(E[9]||c),k):new p(c,c,c,c,c)}static file(M){let k=c;if(i&&(M=M.replace(/\\/g,u)),M[0]===u&&M[1]===u){const E=M.indexOf(u,2);E===-1?(k=M.substring(2),M=u):(k=M.substring(2,E),M=M.substring(E)||u)}return new p("file",k,M,c,c)}static from(M){const k=new p(M.scheme,M.authority,M.path,M.query,M.fragment);return l(k,!0),k}toString(M=!1){return T(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof d)return M;{const k=new p(M);return k._formatted=M.external,k._fsPath=M._sep===f?M.fsPath:null,k}}return M}}const f=i?1:void 0;class p extends d{constructor(){super(...arguments);bt(this,"_formatted",null);bt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=y(this)),this._fsPath}toString(k=!1){return k?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){const k={$mid:1};return this._fsPath&&(k.fsPath=this._fsPath,k._sep=f),this._formatted&&(k.external=this._formatted),this.path&&(k.path=this.path),this.scheme&&(k.scheme=this.scheme),this.authority&&(k.authority=this.authority),this.query&&(k.query=this.query),this.fragment&&(k.fragment=this.fragment),k}}const g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(C,M,k){let E,O=-1;for(let _=0;_<C.length;_++){const x=C.charCodeAt(_);if(x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===45||x===46||x===95||x===126||M&&x===47||k&&x===91||k&&x===93||k&&x===58)O!==-1&&(E+=encodeURIComponent(C.substring(O,_)),O=-1),E!==void 0&&(E+=C.charAt(_));else{E===void 0&&(E=C.substr(0,_));const L=g[x];L!==void 0?(O!==-1&&(E+=encodeURIComponent(C.substring(O,_)),O=-1),E+=L):O===-1&&(O=_)}}return O!==-1&&(E+=encodeURIComponent(C.substring(O))),E!==void 0?E:C}function m(C){let M;for(let k=0;k<C.length;k++){const E=C.charCodeAt(k);E===35||E===63?(M===void 0&&(M=C.substr(0,k)),M+=g[E]):M!==void 0&&(M+=C[k])}return M!==void 0?M:C}function y(C,M){let k;return k=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?C.path[1].toLowerCase()+C.path.substr(2):C.path,i&&(k=k.replace(/\//g,"\\")),k}function T(C,M){const k=M?m:v;let E="",{scheme:O,authority:_,path:x,query:L,fragment:D}=C;if(O&&(E+=O,E+=":"),(_||O==="file")&&(E+=u,E+=u),_){let P=_.indexOf("@");if(P!==-1){const U=_.substr(0,P);_=_.substr(P+1),P=U.lastIndexOf(":"),P===-1?E+=k(U,!1,!1):(E+=k(U.substr(0,P),!1,!1),E+=":",E+=k(U.substr(P+1),!1,!0)),E+="@"}_=_.toLowerCase(),P=_.lastIndexOf(":"),P===-1?E+=k(_,!1,!0):(E+=k(_.substr(0,P),!1,!0),E+=_.substr(P))}if(x){if(x.length>=3&&x.charCodeAt(0)===47&&x.charCodeAt(2)===58){const P=x.charCodeAt(1);P>=65&&P<=90&&(x=`/${String.fromCharCode(P+32)}:${x.substr(3)}`)}else if(x.length>=2&&x.charCodeAt(1)===58){const P=x.charCodeAt(0);P>=65&&P<=90&&(x=`${String.fromCharCode(P+32)}:${x.substr(2)}`)}E+=k(x,!0,!1)}return L&&(E+="?",E+=k(L,!1,!1)),D&&(E+="#",E+=M?D:v(D,!1,!1)),E}function b(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+b(C.substr(3)):C}}const A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(C){return C.match(A)?C.replace(A,M=>b(M)):C}var w=r(470);const S=w.posix||w,N="/";var I;(function(C){C.joinPath=function(M,...k){return M.with({path:S.join(M.path,...k)})},C.resolvePath=function(M,...k){let E=M.path,O=!1;E[0]!==N&&(E=N+E,O=!0);let _=S.resolve(E,...k);return O&&_[0]===N&&!M.authority&&(_=_.substring(1)),M.with({path:_})},C.dirname=function(M){if(M.path.length===0||M.path===N)return M;let k=S.dirname(M.path);return k.length===1&&k.charCodeAt(0)===46&&(k=""),M.with({path:k})},C.basename=function(M){return S.basename(M.path)},C.extname=function(M){return S.extname(M.path)}})(I||(I={}))})(),PS=n})();const{URI:As,Utils:lo}=PS;var Ri;(function(e){e.basename=lo.basename,e.dirname=lo.dirname,e.extname=lo.extname,e.joinPath=lo.joinPath,e.resolvePath=lo.resolvePath;function t(i,s){return(i==null?void 0:i.toString())===(s==null?void 0:s.toString())}e.equals=t;function r(i,s){const a=typeof i=="string"?i:i.path,o=typeof s=="string"?s:s.path,l=a.split("/").filter(f=>f.length>0),c=o.split("/").filter(f=>f.length>0);let u=0;for(;u<l.length&&l[u]===c[u];u++);const h="../".repeat(l.length-u),d=c.slice(u).join("/");return h+d}e.relative=r;function n(i){return As.parse(i.toString()).toString()}e.normalize=n})(Ri||(Ri={}));var ne;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(ne||(ne={}));class K5{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=ae.CancellationToken.None){const n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??As.parse(t.uri),ae.CancellationToken.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromString(t,r,n){return ae.CancellationToken.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r,n){if(typeof r=="string"){const i=this.parse(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}else if("$model"in r){const i={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,t)}else{const i=this.parse(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){const i=await this.parseAsync(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}else{const i=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}createLangiumDocument(t,r,n,i){let s;if(n)s={parseResult:t,uri:r,state:ne.Parsed,references:[],textDocument:n};else{const a=this.createTextDocumentGetter(r,i);s={parseResult:t,uri:r,state:ne.Parsed,references:[],get textDocument(){return a()}}}return t.value.$document=s,s}async update(t,r){var n,i;const s=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(t.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(t.uri);if(a)Object.defineProperty(t,"textDocument",{value:a});else{const l=this.createTextDocumentGetter(t.uri,o);Object.defineProperty(t,"textDocument",{get:l})}return s!==o&&(t.parseResult=await this.parseAsync(t.uri,o,r),t.parseResult.value.$document=t),t.state=ne.Parsed,t}parse(t,r,n){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r,n)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){const n=this.serviceRegistry;let i;return()=>i??(i=ev.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}}class Z5{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.serviceRegistry=t.ServiceRegistry}get all(){return He(this.documentMap.values())}addDocument(t){const r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){const r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(i),i}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(this.serviceRegistry.getServices(t).references.Linker.unlink(n),n.state=ne.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0),n}deleteDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=ne.Changed,this.documentMap.delete(r)),n}}const qd=Symbol("ref_resolving");class Q5{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=ae.CancellationToken.None){for(const n of aa(t.parseResult.value))await Cr(r),w_(n).forEach(i=>this.doLink(i,t))}doLink(t,r){var n;const i=t.reference;if(i._ref===void 0){i._ref=qd;try{const s=this.getCandidate(t);if(au(s))i._ref=s;else if(i._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const a=this.loadAstNode(s);i._ref=a??this.createLinkingError(t,s)}else i._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${i.$refText}':`,s);const a=(n=s.message)!==null&&n!==void 0?n:String(s);i._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}r.references.push(i)}}unlink(t){for(const r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){const n=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return n??this.createLinkingError(t)}buildReference(t,r,n,i){const s=this,a={$refNode:n,$refText:i,get ref(){var o;if(rr(this._ref))return this._ref;if(MD(this._nodeDescription)){const l=s.loadAstNode(this._nodeDescription);this._ref=l??s.createLinkingError({reference:a,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=qd;const l=xg(t).$document,c=s.getLinkedNode({reference:a,container:t,property:r});if(c.error&&l&&l.state<ne.ComputedScopes)return this._ref=void 0;this._ref=(o=c.node)!==null&&o!==void 0?o:c.error,this._nodeDescription=c.descr,l==null||l.references.push(this)}else if(this._ref===qd)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(t)}/${r} (symbol '${i}')`);return rr(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return au(this._ref)?this._ref:void 0}};return a}getLinkedNode(t){var r;try{const n=this.getCandidate(t);if(au(n))return{error:n};const i=this.loadAstNode(n);return i?{node:i,descr:n}:{descr:n,error:this.createLinkingError(t,n)}}catch(n){console.error(`An error occurred while resolving reference to '${t.reference.$refText}':`,n);const i=(r=n.message)!==null&&r!==void 0?r:String(n);return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${i}`})}}}loadAstNode(t){if(t.node)return t.node;const r=this.langiumDocuments().getDocument(t.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,t.path)}createLinkingError(t,r){const n=xg(t.container).$document;n&&n.state<ne.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${i} named '${t.reference.$refText}'.`,targetDescription:r})}}function J5(e){return typeof e.name=="string"}class tG{getName(t){if(J5(t))return t.name}getNameNode(t){return R_(t.$cstNode,"name")}}class eG{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){const r=S2(t),n=t.astNode;if(r&&n){const i=n[r.feature];if(In(i))return i.ref;if(Array.isArray(i)){for(const s of i)if(In(s)&&s.$refNode&&s.$refNode.offset<=t.offset&&s.$refNode.end>=t.end)return s.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===t||DD(t,i)))return n}}}findDeclarationNode(t){const r=this.findDeclaration(t);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){const n=[];if(r.includeDeclaration){const s=this.getReferenceToSelf(t);s&&n.push(s)}let i=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(i=i.filter(s=>Ri.equals(s.sourceUri,r.documentUri))),n.push(...i),He(n)}getReferenceToSelf(t){const r=this.nameProvider.getNameNode(t);if(r){const n=Ai(t),i=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:ju(r),local:!0}}}}class ph{constructor(t){if(this.map=new Map,t)for(const[r,n]of t)this.add(r,n)}get size(){return Ag.sum(He(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{const n=this.map.get(t);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{const n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return He(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return He(this.map.keys())}values(){return He(this.map.values()).flat()}entriesGroupedByKey(){return He(this.map.entries())}}class kE{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(const[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){const r=this.map.get(t);return r!==void 0?(this.map.delete(t),this.inverse.delete(r),!0):!1}}class rG{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=ae.CancellationToken.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=om,i=ae.CancellationToken.None){const s=[];this.exportNode(t,s,r);for(const a of n(t))await Cr(i),this.exportNode(a,s,r);return s}exportNode(t,r,n){const i=this.nameProvider.getName(t);i&&r.push(this.descriptions.createDescription(t,i,n))}async computeLocalScopes(t,r=ae.CancellationToken.None){const n=t.parseResult.value,i=new ph;for(const s of Gl(n))await Cr(r),this.processNode(s,t,i);return i}processNode(t,r,n){const i=t.$container;if(i){const s=this.nameProvider.getName(t);s&&n.add(i,this.descriptions.createDescription(t,s,r))}}}class PE{constructor(t,r,n){var i;this.elements=t,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}}class nG{constructor(t,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const s of t){const a=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(a,s)}this.outerScope=r}getElement(t){const r=this.caseInsensitive?t.toLowerCase():t,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=He(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}}class DS{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class iG extends DS{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){const n=r();return this.cache.set(t,n),n}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}}class sG extends DS{constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();const i=this.cacheForContext(t);if(i.has(r))return i.get(r);if(n){const s=n();return i.set(r,s),s}else return}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){const r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){const r=this.converter(t);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class aG extends iG{constructor(t,r){super(),r?(this.toDispose.push(t.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(t.workspace.DocumentBuilder.onUpdate((n,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class oG{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new aG(t.shared)}getScope(t){const r=[],n=this.reflection.getReferenceType(t),i=Ai(t.container).precomputedScopes;if(i){let a=t.container;do{const o=i.get(a);o.length>0&&r.push(He(o).filter(l=>this.reflection.isSubtype(l.type,n))),a=a.$container}while(a)}let s=this.getGlobalScope(n,t);for(let a=r.length-1;a>=0;a--)s=this.createScope(r[a],s);return s}createScope(t,r,n){return new PE(He(t),r,n)}createScopeForNodes(t,r,n){const i=He(t).map(s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)}).nonNullable();return new PE(i,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new nG(this.indexManager.allElements(t)))}}function lG(e){return typeof e.$comment=="string"}function DE(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}class cG{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r){const n=r??{},i=r==null?void 0:r.replacer,s=(o,l)=>this.replacer(o,l,n),a=i?(o,l)=>i(o,l,s):s;try{return this.currentDocument=Ai(t),JSON.stringify(t,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(t,r){const n=r??{},i=JSON.parse(t);return this.linkNode(i,i,n),i}replacer(t,r,{refText:n,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var l,c,u,h;if(!this.ignoreProperties.has(t))if(In(r)){const d=r.ref,f=n?r.$refText:void 0;if(d){const p=Ai(d);let g="";this.currentDocument&&this.currentDocument!==p&&(o?g=o(p.uri,r):g=p.uri.toString());const v=this.astNodeLocator.getAstNodePath(d);return{$ref:`${g}#${v}`,$refText:f}}else return{$error:(c=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&c!==void 0?c:"Could not resolve reference",$refText:f}}else if(rr(r)){let d;if(s&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!t||r.$document)&&(d!=null&&d.$textRegion)&&(d.$textRegion.documentURI=(u=this.currentDocument)===null||u===void 0?void 0:u.uri.toString())),i&&!t&&(d??(d=Object.assign({},r)),d.$sourceText=(h=r.$cstNode)===null||h===void 0?void 0:h.text),a){d??(d=Object.assign({},r));const f=this.commentProvider.getComment(r);f&&(d.$comment=f.replace(/\r/g,""))}return d??r}else return r}addAstNodeRegionWithAssignmentsTo(t){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(t.$cstNode){const n=t.$textRegion=r(t.$cstNode),i=n.assignments={};return Object.keys(t).filter(s=>!s.startsWith("$")).forEach(s=>{const a=w2(t.$cstNode,s).map(r);a.length!==0&&(i[s]=a)}),t}}linkNode(t,r,n,i,s,a){for(const[l,c]of Object.entries(t))if(Array.isArray(c))for(let u=0;u<c.length;u++){const h=c[u];DE(h)?c[u]=this.reviveReference(t,l,r,h,n):rr(h)&&this.linkNode(h,r,n,t,l,u)}else DE(c)?t[l]=this.reviveReference(t,l,r,c,n):rr(c)&&this.linkNode(c,r,n,t,l);const o=t;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(t,r,n,i,s){let a=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,s.uriConverter);if(rr(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};o=l}if(o){const l={$refText:a??""};return l.error={container:t,property:r,message:o,reference:l},l}else return}getRefNode(t,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(t,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):As.parse(r),c=this.langiumDocuments.getDocument(l);return c?c.parseResult.value:"Could not find document for URI: "+r}const s=n?n(r.substring(0,i)):As.parse(r.substring(0,i)),a=this.langiumDocuments.getDocument(s);if(!a)return"Could not find document for URI: "+r;if(i===r.length-1)return a.parseResult.value;const o=this.astNodeLocator.getAstNode(a.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class uG{get map(){return this.fileExtensionMap}constructor(t){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=t==null?void 0:t.workspace.TextDocuments}register(t){const r=t.LanguageMetaData;for(const n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,t);this.languageIdMap.set(r.languageId,t),this.languageIdMap.size===1?this.singleton=t:this.singleton=void 0}getServices(t){var r,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(n=(r=this.textDocuments)===null||r===void 0?void 0:r.get(t))===null||n===void 0?void 0:n.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const s=Ri.extname(t),a=this.fileExtensionMap.get(s);if(!a)throw i?new Error(`The service registry contains no services for the extension '${s}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return a}hasServices(t){try{return this.getServices(t),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Ko(e){return{code:e}}var gh;(function(e){e.all=["fast","slow","built-in"]})(gh||(gh={}));class hG{constructor(t){this.entries=new ph,this.entriesBefore=[],this.entriesAfter=[],this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,s]of Object.entries(t)){const a=s;if(Array.isArray(a))for(const o of a){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,r),category:n};this.addEntry(i,o)}else Ul()}}wrapValidationException(t,r){return async(n,i,s)=>{await this.handleException(()=>t.call(r,n,i,s),"An error occurred during validation",i,n)}}async handleException(t,r,n,i){try{await t()}catch(s){if(ff(s))throw s;console.error(`${r}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);const a=s instanceof Error?s.message:String(s);n("error",`${r}: ${a}`,{node:i})}}addEntry(t,r){if(t==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(t))this.entries.add(n,r)}getChecks(t,r){let n=He(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}registerBeforeDocument(t,r=this){this.entriesBefore.push(this.wrapPreparationException(t,"An error occurred during set-up of the validation",r))}registerAfterDocument(t,r=this){this.entriesAfter.push(this.wrapPreparationException(t,"An error occurred during tear-down of the validation",r))}wrapPreparationException(t,r,n){return async(i,s,a,o)=>{await this.handleException(()=>t.call(n,i,s,a,o),r,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class fG{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=ae.CancellationToken.None){const i=t.parseResult,s=[];if(await Cr(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,s,r),r.stopAfterLexingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.LexingError})||(this.processParsingErrors(i,s,r),r.stopAfterParsingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.ParsingError}))||(this.processLinkingErrors(t,s,r),r.stopAfterLinkingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ln.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,r,n))}catch(a){if(ff(a))throw a;console.error("An error occurred during validation:",a)}return await Cr(n),s}processLexingErrors(t,r,n){var i,s,a;const o=[...t.lexerErrors,...(s=(i=t.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&s!==void 0?s:[]];for(const l of o){const c=(a=l.severity)!==null&&a!==void 0?a:"error",u={severity:Vd(c),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:pG(c),source:this.getSource()};r.push(u)}}processParsingErrors(t,r,n){for(const i of t.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=Sg(i.token);if(s){const a={severity:Vd("error"),range:s,message:i.message,data:Ko(ln.ParsingError),source:this.getSource()};r.push(a)}}}processLinkingErrors(t,r,n){for(const i of t.references){const s=i.error;if(s){const a={node:s.container,property:s.property,index:s.index,data:{code:ln.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};r.push(this.toDiagnostic("error",s.message,a))}}}async validateAst(t,r,n=ae.CancellationToken.None){const i=[],s=(a,o,l)=>{i.push(this.toDiagnostic(a,o,l))};return await this.validateAstBefore(t,r,s,n),await this.validateAstNodes(t,r,s,n),await this.validateAstAfter(t,r,s,n),i}async validateAstBefore(t,r,n,i=ae.CancellationToken.None){var s;const a=this.validationRegistry.checksBefore;for(const o of a)await Cr(i),await o(t,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}async validateAstNodes(t,r,n,i=ae.CancellationToken.None){await Promise.all(aa(t).map(async s=>{await Cr(i);const a=this.validationRegistry.getChecks(s.$type,r.categories);for(const o of a)await o(s,n,i)}))}async validateAstAfter(t,r,n,i=ae.CancellationToken.None){var s;const a=this.validationRegistry.checksAfter;for(const o of a)await Cr(i),await o(t,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}toDiagnostic(t,r,n){return{message:r,range:dG(n),severity:Vd(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function dG(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=R_(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=A2(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Vd(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function pG(e){switch(e){case"error":return Ko(ln.LexingError);case"warning":return Ko(ln.LexingWarning);case"info":return Ko(ln.LexingInfo);case"hint":return Ko(ln.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}var ln;(function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(ln||(ln={}));class gG{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n){const i=n??Ai(t);r??(r=this.nameProvider.getName(t));const s=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>{var l;return a??(a=ju((l=this.nameProvider.getNameNode(t))!==null&&l!==void 0?l:t.$cstNode))};return{node:t,name:r,get nameSegment(){return o()},selectionSegment:ju(t.$cstNode),type:t.$type,documentUri:i.uri,path:s}}}class vG{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=ae.CancellationToken.None){const n=[],i=t.parseResult.value;for(const s of aa(i))await Cr(r),w_(s).filter(a=>!au(a)).forEach(a=>{const o=this.createDescription(a);o&&n.push(o)});return n}createDescription(t){const r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;const i=Ai(t.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:ju(n),local:Ri.equals(r.documentUri,i)}}}class mG{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){const r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;const a=s.indexOf(this.indexSeparator);if(a>0){const o=s.substring(0,a),l=parseInt(s.substring(a+1)),c=i[o];return c==null?void 0:c[l]}return i[s]},t)}}var yG=MS();class TG{constructor(t){this._ready=new Sm,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new yG.Emitter,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(t){if(this.workspaceConfig){if(t.register){const r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((i,s)=>{this.updateSectionConfiguration(i.section,n[s])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{const n=t.settings[r];this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;const n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var ol;(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(ol||(ol={}));class EG{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new ph,this.documentPhaseListeners=new ph,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ne.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.textDocuments=t.workspace.TextDocuments,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=ae.CancellationToken.None){var i,s;for(const a of t){const o=a.uri.toString();if(a.state===ne.Validated){if(typeof r.validation=="boolean"&&r.validation)a.state=ne.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),c=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(c){const h=((s=r.validation.categories)!==null&&s!==void 0?s:gh.all).filter(d=>!c.includes(d));h.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:h})},result:l.result}),a.state=ne.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=ne.Changed,await this.emitUpdate(t.map(a=>a.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=ae.CancellationToken.None){this.currentState=ne.Changed;for(const a of r)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of t){if(!this.langiumDocuments.invalidateDocument(a)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);l.state=ne.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(a.toString())}const i=He(t).concat(r).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,ne.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(t,r),await Cr(n);const s=this.sortDocuments(this.langiumDocuments.all.filter(a=>{var o;return a.state<ne.Linked||!(!((o=this.buildState.get(a.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(s,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}sortDocuments(t){let r=0,n=t.length-1;for(;r<n;){for(;r<t.length&&this.hasTextDocument(t[r]);)r++;for(;n>=0&&!this.hasTextDocument(t[n]);)n--;r<n&&([t[r],t[n]]=[t[n],t[r]])}return t}hasTextDocument(t){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(t.uri))}shouldRelink(t,r){return t.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),ol.create(()=>{const r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,ne.Parsed,n,s=>this.langiumDocumentFactory.update(s,n)),await this.runCancelable(t,ne.IndexedContent,n,s=>this.indexManager.updateContent(s,n)),await this.runCancelable(t,ne.ComputedScopes,n,async s=>{const a=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await a.computeLocalScopes(s,n)}),await this.runCancelable(t,ne.Linked,n,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,n)),await this.runCancelable(t,ne.IndexedReferences,n,s=>this.indexManager.updateReferences(s,n));const i=t.filter(s=>this.shouldValidate(s));await this.runCancelable(i,ne.Validated,n,s=>this.validate(s,n));for(const s of t){const a=this.buildState.get(s.uri.toString());a&&(a.completed=!0)}}prepareBuild(t,r){for(const n of t){const i=n.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:r,result:s==null?void 0:s.result})}}async runCancelable(t,r,n,i){const s=t.filter(o=>o.state<r);for(const o of s)await Cr(n),await i(o),o.state=r,await this.notifyDocumentPhase(o,r,n);const a=t.filter(o=>o.state===r);await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),ol.create(()=>{this.buildPhaseListeners.delete(t,r)})}onDocumentPhase(t,r){return this.documentPhaseListeners.add(t,r),ol.create(()=>{this.documentPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=ae.CancellationToken.None),i){const s=this.langiumDocuments.getDocument(i);if(s&&s.state>t)return Promise.resolve(i)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(dh):new Promise((s,a)=>{const o=this.onBuildPhase(t,()=>{if(o.dispose(),l.dispose(),i){const c=this.langiumDocuments.getDocument(i);s(c==null?void 0:c.uri)}else s(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),a(dh)})})}async notifyDocumentPhase(t,r,n){const s=this.documentPhaseListeners.get(r).slice();for(const a of s)try{await a(t,n)}catch(o){if(!ff(o))throw o}}async notifyBuildPhase(t,r,n){if(t.length===0)return;const s=this.buildPhaseListeners.get(r).slice();for(const a of s)await Cr(n),await a(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,i;const s=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,a=this.getBuildOptions(t).validation,o=typeof a=="object"?a:void 0,l=await s.validateDocument(t,o,r);t.diagnostics?t.diagnostics.push(...l):t.diagnostics=l;const c=this.buildState.get(t.uri.toString());if(c){(n=c.result)!==null&&n!==void 0||(c.result={});const u=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:gh.all;c.result.validationChecks?c.result.validationChecks.push(...u):c.result.validationChecks=[...u]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class bG{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new sG,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){const n=Ai(t).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(a=>{Ri.equals(a.targetUri,n)&&a.targetPath===r&&i.push(a)})}),He(i)}allElements(t,r){let n=He(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var s;return((s=this.symbolIndex.get(t))!==null&&s!==void 0?s:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){const r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=ae.CancellationToken.None){const i=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,r),s=t.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(t,r=ae.CancellationToken.None){const i=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),i)}isAffected(t,r){const n=this.referenceIndex.get(t.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class wG{constructor(t){this.initialBuildOptions={},this._ready=new Sm,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=ae.CancellationToken.None){const n=await this.performStartup(t);await Cr(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){const r=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),n=[],i=s=>{n.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)};return await this.loadAdditionalDocuments(t,i),await Promise.all(t.map(s=>[s,this.getRootFolder(s)]).map(async s=>this.traverseFolder(...s,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return As.parse(t.uri)}async traverseFolder(t,r,n,i){const s=await this.fileSystemProvider.readDirectory(r);await Promise.all(s.map(async a=>{if(this.includeEntry(t,a,n)){if(a.isDirectory)await this.traverseFolder(t,a.uri,n,i);else if(a.isFile){const o=await this.langiumDocuments.getOrCreateDocument(a.uri);i(o)}}}))}includeEntry(t,r,n){const i=Ri.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const s=Ri.extname(r.uri);return n.includes(s)}return!1}}class AG{buildUnexpectedCharactersMessage(t,r,n,i,s){return Cg.buildUnexpectedCharactersMessage(t,r,n,i,s)}buildUnableToPopLexerModeMessage(t){return Cg.buildUnableToPopLexerModeMessage(t)}}const _G={mode:"full"};class SG{constructor(t){this.errorMessageProvider=t.parser.LexerErrorMessageProvider,this.tokenBuilder=t.parser.TokenBuilder;const r=this.tokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=FE(r)?Object.values(r):r,i=t.LanguageMetaData.mode==="production";this.chevrotainLexer=new br(n,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(t,r=_G){var n,i,s;const a=this.chevrotainLexer.tokenize(t);return{tokens:a.tokens,errors:a.errors,hidden:(n=a.groups.hidden)!==null&&n!==void 0?n:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,t)}}toTokenTypeDictionary(t){if(FE(t))return t;const r=FS(t)?Object.values(t.modes).flat():t,n={};return r.forEach(i=>n[i.name]=i),n}}function xG(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function FS(e){return e&&"modes"in e&&"defaultMode"in e}function FE(e){return!xG(e)&&!FS(e)}function RG(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=zt.create(0,0));const s=US(e),a=xm(n),o=OG({lines:s,position:i,options:a});return PG({index:0,tokens:o,position:i})}function NG(e,t){const r=xm(t),n=US(e);if(n.length===0)return!1;const i=n[0],s=n[n.length-1],a=r.start,o=r.end;return!!(a!=null&&a.exec(i))&&!!(o!=null&&o.exec(s))}function US(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(u2)}const UE=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,LG=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function OG(e){var t,r,n;const i=[];let s=e.position.line,a=e.position.character;for(let o=0;o<e.lines.length;o++){const l=o===0,c=o===e.lines.length-1;let u=e.lines[o],h=0;if(l&&e.options.start){const f=(t=e.options.start)===null||t===void 0?void 0:t.exec(u);f&&(h=f.index+f[0].length)}else{const f=(r=e.options.line)===null||r===void 0?void 0:r.exec(u);f&&(h=f.index+f[0].length)}if(c){const f=(n=e.options.end)===null||n===void 0?void 0:n.exec(u);f&&(u=u.substring(0,f.index))}if(u=u.substring(0,kG(u)),nv(u,h)>=u.length){if(i.length>0){const f=zt.create(s,a);i.push({type:"break",content:"",range:Pt.create(f,f)})}}else{UE.lastIndex=h;const f=UE.exec(u);if(f){const p=f[0],g=f[1],v=zt.create(s,a+h),m=zt.create(s,a+h+p.length);i.push({type:"tag",content:g,range:Pt.create(v,m)}),h+=p.length,h=nv(u,h)}if(h<u.length){const p=u.substring(h),g=Array.from(p.matchAll(LG));i.push(...CG(g,p,s,a+h))}}s++,a=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function CG(e,t,r,n){const i=[];if(e.length===0){const s=zt.create(r,n),a=zt.create(r,n+t.length);i.push({type:"text",content:t,range:Pt.create(s,a)})}else{let s=0;for(const o of e){const l=o.index,c=t.substring(s,l);c.length>0&&i.push({type:"text",content:t.substring(s,l),range:Pt.create(zt.create(r,s+n),zt.create(r,l+n))});let u=c.length+1;const h=o[1];if(i.push({type:"inline-tag",content:h,range:Pt.create(zt.create(r,s+u+n),zt.create(r,s+u+h.length+n))}),u+=h.length,o.length===4){u+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:Pt.create(zt.create(r,s+u+n),zt.create(r,s+u+d.length+n))})}else i.push({type:"text",content:"",range:Pt.create(zt.create(r,s+u+n),zt.create(r,s+u+n))});s=l+o[0].length}const a=t.substring(s);a.length>0&&i.push({type:"text",content:a,range:Pt.create(zt.create(r,s+n),zt.create(r,s+n+a.length))})}return i}const MG=/\S/,IG=/\s*$/;function nv(e,t){const r=e.substring(t).match(MG);return r?t+r.index:e.length}function kG(e){const t=e.match(IG);if(t&&typeof t.index=="number")return t.index}function PG(e){var t,r,n,i;const s=zt.create(e.position.line,e.position.character);if(e.tokens.length===0)return new GE([],Pt.create(s,s));const a=[];for(;e.index<e.tokens.length;){const c=DG(e,a[a.length-1]);c&&a.push(c)}const o=(r=(t=a[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:s,l=(i=(n=a[a.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:s;return new GE(a,Pt.create(o,l))}function DG(e,t){const r=e.tokens[e.index];if(r.type==="tag")return $S(e,!1);if(r.type==="text"||r.type==="inline-tag")return GS(e);FG(r,t),e.index++}function FG(e,t){if(t){const r=new zS("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function GS(e){let t=e.tokens[e.index];const r=t;let n=t;const i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(UG(e)),n=t,t=e.tokens[e.index];return new iv(i,Pt.create(r.range.start,n.range.end))}function UG(e){return e.tokens[e.index].type==="inline-tag"?$S(e,!0):HS(e)}function $S(e,t){const r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if((i==null?void 0:i.type)==="text")if(t){const s=HS(e);return new Kd(n,new iv([s],s.range),t,Pt.create(r.range.start,s.range.end))}else{const s=GS(e);return new Kd(n,s,t,Pt.create(r.range.start,s.range.end))}else{const s=r.range;return new Kd(n,new iv([],s),t,s)}}function HS(e){const t=e.tokens[e.index++];return new zS(t.content,t.range)}function xm(e){if(!e)return xm({start:"/**",end:"*/",line:"*"});const{start:t,end:r,line:n}=e;return{start:jd(t,!0),end:jd(r,!1),line:jd(n,!0)}}function jd(e,t){if(typeof e=="string"||typeof e=="object"){const r=typeof e=="string"?nf(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}class GE{constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(const r of this.elements)if(t.length===0)t=r.toString();else{const n=r.toString();t+=$E(t)+n}return t.trim()}toMarkdown(t){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{const i=n.toMarkdown(t);r+=$E(r)+i}return r.trim()}}class Kd{constructor(t,r,n,i){this.name=t,this.content=r,this.inline=n,this.range=i}toString(){let t=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t==null?void 0:t.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){const r=this.content.toMarkdown(t);if(this.inline){const s=GG(this.name,r,t??{});if(typeof s=="string")return s}let n="";(t==null?void 0:t.tag)==="italic"||(t==null?void 0:t.tag)===void 0?n="*":(t==null?void 0:t.tag)==="bold"?n="**":(t==null?void 0:t.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i}  ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function GG(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){const s=t.indexOf(" ");let a=t;if(s>0){const l=nv(t,s);a=t.substring(l),t=t.substring(0,s)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(a=`\`${a}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,a))!==null&&i!==void 0?i:$G(t,a)}}function $G(e,t){try{return As.parse(e,!0),`[${t}](${e})`}catch{return e}}class iv{constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];t+=n.toString(),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],s=this.inlines[n+1];r+=i.toMarkdown(t),s&&s.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class zS{constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function $E(e){return e.endsWith(`
`)?`
`:`

`}class HG{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){const r=this.commentProvider.getComment(t);if(r&&NG(r))return RG(r).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(t,i,s),renderTag:i=>this.documentationTagRenderer(t,i)})}documentationLinkRenderer(t,r,n){var i;const s=(i=this.findNameInPrecomputedScopes(t,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(t,r);if(s&&s.nameSegment){const a=s.nameSegment.range.start.line+1,o=s.nameSegment.range.start.character+1,l=s.documentUri.with({fragment:`L${a},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){const i=Ai(t).precomputedScopes;if(!i)return;let s=t;do{const o=i.get(s).find(l=>l.name===r);if(o)return o;s=s.$container}while(s)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(i=>i.name===r)}}class zG{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return lG(t)?t.$comment:(r=$D(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class BG{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t,r){return Promise.resolve(this.syncParser.parse(t))}}class WG{constructor(){this.previousTokenSource=new ae.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();const r=V5();return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n=ae.CancellationToken.None){const i=new Sm,s={action:r,deferred:i,cancellationToken:n};return t.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const s=await Promise.resolve().then(()=>r(i));n.resolve(s)}catch(s){ff(s)?n.resolve(void 0):n.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class YG{constructor(t){this.grammarElementIdMap=new kE,this.tokenTypeIdMap=new kE,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport?this.dehydrateLexerReport(t.lexerReport):void 0,parserErrors:t.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}dehydrateLexerReport(t){return t}createDehyrationContext(t){const r=new Map,n=new Map;for(const i of aa(t))r.set(i,{});if(t.$cstNode)for(const i of _g(t.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(const[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)rr(o)?a.push(this.dehydrateAstNode(o,r)):In(o)?a.push(this.dehydrateReference(o,r)):a.push(o)}else rr(s)?n[i]=this.dehydrateAstNode(s,r):In(s)?n[i]=this.dehydrateReference(s,r):s!==void 0&&(n[i]=s);return n}dehydrateReference(t,r){const n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){const n=r.cstNodes.get(t);return p_(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),Sl(t)?n.content=t.content.map(i=>this.dehydrateCstNode(i,r)):d_(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){const r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){const r=new Map,n=new Map;for(const s of aa(t))r.set(s,{});let i;if(t.$cstNode)for(const s of _g(t.$cstNode)){let a;"fullText"in s?(a=new AS(s.fullText),i=a):"content"in s?a=new Am:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(n.set(s,a),a.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(const[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)rr(o)?a.push(this.setParent(this.hydrateAstNode(o,r),n)):In(o)?a.push(this.hydrateReference(o,n,i,r)):a.push(o)}else rr(s)?n[i]=this.setParent(this.hydrateAstNode(s,r),n):In(s)?n[i]=this.hydrateReference(s,n,i,r):s!==void 0&&(n[i]=s);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){const i=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(t.grammarSource)),i.astNode=r.astNodes.get(t.astNode),Sl(i))for(const s of t.content){const a=this.hydrateCstNode(s,r,n++);i.content.push(a)}return i}hydrateCstLeafNode(t){const r=this.getTokenType(t.tokenType),n=t.offset,i=t.length,s=t.startLine,a=t.startColumn,o=t.endLine,l=t.endColumn,c=t.hidden;return new Qg(n,i,{start:{line:s,character:a},end:{line:o,character:l}},r,c)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){if(t)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(t)}createGrammarElementIdMap(){let t=0;for(const r of aa(this.grammar))zD(r)&&this.grammarElementIdMap.set(r,t++)}}function XG(e){return{documentation:{CommentProvider:t=>new zG(t),DocumentationProvider:t=>new HG(t)},parser:{AsyncParser:t=>new BG(t),GrammarConfig:t=>I2(t),LangiumParser:t=>$5(t),CompletionParser:t=>G5(t),ValueConverter:()=>new B5,TokenBuilder:()=>new z5,Lexer:t=>new SG(t),ParserErrorMessageProvider:()=>new xS,LexerErrorMessageProvider:()=>new AG},workspace:{AstNodeLocator:()=>new mG,AstNodeDescriptionProvider:t=>new gG(t),ReferenceDescriptionProvider:t=>new vG(t)},references:{Linker:t=>new Q5(t),NameProvider:()=>new tG,ScopeProvider:t=>new oG(t),ScopeComputation:t=>new rG(t),References:t=>new eG(t)},serializer:{Hydrator:t=>new YG(t),JsonSerializer:t=>new cG(t)},validation:{DocumentValidator:t=>new fG(t),ValidationRegistry:t=>new hG(t)},shared:()=>e.shared}}function qG(e){return{ServiceRegistry:t=>new uG(t),workspace:{LangiumDocuments:t=>new Z5(t),LangiumDocumentFactory:t=>new K5(t),DocumentBuilder:t=>new EG(t),IndexManager:t=>new bG(t),WorkspaceManager:t=>new wG(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new WG,ConfigurationProvider:t=>new TG(t)}}}var HE;(function(e){e.merge=(t,r)=>vh(vh({},t),r)})(HE||(HE={}));function zE(e,t,r,n,i,s,a,o,l){const c=[e,t,r,n,i,s,a,o,l].reduce(vh,{});return BS(c)}const VG=Symbol("isProxy");function BS(e,t){const r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,i)=>i===VG?!0:WE(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(WE(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return r}const BE=Symbol();function WE(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===BE)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){const i=r[t];e[t]=BE;try{e[t]=typeof i=="function"?i(n):BS(i,n)}catch(s){throw e[t]=s instanceof Error?s:void 0,s}return e[t]}else return}function vh(e,t){if(t){for(const[r,n]of Object.entries(t))if(n!==void 0){const i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=vh(i,n):e[r]=n}}return e}class jG{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const KG={fileSystemProvider:()=>new jG},ZG={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},QG={AstReflection:()=>new b_};function JG(){const e=zE(qG(KG),QG),t=zE(XG({shared:e}),ZG);return e.ServiceRegistry.register(t),t}function $3(e){var t;const r=JG(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,As.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var pu={exports:{}},gu={exports:{}},t$=gu.exports,YE;function e$(){return YE||(YE=1,function(e,t){(function(n,i){e.exports=i()})(t$,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=26)}([function(r,n,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,r.exports=s},function(r,n,i){var s=i(2),a=i(8),o=i(9);function l(u,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}l.prototype=Object.create(s.prototype);for(var c in s)l[c]=s[c];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function s(a){this.vGraphObject=a}r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(13),l=i(0),c=i(16),u=i(4);function h(f,p,g,v){g==null&&v==null&&(v=p),s.call(this,v),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(v.target==f){if(v.source!=g)throw"Incorrect edge source!";p.push(v)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(!(v.source==g||v.target==g))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&p.push(v)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var v=this.child.getNodes(),m=0;m<v.length;m++)p=v[m],g=p.withChildren(),g.forEach(function(y){f.add(y)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),v=0;v<g.length;v++)p=g[v],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-l.INITIAL_WORLD_BOUNDARY,v=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+c.nextDouble()*(v-g)+g;var m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_Y+c.nextDouble()*(y-m)+m,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>g&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-g)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-g),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>l.WORLD_BOUNDARY?p=l.WORLD_BOUNDARY:p<-l.WORLD_BOUNDARY&&(p=-l.WORLD_BOUNDARY);var g=this.rect.y;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var v=new u(p,g),m=f.inverseTransformPoint(v);this.setLocation(m.x,m.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(0),l=i(6),c=i(3),u=i(1),h=i(13),d=i(12),f=i(11);function p(v,m,y){s.call(this,y),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,m!=null&&m instanceof l?this.graphManager=m:m!=null&&m instanceof Layout&&(this.graphManager=m.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(v,m,y){if(m==null&&y==null){var T=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(T)>-1)throw"Node already in graph!";return T.owner=this,this.getNodes().push(T),T}else{var b=v;if(!(this.getNodes().indexOf(m)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(m.owner==y.owner&&m.owner==this))throw"Both owners must be this graph!";return m.owner!=y.owner?null:(b.source=m,b.target=y,b.isInterGraph=!1,this.getEdges().push(b),m.edges.push(b),y!=m&&y.edges.push(b),b)}},p.prototype.remove=function(v){var m=v;if(v instanceof c){if(m==null)throw"Node is null!";if(!(m.owner!=null&&m.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=m.edges.slice(),T,b=y.length,A=0;A<b;A++)T=y[A],T.isInterGraph?this.graphManager.remove(T):T.source.owner.remove(T);var R=this.nodes.indexOf(m);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof u){var T=v;if(T==null)throw"Edge is null!";if(!(T.source!=null&&T.target!=null))throw"Source and/or target is null!";if(!(T.source.owner!=null&&T.target.owner!=null&&T.source.owner==this&&T.target.owner==this))throw"Source and/or target owner is invalid!";var w=T.source.edges.indexOf(T),S=T.target.edges.indexOf(T);if(!(w>-1&&S>-1))throw"Source and/or target doesn't know this edge!";T.source.edges.splice(w,1),T.target!=T.source&&T.target.edges.splice(S,1);var R=T.source.owner.getEdges().indexOf(T);if(R==-1)throw"Not in owner's edge list!";T.source.owner.getEdges().splice(R,1)}},p.prototype.updateLeftTop=function(){for(var v=a.MAX_VALUE,m=a.MAX_VALUE,y,T,b,A=this.getNodes(),R=A.length,w=0;w<R;w++){var S=A[w];y=S.getTop(),T=S.getLeft(),v>y&&(v=y),m>T&&(m=T)}return v==a.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?b=A[0].getParent().paddingLeft:b=this.margin,this.left=m-b,this.top=v-b,new d(this.left,this.top))},p.prototype.updateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N,I=this.nodes,C=I.length,M=0;M<C;M++){var k=I[M];v&&k.child!=null&&k.updateBounds(),A=k.getLeft(),R=k.getRight(),w=k.getTop(),S=k.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var E=new h(m,T,y-m,b-T);m==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?N=I[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},p.calculateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N=v.length,I=0;I<N;I++){var C=v[I];A=C.getLeft(),R=C.getRight(),w=C.getTop(),S=C.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var M=new h(m,T,y-m,b-T);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var v=0,m=this.nodes,y=m.length,T=0;T<y;T++){var b=m[T];v+=b.calcEstimatedSize()}return v==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=v/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var v=this;if(this.nodes.length==0){this.isConnected=!0;return}var m=new f,y=new Set,T=this.nodes[0],b,A,R=T.withChildren();for(R.forEach(function(M){m.push(M),y.add(M)});m.length!==0;){T=m.shift(),b=T.getEdges();for(var w=b.length,S=0;S<w;S++){var N=b[S];if(A=N.getOtherEndInGraph(T,this),A!=null&&!y.has(A)){var I=A.withChildren();I.forEach(function(M){m.push(M),y.add(M)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var C=0;y.forEach(function(M){M.owner==v&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=p},function(r,n,i){var s,a=i(1);function o(l){s=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),c=this.layout.newNode(null),u=this.add(l,c);return this.setRootGraph(u),this.rootGraph},o.prototype.add=function(l,c,u,h,d){if(u==null&&h==null&&d==null){if(l==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return l.parent=c,c.child=l,l}else{d=u,h=c,u=l;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return u.isInterGraph=!1,f.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),!(u.source!=null&&u.target!=null))throw"Edge source and/or target is null!";if(!(u.source.edges.indexOf(u)==-1&&u.target.edges.indexOf(u)==-1))throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u}},o.prototype.remove=function(l){if(l instanceof s){var c=l;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var u=[];u=u.concat(c.getEdges());for(var h,d=u.length,f=0;f<d;f++)h=u[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(c);this.graphs.splice(v,1),c.parent=null}else if(l instanceof a){if(h=l,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var v=h.source.edges.indexOf(h);if(h.source.edges.splice(v,1),v=h.target.edges.indexOf(h),h.target.edges.splice(v,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var v=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],c=this.getGraphs(),u=c.length,h=0;h<u;h++)l=l.concat(c[h].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],c=this.getGraphs();c.length;for(var u=0;u<c.length;u++)l=l.concat(c[u].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,c){if(!(l!=null&&c!=null))throw"assert failed";if(l==c)return!0;var u=l.getOwner(),h;do{if(h=u.getParent(),h==null)break;if(h==c)return!0;if(u=h.getOwner(),u==null)break}while(!0);u=c.getOwner();do{if(h=u.getParent(),h==null)break;if(h==l)return!0;if(u=h.getOwner(),u==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,c,u,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(l=f[g],c=l.source,u=l.target,l.lca=null,l.sourceInLca=c,l.targetInLca=u,c==u){l.lca=c.getOwner();continue}for(h=c.getOwner();l.lca==null;){for(l.targetInLca=u,d=u.getOwner();l.lca==null;){if(d==h){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(h==this.rootGraph)break;l.lca==null&&(l.sourceInLca=h.getParent(),h=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,c){if(l==c)return l.getOwner();var u=l.getOwner();do{if(u==null)break;var h=c.getOwner();do{if(h==null)break;if(h==u)return h;h=h.getParent().getOwner()}while(!0);u=u.getParent().getOwner()}while(!0);return u},o.prototype.calcInclusionTreeDepths=function(l,c){l==null&&c==null&&(l=this.rootGraph,c=1);for(var u,h=l.getNodes(),d=h.length,f=0;f<d;f++)u=h[f],u.inclusionTreeDepth=c,u.child!=null&&this.calcInclusionTreeDepths(u.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var l,c=this.edges.length,u=0;u<c;u++)if(l=this.edges[u],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,l,c,u){if(!o.intersects(l))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,h),c[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),c[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?c[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?c[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+u),c[1]=-1*h[1]*(f/2+u)},a.decideDirectionsForOverlappingNodes=function(o,l,c){o.getCenterX()<l.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<l.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,l,c){var u=o.getCenterX(),h=o.getCenterY(),d=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return c[0]=u,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),v=o.getRight(),m=o.getX(),y=o.getBottom(),T=o.getRight(),b=o.getWidthHalf(),A=o.getHeightHalf(),R=l.getX(),w=l.getY(),S=l.getRight(),N=l.getX(),I=l.getBottom(),C=l.getRight(),M=l.getWidthHalf(),k=l.getHeightHalf(),E=!1,O=!1;if(u===d){if(h>f)return c[0]=u,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=u,c[1]=y,c[2]=d,c[3]=w,!1}else if(h===f){if(u>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(u<d)return c[0]=v,c[1]=h,c[2]=R,c[3]=f,!1}else{var _=o.height/o.width,x=l.height/l.width,L=(f-h)/(d-u),D=void 0,P=void 0,U=void 0,z=void 0,H=void 0,V=void 0;if(-_===L?u>d?(c[0]=m,c[1]=y,E=!0):(c[0]=v,c[1]=g,E=!0):_===L&&(u>d?(c[0]=p,c[1]=g,E=!0):(c[0]=T,c[1]=y,E=!0)),-x===L?d>u?(c[2]=N,c[3]=I,O=!0):(c[2]=S,c[3]=w,O=!0):x===L&&(d>u?(c[2]=R,c[3]=w,O=!0):(c[2]=C,c[3]=I,O=!0)),E&&O)return!1;if(u>d?h>f?(D=this.getCardinalDirection(_,L,4),P=this.getCardinalDirection(x,L,2)):(D=this.getCardinalDirection(-_,L,3),P=this.getCardinalDirection(-x,L,1)):h>f?(D=this.getCardinalDirection(-_,L,1),P=this.getCardinalDirection(-x,L,3)):(D=this.getCardinalDirection(_,L,2),P=this.getCardinalDirection(x,L,4)),!E)switch(D){case 1:z=g,U=u+-A/L,c[0]=U,c[1]=z;break;case 2:U=T,z=h+b*L,c[0]=U,c[1]=z;break;case 3:z=y,U=u+A/L,c[0]=U,c[1]=z;break;case 4:U=m,z=h+-b*L,c[0]=U,c[1]=z;break}if(!O)switch(P){case 1:V=w,H=d+-k/L,c[2]=H,c[3]=V;break;case 2:H=C,V=f+M*L,c[2]=H,c[3]=V;break;case 3:V=I,H=d+k/L,c[2]=H,c[3]=V;break;case 4:H=N,V=f+-M*L,c[2]=H,c[3]=V;break}}return!1},a.getCardinalDirection=function(o,l,c){return o>l?c:1+c%4},a.getIntersection=function(o,l,c,u){if(u==null)return this.getIntersection2(o,l,c);var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0;return A=p-d,w=h-f,N=f*d-h*p,R=y-v,S=g-m,I=m*v-g*y,C=A*S-R*w,C===0?null:(T=(w*I-S*N)/C,b=(R*N-A*I)/C,new s(T,b))},a.angleOfVector=function(o,l,c,u){var h=void 0;return o!==c?(h=Math.atan((u-l)/(c-o)),c<o?h+=Math.PI:u<l&&(h+=this.TWO_PI)):u<l?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,l,c,u){var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=(f-h)*(y-v)-(m-g)*(p-d);if(T===0)return!1;var b=((y-v)*(m-h)+(g-m)*(y-d))/T,A=((d-p)*(m-h)+(f-h)*(y-d))/T;return 0<b&&b<1&&0<A&&A<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=s},function(r,n,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,r.exports=s},function(r,n,i){var s=function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}}();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},u=function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return l(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return l(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return l(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return l(p,f,p.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,v=this.head;g<f;)v=v.next,g++;v.value=p}}}]),h}();r.exports=u},function(r,n,i){function s(a,o,l){this.x=null,this.y=null,a==null&&o==null&&l==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&l==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&l==null&&(l=a,this.x=l.x,this.y=l.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,l){a.constructor.name=="Point"&&o==null&&l==null?(l=a,this.setLocation(l.x,l.y)):typeof a=="number"&&typeof o=="number"&&l==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=s},function(r,n,i){function s(a,o,l,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&l!=null&&c!=null&&(this.x=a,this.y=o,this.width=l,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},r.exports=s},function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var l=typeof o>"u"?"undefined":s(o);return o==null||l!="object"&&l!="function"},r.exports=a},function(r,n,i){function s(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var a=i(0),o=i(6),l=i(3),c=i(1),u=i(5),h=i(4),d=i(17),f=i(27);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},p.prototype.newNode=function(g){return new l(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),v=0;v<g.length;v++)g[v];for(var m=this.graphManager.getRoot().getNodes(),v=0;v<m.length;v++)m[v];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof l){var v=g;if(v.getChild()!=null)for(var m=v.getChild().getNodes(),y=0;y<m.length;y++)update(m[y]);if(v.vGraphObject!=null){var T=v.vGraphObject;T.update(v)}}else if(g instanceof c){var b=g;if(b.vGraphObject!=null){var A=b.vGraphObject;A.update(b)}}else if(g instanceof u){var R=g;if(R.vGraphObject!=null){var w=R.vGraphObject;w.update(R)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var v=new d,m=this.graphManager.getRoot().updateLeftTop();if(m!=null){v.setWorldOrgX(g.x),v.setWorldOrgY(g.y),v.setDeviceOrgX(m.x),v.setDeviceOrgY(m.y);for(var y=this.getAllNodes(),T,b=0;b<y.length;b++)T=y[b],T.transform(v)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,m,y=g.getNodes(),T=0;T<y.length;T++)v=y[T],m=v.getChild(),m==null||m.getNodes().length==0?v.scatter():(this.positionNodesRandomly(m),v.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],v=!0,m=this.graphManager.getRoot().getNodes(),y=!0,T=0;T<m.length;T++)m[T].getChild()!=null&&(y=!1);if(!y)return g;var b=new Set,A=[],R=new Map,w=[];for(w=w.concat(m);w.length>0&&v;){for(A.push(w[0]);A.length>0&&v;){var S=A[0];A.splice(0,1),b.add(S);for(var N=S.getEdges(),T=0;T<N.length;T++){var I=N[T].getOtherEnd(S);if(R.get(S)!=I)if(!b.has(I))A.push(I),R.set(I,S);else{v=!1;break}}}if(!v)g=[];else{var C=[].concat(s(b));g.push(C);for(var T=0;T<C.length;T++){var M=C[T],k=w.indexOf(M);k>-1&&w.splice(k,1)}b=new Set,R=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var v=[],m=g.source,y=this.graphManager.calcLowestCommonAncestor(g.source,g.target),T=0;T<g.bendpoints.length;T++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),y.add(b);var A=this.newEdge(null);this.graphManager.add(A,m,b),v.add(b),m=b}var A=this.newEdge(null);return this.graphManager.add(A,m,g.target),this.edgeToDummyNodes.set(g,v),g.isInterGraph()?this.graphManager.remove(g):y.remove(g),v},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var v=0;v<g.length;v++){var m=g[v];if(m.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(m),T=0;T<y.length;T++){var b=y[T],A=new h(b.getCenterX(),b.getCenterY()),R=m.bendpoints.get(T);R.x=A.x,R.y=A.y,b.getOwner().remove(b)}this.graphManager.add(m,m.source,m.target)}}},p.transform=function(g,v,m,y){if(m!=null&&y!=null){var T=v;if(g<=50){var b=v/m;T-=(v-b)/50*(50-g)}else{var A=v*y;T+=(A-v)/50*(g-50)}return T}else{var R,w;return g<=50?(R=9*v/500,w=v/10):(R=9*v/50,w=-8*v),R*g+w}},p.findCenterOfTree=function(g){var v=[];v=v.concat(g);var m=[],y=new Map,T=!1,b=null;(v.length==1||v.length==2)&&(T=!0,b=v[0]);for(var A=0;A<v.length;A++){var R=v[A],w=R.getNeighborsList().size;y.set(R,R.getNeighborsList().size),w==1&&m.push(R)}var S=[];for(S=S.concat(m);!T;){var N=[];N=N.concat(S),S=[];for(var A=0;A<v.length;A++){var R=v[A],I=v.indexOf(R);I>=0&&v.splice(I,1);var C=R.getNeighborsList();C.forEach(function(E){if(m.indexOf(E)<0){var O=y.get(E),_=O-1;_==1&&S.push(E),y.set(E,_)}})}m=m.concat(S),(v.length==1||v.length==2)&&(T=!0,b=v[0])}return b},p.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=p},function(r,n,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},r.exports=s},function(r,n,i){var s=i(4);function a(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var l=0,c=this.lworldExtX;return c!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),l},a.prototype.transformY=function(o){var l=0,c=this.lworldExtY;return c!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),l},a.prototype.inverseTransformX=function(o){var l=0,c=this.ldeviceExtX;return c!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),l},a.prototype.inverseTransformY=function(o){var l=0,c=this.ldeviceExtY;return c!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),l},a.prototype.inverseTransformPoint=function(o){var l=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=a},function(r,n,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(7),l=i(0),c=i(8),u=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,v,m,y,T=this.getGraphManager().getAllEdges(),b=0;b<T.length;b++)f=T[b],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(g=f.getSource(),v=f.getTarget(),m=f.getSourceInLca().getEstimatedSize(),y=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=m+y-2*l.SIMPLE_NODE_SIZE),p=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*p))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,v,m,y,T=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),b=new Set,g=0;g<T.length;g++)m=T[g],this.calculateRepulsionForceOfANode(m,b,f,p),b.add(m);else for(g=0;g<T.length;g++)for(m=T[g],v=g+1;v<T.length;v++)y=T[v],m.getOwner()==y.getOwner()&&this.calcRepulsionForce(m,y)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),v=f.getTarget(),m,y,T,b;if(this.uniformLeafNodeSizes&&g.getChild()==null&&v.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;m=f.getLength(),m!=0&&(y=this.springConstant*(m-p),T=y*(f.lengthX/m),b=y*(f.lengthY/m),g.springForceX+=T,g.springForceY+=b,v.springForceX-=T,v.springForceY-=b)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),v=p.getRect(),m=new Array(2),y=new Array(4),T,b,A,R,w,S,N;if(g.intersects(v)){c.calcSeparationAmount(g,v,m,o.DEFAULT_EDGE_LENGTH/2),S=2*m[0],N=2*m[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*S,f.repulsionForceY-=I*N,p.repulsionForceX+=I*S,p.repulsionForceY+=I*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(T=v.getCenterX()-g.getCenterX(),b=v.getCenterY()-g.getCenterY()):(c.getIntersection(g,v,y),T=y[2]-y[0],b=y[3]-y[1]),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=u.sign(T)*o.MIN_REPULSION_DIST),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=u.sign(b)*o.MIN_REPULSION_DIST),A=T*T+b*b,R=Math.sqrt(A),w=this.repulsionConstant*f.noOfChildren*p.noOfChildren/A,S=w*T/R,N=w*b/R,f.repulsionForceX-=S,f.repulsionForceY-=N,p.repulsionForceX+=S,p.repulsionForceY+=N},h.prototype.calcGravitationalForce=function(f){var p,g,v,m,y,T,b,A;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,v=(p.getTop()+p.getBottom())/2,m=f.getCenterX()-g,y=f.getCenterY()-v,T=Math.abs(m)+f.getWidth()/2,b=Math.abs(y)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(A=p.getEstimatedSize()*this.gravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m,f.gravitationForceY=-this.gravityConstant*y)):(A=p.getEstimatedSize()*this.compoundGravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var v=new Array(p),m=0;m<p;m++)v[m]=new Array(g);for(var m=0;m<p;m++)for(var y=0;y<g;y++)v[m][y]=new Array;return v},h.prototype.addNodeToGrid=function(f,p,g){var v=0,m=0,y=0,T=0;v=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),T=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var b=v;b<=m;b++)for(var A=y;A<=T;A++)this.grid[b][A].push(f),f.setGridCoordinates(v,m,y,T)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||v){var m=new Set;f.surrounding=new Array;for(var y,T=this.grid,b=f.startX-1;b<f.finishX+2;b++)for(var A=f.startY-1;A<f.finishY+2;A++)if(!(b<0||A<0||b>=T.length||A>=T[0].length)){for(var R=0;R<T[b][A].length;R++)if(y=T[b][A][R],!(f.getOwner()!=y.getOwner()||f==y)&&!p.has(y)&&!m.has(y)){var w=Math.abs(f.getCenterX()-y.getCenterX())-(f.getWidth()/2+y.getWidth()/2),S=Math.abs(f.getCenterY()-y.getCenterY())-(f.getHeight()/2+y.getHeight()/2);w<=this.repulsionRange&&S<=this.repulsionRange&&m.add(y)}}f.surrounding=[].concat(s(m))}for(b=0;b<f.surrounding.length;b++)this.calcRepulsionForce(f,f.surrounding[b])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,i){var s=i(1),a=i(7);function o(c,u,h){s.call(this,c,u,h),this.idealLength=a.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];r.exports=o},function(r,n,i){var s=i(3);function a(l,c,u,h){s.call(this,l,c,u,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(s.prototype);for(var o in s)a[o]=s[o];a.prototype.setGridCoordinates=function(l,c,u,h){this.startX=l,this.finishX=c,this.startY=u,this.finishY=h},r.exports=a},function(r,n,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},r.exports=s},function(r,n,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,l){var c=s.createID(o);this.contains(c)||(this.map[c]=l,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var l=s.createID(o);return this.map[l]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var l=s.createID(o);this.contains(l)||(this.set[l]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),c=l.length,u=0;u<c;u++)o.push(this.set[l[u]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var l=o.length,c=0;c<l;c++){var u=o[c];this.add(u)}},r.exports=a},function(r,n,i){var s=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function c(u,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;u instanceof o?d=u.size():d=u.length,this._quicksort(u,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,v=f;;){for(;this.compareFunction(p,this._get(h,v));)v--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<v)this._swap(h,g,v),g++,v--;else return v}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c}();r.exports=l},function(r,n,i){var s=function(){function l(c,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,l),this.sequence1=c,this.sequence2=u,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=u.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[v][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,v=this.grid[d][f-1]+this.gap_penalty,m=[p,g,v],y=this.arrayAllMaxIndexes(m);this.grid[d][f]=m[y[0]],this.tracebackGrid[d][f]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var h=u[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&u.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&u.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&u.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),u.shift()}return this.alignments}},{key:"getAllIndexes",value:function(u,h){for(var d=[],f=-1;(f=u.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(u){return this.getAllIndexes(u,Math.max.apply(null,u))}}]),l}();r.exports=o},function(r,n,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(7),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(4),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(24),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(5),s.LEdge=i(1),s.LGraphManager=i(6),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(25),r.exports=s},function(r,n,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,l){this.listeners.push({event:o,callback:l})},a.removeListener=function(o,l){for(var c=this.listeners.length;c>=0;c--){var u=this.listeners[c];u.event===o&&u.callback===l&&this.listeners.splice(c,1)}},a.emit=function(o,l){for(var c=0;c<this.listeners.length;c++){var u=this.listeners[c];o===u.event&&u.callback(l)}},r.exports=s}])})}(gu)),gu.exports}var r$=pu.exports,XE;function H3(){return XE||(XE=1,function(e,t){(function(n,i){e.exports=i(e$())})(r$,function(r){return function(n){var i={};function s(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=i,s.i=function(a){return a},s.d=function(a,o,l){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=7)}([function(n,i){n.exports=r},function(n,i,s){var a=s(0).FDLayoutConstants;function o(){}for(var l in a)o[l]=a[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,s){var a=s(0).FDLayoutEdge;function o(c,u,h){a.call(this,c,u,h)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).LGraph;function o(c,u,h){a.call(this,c,u,h)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).LGraphManager;function o(c){a.call(this,c)}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,i,s){var a=s(0).FDLayoutNode,o=s(0).IMath;function l(u,h,d,f){a.call(this,u,h,d,f)}l.prototype=Object.create(a.prototype);for(var c in a)l[c]=a[c];l.prototype.move=function(){var u=this.graphManager.getLayout();this.displacementX=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(u,h){for(var d=this.getChild().getNodes(),f,p=0;p<d.length;p++)f=d[p],f.getChild()==null?(f.moveBy(u,h),f.displacementX+=u,f.displacementY+=h):f.propogateDisplacementToChildren(u,h)},l.prototype.setPred1=function(u){this.pred1=u},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(u){this.next=u},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(u){this.processed=u},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,s){var a=s(0).FDLayout,o=s(4),l=s(3),c=s(5),u=s(2),h=s(1),d=s(0).FDLayoutConstants,f=s(0).LayoutConstants,p=s(0).Point,g=s(0).PointD,v=s(0).Layout,m=s(0).Integer,y=s(0).IGeometry,T=s(0).LGraph,b=s(0).Transform;function A(){a.call(this),this.toBeTiled={}}A.prototype=Object.create(a.prototype);for(var R in a)A[R]=a[R];A.prototype.newGraphManager=function(){var w=new o(this);return this.graphManager=w,w},A.prototype.newGraph=function(w){return new l(null,this.graphManager,w)},A.prototype.newNode=function(w){return new c(this.graphManager,w)},A.prototype.newEdge=function(w){return new u(null,null,w)},A.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var w=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(M){return S.has(M)});this.graphManager.setAllNodesToApplyGravitation(N)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(I){return S.has(I)});this.graphManager.setAllNodesToApplyGravitation(N),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(C){return w.has(C)});this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,I=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,I),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),S={},N=0;N<w.length;N++){var I=w[N].rect,C=w[N].id;S[C]={id:C,x:I.getCenterX(),y:I.getCenterY(),w:I.width,h:I.height}}return S},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],S,N=this.graphManager.getGraphs(),I=N.length,C;for(C=0;C<I;C++)S=N[C],S.updateConnected(),S.isConnected||(w=w.concat(S.getNodes()));return w},A.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var S=new Set,N;for(N=0;N<w.length;N++){var I=w[N];if(!S.has(I)){var C=I.getSource(),M=I.getTarget();if(C==M)I.getBendpoints().push(new g),I.getBendpoints().push(new g),this.createDummyNodesForBendpoints(I),S.add(I);else{var k=[];if(k=k.concat(C.getEdgeListToNode(M)),k=k.concat(M.getEdgeListToNode(C)),!S.has(k[0])){if(k.length>1){var E;for(E=0;E<k.length;E++){var O=k[E];O.getBendpoints().push(new g),this.createDummyNodesForBendpoints(O)}}k.forEach(function(_){S.add(_)})}}}if(S.size==w.length)break}},A.prototype.positionNodesRadially=function(w){for(var S=new p(0,0),N=Math.ceil(Math.sqrt(w.length)),I=0,C=0,M=0,k=new g(0,0),E=0;E<w.length;E++){E%N==0&&(M=0,C=I,E!=0&&(C+=h.DEFAULT_COMPONENT_SEPERATION),I=0);var O=w[E],_=v.findCenterOfTree(O);S.x=M,S.y=C,k=A.radialLayout(O,_,S),k.y>I&&(I=Math.floor(k.y)),M=Math.floor(k.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(f.WORLD_CENTER_X-k.x/2,f.WORLD_CENTER_Y-k.y/2))},A.radialLayout=function(w,S,N){var I=Math.max(this.maxDiagonalInTree(w),h.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(S,null,0,359,0,I);var C=T.calculateBounds(w),M=new b;M.setDeviceOrgX(C.getMinX()),M.setDeviceOrgY(C.getMinY()),M.setWorldOrgX(N.x),M.setWorldOrgY(N.y);for(var k=0;k<w.length;k++){var E=w[k];E.transform(M)}var O=new g(C.getMaxX(),C.getMaxY());return M.inverseTransformPoint(O)},A.branchRadialLayout=function(w,S,N,I,C,M){var k=(I-N+1)/2;k<0&&(k+=180);var E=(k+N)%360,O=E*y.TWO_PI/360,_=C*Math.cos(O),x=C*Math.sin(O);w.setCenter(_,x);var L=[];L=L.concat(w.getEdges());var D=L.length;S!=null&&D--;for(var P=0,U=L.length,z,H=w.getEdgesBetween(S);H.length>1;){var V=H[0];H.splice(0,1);var W=L.indexOf(V);W>=0&&L.splice(W,1),U--,D--}S!=null?z=(L.indexOf(H[0])+1)%U:z=0;for(var q=Math.abs(I-N)/D,tt=z;P!=D;tt=++tt%U){var Z=L[tt].getOtherEnd(w);if(Z!=S){var $=(N+P*q)%360,Y=($+q)%360;A.branchRadialLayout(Z,w,$,Y,C+M,M),P++}}},A.maxDiagonalInTree=function(w){for(var S=m.MIN_VALUE,N=0;N<w.length;N++){var I=w[N],C=I.getDiagonal();C>S&&(S=C)}return S},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var w=this,S={};this.memberGroups={},this.idToDummyNode={};for(var N=[],I=this.graphManager.getAllNodes(),C=0;C<I.length;C++){var M=I[C],k=M.getParent();this.getNodeDegreeWithChildren(M)===0&&(k.id==null||!this.getToBeTiled(k))&&N.push(M)}for(var C=0;C<N.length;C++){var M=N[C],E=M.getParent().id;typeof S[E]>"u"&&(S[E]=[]),S[E]=S[E].concat(M)}Object.keys(S).forEach(function(O){if(S[O].length>1){var _="DummyCompound_"+O;w.memberGroups[_]=S[O];var x=S[O][0].getParent(),L=new c(w.graphManager);L.id=_,L.paddingLeft=x.paddingLeft||0,L.paddingRight=x.paddingRight||0,L.paddingBottom=x.paddingBottom||0,L.paddingTop=x.paddingTop||0,w.idToDummyNode[_]=L;var D=w.getGraphManager().add(w.newGraph(),L),P=x.getChild();P.add(L);for(var U=0;U<S[O].length;U++){var z=S[O][U];P.remove(z),D.add(z)}}})},A.prototype.clearCompounds=function(){var w={},S={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)S[this.compoundOrder[N].id]=this.compoundOrder[N],w[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,S)},A.prototype.clearZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var I=w.idToDummyNode[N];S[N]=w.tileNodes(w.memberGroups[N],I.paddingLeft+I.paddingRight),I.rect.width=S[N].width,I.rect.height=S[N].height})},A.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var S=this.compoundOrder[w],N=S.id,I=S.paddingLeft,C=S.paddingTop;this.adjustLocations(this.tiledMemberPack[N],S.rect.x,S.rect.y,I,C)}},A.prototype.repopulateZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(N){var I=w.idToDummyNode[N],C=I.paddingLeft,M=I.paddingTop;w.adjustLocations(S[N],I.rect.x,I.rect.y,C,M)})},A.prototype.getToBeTiled=function(w){var S=w.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var N=w.getChild();if(N==null)return this.toBeTiled[S]=!1,!1;for(var I=N.getNodes(),C=0;C<I.length;C++){var M=I[C];if(this.getNodeDegree(M)>0)return this.toBeTiled[S]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[S]=!1,!1}return this.toBeTiled[S]=!0,!0},A.prototype.getNodeDegree=function(w){w.id;for(var S=w.getEdges(),N=0,I=0;I<S.length;I++){var C=S[I];C.getSource().id!==C.getTarget().id&&(N=N+1)}return N},A.prototype.getNodeDegreeWithChildren=function(w){var S=this.getNodeDegree(w);if(w.getChild()==null)return S;for(var N=w.getChild().getNodes(),I=0;I<N.length;I++){var C=N[I];S+=this.getNodeDegreeWithChildren(C)}return S},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(w){for(var S=0;S<w.length;S++){var N=w[S];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},A.prototype.adjustLocations=function(w,S,N,I,C){S+=I,N+=C;for(var M=S,k=0;k<w.rows.length;k++){var E=w.rows[k];S=M;for(var O=0,_=0;_<E.length;_++){var x=E[_];x.rect.x=S,x.rect.y=N,S+=x.rect.width+w.horizontalPadding,x.rect.height>O&&(O=x.rect.height)}N+=O+w.verticalPadding}},A.prototype.tileCompoundMembers=function(w,S){var N=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(I){var C=S[I];N.tiledMemberPack[I]=N.tileNodes(w[I],C.paddingLeft+C.paddingRight),C.rect.width=N.tiledMemberPack[I].width,C.rect.height=N.tiledMemberPack[I].height})},A.prototype.tileNodes=function(w,S){var N=h.TILING_PADDING_VERTICAL,I=h.TILING_PADDING_HORIZONTAL,C={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:N,horizontalPadding:I};w.sort(function(E,O){return E.rect.width*E.rect.height>O.rect.width*O.rect.height?-1:E.rect.width*E.rect.height<O.rect.width*O.rect.height?1:0});for(var M=0;M<w.length;M++){var k=w[M];C.rows.length==0?this.insertNodeToRow(C,k,0,S):this.canAddHorizontal(C,k.rect.width,k.rect.height)?this.insertNodeToRow(C,k,this.getShortestRowIndex(C),S):this.insertNodeToRow(C,k,C.rows.length,S),this.shiftToLastRow(C)}return C},A.prototype.insertNodeToRow=function(w,S,N,I){var C=I;if(N==w.rows.length){var M=[];w.rows.push(M),w.rowWidth.push(C),w.rowHeight.push(0)}var k=w.rowWidth[N]+S.rect.width;w.rows[N].length>0&&(k+=w.horizontalPadding),w.rowWidth[N]=k,w.width<k&&(w.width=k);var E=S.rect.height;N>0&&(E+=w.verticalPadding);var O=0;E>w.rowHeight[N]&&(O=w.rowHeight[N],w.rowHeight[N]=E,O=w.rowHeight[N]-O),w.height+=O,w.rows[N].push(S)},A.prototype.getShortestRowIndex=function(w){for(var S=-1,N=Number.MAX_VALUE,I=0;I<w.rows.length;I++)w.rowWidth[I]<N&&(S=I,N=w.rowWidth[I]);return S},A.prototype.getLongestRowIndex=function(w){for(var S=-1,N=Number.MIN_VALUE,I=0;I<w.rows.length;I++)w.rowWidth[I]>N&&(S=I,N=w.rowWidth[I]);return S},A.prototype.canAddHorizontal=function(w,S,N){var I=this.getShortestRowIndex(w);if(I<0)return!0;var C=w.rowWidth[I];if(C+w.horizontalPadding+S<=w.width)return!0;var M=0;w.rowHeight[I]<N&&I>0&&(M=N+w.verticalPadding-w.rowHeight[I]);var k;w.width-C>=S+w.horizontalPadding?k=(w.height+M)/(C+S+w.horizontalPadding):k=(w.height+M)/w.width,M=N+w.verticalPadding;var E;return w.width<S?E=(w.height+M)/S:E=(w.height+M)/w.width,E<1&&(E=1/E),k<1&&(k=1/k),k<E},A.prototype.shiftToLastRow=function(w){var S=this.getLongestRowIndex(w),N=w.rowWidth.length-1,I=w.rows[S],C=I[I.length-1],M=C.width+w.horizontalPadding;if(w.width-w.rowWidth[N]>M&&S!=N){I.splice(-1,1),w.rows[N].push(C),w.rowWidth[S]=w.rowWidth[S]-M,w.rowWidth[N]=w.rowWidth[N]+M,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var k=Number.MIN_VALUE,E=0;E<I.length;E++)I[E].height>k&&(k=I[E].height);S>0&&(k+=w.verticalPadding);var O=w.rowHeight[S]+w.rowHeight[N];w.rowHeight[S]=k,w.rowHeight[N]<C.height+w.verticalPadding&&(w.rowHeight[N]=C.height+w.verticalPadding);var _=w.rowHeight[S]+w.rowHeight[N];w.height+=_-O,this.shiftToLastRow(w)}},A.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var w=[],S=!0,N;S;){var I=this.graphManager.getAllNodes(),C=[];S=!1;for(var M=0;M<I.length;M++)N=I[M],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null&&(C.push([N,N.getEdges()[0],N.getOwner()]),S=!0);if(S==!0){for(var k=[],E=0;E<C.length;E++)C[E][0].getEdges().length==1&&(k.push(C[E]),C[E][0].getOwner().remove(C[E][0]));w.push(k),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},A.prototype.growTree=function(w){for(var S=w.length,N=w[S-1],I,C=0;C<N.length;C++)I=N[C],this.findPlaceforPrunedNode(I),I[2].add(I[0]),I[2].add(I[1],I[1].source,I[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(w){var S,N,I=w[0];I==w[1].source?N=w[1].target:N=w[1].source;var C=N.startX,M=N.finishX,k=N.startY,E=N.finishY,O=0,_=0,x=0,L=0,D=[O,x,_,L];if(k>0)for(var P=C;P<=M;P++)D[0]+=this.grid[P][k-1].length+this.grid[P][k].length-1;if(M<this.grid.length-1)for(var P=k;P<=E;P++)D[1]+=this.grid[M+1][P].length+this.grid[M][P].length-1;if(E<this.grid[0].length-1)for(var P=C;P<=M;P++)D[2]+=this.grid[P][E+1].length+this.grid[P][E].length-1;if(C>0)for(var P=k;P<=E;P++)D[3]+=this.grid[C-1][P].length+this.grid[C][P].length-1;for(var U=m.MAX_VALUE,z,H,V=0;V<D.length;V++)D[V]<U?(U=D[V],z=1,H=V):D[V]==U&&z++;if(z==3&&U==0)D[0]==0&&D[1]==0&&D[2]==0?S=1:D[0]==0&&D[1]==0&&D[3]==0?S=0:D[0]==0&&D[2]==0&&D[3]==0?S=3:D[1]==0&&D[2]==0&&D[3]==0&&(S=2);else if(z==2&&U==0){var W=Math.floor(Math.random()*2);D[0]==0&&D[1]==0?W==0?S=0:S=1:D[0]==0&&D[2]==0?W==0?S=0:S=2:D[0]==0&&D[3]==0?W==0?S=0:S=3:D[1]==0&&D[2]==0?W==0?S=1:S=2:D[1]==0&&D[3]==0?W==0?S=1:S=3:W==0?S=2:S=3}else if(z==4&&U==0){var W=Math.floor(Math.random()*4);S=W}else S=H;S==0?I.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-d.DEFAULT_EDGE_LENGTH-I.getHeight()/2):S==1?I.setCenter(N.getCenterX()+N.getWidth()/2+d.DEFAULT_EDGE_LENGTH+I.getWidth()/2,N.getCenterY()):S==2?I.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+d.DEFAULT_EDGE_LENGTH+I.getHeight()/2):I.setCenter(N.getCenterX()-N.getWidth()/2-d.DEFAULT_EDGE_LENGTH-I.getWidth()/2,N.getCenterY())},n.exports=A},function(n,i,s){var a={};a.layoutBase=s(0),a.CoSEConstants=s(1),a.CoSEEdge=s(2),a.CoSEGraph=s(3),a.CoSEGraphManager=s(4),a.CoSELayout=s(6),a.CoSENode=s(5),n.exports=a}])})}(pu)),pu.exports}var vu={exports:{}},mu={exports:{}},n$=mu.exports,qE;function i$(){return qE||(qE=1,function(e,t){(function(n,i){e.exports=i()})(n$,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=28)}([function(r,n,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,r.exports=s},function(r,n,i){var s=i(2),a=i(8),o=i(9);function l(u,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}l.prototype=Object.create(s.prototype);for(var c in s)l[c]=s[c];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function s(a){this.vGraphObject=a}r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(13),l=i(0),c=i(16),u=i(5);function h(f,p,g,v){g==null&&v==null&&(v=p),s.call(this,v),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(v.target==f){if(v.source!=g)throw"Incorrect edge source!";p.push(v)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(v){if(!(v.source==g||v.target==g))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&p.push(v)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var v=this.child.getNodes(),m=0;m<v.length;m++)p=v[m],g=p.withChildren(),g.forEach(function(y){f.add(y)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),v=0;v<g.length;v++)p=g[v],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-l.INITIAL_WORLD_BOUNDARY,v=l.INITIAL_WORLD_BOUNDARY;f=l.WORLD_CENTER_X+c.nextDouble()*(v-g)+g;var m=-l.INITIAL_WORLD_BOUNDARY,y=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_Y+c.nextDouble()*(y-m)+m,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>l.WORLD_BOUNDARY?p=l.WORLD_BOUNDARY:p<-l.WORLD_BOUNDARY&&(p=-l.WORLD_BOUNDARY);var g=this.rect.y;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var v=new u(p,g),m=f.inverseTransformPoint(v);this.setLocation(m.x,m.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=s},function(r,n,i){var s=i(2),a=i(10),o=i(0),l=i(7),c=i(3),u=i(1),h=i(13),d=i(12),f=i(11);function p(v,m,y){s.call(this,y),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,m!=null&&m instanceof l?this.graphManager=m:m!=null&&m instanceof Layout&&(this.graphManager=m.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(v,m,y){if(m==null&&y==null){var T=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(T)>-1)throw"Node already in graph!";return T.owner=this,this.getNodes().push(T),T}else{var b=v;if(!(this.getNodes().indexOf(m)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(m.owner==y.owner&&m.owner==this))throw"Both owners must be this graph!";return m.owner!=y.owner?null:(b.source=m,b.target=y,b.isInterGraph=!1,this.getEdges().push(b),m.edges.push(b),y!=m&&y.edges.push(b),b)}},p.prototype.remove=function(v){var m=v;if(v instanceof c){if(m==null)throw"Node is null!";if(!(m.owner!=null&&m.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=m.edges.slice(),T,b=y.length,A=0;A<b;A++)T=y[A],T.isInterGraph?this.graphManager.remove(T):T.source.owner.remove(T);var R=this.nodes.indexOf(m);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof u){var T=v;if(T==null)throw"Edge is null!";if(!(T.source!=null&&T.target!=null))throw"Source and/or target is null!";if(!(T.source.owner!=null&&T.target.owner!=null&&T.source.owner==this&&T.target.owner==this))throw"Source and/or target owner is invalid!";var w=T.source.edges.indexOf(T),S=T.target.edges.indexOf(T);if(!(w>-1&&S>-1))throw"Source and/or target doesn't know this edge!";T.source.edges.splice(w,1),T.target!=T.source&&T.target.edges.splice(S,1);var R=T.source.owner.getEdges().indexOf(T);if(R==-1)throw"Not in owner's edge list!";T.source.owner.getEdges().splice(R,1)}},p.prototype.updateLeftTop=function(){for(var v=a.MAX_VALUE,m=a.MAX_VALUE,y,T,b,A=this.getNodes(),R=A.length,w=0;w<R;w++){var S=A[w];y=S.getTop(),T=S.getLeft(),v>y&&(v=y),m>T&&(m=T)}return v==a.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?b=A[0].getParent().paddingLeft:b=this.margin,this.left=m-b,this.top=v-b,new d(this.left,this.top))},p.prototype.updateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N,I=this.nodes,C=I.length,M=0;M<C;M++){var k=I[M];v&&k.child!=null&&k.updateBounds(),A=k.getLeft(),R=k.getRight(),w=k.getTop(),S=k.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var E=new h(m,T,y-m,b-T);m==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?N=I[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},p.calculateBounds=function(v){for(var m=a.MAX_VALUE,y=-a.MAX_VALUE,T=a.MAX_VALUE,b=-a.MAX_VALUE,A,R,w,S,N=v.length,I=0;I<N;I++){var C=v[I];A=C.getLeft(),R=C.getRight(),w=C.getTop(),S=C.getBottom(),m>A&&(m=A),y<R&&(y=R),T>w&&(T=w),b<S&&(b=S)}var M=new h(m,T,y-m,b-T);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var v=0,m=this.nodes,y=m.length,T=0;T<y;T++){var b=m[T];v+=b.calcEstimatedSize()}return v==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=v/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var v=this;if(this.nodes.length==0){this.isConnected=!0;return}var m=new f,y=new Set,T=this.nodes[0],b,A,R=T.withChildren();for(R.forEach(function(M){m.push(M),y.add(M)});m.length!==0;){T=m.shift(),b=T.getEdges();for(var w=b.length,S=0;S<w;S++){var N=b[S];if(A=N.getOtherEndInGraph(T,this),A!=null&&!y.has(A)){var I=A.withChildren();I.forEach(function(M){m.push(M),y.add(M)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var C=0;y.forEach(function(M){M.owner==v&&C++}),C==this.nodes.length&&(this.isConnected=!0)}},r.exports=p},function(r,n,i){var s,a=i(1);function o(l){s=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),c=this.layout.newNode(null),u=this.add(l,c);return this.setRootGraph(u),this.rootGraph},o.prototype.add=function(l,c,u,h,d){if(u==null&&h==null&&d==null){if(l==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return l.parent=c,c.child=l,l}else{d=u,h=c,u=l;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return u.isInterGraph=!1,f.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),!(u.source!=null&&u.target!=null))throw"Edge source and/or target is null!";if(!(u.source.edges.indexOf(u)==-1&&u.target.edges.indexOf(u)==-1))throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u}},o.prototype.remove=function(l){if(l instanceof s){var c=l;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var u=[];u=u.concat(c.getEdges());for(var h,d=u.length,f=0;f<d;f++)h=u[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(c);this.graphs.splice(v,1),c.parent=null}else if(l instanceof a){if(h=l,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var v=h.source.edges.indexOf(h);if(h.source.edges.splice(v,1),v=h.target.edges.indexOf(h),h.target.edges.splice(v,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var v=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],c=this.getGraphs(),u=c.length,h=0;h<u;h++)l=l.concat(c[h].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],c=this.getGraphs();c.length;for(var u=0;u<c.length;u++)l=l.concat(c[u].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,c){if(!(l!=null&&c!=null))throw"assert failed";if(l==c)return!0;var u=l.getOwner(),h;do{if(h=u.getParent(),h==null)break;if(h==c)return!0;if(u=h.getOwner(),u==null)break}while(!0);u=c.getOwner();do{if(h=u.getParent(),h==null)break;if(h==l)return!0;if(u=h.getOwner(),u==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,c,u,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(l=f[g],c=l.source,u=l.target,l.lca=null,l.sourceInLca=c,l.targetInLca=u,c==u){l.lca=c.getOwner();continue}for(h=c.getOwner();l.lca==null;){for(l.targetInLca=u,d=u.getOwner();l.lca==null;){if(d==h){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(h==this.rootGraph)break;l.lca==null&&(l.sourceInLca=h.getParent(),h=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,c){if(l==c)return l.getOwner();var u=l.getOwner();do{if(u==null)break;var h=c.getOwner();do{if(h==null)break;if(h==u)return h;h=h.getParent().getOwner()}while(!0);u=u.getParent().getOwner()}while(!0);return u},o.prototype.calcInclusionTreeDepths=function(l,c){l==null&&c==null&&(l=this.rootGraph,c=1);for(var u,h=l.getNodes(),d=h.length,f=0;f<d;f++)u=h[f],u.inclusionTreeDepth=c,u.child!=null&&this.calcInclusionTreeDepths(u.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var l,c=[],u=this.edges.length,h=0;h<u;h++)l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target)&&c.push(l);for(var h=0;h<c.length;h++)this.remove(c[h]);return!1},r.exports=o},function(r,n,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,l,c,u){if(!o.intersects(l))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,h),c[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),c[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?c[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?c[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+u),c[1]=-1*h[1]*(f/2+u)},a.decideDirectionsForOverlappingNodes=function(o,l,c){o.getCenterX()<l.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<l.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,l,c){var u=o.getCenterX(),h=o.getCenterY(),d=l.getCenterX(),f=l.getCenterY();if(o.intersects(l))return c[0]=u,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),v=o.getRight(),m=o.getX(),y=o.getBottom(),T=o.getRight(),b=o.getWidthHalf(),A=o.getHeightHalf(),R=l.getX(),w=l.getY(),S=l.getRight(),N=l.getX(),I=l.getBottom(),C=l.getRight(),M=l.getWidthHalf(),k=l.getHeightHalf(),E=!1,O=!1;if(u===d){if(h>f)return c[0]=u,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=u,c[1]=y,c[2]=d,c[3]=w,!1}else if(h===f){if(u>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(u<d)return c[0]=v,c[1]=h,c[2]=R,c[3]=f,!1}else{var _=o.height/o.width,x=l.height/l.width,L=(f-h)/(d-u),D=void 0,P=void 0,U=void 0,z=void 0,H=void 0,V=void 0;if(-_===L?u>d?(c[0]=m,c[1]=y,E=!0):(c[0]=v,c[1]=g,E=!0):_===L&&(u>d?(c[0]=p,c[1]=g,E=!0):(c[0]=T,c[1]=y,E=!0)),-x===L?d>u?(c[2]=N,c[3]=I,O=!0):(c[2]=S,c[3]=w,O=!0):x===L&&(d>u?(c[2]=R,c[3]=w,O=!0):(c[2]=C,c[3]=I,O=!0)),E&&O)return!1;if(u>d?h>f?(D=this.getCardinalDirection(_,L,4),P=this.getCardinalDirection(x,L,2)):(D=this.getCardinalDirection(-_,L,3),P=this.getCardinalDirection(-x,L,1)):h>f?(D=this.getCardinalDirection(-_,L,1),P=this.getCardinalDirection(-x,L,3)):(D=this.getCardinalDirection(_,L,2),P=this.getCardinalDirection(x,L,4)),!E)switch(D){case 1:z=g,U=u+-A/L,c[0]=U,c[1]=z;break;case 2:U=T,z=h+b*L,c[0]=U,c[1]=z;break;case 3:z=y,U=u+A/L,c[0]=U,c[1]=z;break;case 4:U=m,z=h+-b*L,c[0]=U,c[1]=z;break}if(!O)switch(P){case 1:V=w,H=d+-k/L,c[2]=H,c[3]=V;break;case 2:H=C,V=f+M*L,c[2]=H,c[3]=V;break;case 3:V=I,H=d+k/L,c[2]=H,c[3]=V;break;case 4:H=N,V=f+-M*L,c[2]=H,c[3]=V;break}}return!1},a.getCardinalDirection=function(o,l,c){return o>l?c:1+c%4},a.getIntersection=function(o,l,c,u){if(u==null)return this.getIntersection2(o,l,c);var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=void 0,b=void 0,A=void 0,R=void 0,w=void 0,S=void 0,N=void 0,I=void 0,C=void 0;return A=p-d,w=h-f,N=f*d-h*p,R=y-v,S=g-m,I=m*v-g*y,C=A*S-R*w,C===0?null:(T=(w*I-S*N)/C,b=(R*N-A*I)/C,new s(T,b))},a.angleOfVector=function(o,l,c,u){var h=void 0;return o!==c?(h=Math.atan((u-l)/(c-o)),c<o?h+=Math.PI:u<l&&(h+=this.TWO_PI)):u<l?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,l,c,u){var h=o.x,d=o.y,f=l.x,p=l.y,g=c.x,v=c.y,m=u.x,y=u.y,T=(f-h)*(y-v)-(m-g)*(p-d);if(T===0)return!1;var b=((y-v)*(m-h)+(g-m)*(y-d))/T,A=((d-p)*(m-h)+(f-h)*(y-d))/T;return 0<b&&b<1&&0<A&&A<1},a.findCircleLineIntersections=function(o,l,c,u,h,d,f){var p=(c-o)*(c-o)+(u-l)*(u-l),g=2*((o-h)*(c-o)+(l-d)*(u-l)),v=(o-h)*(o-h)+(l-d)*(l-d)-f*f,m=g*g-4*p*v;if(m>=0){var y=(-g+Math.sqrt(g*g-4*p*v))/(2*p),T=(-g-Math.sqrt(g*g-4*p*v))/(2*p),b=null;return y>=0&&y<=1?[y]:T>=0&&T<=1?[T]:b}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=s},function(r,n,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,r.exports=s},function(r,n,i){var s=function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}}();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},u=function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return l(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return l(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return l(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return l(p,f,p.next,this)}},{key:"push",value:function(f){return l(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return l(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,v=this.head;g<f;)v=v.next,g++;v.value=p}}}]),h}();r.exports=u},function(r,n,i){function s(a,o,l){this.x=null,this.y=null,a==null&&o==null&&l==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&l==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&l==null&&(l=a,this.x=l.x,this.y=l.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,l){a.constructor.name=="Point"&&o==null&&l==null?(l=a,this.setLocation(l.x,l.y)):typeof a=="number"&&typeof o=="number"&&l==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=s},function(r,n,i){function s(a,o,l,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&l!=null&&c!=null&&(this.x=a,this.y=o,this.width=l,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},r.exports=s},function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var l=typeof o>"u"?"undefined":s(o);return o==null||l!="object"&&l!="function"},r.exports=a},function(r,n,i){function s(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var a=i(0),o=i(7),l=i(3),c=i(1),u=i(6),h=i(5),d=i(17),f=i(29);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},p.prototype.newNode=function(g){return new l(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),v=0;v<g.length;v++)g[v];for(var m=this.graphManager.getRoot().getNodes(),v=0;v<m.length;v++)m[v];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof l){var v=g;if(v.getChild()!=null)for(var m=v.getChild().getNodes(),y=0;y<m.length;y++)update(m[y]);if(v.vGraphObject!=null){var T=v.vGraphObject;T.update(v)}}else if(g instanceof c){var b=g;if(b.vGraphObject!=null){var A=b.vGraphObject;A.update(b)}}else if(g instanceof u){var R=g;if(R.vGraphObject!=null){var w=R.vGraphObject;w.update(R)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var v=new d,m=this.graphManager.getRoot().updateLeftTop();if(m!=null){v.setWorldOrgX(g.x),v.setWorldOrgY(g.y),v.setDeviceOrgX(m.x),v.setDeviceOrgY(m.y);for(var y=this.getAllNodes(),T,b=0;b<y.length;b++)T=y[b],T.transform(v)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,m,y=g.getNodes(),T=0;T<y.length;T++)v=y[T],m=v.getChild(),m==null||m.getNodes().length==0?v.scatter():(this.positionNodesRandomly(m),v.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],v=!0,m=this.graphManager.getRoot().getNodes(),y=!0,T=0;T<m.length;T++)m[T].getChild()!=null&&(y=!1);if(!y)return g;var b=new Set,A=[],R=new Map,w=[];for(w=w.concat(m);w.length>0&&v;){for(A.push(w[0]);A.length>0&&v;){var S=A[0];A.splice(0,1),b.add(S);for(var N=S.getEdges(),T=0;T<N.length;T++){var I=N[T].getOtherEnd(S);if(R.get(S)!=I)if(!b.has(I))A.push(I),R.set(I,S);else{v=!1;break}}}if(!v)g=[];else{var C=[].concat(s(b));g.push(C);for(var T=0;T<C.length;T++){var M=C[T],k=w.indexOf(M);k>-1&&w.splice(k,1)}b=new Set,R=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var v=[],m=g.source,y=this.graphManager.calcLowestCommonAncestor(g.source,g.target),T=0;T<g.bendpoints.length;T++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),y.add(b);var A=this.newEdge(null);this.graphManager.add(A,m,b),v.add(b),m=b}var A=this.newEdge(null);return this.graphManager.add(A,m,g.target),this.edgeToDummyNodes.set(g,v),g.isInterGraph()?this.graphManager.remove(g):y.remove(g),v},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var v=0;v<g.length;v++){var m=g[v];if(m.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(m),T=0;T<y.length;T++){var b=y[T],A=new h(b.getCenterX(),b.getCenterY()),R=m.bendpoints.get(T);R.x=A.x,R.y=A.y,b.getOwner().remove(b)}this.graphManager.add(m,m.source,m.target)}}},p.transform=function(g,v,m,y){if(m!=null&&y!=null){var T=v;if(g<=50){var b=v/m;T-=(v-b)/50*(50-g)}else{var A=v*y;T+=(A-v)/50*(g-50)}return T}else{var R,w;return g<=50?(R=9*v/500,w=v/10):(R=9*v/50,w=-8*v),R*g+w}},p.findCenterOfTree=function(g){var v=[];v=v.concat(g);var m=[],y=new Map,T=!1,b=null;(v.length==1||v.length==2)&&(T=!0,b=v[0]);for(var A=0;A<v.length;A++){var R=v[A],w=R.getNeighborsList().size;y.set(R,R.getNeighborsList().size),w==1&&m.push(R)}var S=[];for(S=S.concat(m);!T;){var N=[];N=N.concat(S),S=[];for(var A=0;A<v.length;A++){var R=v[A],I=v.indexOf(R);I>=0&&v.splice(I,1);var C=R.getNeighborsList();C.forEach(function(E){if(m.indexOf(E)<0){var O=y.get(E),_=O-1;_==1&&S.push(E),y.set(E,_)}})}m=m.concat(S),(v.length==1||v.length==2)&&(T=!0,b=v[0])}return b},p.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=p},function(r,n,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},r.exports=s},function(r,n,i){var s=i(5);function a(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var l=0,c=this.lworldExtX;return c!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),l},a.prototype.transformY=function(o){var l=0,c=this.lworldExtY;return c!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),l},a.prototype.inverseTransformX=function(o){var l=0,c=this.ldeviceExtX;return c!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),l},a.prototype.inverseTransformY=function(o){var l=0,c=this.ldeviceExtY;return c!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),l},a.prototype.inverseTransformPoint=function(o){var l=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=a},function(r,n,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(4),l=i(0),c=i(8),u=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,v,m,y,T,b=this.getGraphManager().getAllEdges(),A=0;A<b.length;A++)f=b[A],p=f.idealLength,f.isInterGraph&&(v=f.getSource(),m=f.getTarget(),y=f.getSourceInLca().getEstimatedSize(),T=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=y+T-2*l.SIMPLE_NODE_SIZE),g=f.getLca().getInclusionTreeDepth(),f.idealLength+=p*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,v,m,y,T=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),b=new Set,g=0;g<T.length;g++)m=T[g],this.calculateRepulsionForceOfANode(m,b,f,p),b.add(m);else for(g=0;g<T.length;g++)for(m=T[g],v=g+1;v<T.length;v++)y=T[v],m.getOwner()==y.getOwner()&&this.calcRepulsionForce(m,y)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),v=f.getTarget(),m,y,T,b;if(this.uniformLeafNodeSizes&&g.getChild()==null&&v.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;m=f.getLength(),m!=0&&(y=f.edgeElasticity*(m-p),T=y*(f.lengthX/m),b=y*(f.lengthY/m),g.springForceX+=T,g.springForceY+=b,v.springForceX-=T,v.springForceY-=b)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),v=p.getRect(),m=new Array(2),y=new Array(4),T,b,A,R,w,S,N;if(g.intersects(v)){c.calcSeparationAmount(g,v,m,o.DEFAULT_EDGE_LENGTH/2),S=2*m[0],N=2*m[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*S,f.repulsionForceY-=I*N,p.repulsionForceX+=I*S,p.repulsionForceY+=I*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(T=v.getCenterX()-g.getCenterX(),b=v.getCenterY()-g.getCenterY()):(c.getIntersection(g,v,y),T=y[2]-y[0],b=y[3]-y[1]),Math.abs(T)<o.MIN_REPULSION_DIST&&(T=u.sign(T)*o.MIN_REPULSION_DIST),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=u.sign(b)*o.MIN_REPULSION_DIST),A=T*T+b*b,R=Math.sqrt(A),w=(f.nodeRepulsion/2+p.nodeRepulsion/2)*f.noOfChildren*p.noOfChildren/A,S=w*T/R,N=w*b/R,f.repulsionForceX-=S,f.repulsionForceY-=N,p.repulsionForceX+=S,p.repulsionForceY+=N},h.prototype.calcGravitationalForce=function(f){var p,g,v,m,y,T,b,A;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,v=(p.getTop()+p.getBottom())/2,m=f.getCenterX()-g,y=f.getCenterY()-v,T=Math.abs(m)+f.getWidth()/2,b=Math.abs(y)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(A=p.getEstimatedSize()*this.gravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m,f.gravitationForceY=-this.gravityConstant*y)):(A=p.getEstimatedSize()*this.compoundGravityRangeFactor,(T>A||b>A)&&(f.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var v=new Array(p),m=0;m<p;m++)v[m]=new Array(g);for(var m=0;m<p;m++)for(var y=0;y<g;y++)v[m][y]=new Array;return v},h.prototype.addNodeToGrid=function(f,p,g){var v=0,m=0,y=0,T=0;v=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),T=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var b=v;b<=m;b++)for(var A=y;A<=T;A++)this.grid[b][A].push(f),f.setGridCoordinates(v,m,y,T)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||v){var m=new Set;f.surrounding=new Array;for(var y,T=this.grid,b=f.startX-1;b<f.finishX+2;b++)for(var A=f.startY-1;A<f.finishY+2;A++)if(!(b<0||A<0||b>=T.length||A>=T[0].length)){for(var R=0;R<T[b][A].length;R++)if(y=T[b][A][R],!(f.getOwner()!=y.getOwner()||f==y)&&!p.has(y)&&!m.has(y)){var w=Math.abs(f.getCenterX()-y.getCenterX())-(f.getWidth()/2+y.getWidth()/2),S=Math.abs(f.getCenterY()-y.getCenterY())-(f.getHeight()/2+y.getHeight()/2);w<=this.repulsionRange&&S<=this.repulsionRange&&m.add(y)}}f.surrounding=[].concat(s(m))}for(b=0;b<f.surrounding.length;b++)this.calcRepulsionForce(f,f.surrounding[b])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,i){var s=i(1),a=i(4);function o(c,u,h){s.call(this,c,u,h),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];r.exports=o},function(r,n,i){var s=i(3),a=i(4);function o(c,u,h,d){s.call(this,c,u,h,d),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.setGridCoordinates=function(c,u,h,d){this.startX=c,this.finishX=u,this.startY=h,this.finishY=d},r.exports=o},function(r,n,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},r.exports=s},function(r,n,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,l){var c=s.createID(o);this.contains(c)||(this.map[c]=l,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var l=s.createID(o);return this.map[l]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var l=s.createID(o);this.contains(l)||(this.set[l]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),c=l.length,u=0;u<c;u++)o.push(this.set[l[u]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var l=o.length,c=0;c<l;c++){var u=o[c];this.add(u)}},r.exports=a},function(r,n,i){function s(){}s.multMat=function(a,o){for(var l=[],c=0;c<a.length;c++){l[c]=[];for(var u=0;u<o[0].length;u++){l[c][u]=0;for(var h=0;h<a[0].length;h++)l[c][u]+=a[c][h]*o[h][u]}}return l},s.transpose=function(a){for(var o=[],l=0;l<a[0].length;l++){o[l]=[];for(var c=0;c<a.length;c++)o[l][c]=a[c][l]}return o},s.multCons=function(a,o){for(var l=[],c=0;c<a.length;c++)l[c]=a[c]*o;return l},s.minusOp=function(a,o){for(var l=[],c=0;c<a.length;c++)l[c]=a[c]-o[c];return l},s.dotProduct=function(a,o){for(var l=0,c=0;c<a.length;c++)l+=a[c]*o[c];return l},s.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},s.normalize=function(a){for(var o=[],l=this.mag(a),c=0;c<a.length;c++)o[c]=a[c]/l;return o},s.multGamma=function(a){for(var o=[],l=0,c=0;c<a.length;c++)l+=a[c];l*=-1/a.length;for(var u=0;u<a.length;u++)o[u]=l+a[u];return o},s.multL=function(a,o,l){for(var c=[],u=[],h=[],d=0;d<o[0].length;d++){for(var f=0,p=0;p<o.length;p++)f+=-.5*o[p][d]*a[p];u[d]=f}for(var g=0;g<l.length;g++){for(var v=0,m=0;m<l.length;m++)v+=l[g][m]*u[m];h[g]=v}for(var y=0;y<o.length;y++){for(var T=0,b=0;b<o[0].length;b++)T+=o[y][b]*h[b];c[y]=T}return c},r.exports=s},function(r,n,i){var s=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function c(u,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;u instanceof o?d=u.size():d=u.length,this._quicksort(u,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,v=f;;){for(;this.compareFunction(p,this._get(h,v));)v--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<v)this._swap(h,g,v),g++,v--;else return v}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c}();r.exports=l},function(r,n,i){function s(){}s.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var o=Math.min(this.m,this.n);this.s=function(Rt){for(var wt=[];Rt-- >0;)wt.push(0);return wt}(Math.min(this.m+1,this.n)),this.U=function(Rt){var wt=function Ae(he){if(he.length==0)return 0;for(var qe=[],Jt=0;Jt<he[0];Jt++)qe.push(Ae(he.slice(1)));return qe};return wt(Rt)}([this.m,o]),this.V=function(Rt){var wt=function Ae(he){if(he.length==0)return 0;for(var qe=[],Jt=0;Jt<he[0];Jt++)qe.push(Ae(he.slice(1)));return qe};return wt(Rt)}([this.n,this.n]);for(var l=function(Rt){for(var wt=[];Rt-- >0;)wt.push(0);return wt}(this.n),c=function(Rt){for(var wt=[];Rt-- >0;)wt.push(0);return wt}(this.m),u=!0,h=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(h,d);f++){if(f<h){this.s[f]=0;for(var p=f;p<this.m;p++)this.s[f]=s.hypot(this.s[f],a[p][f]);if(this.s[f]!==0){a[f][f]<0&&(this.s[f]=-this.s[f]);for(var g=f;g<this.m;g++)a[g][f]/=this.s[f];a[f][f]+=1}this.s[f]=-this.s[f]}for(var v=f+1;v<this.n;v++){if(function(Rt,wt){return Rt&&wt}(f<h,this.s[f]!==0)){for(var m=0,y=f;y<this.m;y++)m+=a[y][f]*a[y][v];m=-m/a[f][f];for(var T=f;T<this.m;T++)a[T][v]+=m*a[T][f]}l[v]=a[f][v]}if(function(Rt,wt){return wt}(u,f<h))for(var b=f;b<this.m;b++)this.U[b][f]=a[b][f];if(f<d){l[f]=0;for(var A=f+1;A<this.n;A++)l[f]=s.hypot(l[f],l[A]);if(l[f]!==0){l[f+1]<0&&(l[f]=-l[f]);for(var R=f+1;R<this.n;R++)l[R]/=l[f];l[f+1]+=1}if(l[f]=-l[f],function(Rt,wt){return Rt&&wt}(f+1<this.m,l[f]!==0)){for(var w=f+1;w<this.m;w++)c[w]=0;for(var S=f+1;S<this.n;S++)for(var N=f+1;N<this.m;N++)c[N]+=l[S]*a[N][S];for(var I=f+1;I<this.n;I++)for(var C=-l[I]/l[f+1],M=f+1;M<this.m;M++)a[M][I]+=C*c[M]}for(var k=f+1;k<this.n;k++)this.V[k][f]=l[k]}}var E=Math.min(this.n,this.m+1);h<this.n&&(this.s[h]=a[h][h]),this.m<E&&(this.s[E-1]=0),d+1<E&&(l[d]=a[d][E-1]),l[E-1]=0;{for(var O=h;O<o;O++){for(var _=0;_<this.m;_++)this.U[_][O]=0;this.U[O][O]=1}for(var x=h-1;x>=0;x--)if(this.s[x]!==0){for(var L=x+1;L<o;L++){for(var D=0,P=x;P<this.m;P++)D+=this.U[P][x]*this.U[P][L];D=-D/this.U[x][x];for(var U=x;U<this.m;U++)this.U[U][L]+=D*this.U[U][x]}for(var z=x;z<this.m;z++)this.U[z][x]=-this.U[z][x];this.U[x][x]=1+this.U[x][x];for(var H=0;H<x-1;H++)this.U[H][x]=0}else{for(var V=0;V<this.m;V++)this.U[V][x]=0;this.U[x][x]=1}}for(var W=this.n-1;W>=0;W--){if(function(Rt,wt){return Rt&&wt}(W<d,l[W]!==0))for(var q=W+1;q<o;q++){for(var tt=0,Z=W+1;Z<this.n;Z++)tt+=this.V[Z][W]*this.V[Z][q];tt=-tt/this.V[W+1][W];for(var $=W+1;$<this.n;$++)this.V[$][q]+=tt*this.V[$][W]}for(var Y=0;Y<this.n;Y++)this.V[Y][W]=0;this.V[W][W]=1}for(var X=E-1,j=Math.pow(2,-52),nt=Math.pow(2,-966);E>0;){var K=void 0,Gt=void 0;for(K=E-2;K>=-1&&K!==-1;K--)if(Math.abs(l[K])<=nt+j*(Math.abs(this.s[K])+Math.abs(this.s[K+1]))){l[K]=0;break}if(K===E-2)Gt=4;else{var At=void 0;for(At=E-1;At>=K&&At!==K;At--){var De=(At!==E?Math.abs(l[At]):0)+(At!==K+1?Math.abs(l[At-1]):0);if(Math.abs(this.s[At])<=nt+j*De){this.s[At]=0;break}}At===K?Gt=3:At===E-1?Gt=1:(Gt=2,K=At)}switch(K++,Gt){case 1:{var Ee=l[E-2];l[E-2]=0;for(var Ot=E-2;Ot>=K;Ot--){var We=s.hypot(this.s[Ot],Ee),Ye=this.s[Ot]/We,Oi=Ee/We;this.s[Ot]=We,Ot!==K&&(Ee=-Oi*l[Ot-1],l[Ot-1]=Ye*l[Ot-1]);for(var be=0;be<this.n;be++)We=Ye*this.V[be][Ot]+Oi*this.V[be][E-1],this.V[be][E-1]=-Oi*this.V[be][Ot]+Ye*this.V[be][E-1],this.V[be][Ot]=We}}break;case 2:{var Wr=l[K-1];l[K-1]=0;for(var fe=K;fe<E;fe++){var Xe=s.hypot(this.s[fe],Wr),Pn=this.s[fe]/Xe,ii=Wr/Xe;this.s[fe]=Xe,Wr=-ii*l[fe],l[fe]=Pn*l[fe];for(var nr=0;nr<this.m;nr++)Xe=Pn*this.U[nr][fe]+ii*this.U[nr][K-1],this.U[nr][K-1]=-ii*this.U[nr][fe]+Pn*this.U[nr][K-1],this.U[nr][fe]=Xe}}break;case 3:{var Sr=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(l[E-2])),Math.abs(this.s[K])),Math.abs(l[K])),dr=this.s[E-1]/Sr,Q=this.s[E-2]/Sr,et=l[E-2]/Sr,st=this.s[K]/Sr,ut=l[K]/Sr,lt=((Q+dr)*(Q-dr)+et*et)/2,Et=dr*et*(dr*et),Qt=0;(function(Rt,wt){return Rt||wt})(lt!==0,Et!==0)&&(Qt=Math.sqrt(lt*lt+Et),lt<0&&(Qt=-Qt),Qt=Et/(lt+Qt));for(var It=(st+dr)*(st-dr)+Qt,ct=st*ut,at=K;at<E-1;at++){var Nt=s.hypot(It,ct),jt=It/Nt,kt=ct/Nt;at!==K&&(l[at-1]=Nt),It=jt*this.s[at]+kt*l[at],l[at]=jt*l[at]-kt*this.s[at],ct=kt*this.s[at+1],this.s[at+1]=jt*this.s[at+1];for(var Ct=0;Ct<this.n;Ct++)Nt=jt*this.V[Ct][at]+kt*this.V[Ct][at+1],this.V[Ct][at+1]=-kt*this.V[Ct][at]+jt*this.V[Ct][at+1],this.V[Ct][at]=Nt;if(Nt=s.hypot(It,ct),jt=It/Nt,kt=ct/Nt,this.s[at]=Nt,It=jt*l[at]+kt*this.s[at+1],this.s[at+1]=-kt*l[at]+jt*this.s[at+1],ct=kt*l[at+1],l[at+1]=jt*l[at+1],at<this.m-1)for(var mt=0;mt<this.m;mt++)Nt=jt*this.U[mt][at]+kt*this.U[mt][at+1],this.U[mt][at+1]=-kt*this.U[mt][at]+jt*this.U[mt][at+1],this.U[mt][at]=Nt}l[E-2]=It}break;case 4:{if(this.s[K]<=0){this.s[K]=this.s[K]<0?-this.s[K]:0;for(var pt=0;pt<=X;pt++)this.V[pt][K]=-this.V[pt][K]}for(;K<X&&!(this.s[K]>=this.s[K+1]);){var Ft=this.s[K];if(this.s[K]=this.s[K+1],this.s[K+1]=Ft,K<this.n-1)for(var ft=0;ft<this.n;ft++)Ft=this.V[ft][K+1],this.V[ft][K+1]=this.V[ft][K],this.V[ft][K]=Ft;if(K<this.m-1)for(var ht=0;ht<this.m;ht++)Ft=this.U[ht][K+1],this.U[ht][K+1]=this.U[ht][K],this.U[ht][K]=Ft;K++}E--}break}}var we={U:this.U,V:this.V,S:this.s};return we},s.hypot=function(a,o){var l=void 0;return Math.abs(a)>Math.abs(o)?(l=o/a,l=Math.abs(a)*Math.sqrt(1+l*l)):o!=0?(l=a/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=s},function(r,n,i){var s=function(){function l(c,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,l),this.sequence1=c,this.sequence2=u,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=u.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[v][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,v=this.grid[d][f-1]+this.gap_penalty,m=[p,g,v],y=this.arrayAllMaxIndexes(m);this.grid[d][f]=m[y[0]],this.tracebackGrid[d][f]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var h=u[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&u.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&u.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&u.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),u.shift()}return this.alignments}},{key:"getAllIndexes",value:function(u,h){for(var d=[],f=-1;(f=u.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(u){return this.getAllIndexes(u,Math.max.apply(null,u))}}]),l}();r.exports=o},function(r,n,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(4),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(5),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(25),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(6),s.LEdge=i(1),s.LGraphManager=i(7),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(27),s.Matrix=i(24),s.SVD=i(26),r.exports=s},function(r,n,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,l){this.listeners.push({event:o,callback:l})},a.removeListener=function(o,l){for(var c=this.listeners.length;c>=0;c--){var u=this.listeners[c];u.event===o&&u.callback===l&&this.listeners.splice(c,1)}},a.emit=function(o,l){for(var c=0;c<this.listeners.length;c++){var u=this.listeners[c];o===u.event&&u.callback(l)}},r.exports=s}])})}(mu)),mu.exports}var s$=vu.exports,VE;function z3(){return VE||(VE=1,function(e,t){(function(n,i){e.exports=i(i$())})(s$,function(r){return(()=>{var n={45:(o,l,c)=>{var u={};u.layoutBase=c(551),u.CoSEConstants=c(806),u.CoSEEdge=c(767),u.CoSEGraph=c(880),u.CoSEGraphManager=c(578),u.CoSELayout=c(765),u.CoSENode=c(991),u.ConstraintHandler=c(902),o.exports=u},806:(o,l,c)=>{var u=c(551).FDLayoutConstants;function h(){}for(var d in u)h[d]=u[d];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=u.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,o.exports=h},767:(o,l,c)=>{var u=c(551).FDLayoutEdge;function h(f,p,g){u.call(this,f,p,g)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},880:(o,l,c)=>{var u=c(551).LGraph;function h(f,p,g){u.call(this,f,p,g)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},578:(o,l,c)=>{var u=c(551).LGraphManager;function h(f){u.call(this,f)}h.prototype=Object.create(u.prototype);for(var d in u)h[d]=u[d];o.exports=h},765:(o,l,c)=>{var u=c(551).FDLayout,h=c(578),d=c(880),f=c(991),p=c(767),g=c(806),v=c(902),m=c(551).FDLayoutConstants,y=c(551).LayoutConstants,T=c(551).Point,b=c(551).PointD,A=c(551).DimensionD,R=c(551).Layout,w=c(551).Integer,S=c(551).IGeometry,N=c(551).LGraph,I=c(551).Transform,C=c(551).LinkedList;function M(){u.call(this),this.toBeTiled={},this.constraints={}}M.prototype=Object.create(u.prototype);for(var k in u)M[k]=u[k];M.prototype.newGraphManager=function(){var E=new h(this);return this.graphManager=E,E},M.prototype.newGraph=function(E){return new d(null,this.graphManager,E)},M.prototype.newNode=function(E){return new f(this.graphManager,E)},M.prototype.newEdge=function(E){return new p(null,null,E)},M.prototype.initParameters=function(){u.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=m.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=m.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},M.prototype.initSpringEmbedder=function(){u.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/m.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},M.prototype.layout=function(){var E=y.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},M.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(D){return O.has(D)});this.graphManager.setAllNodesToApplyGravitation(_)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(x){return O.has(x)});this.graphManager.setAllNodesToApplyGravitation(_),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(v.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},M.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%m.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(L){return E.has(L)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var _=!this.isTreeGrowing&&!this.isGrowthFinished,x=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(_,x),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},M.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),O={},_=0;_<E.length;_++){var x=E[_].rect,L=E[_].id;O[L]={id:L,x:x.getCenterX(),y:x.getCenterY(),w:x.width,h:x.height}}return O},M.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(m.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},M.prototype.moveNodes=function(){for(var E=this.getAllNodes(),O,_=0;_<E.length;_++)O=E[_],O.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var _=0;_<E.length;_++)O=E[_],O.move()},M.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var O=this.graphManager.getAllNodes(),_=0;_<O.length;_++){var x=O[_];this.idToNodeMap.set(x.id,x)}var L=function $(Y){for(var X=Y.getChild().getNodes(),j,nt=0,K=0;K<X.length;K++)j=X[K],j.getChild()==null?E.fixedNodeSet.has(j.id)&&(nt+=100):nt+=$(j);return nt};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(X){E.fixedNodeSet.add(X.nodeId)});for(var O=this.graphManager.getAllNodes(),x,_=0;_<O.length;_++)if(x=O[_],x.getChild()!=null){var D=L(x);D>0&&(x.fixedNodeWeight=D)}}if(this.constraints.relativePlacementConstraint){var P=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function($){E.fixedNodesOnHorizontal.add($),E.fixedNodesOnVertical.add($)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var z=this.constraints.alignmentConstraint.vertical,_=0;_<z.length;_++)this.dummyToNodeForVerticalAlignment.set("dummy"+_,[]),z[_].forEach(function(Y){P.set(Y,"dummy"+_),E.dummyToNodeForVerticalAlignment.get("dummy"+_).push(Y),E.fixedNodeSet.has(Y)&&E.fixedNodesOnHorizontal.add("dummy"+_)});if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,_=0;_<H.length;_++)this.dummyToNodeForHorizontalAlignment.set("dummy"+_,[]),H[_].forEach(function(Y){U.set(Y,"dummy"+_),E.dummyToNodeForHorizontalAlignment.get("dummy"+_).push(Y),E.fixedNodeSet.has(Y)&&E.fixedNodesOnVertical.add("dummy"+_)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function($){var Y,X,j;for(j=$.length-1;j>=2*$.length/3;j--)Y=Math.floor(Math.random()*(j+1)),X=$[j],$[j]=$[Y],$[Y]=X;return $},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function($){if($.left){var Y=P.has($.left)?P.get($.left):$.left,X=P.has($.right)?P.get($.right):$.right;E.nodesInRelativeHorizontal.includes(Y)||(E.nodesInRelativeHorizontal.push(Y),E.nodeToRelativeConstraintMapHorizontal.set(Y,[]),E.dummyToNodeForVerticalAlignment.has(Y)?E.nodeToTempPositionMapHorizontal.set(Y,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(Y,E.idToNodeMap.get(Y).getCenterX())),E.nodesInRelativeHorizontal.includes(X)||(E.nodesInRelativeHorizontal.push(X),E.nodeToRelativeConstraintMapHorizontal.set(X,[]),E.dummyToNodeForVerticalAlignment.has(X)?E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(X).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(Y).push({right:X,gap:$.gap}),E.nodeToRelativeConstraintMapHorizontal.get(X).push({left:Y,gap:$.gap})}else{var j=U.has($.top)?U.get($.top):$.top,nt=U.has($.bottom)?U.get($.bottom):$.bottom;E.nodesInRelativeVertical.includes(j)||(E.nodesInRelativeVertical.push(j),E.nodeToRelativeConstraintMapVertical.set(j,[]),E.dummyToNodeForHorizontalAlignment.has(j)?E.nodeToTempPositionMapVertical.set(j,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(j)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(j,E.idToNodeMap.get(j).getCenterY())),E.nodesInRelativeVertical.includes(nt)||(E.nodesInRelativeVertical.push(nt),E.nodeToRelativeConstraintMapVertical.set(nt,[]),E.dummyToNodeForHorizontalAlignment.has(nt)?E.nodeToTempPositionMapVertical.set(nt,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(nt)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(nt,E.idToNodeMap.get(nt).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(j).push({bottom:nt,gap:$.gap}),E.nodeToRelativeConstraintMapVertical.get(nt).push({top:j,gap:$.gap})}});else{var V=new Map,W=new Map;this.constraints.relativePlacementConstraint.forEach(function($){if($.left){var Y=P.has($.left)?P.get($.left):$.left,X=P.has($.right)?P.get($.right):$.right;V.has(Y)?V.get(Y).push(X):V.set(Y,[X]),V.has(X)?V.get(X).push(Y):V.set(X,[Y])}else{var j=U.has($.top)?U.get($.top):$.top,nt=U.has($.bottom)?U.get($.bottom):$.bottom;W.has(j)?W.get(j).push(nt):W.set(j,[nt]),W.has(nt)?W.get(nt).push(j):W.set(nt,[j])}});var q=function(Y,X){var j=[],nt=[],K=new C,Gt=new Set,At=0;return Y.forEach(function(De,Ee){if(!Gt.has(Ee)){j[At]=[],nt[At]=!1;var Ot=Ee;for(K.push(Ot),Gt.add(Ot),j[At].push(Ot);K.length!=0;){Ot=K.shift(),X.has(Ot)&&(nt[At]=!0);var We=Y.get(Ot);We.forEach(function(Ye){Gt.has(Ye)||(K.push(Ye),Gt.add(Ye),j[At].push(Ye))})}At++}}),{components:j,isFixed:nt}},tt=q(V,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=tt.components,this.fixedComponentsOnHorizontal=tt.isFixed;var Z=q(W,E.fixedNodesOnVertical);this.componentsOnVertical=Z.components,this.fixedComponentsOnVertical=Z.isFixed}}},M.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(Z){var $=E.idToNodeMap.get(Z.nodeId);$.displacementX=0,$.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var O=this.constraints.alignmentConstraint.vertical,_=0;_<O.length;_++){for(var x=0,L=0;L<O[_].length;L++){if(this.fixedNodeSet.has(O[_][L])){x=0;break}x+=this.idToNodeMap.get(O[_][L]).displacementX}for(var D=x/O[_].length,L=0;L<O[_].length;L++)this.idToNodeMap.get(O[_][L]).displacementX=D}if(this.constraints.alignmentConstraint.horizontal)for(var P=this.constraints.alignmentConstraint.horizontal,_=0;_<P.length;_++){for(var U=0,L=0;L<P[_].length;L++){if(this.fixedNodeSet.has(P[_][L])){U=0;break}U+=this.idToNodeMap.get(P[_][L]).displacementY}for(var z=U/P[_].length,L=0;L<P[_].length;L++)this.idToNodeMap.get(P[_][L]).displacementY=z}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(Z){if(!E.fixedNodesOnHorizontal.has(Z)){var $=0;E.dummyToNodeForVerticalAlignment.has(Z)?$=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(Z)[0]).displacementX:$=E.idToNodeMap.get(Z).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(Z).forEach(function(Y){if(Y.right){var X=E.nodeToTempPositionMapHorizontal.get(Y.right)-E.nodeToTempPositionMapHorizontal.get(Z)-$;X<Y.gap&&($-=Y.gap-X)}else{var X=E.nodeToTempPositionMapHorizontal.get(Z)-E.nodeToTempPositionMapHorizontal.get(Y.left)+$;X<Y.gap&&($+=Y.gap-X)}}),E.nodeToTempPositionMapHorizontal.set(Z,E.nodeToTempPositionMapHorizontal.get(Z)+$),E.dummyToNodeForVerticalAlignment.has(Z)?E.dummyToNodeForVerticalAlignment.get(Z).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=$}):E.idToNodeMap.get(Z).displacementX=$}}),this.nodesInRelativeVertical.forEach(function(Z){if(!E.fixedNodesOnHorizontal.has(Z)){var $=0;E.dummyToNodeForHorizontalAlignment.has(Z)?$=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(Z)[0]).displacementY:$=E.idToNodeMap.get(Z).displacementY,E.nodeToRelativeConstraintMapVertical.get(Z).forEach(function(Y){if(Y.bottom){var X=E.nodeToTempPositionMapVertical.get(Y.bottom)-E.nodeToTempPositionMapVertical.get(Z)-$;X<Y.gap&&($-=Y.gap-X)}else{var X=E.nodeToTempPositionMapVertical.get(Z)-E.nodeToTempPositionMapVertical.get(Y.top)+$;X<Y.gap&&($+=Y.gap-X)}}),E.nodeToTempPositionMapVertical.set(Z,E.nodeToTempPositionMapVertical.get(Z)+$),E.dummyToNodeForHorizontalAlignment.has(Z)?E.dummyToNodeForHorizontalAlignment.get(Z).forEach(function(Y){E.idToNodeMap.get(Y).displacementY=$}):E.idToNodeMap.get(Z).displacementY=$}});else{for(var _=0;_<this.componentsOnHorizontal.length;_++){var H=this.componentsOnHorizontal[_];if(this.fixedComponentsOnHorizontal[_])for(var L=0;L<H.length;L++)this.dummyToNodeForVerticalAlignment.has(H[L])?this.dummyToNodeForVerticalAlignment.get(H[L]).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=0}):this.idToNodeMap.get(H[L]).displacementX=0;else{for(var V=0,W=0,L=0;L<H.length;L++)if(this.dummyToNodeForVerticalAlignment.has(H[L])){var q=this.dummyToNodeForVerticalAlignment.get(H[L]);V+=q.length*this.idToNodeMap.get(q[0]).displacementX,W+=q.length}else V+=this.idToNodeMap.get(H[L]).displacementX,W++;for(var tt=V/W,L=0;L<H.length;L++)this.dummyToNodeForVerticalAlignment.has(H[L])?this.dummyToNodeForVerticalAlignment.get(H[L]).forEach(function(Y){E.idToNodeMap.get(Y).displacementX=tt}):this.idToNodeMap.get(H[L]).displacementX=tt}}for(var _=0;_<this.componentsOnVertical.length;_++){var H=this.componentsOnVertical[_];if(this.fixedComponentsOnVertical[_])for(var L=0;L<H.length;L++)this.dummyToNodeForHorizontalAlignment.has(H[L])?this.dummyToNodeForHorizontalAlignment.get(H[L]).forEach(function(X){E.idToNodeMap.get(X).displacementY=0}):this.idToNodeMap.get(H[L]).displacementY=0;else{for(var V=0,W=0,L=0;L<H.length;L++)if(this.dummyToNodeForHorizontalAlignment.has(H[L])){var q=this.dummyToNodeForHorizontalAlignment.get(H[L]);V+=q.length*this.idToNodeMap.get(q[0]).displacementY,W+=q.length}else V+=this.idToNodeMap.get(H[L]).displacementY,W++;for(var tt=V/W,L=0;L<H.length;L++)this.dummyToNodeForHorizontalAlignment.has(H[L])?this.dummyToNodeForHorizontalAlignment.get(H[L]).forEach(function(K){E.idToNodeMap.get(K).displacementY=tt}):this.idToNodeMap.get(H[L]).displacementY=tt}}}},M.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],O,_=this.graphManager.getGraphs(),x=_.length,L;for(L=0;L<x;L++)O=_[L],O.updateConnected(),O.isConnected||(E=E.concat(O.getNodes()));return E},M.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var O=new Set,_;for(_=0;_<E.length;_++){var x=E[_];if(!O.has(x)){var L=x.getSource(),D=x.getTarget();if(L==D)x.getBendpoints().push(new b),x.getBendpoints().push(new b),this.createDummyNodesForBendpoints(x),O.add(x);else{var P=[];if(P=P.concat(L.getEdgeListToNode(D)),P=P.concat(D.getEdgeListToNode(L)),!O.has(P[0])){if(P.length>1){var U;for(U=0;U<P.length;U++){var z=P[U];z.getBendpoints().push(new b),this.createDummyNodesForBendpoints(z)}}P.forEach(function(H){O.add(H)})}}}if(O.size==E.length)break}},M.prototype.positionNodesRadially=function(E){for(var O=new T(0,0),_=Math.ceil(Math.sqrt(E.length)),x=0,L=0,D=0,P=new b(0,0),U=0;U<E.length;U++){U%_==0&&(D=0,L=x,U!=0&&(L+=g.DEFAULT_COMPONENT_SEPERATION),x=0);var z=E[U],H=R.findCenterOfTree(z);O.x=D,O.y=L,P=M.radialLayout(z,H,O),P.y>x&&(x=Math.floor(P.y)),D=Math.floor(P.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(y.WORLD_CENTER_X-P.x/2,y.WORLD_CENTER_Y-P.y/2))},M.radialLayout=function(E,O,_){var x=Math.max(this.maxDiagonalInTree(E),g.DEFAULT_RADIAL_SEPARATION);M.branchRadialLayout(O,null,0,359,0,x);var L=N.calculateBounds(E),D=new I;D.setDeviceOrgX(L.getMinX()),D.setDeviceOrgY(L.getMinY()),D.setWorldOrgX(_.x),D.setWorldOrgY(_.y);for(var P=0;P<E.length;P++){var U=E[P];U.transform(D)}var z=new b(L.getMaxX(),L.getMaxY());return D.inverseTransformPoint(z)},M.branchRadialLayout=function(E,O,_,x,L,D){var P=(x-_+1)/2;P<0&&(P+=180);var U=(P+_)%360,z=U*S.TWO_PI/360,H=L*Math.cos(z),V=L*Math.sin(z);E.setCenter(H,V);var W=[];W=W.concat(E.getEdges());var q=W.length;O!=null&&q--;for(var tt=0,Z=W.length,$,Y=E.getEdgesBetween(O);Y.length>1;){var X=Y[0];Y.splice(0,1);var j=W.indexOf(X);j>=0&&W.splice(j,1),Z--,q--}O!=null?$=(W.indexOf(Y[0])+1)%Z:$=0;for(var nt=Math.abs(x-_)/q,K=$;tt!=q;K=++K%Z){var Gt=W[K].getOtherEnd(E);if(Gt!=O){var At=(_+tt*nt)%360,De=(At+nt)%360;M.branchRadialLayout(Gt,E,At,De,L+D,D),tt++}}},M.maxDiagonalInTree=function(E){for(var O=w.MIN_VALUE,_=0;_<E.length;_++){var x=E[_],L=x.getDiagonal();L>O&&(O=L)}return O},M.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},M.prototype.groupZeroDegreeMembers=function(){var E=this,O={};this.memberGroups={},this.idToDummyNode={};for(var _=[],x=this.graphManager.getAllNodes(),L=0;L<x.length;L++){var D=x[L],P=D.getParent();this.getNodeDegreeWithChildren(D)===0&&(P.id==null||!this.getToBeTiled(P))&&_.push(D)}for(var L=0;L<_.length;L++){var D=_[L],U=D.getParent().id;typeof O[U]>"u"&&(O[U]=[]),O[U]=O[U].concat(D)}Object.keys(O).forEach(function(z){if(O[z].length>1){var H="DummyCompound_"+z;E.memberGroups[H]=O[z];var V=O[z][0].getParent(),W=new f(E.graphManager);W.id=H,W.paddingLeft=V.paddingLeft||0,W.paddingRight=V.paddingRight||0,W.paddingBottom=V.paddingBottom||0,W.paddingTop=V.paddingTop||0,E.idToDummyNode[H]=W;var q=E.getGraphManager().add(E.newGraph(),W),tt=V.getChild();tt.add(W);for(var Z=0;Z<O[z].length;Z++){var $=O[z][Z];tt.remove($),q.add($)}}})},M.prototype.clearCompounds=function(){var E={},O={};this.performDFSOnCompounds();for(var _=0;_<this.compoundOrder.length;_++)O[this.compoundOrder[_].id]=this.compoundOrder[_],E[this.compoundOrder[_].id]=[].concat(this.compoundOrder[_].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[_].getChild()),this.compoundOrder[_].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,O)},M.prototype.clearZeroDegreeMembers=function(){var E=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(_){var x=E.idToDummyNode[_];if(O[_]=E.tileNodes(E.memberGroups[_],x.paddingLeft+x.paddingRight),x.rect.width=O[_].width,x.rect.height=O[_].height,x.setCenter(O[_].centerX,O[_].centerY),x.labelMarginLeft=0,x.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var L=x.rect.width,D=x.rect.height;x.labelWidth&&(x.labelPosHorizontal=="left"?(x.rect.x-=x.labelWidth,x.setWidth(L+x.labelWidth),x.labelMarginLeft=x.labelWidth):x.labelPosHorizontal=="center"&&x.labelWidth>L?(x.rect.x-=(x.labelWidth-L)/2,x.setWidth(x.labelWidth),x.labelMarginLeft=(x.labelWidth-L)/2):x.labelPosHorizontal=="right"&&x.setWidth(L+x.labelWidth)),x.labelHeight&&(x.labelPosVertical=="top"?(x.rect.y-=x.labelHeight,x.setHeight(D+x.labelHeight),x.labelMarginTop=x.labelHeight):x.labelPosVertical=="center"&&x.labelHeight>D?(x.rect.y-=(x.labelHeight-D)/2,x.setHeight(x.labelHeight),x.labelMarginTop=(x.labelHeight-D)/2):x.labelPosVertical=="bottom"&&x.setHeight(D+x.labelHeight))}})},M.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var O=this.compoundOrder[E],_=O.id,x=O.paddingLeft,L=O.paddingTop,D=O.labelMarginLeft,P=O.labelMarginTop;this.adjustLocations(this.tiledMemberPack[_],O.rect.x,O.rect.y,x,L,D,P)}},M.prototype.repopulateZeroDegreeMembers=function(){var E=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(_){var x=E.idToDummyNode[_],L=x.paddingLeft,D=x.paddingTop,P=x.labelMarginLeft,U=x.labelMarginTop;E.adjustLocations(O[_],x.rect.x,x.rect.y,L,D,P,U)})},M.prototype.getToBeTiled=function(E){var O=E.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var _=E.getChild();if(_==null)return this.toBeTiled[O]=!1,!1;for(var x=_.getNodes(),L=0;L<x.length;L++){var D=x[L];if(this.getNodeDegree(D)>0)return this.toBeTiled[O]=!1,!1;if(D.getChild()==null){this.toBeTiled[D.id]=!1;continue}if(!this.getToBeTiled(D))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},M.prototype.getNodeDegree=function(E){E.id;for(var O=E.getEdges(),_=0,x=0;x<O.length;x++){var L=O[x];L.getSource().id!==L.getTarget().id&&(_=_+1)}return _},M.prototype.getNodeDegreeWithChildren=function(E){var O=this.getNodeDegree(E);if(E.getChild()==null)return O;for(var _=E.getChild().getNodes(),x=0;x<_.length;x++){var L=_[x];O+=this.getNodeDegreeWithChildren(L)}return O},M.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},M.prototype.fillCompexOrderByDFS=function(E){for(var O=0;O<E.length;O++){var _=E[O];_.getChild()!=null&&this.fillCompexOrderByDFS(_.getChild().getNodes()),this.getToBeTiled(_)&&this.compoundOrder.push(_)}},M.prototype.adjustLocations=function(E,O,_,x,L,D,P){O+=x+D,_+=L+P;for(var U=O,z=0;z<E.rows.length;z++){var H=E.rows[z];O=U;for(var V=0,W=0;W<H.length;W++){var q=H[W];q.rect.x=O,q.rect.y=_,O+=q.rect.width+E.horizontalPadding,q.rect.height>V&&(V=q.rect.height)}_+=V+E.verticalPadding}},M.prototype.tileCompoundMembers=function(E,O){var _=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(x){var L=O[x];if(_.tiledMemberPack[x]=_.tileNodes(E[x],L.paddingLeft+L.paddingRight),L.rect.width=_.tiledMemberPack[x].width,L.rect.height=_.tiledMemberPack[x].height,L.setCenter(_.tiledMemberPack[x].centerX,_.tiledMemberPack[x].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var D=L.rect.width,P=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth(D+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>D?(L.rect.x-=(L.labelWidth-D)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-D)/2):L.labelPosHorizontal=="right"&&L.setWidth(D+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(P+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>P?(L.rect.y-=(L.labelHeight-P)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-P)/2):L.labelPosVertical=="bottom"&&L.setHeight(P+L.labelHeight))}})},M.prototype.tileNodes=function(E,O){var _=this.tileNodesByFavoringDim(E,O,!0),x=this.tileNodesByFavoringDim(E,O,!1),L=this.getOrgRatio(_),D=this.getOrgRatio(x),P;return D<L?P=x:P=_,P},M.prototype.getOrgRatio=function(E){var O=E.width,_=E.height,x=O/_;return x<1&&(x=1/x),x},M.prototype.calcIdealRowWidth=function(E,O){var _=g.TILING_PADDING_VERTICAL,x=g.TILING_PADDING_HORIZONTAL,L=E.length,D=0,P=0,U=0;E.forEach(function(Z){D+=Z.getWidth(),P+=Z.getHeight(),Z.getWidth()>U&&(U=Z.getWidth())});var z=D/L,H=P/L,V=Math.pow(_-x,2)+4*(z+x)*(H+_)*L,W=(x-_+Math.sqrt(V))/(2*(z+x)),q;O?(q=Math.ceil(W),q==W&&q++):q=Math.floor(W);var tt=q*(z+x)-x;return U>tt&&(tt=U),tt+=x*2,tt},M.prototype.tileNodesByFavoringDim=function(E,O,_){var x=g.TILING_PADDING_VERTICAL,L=g.TILING_PADDING_HORIZONTAL,D=g.TILING_COMPARE_BY,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:x,horizontalPadding:L,centerX:0,centerY:0};D&&(P.idealRowWidth=this.calcIdealRowWidth(E,_));var U=function($){return $.rect.width*$.rect.height},z=function($,Y){return U(Y)-U($)};E.sort(function(Z,$){var Y=z;return P.idealRowWidth?(Y=D,Y(Z.id,$.id)):Y(Z,$)});for(var H=0,V=0,W=0;W<E.length;W++){var q=E[W];H+=q.getCenterX(),V+=q.getCenterY()}P.centerX=H/E.length,P.centerY=V/E.length;for(var W=0;W<E.length;W++){var q=E[W];if(P.rows.length==0)this.insertNodeToRow(P,q,0,O);else if(this.canAddHorizontal(P,q.rect.width,q.rect.height)){var tt=P.rows.length-1;P.idealRowWidth||(tt=this.getShortestRowIndex(P)),this.insertNodeToRow(P,q,tt,O)}else this.insertNodeToRow(P,q,P.rows.length,O);this.shiftToLastRow(P)}return P},M.prototype.insertNodeToRow=function(E,O,_,x){var L=x;if(_==E.rows.length){var D=[];E.rows.push(D),E.rowWidth.push(L),E.rowHeight.push(0)}var P=E.rowWidth[_]+O.rect.width;E.rows[_].length>0&&(P+=E.horizontalPadding),E.rowWidth[_]=P,E.width<P&&(E.width=P);var U=O.rect.height;_>0&&(U+=E.verticalPadding);var z=0;U>E.rowHeight[_]&&(z=E.rowHeight[_],E.rowHeight[_]=U,z=E.rowHeight[_]-z),E.height+=z,E.rows[_].push(O)},M.prototype.getShortestRowIndex=function(E){for(var O=-1,_=Number.MAX_VALUE,x=0;x<E.rows.length;x++)E.rowWidth[x]<_&&(O=x,_=E.rowWidth[x]);return O},M.prototype.getLongestRowIndex=function(E){for(var O=-1,_=Number.MIN_VALUE,x=0;x<E.rows.length;x++)E.rowWidth[x]>_&&(O=x,_=E.rowWidth[x]);return O},M.prototype.canAddHorizontal=function(E,O,_){if(E.idealRowWidth){var x=E.rows.length-1,L=E.rowWidth[x];return L+O+E.horizontalPadding<=E.idealRowWidth}var D=this.getShortestRowIndex(E);if(D<0)return!0;var P=E.rowWidth[D];if(P+E.horizontalPadding+O<=E.width)return!0;var U=0;E.rowHeight[D]<_&&D>0&&(U=_+E.verticalPadding-E.rowHeight[D]);var z;E.width-P>=O+E.horizontalPadding?z=(E.height+U)/(P+O+E.horizontalPadding):z=(E.height+U)/E.width,U=_+E.verticalPadding;var H;return E.width<O?H=(E.height+U)/O:H=(E.height+U)/E.width,H<1&&(H=1/H),z<1&&(z=1/z),z<H},M.prototype.shiftToLastRow=function(E){var O=this.getLongestRowIndex(E),_=E.rowWidth.length-1,x=E.rows[O],L=x[x.length-1],D=L.width+E.horizontalPadding;if(E.width-E.rowWidth[_]>D&&O!=_){x.splice(-1,1),E.rows[_].push(L),E.rowWidth[O]=E.rowWidth[O]-D,E.rowWidth[_]=E.rowWidth[_]+D,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var P=Number.MIN_VALUE,U=0;U<x.length;U++)x[U].height>P&&(P=x[U].height);O>0&&(P+=E.verticalPadding);var z=E.rowHeight[O]+E.rowHeight[_];E.rowHeight[O]=P,E.rowHeight[_]<L.height+E.verticalPadding&&(E.rowHeight[_]=L.height+E.verticalPadding);var H=E.rowHeight[O]+E.rowHeight[_];E.height+=H-z,this.shiftToLastRow(E)}},M.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},M.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},M.prototype.reduceTrees=function(){for(var E=[],O=!0,_;O;){var x=this.graphManager.getAllNodes(),L=[];O=!1;for(var D=0;D<x.length;D++)if(_=x[D],_.getEdges().length==1&&!_.getEdges()[0].isInterGraph&&_.getChild()==null){if(g.PURE_INCREMENTAL){var P=_.getEdges()[0].getOtherEnd(_),U=new A(_.getCenterX()-P.getCenterX(),_.getCenterY()-P.getCenterY());L.push([_,_.getEdges()[0],_.getOwner(),U])}else L.push([_,_.getEdges()[0],_.getOwner()]);O=!0}if(O==!0){for(var z=[],H=0;H<L.length;H++)L[H][0].getEdges().length==1&&(z.push(L[H]),L[H][0].getOwner().remove(L[H][0]));E.push(z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},M.prototype.growTree=function(E){for(var O=E.length,_=E[O-1],x,L=0;L<_.length;L++)x=_[L],this.findPlaceforPrunedNode(x),x[2].add(x[0]),x[2].add(x[1],x[1].source,x[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},M.prototype.findPlaceforPrunedNode=function(E){var O,_,x=E[0];if(x==E[1].source?_=E[1].target:_=E[1].source,g.PURE_INCREMENTAL)x.setCenter(_.getCenterX()+E[3].getWidth(),_.getCenterY()+E[3].getHeight());else{var L=_.startX,D=_.finishX,P=_.startY,U=_.finishY,z=0,H=0,V=0,W=0,q=[z,V,H,W];if(P>0)for(var tt=L;tt<=D;tt++)q[0]+=this.grid[tt][P-1].length+this.grid[tt][P].length-1;if(D<this.grid.length-1)for(var tt=P;tt<=U;tt++)q[1]+=this.grid[D+1][tt].length+this.grid[D][tt].length-1;if(U<this.grid[0].length-1)for(var tt=L;tt<=D;tt++)q[2]+=this.grid[tt][U+1].length+this.grid[tt][U].length-1;if(L>0)for(var tt=P;tt<=U;tt++)q[3]+=this.grid[L-1][tt].length+this.grid[L][tt].length-1;for(var Z=w.MAX_VALUE,$,Y,X=0;X<q.length;X++)q[X]<Z?(Z=q[X],$=1,Y=X):q[X]==Z&&$++;if($==3&&Z==0)q[0]==0&&q[1]==0&&q[2]==0?O=1:q[0]==0&&q[1]==0&&q[3]==0?O=0:q[0]==0&&q[2]==0&&q[3]==0?O=3:q[1]==0&&q[2]==0&&q[3]==0&&(O=2);else if($==2&&Z==0){var j=Math.floor(Math.random()*2);q[0]==0&&q[1]==0?j==0?O=0:O=1:q[0]==0&&q[2]==0?j==0?O=0:O=2:q[0]==0&&q[3]==0?j==0?O=0:O=3:q[1]==0&&q[2]==0?j==0?O=1:O=2:q[1]==0&&q[3]==0?j==0?O=1:O=3:j==0?O=2:O=3}else if($==4&&Z==0){var j=Math.floor(Math.random()*4);O=j}else O=Y;O==0?x.setCenter(_.getCenterX(),_.getCenterY()-_.getHeight()/2-m.DEFAULT_EDGE_LENGTH-x.getHeight()/2):O==1?x.setCenter(_.getCenterX()+_.getWidth()/2+m.DEFAULT_EDGE_LENGTH+x.getWidth()/2,_.getCenterY()):O==2?x.setCenter(_.getCenterX(),_.getCenterY()+_.getHeight()/2+m.DEFAULT_EDGE_LENGTH+x.getHeight()/2):x.setCenter(_.getCenterX()-_.getWidth()/2-m.DEFAULT_EDGE_LENGTH-x.getWidth()/2,_.getCenterY())}},o.exports=M},991:(o,l,c)=>{var u=c(551).FDLayoutNode,h=c(551).IMath;function d(p,g,v,m){u.call(this,p,g,v,m)}d.prototype=Object.create(u.prototype);for(var f in u)d[f]=u[f];d.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(p,g){for(var v=this.getChild().getNodes(),m,y=0;y<v.length;y++)m=v[y],m.getChild()==null?(m.displacementX+=p,m.displacementY+=g):m.propogateDisplacementToChildren(p,g)},d.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(p){this.pred1=p},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(p){this.next=p},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(p){this.processed=p},d.prototype.isProcessed=function(){return processed},o.exports=d},902:(o,l,c)=>{function u(v){if(Array.isArray(v)){for(var m=0,y=Array(v.length);m<v.length;m++)y[m]=v[m];return y}else return Array.from(v)}var h=c(806),d=c(551).LinkedList,f=c(551).Matrix,p=c(551).SVD;function g(){}g.handleConstraints=function(v){var m={};m.fixedNodeConstraint=v.constraints.fixedNodeConstraint,m.alignmentConstraint=v.constraints.alignmentConstraint,m.relativePlacementConstraint=v.constraints.relativePlacementConstraint;for(var y=new Map,T=new Map,b=[],A=[],R=v.getAllNodes(),w=0,S=0;S<R.length;S++){var N=R[S];N.getChild()==null&&(T.set(N.id,w++),b.push(N.getCenterX()),A.push(N.getCenterY()),y.set(N.id,N))}m.relativePlacementConstraint&&m.relativePlacementConstraint.forEach(function(Q){!Q.gap&&Q.gap!=0&&(Q.left?Q.gap=h.DEFAULT_EDGE_LENGTH+y.get(Q.left).getWidth()/2+y.get(Q.right).getWidth()/2:Q.gap=h.DEFAULT_EDGE_LENGTH+y.get(Q.top).getHeight()/2+y.get(Q.bottom).getHeight()/2)});var I=function(et,st){return{x:et.x-st.x,y:et.y-st.y}},C=function(et){var st=0,ut=0;return et.forEach(function(lt){st+=b[T.get(lt)],ut+=A[T.get(lt)]}),{x:st/et.size,y:ut/et.size}},M=function(et,st,ut,lt,Et){function Qt(mt,pt){var Ft=new Set(mt),ft=!0,ht=!1,we=void 0;try{for(var Rt=pt[Symbol.iterator](),wt;!(ft=(wt=Rt.next()).done);ft=!0){var Ae=wt.value;Ft.add(Ae)}}catch(he){ht=!0,we=he}finally{try{!ft&&Rt.return&&Rt.return()}finally{if(ht)throw we}}return Ft}var It=new Map;et.forEach(function(mt,pt){It.set(pt,0)}),et.forEach(function(mt,pt){mt.forEach(function(Ft){It.set(Ft.id,It.get(Ft.id)+1)})});var ct=new Map,at=new Map,Nt=new d;It.forEach(function(mt,pt){mt==0?(Nt.push(pt),ut||(st=="horizontal"?ct.set(pt,T.has(pt)?b[T.get(pt)]:lt.get(pt)):ct.set(pt,T.has(pt)?A[T.get(pt)]:lt.get(pt)))):ct.set(pt,Number.NEGATIVE_INFINITY),ut&&at.set(pt,new Set([pt]))}),ut&&Et.forEach(function(mt){var pt=[];if(mt.forEach(function(ht){ut.has(ht)&&pt.push(ht)}),pt.length>0){var Ft=0;pt.forEach(function(ht){st=="horizontal"?(ct.set(ht,T.has(ht)?b[T.get(ht)]:lt.get(ht)),Ft+=ct.get(ht)):(ct.set(ht,T.has(ht)?A[T.get(ht)]:lt.get(ht)),Ft+=ct.get(ht))}),Ft=Ft/pt.length,mt.forEach(function(ht){ut.has(ht)||ct.set(ht,Ft)})}else{var ft=0;mt.forEach(function(ht){st=="horizontal"?ft+=T.has(ht)?b[T.get(ht)]:lt.get(ht):ft+=T.has(ht)?A[T.get(ht)]:lt.get(ht)}),ft=ft/mt.length,mt.forEach(function(ht){ct.set(ht,ft)})}});for(var jt=function(){var pt=Nt.shift(),Ft=et.get(pt);Ft.forEach(function(ft){if(ct.get(ft.id)<ct.get(pt)+ft.gap)if(ut&&ut.has(ft.id)){var ht=void 0;if(st=="horizontal"?ht=T.has(ft.id)?b[T.get(ft.id)]:lt.get(ft.id):ht=T.has(ft.id)?A[T.get(ft.id)]:lt.get(ft.id),ct.set(ft.id,ht),ht<ct.get(pt)+ft.gap){var we=ct.get(pt)+ft.gap-ht;at.get(pt).forEach(function(Rt){ct.set(Rt,ct.get(Rt)-we)})}}else ct.set(ft.id,ct.get(pt)+ft.gap);It.set(ft.id,It.get(ft.id)-1),It.get(ft.id)==0&&Nt.push(ft.id),ut&&at.set(ft.id,Qt(at.get(pt),at.get(ft.id)))})};Nt.length!=0;)jt();if(ut){var kt=new Set;et.forEach(function(mt,pt){mt.length==0&&kt.add(pt)});var Ct=[];at.forEach(function(mt,pt){if(kt.has(pt)){var Ft=!1,ft=!0,ht=!1,we=void 0;try{for(var Rt=mt[Symbol.iterator](),wt;!(ft=(wt=Rt.next()).done);ft=!0){var Ae=wt.value;ut.has(Ae)&&(Ft=!0)}}catch(Jt){ht=!0,we=Jt}finally{try{!ft&&Rt.return&&Rt.return()}finally{if(ht)throw we}}if(!Ft){var he=!1,qe=void 0;Ct.forEach(function(Jt,xr){Jt.has([].concat(u(mt))[0])&&(he=!0,qe=xr)}),he?mt.forEach(function(Jt){Ct[qe].add(Jt)}):Ct.push(new Set(mt))}}}),Ct.forEach(function(mt,pt){var Ft=Number.POSITIVE_INFINITY,ft=Number.POSITIVE_INFINITY,ht=Number.NEGATIVE_INFINITY,we=Number.NEGATIVE_INFINITY,Rt=!0,wt=!1,Ae=void 0;try{for(var he=mt[Symbol.iterator](),qe;!(Rt=(qe=he.next()).done);Rt=!0){var Jt=qe.value,xr=void 0;st=="horizontal"?xr=T.has(Jt)?b[T.get(Jt)]:lt.get(Jt):xr=T.has(Jt)?A[T.get(Jt)]:lt.get(Jt);var Ve=ct.get(Jt);xr<Ft&&(Ft=xr),xr>ht&&(ht=xr),Ve<ft&&(ft=Ve),Ve>we&&(we=Ve)}}catch(J){wt=!0,Ae=J}finally{try{!Rt&&he.return&&he.return()}finally{if(wt)throw Ae}}var Os=(Ft+ht)/2-(ft+we)/2,Tn=!0,Dn=!1,Fn=void 0;try{for(var Un=mt[Symbol.iterator](),ot;!(Tn=(ot=Un.next()).done);Tn=!0){var F=ot.value;ct.set(F,ct.get(F)+Os)}}catch(J){Dn=!0,Fn=J}finally{try{!Tn&&Un.return&&Un.return()}finally{if(Dn)throw Fn}}})}return ct},k=function(et){var st=0,ut=0,lt=0,Et=0;if(et.forEach(function(at){at.left?b[T.get(at.left)]-b[T.get(at.right)]>=0?st++:ut++:A[T.get(at.top)]-A[T.get(at.bottom)]>=0?lt++:Et++}),st>ut&&lt>Et)for(var Qt=0;Qt<T.size;Qt++)b[Qt]=-1*b[Qt],A[Qt]=-1*A[Qt];else if(st>ut)for(var It=0;It<T.size;It++)b[It]=-1*b[It];else if(lt>Et)for(var ct=0;ct<T.size;ct++)A[ct]=-1*A[ct]},E=function(et){var st=[],ut=new d,lt=new Set,Et=0;return et.forEach(function(Qt,It){if(!lt.has(It)){st[Et]=[];var ct=It;for(ut.push(ct),lt.add(ct),st[Et].push(ct);ut.length!=0;){ct=ut.shift();var at=et.get(ct);at.forEach(function(Nt){lt.has(Nt.id)||(ut.push(Nt.id),lt.add(Nt.id),st[Et].push(Nt.id))})}Et++}}),st},O=function(et){var st=new Map;return et.forEach(function(ut,lt){st.set(lt,[])}),et.forEach(function(ut,lt){ut.forEach(function(Et){st.get(lt).push(Et),st.get(Et.id).push({id:lt,gap:Et.gap,direction:Et.direction})})}),st},_=function(et){var st=new Map;return et.forEach(function(ut,lt){st.set(lt,[])}),et.forEach(function(ut,lt){ut.forEach(function(Et){st.get(Et.id).push({id:lt,gap:Et.gap,direction:Et.direction})})}),st},x=[],L=[],D=!1,P=!1,U=new Set,z=new Map,H=new Map,V=[];if(m.fixedNodeConstraint&&m.fixedNodeConstraint.forEach(function(Q){U.add(Q.nodeId)}),m.relativePlacementConstraint&&(m.relativePlacementConstraint.forEach(function(Q){Q.left?(z.has(Q.left)?z.get(Q.left).push({id:Q.right,gap:Q.gap,direction:"horizontal"}):z.set(Q.left,[{id:Q.right,gap:Q.gap,direction:"horizontal"}]),z.has(Q.right)||z.set(Q.right,[])):(z.has(Q.top)?z.get(Q.top).push({id:Q.bottom,gap:Q.gap,direction:"vertical"}):z.set(Q.top,[{id:Q.bottom,gap:Q.gap,direction:"vertical"}]),z.has(Q.bottom)||z.set(Q.bottom,[]))}),H=O(z),V=E(H)),h.TRANSFORM_ON_CONSTRAINT_HANDLING){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>1)m.fixedNodeConstraint.forEach(function(Q,et){x[et]=[Q.position.x,Q.position.y],L[et]=[b[T.get(Q.nodeId)],A[T.get(Q.nodeId)]]}),D=!0;else if(m.alignmentConstraint)(function(){var Q=0;if(m.alignmentConstraint.vertical){for(var et=m.alignmentConstraint.vertical,st=function(ct){var at=new Set;et[ct].forEach(function(kt){at.add(kt)});var Nt=new Set([].concat(u(at)).filter(function(kt){return U.has(kt)})),jt=void 0;Nt.size>0?jt=b[T.get(Nt.values().next().value)]:jt=C(at).x,et[ct].forEach(function(kt){x[Q]=[jt,A[T.get(kt)]],L[Q]=[b[T.get(kt)],A[T.get(kt)]],Q++})},ut=0;ut<et.length;ut++)st(ut);D=!0}if(m.alignmentConstraint.horizontal){for(var lt=m.alignmentConstraint.horizontal,Et=function(ct){var at=new Set;lt[ct].forEach(function(kt){at.add(kt)});var Nt=new Set([].concat(u(at)).filter(function(kt){return U.has(kt)})),jt=void 0;Nt.size>0?jt=b[T.get(Nt.values().next().value)]:jt=C(at).y,lt[ct].forEach(function(kt){x[Q]=[b[T.get(kt)],jt],L[Q]=[b[T.get(kt)],A[T.get(kt)]],Q++})},Qt=0;Qt<lt.length;Qt++)Et(Qt);D=!0}m.relativePlacementConstraint&&(P=!0)})();else if(m.relativePlacementConstraint){for(var W=0,q=0,tt=0;tt<V.length;tt++)V[tt].length>W&&(W=V[tt].length,q=tt);if(W<H.size/2)k(m.relativePlacementConstraint),D=!1,P=!1;else{var Z=new Map,$=new Map,Y=[];V[q].forEach(function(Q){z.get(Q).forEach(function(et){et.direction=="horizontal"?(Z.has(Q)?Z.get(Q).push(et):Z.set(Q,[et]),Z.has(et.id)||Z.set(et.id,[]),Y.push({left:Q,right:et.id})):($.has(Q)?$.get(Q).push(et):$.set(Q,[et]),$.has(et.id)||$.set(et.id,[]),Y.push({top:Q,bottom:et.id}))})}),k(Y),P=!1;var X=M(Z,"horizontal"),j=M($,"vertical");V[q].forEach(function(Q,et){L[et]=[b[T.get(Q)],A[T.get(Q)]],x[et]=[],X.has(Q)?x[et][0]=X.get(Q):x[et][0]=b[T.get(Q)],j.has(Q)?x[et][1]=j.get(Q):x[et][1]=A[T.get(Q)]}),D=!0}}if(D){for(var nt=void 0,K=f.transpose(x),Gt=f.transpose(L),At=0;At<K.length;At++)K[At]=f.multGamma(K[At]),Gt[At]=f.multGamma(Gt[At]);var De=f.multMat(K,f.transpose(Gt)),Ee=p.svd(De);nt=f.multMat(Ee.V,f.transpose(Ee.U));for(var Ot=0;Ot<T.size;Ot++){var We=[b[Ot],A[Ot]],Ye=[nt[0][0],nt[1][0]],Oi=[nt[0][1],nt[1][1]];b[Ot]=f.dotProduct(We,Ye),A[Ot]=f.dotProduct(We,Oi)}P&&k(m.relativePlacementConstraint)}}if(h.ENFORCE_CONSTRAINTS){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>0){var be={x:0,y:0};m.fixedNodeConstraint.forEach(function(Q,et){var st={x:b[T.get(Q.nodeId)],y:A[T.get(Q.nodeId)]},ut=Q.position,lt=I(ut,st);be.x+=lt.x,be.y+=lt.y}),be.x/=m.fixedNodeConstraint.length,be.y/=m.fixedNodeConstraint.length,b.forEach(function(Q,et){b[et]+=be.x}),A.forEach(function(Q,et){A[et]+=be.y}),m.fixedNodeConstraint.forEach(function(Q){b[T.get(Q.nodeId)]=Q.position.x,A[T.get(Q.nodeId)]=Q.position.y})}if(m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var Wr=m.alignmentConstraint.vertical,fe=function(et){var st=new Set;Wr[et].forEach(function(Et){st.add(Et)});var ut=new Set([].concat(u(st)).filter(function(Et){return U.has(Et)})),lt=void 0;ut.size>0?lt=b[T.get(ut.values().next().value)]:lt=C(st).x,st.forEach(function(Et){U.has(Et)||(b[T.get(Et)]=lt)})},Xe=0;Xe<Wr.length;Xe++)fe(Xe);if(m.alignmentConstraint.horizontal)for(var Pn=m.alignmentConstraint.horizontal,ii=function(et){var st=new Set;Pn[et].forEach(function(Et){st.add(Et)});var ut=new Set([].concat(u(st)).filter(function(Et){return U.has(Et)})),lt=void 0;ut.size>0?lt=A[T.get(ut.values().next().value)]:lt=C(st).y,st.forEach(function(Et){U.has(Et)||(A[T.get(Et)]=lt)})},nr=0;nr<Pn.length;nr++)ii(nr)}m.relativePlacementConstraint&&function(){var Q=new Map,et=new Map,st=new Map,ut=new Map,lt=new Map,Et=new Map,Qt=new Set,It=new Set;if(U.forEach(function(pe){Qt.add(pe),It.add(pe)}),m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var ct=m.alignmentConstraint.vertical,at=function(St){st.set("dummy"+St,[]),ct[St].forEach(function(Yt){Q.set(Yt,"dummy"+St),st.get("dummy"+St).push(Yt),U.has(Yt)&&Qt.add("dummy"+St)}),lt.set("dummy"+St,b[T.get(ct[St][0])])},Nt=0;Nt<ct.length;Nt++)at(Nt);if(m.alignmentConstraint.horizontal)for(var jt=m.alignmentConstraint.horizontal,kt=function(St){ut.set("dummy"+St,[]),jt[St].forEach(function(Yt){et.set(Yt,"dummy"+St),ut.get("dummy"+St).push(Yt),U.has(Yt)&&It.add("dummy"+St)}),Et.set("dummy"+St,A[T.get(jt[St][0])])},Ct=0;Ct<jt.length;Ct++)kt(Ct)}var mt=new Map,pt=new Map,Ft=function(St){z.get(St).forEach(function(Yt){var ai=void 0,Yr=void 0;Yt.direction=="horizontal"?(ai=Q.get(St)?Q.get(St):St,Q.get(Yt.id)?Yr={id:Q.get(Yt.id),gap:Yt.gap,direction:Yt.direction}:Yr=Yt,mt.has(ai)?mt.get(ai).push(Yr):mt.set(ai,[Yr]),mt.has(Yr.id)||mt.set(Yr.id,[])):(ai=et.get(St)?et.get(St):St,et.get(Yt.id)?Yr={id:et.get(Yt.id),gap:Yt.gap,direction:Yt.direction}:Yr=Yt,pt.has(ai)?pt.get(ai).push(Yr):pt.set(ai,[Yr]),pt.has(Yr.id)||pt.set(Yr.id,[]))})},ft=!0,ht=!1,we=void 0;try{for(var Rt=z.keys()[Symbol.iterator](),wt;!(ft=(wt=Rt.next()).done);ft=!0){var Ae=wt.value;Ft(Ae)}}catch(pe){ht=!0,we=pe}finally{try{!ft&&Rt.return&&Rt.return()}finally{if(ht)throw we}}var he=O(mt),qe=O(pt),Jt=E(he),xr=E(qe),Ve=_(mt),Os=_(pt),Tn=[],Dn=[];Jt.forEach(function(pe,St){Tn[St]=[],pe.forEach(function(Yt){Ve.get(Yt).length==0&&Tn[St].push(Yt)})}),xr.forEach(function(pe,St){Dn[St]=[],pe.forEach(function(Yt){Os.get(Yt).length==0&&Dn[St].push(Yt)})});var Fn=M(mt,"horizontal",Qt,lt,Tn),Un=M(pt,"vertical",It,Et,Dn),ot=function(St){st.get(St)?st.get(St).forEach(function(Yt){b[T.get(Yt)]=Fn.get(St)}):b[T.get(St)]=Fn.get(St)},F=!0,J=!1,it=void 0;try{for(var qt=Fn.keys()[Symbol.iterator](),_e;!(F=(_e=qt.next()).done);F=!0){var ie=_e.value;ot(ie)}}catch(pe){J=!0,it=pe}finally{try{!F&&qt.return&&qt.return()}finally{if(J)throw it}}var je=function(St){ut.get(St)?ut.get(St).forEach(function(Yt){A[T.get(Yt)]=Un.get(St)}):A[T.get(St)]=Un.get(St)},Rr=!0,si=!1,Cs=void 0;try{for(var de=Un.keys()[Symbol.iterator](),Ia;!(Rr=(Ia=de.next()).done);Rr=!0){var ie=Ia.value;je(ie)}}catch(pe){si=!0,Cs=pe}finally{try{!Rr&&de.return&&de.return()}finally{if(si)throw Cs}}}()}for(var Sr=0;Sr<R.length;Sr++){var dr=R[Sr];dr.getChild()==null&&dr.setCenter(b[T.get(dr.id)],A[T.get(dr.id)])}},o.exports=g},551:o=>{o.exports=r}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var c=i[o]={exports:{}};return n[o](c,c.exports,s),c.exports}var a=s(45);return a})()})}(vu)),vu.exports}export{V$ as $,na as A,Dv as B,zw as C,Xw as D,Bw as E,bl as F,zC as G,WC as H,i3 as I,Zs as J,pl as K,qw as L,ew as M,ra as N,fC as O,Pe as P,dC as Q,PC as R,eg as S,Pv as T,Re as U,YC as V,Qi as W,j$ as X,XC as Y,Il as Z,Zt as _,z3 as a,xs as a$,Dt as a0,qC as a1,mC as a2,ts as a3,Av as a4,Ei as a5,_v as a6,Bb as a7,fL as a8,$N as a9,gs as aA,PL as aB,ML as aC,fc as aD,Q$ as aE,lw as aF,Ge as aG,pw as aH,VO as aI,el as aJ,WN as aK,Ov as aL,FN as aM,H$ as aN,yL as aO,OM as aP,J$ as aQ,GM as aR,Ml as aS,Lv as aT,yi as aU,ZN as aV,kN as aW,Iw as aX,Ru as aY,Cv as aZ,kr as a_,Hb as aa,_u as ab,GN as ac,YN as ad,jN as ae,mi as af,vO as ag,K$ as ah,Ph as ai,ma as aj,Cl as ak,F$ as al,xO as am,OL as an,CO as ao,OO as ap,Sv as aq,Tl as ar,zb as as,Z$ as at,es as au,rs as av,Y$ as aw,gO as ax,Kb as ay,Qb as az,Ll as b,Vt as b$,dw as b0,XL as b1,YL as b2,qb as b3,jb as b4,Xc as b5,Ss as b6,Vb as b7,xv as b8,JN as b9,El as bA,Ha as bB,ps as bC,kO as bD,Nw as bE,Gh as bF,Yc as bG,jn as bH,KN as bI,Z0 as bJ,kh as bK,zN as bL,Fp as bM,wv as bN,u3 as bO,h3 as bP,vI as bQ,c3 as bR,l3 as bS,o3 as bT,f3 as bU,g3 as bV,m3 as bW,v3 as bX,d3 as bY,p3 as bZ,y3 as b_,QN as ba,Lu as bb,Je as bc,ls as bd,bL as be,H0 as bf,Us as bg,KO as bh,$p as bi,yl as bj,qc as bk,Su as bl,vL as bm,nn as bn,$$ as bo,BN as bp,og as bq,pA as br,t3 as bs,e3 as bt,Hw as bu,B$ as bv,z$ as bw,G$ as bx,U$ as by,W$ as bz,Zn as c,O$ as c$,T3 as c0,E3 as c1,$m as c2,v$ as c3,g$ as c4,a3 as c5,ID as c6,B5 as c7,z5 as c8,$3 as c9,E$ as cA,Jd as cB,p$ as cC,h$ as cD,up as cE,b$ as cF,A$ as cG,Km as cH,Sh as cI,Tb as cJ,Qo as cK,LR as cL,uo as cM,Eb as cN,OR as cO,w$ as cP,_$ as cQ,S$ as cR,sp as cS,x$ as cT,R$ as cU,N$ as cV,h0 as cW,L$ as cX,dv as cY,k$ as cZ,C$ as c_,KG as ca,zE as cb,qG as cc,XG as cd,P$ as ce,fs as cf,va as cg,n3 as ch,r3 as ci,N0 as cj,u$ as ck,er as cl,f$ as cm,Tx as cn,Ex as co,Eh as cp,bh as cq,fi as cr,km as cs,Ut as ct,d$ as cu,qs as cv,m$ as cw,Xl as cx,y$ as cy,T$ as cz,tl as d,Ap as d0,M$ as d1,I$ as d2,D$ as d3,R0 as d4,Te as d5,HN as e,Mp as f,VN as g,yr as h,gn as i,Cn as j,ya as k,oe as l,ye as m,DN as n,Xt as o,xa as p,gw as q,H3 as r,pn as s,ee as t,ue as u,q$ as v,X$ as w,xC as x,$r as y,tw as z};

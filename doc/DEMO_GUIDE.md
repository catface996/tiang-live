# 任务集合运行详情功能演示指南

## 功能演示步骤

### 1. 启动项目
```bash
cd /Users/catface/Documents/code/entropy/tiang-ops
npm run dev
```

### 2. 访问任务集合管理页面
打开浏览器访问: `http://localhost:5173/task-management/task-collections`

### 3. 查看任务集合运行详情
在任务集合卡片上点击 📊 图标（查看运行详情按钮）

### 4. 功能展示要点

#### 4.1 拓扑关系图
- **节点展示**: 8个任务节点，包含实体和时序两种类型
- **状态颜色**: 
  - 🟢 绿色: 已完成节点（用户服务、用户登录流程、订单创建流程）
  - 🔴 红色: 失败节点（订单服务）
  - 🔵 蓝色: 运行中节点（支付服务）
  - ⚪ 灰色: 等待中节点（数据库连接池、缓存集群、支付流程）

#### 4.2 交互功能
- **拖拽节点**: 可以拖拽节点调整位置
- **点击查看**: 点击任意节点查看详细信息
- **依赖关系**: 箭头显示节点间的依赖关系

#### 4.3 节点详情
点击节点后右侧抽屉显示:
- 基本信息（名称、类型、状态、执行时间等）
- 检查动作列表
- 执行结果时间线
- 依赖关系

#### 4.4 执行结果展示
已完成的节点显示详细的检查结果:
- ✅ 成功: 用户服务健康检查、性能分析
- ⚠️ 警告: 订单创建流程响应时间较慢
- ❌ 错误: 订单服务连接超时

### 5. 关键特性验证

#### 5.1 实时更新
- 自动刷新功能（每5秒更新一次）
- 手动刷新按钮
- 运行状态实时显示

#### 5.2 统计信息
页面顶部显示:
- 总节点数: 8
- 已完成: 5
- 失败节点: 1
- 成功率: 75%

#### 5.3 进度展示
- 整体进度条
- 各节点执行时长
- 开始/结束时间

### 6. 技术亮点

#### 6.1 D3.js力导向图
- 自动布局算法
- 平滑的动画效果
- 响应式交互

#### 6.2 状态管理
- 实时状态更新
- 依赖关系计算
- 执行顺序控制

#### 6.3 用户体验
- 直观的视觉反馈
- 丰富的交互功能
- 详细的信息展示

## 测试场景

### 场景1: 正常执行流程
1. 用户服务 → 完成 ✅
2. 用户登录流程 → 完成 ✅
3. 订单服务 → 失败 ❌
4. 支付服务 → 运行中 🔵
5. 其他节点 → 等待中 ⚪

### 场景2: 依赖关系验证
- 支付服务依赖用户服务
- 订单创建流程依赖用户服务和订单服务
- 支付流程依赖支付服务和数据库连接池

### 场景3: 错误处理展示
- 订单服务连接超时
- 故障分析检测到内存泄漏
- 详细错误信息和重试次数

## 扩展功能建议

1. **实时日志**: 集成日志查看功能
2. **性能图表**: 添加性能指标图表
3. **告警集成**: 集成告警系统
4. **历史记录**: 查看历史执行记录
5. **批量操作**: 支持批量重试/跳过

## 注意事项

1. 确保D3.js依赖已正确安装
2. 浏览器需要支持现代JavaScript特性
3. 建议使用Chrome或Firefox浏览器
4. 响应式设计适配不同屏幕尺寸

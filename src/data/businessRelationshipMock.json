{
  "planes": [
    {
      "id": "business_scenario_plane",
      "name": "业务场景平面",
      "level": 1,
      "color": "#e6f7ff",
      "borderColor": "#1890ff",
      "description": "核心业务场景和用户旅程"
    },
    {
      "id": "business_link_plane",
      "name": "业务链路平面",
      "level": 2,
      "color": "#f6ffed",
      "borderColor": "#52c41a",
      "description": "业务场景的具体执行链路"
    },
    {
      "id": "application_plane",
      "name": "应用平面",
      "level": 3,
      "color": "#fff7e6",
      "borderColor": "#faad14",
      "description": "业务系统和应用服务层"
    },
    {
      "id": "middleware_plane",
      "name": "中间件平面",
      "level": 4,
      "color": "#f9f0ff",
      "borderColor": "#722ed1",
      "description": "中间件和基础服务层"
    },
    {
      "id": "infrastructure_plane",
      "name": "基础设施平面",
      "level": 5,
      "color": "#f0f8f8",
      "borderColor": "#5F9EA0",
      "description": "基础设施和资源层"
    }
  ],
  "nodes": [
    {
      "id": "business_scenario_1",
      "name": "电商下单场景",
      "type": "business_scenario",
      "level": 1,
      "plane": "business_scenario_plane",
      "description": "用户在电商平台完成商品购买的完整流程",
      "status": "active"
    },
    {
      "id": "business_scenario_2",
      "name": "支付结算场景",
      "type": "business_scenario",
      "level": 1,
      "plane": "business_scenario_plane",
      "description": "处理用户支付和商户结算的完整业务场景",
      "status": "active"
    },
    {
      "id": "business_link_1",
      "name": "用户下单链路",
      "type": "business_link",
      "level": 2,
      "plane": "business_link_plane",
      "description": "从商品选择到订单确认的业务链路",
      "status": "active"
    },
    {
      "id": "business_link_2",
      "name": "支付处理链路",
      "type": "business_link",
      "level": 2,
      "plane": "business_link_plane",
      "description": "支付验证、扣款、确认的业务链路",
      "status": "active"
    },
    {
      "id": "business_link_3",
      "name": "风控审核链路",
      "type": "business_link",
      "level": 2,
      "plane": "business_link_plane",
      "description": "交易风险识别和安全审核链路",
      "status": "active"
    },
    {
      "id": "business_link_4",
      "name": "资金结算链路",
      "type": "business_link",
      "level": 2,
      "plane": "business_link_plane",
      "description": "商户资金结算和清分业务链路",
      "status": "active"
    },
    {
      "id": "system_1",
      "name": "用户中心系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "管理用户信息、认证、权限的核心系统",
      "status": "running",
      "version": "v2.1.0",
      "instances": 6
    },
    {
      "id": "system_2",
      "name": "商品管理系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "商品信息、价格、促销管理系统",
      "status": "running",
      "version": "v1.8.2",
      "instances": 4
    },
    {
      "id": "system_3",
      "name": "订单管理系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "订单生命周期管理的核心系统",
      "status": "running",
      "version": "v3.0.1",
      "instances": 8
    },
    {
      "id": "system_4",
      "name": "支付网关系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "统一支付接入和路由系统",
      "status": "running",
      "version": "v1.9.3",
      "instances": 10
    },
    {
      "id": "system_5",
      "name": "钱包系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "用户钱包余额和虚拟账户管理系统",
      "status": "running",
      "version": "v2.3.1",
      "instances": 8
    },
    {
      "id": "system_6",
      "name": "风控系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "交易风险识别和反欺诈系统",
      "status": "running",
      "version": "v1.7.2",
      "instances": 6
    },
    {
      "id": "system_7",
      "name": "清结算系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "资金清分和商户结算系统",
      "status": "running",
      "version": "v2.0.5",
      "instances": 4
    },
    {
      "id": "system_8",
      "name": "账务系统",
      "type": "business_system",
      "level": 3,
      "plane": "application_plane",
      "description": "资金流水和账务记录系统",
      "status": "running",
      "version": "v1.5.8",
      "instances": 6
    },
    {
      "id": "middleware_1",
      "name": "API网关",
      "type": "middleware",
      "level": 4,
      "plane": "middleware_plane",
      "description": "统一API接入、路由、限流、认证网关",
      "status": "running",
      "technology": "Kong",
      "instances": 6
    },
    {
      "id": "middleware_2",
      "name": "消息队列",
      "type": "middleware",
      "level": 4,
      "plane": "middleware_plane",
      "description": "异步消息处理和事件驱动架构支撑",
      "status": "running",
      "technology": "RocketMQ",
      "instances": 9
    },
    {
      "id": "middleware_3",
      "name": "规则引擎",
      "type": "middleware",
      "level": 4,
      "plane": "middleware_plane",
      "description": "风控规则和业务规则执行引擎",
      "status": "running",
      "technology": "Drools",
      "instances": 4
    },
    {
      "id": "infrastructure_1",
      "name": "Kubernetes集群",
      "type": "infrastructure",
      "level": 5,
      "plane": "infrastructure_plane",
      "description": "容器编排和微服务运行平台",
      "status": "running",
      "nodes": 24,
      "region": "华东-1"
    },
    {
      "id": "db_cluster_payment",
      "name": "支付数据库集群",
      "type": "infrastructure",
      "level": 5,
      "plane": "infrastructure_plane",
      "description": "支付交易专用高可用MySQL集群",
      "status": "running",
      "technology": "MySQL 8.0",
      "nodes": 10,
      "config": "2主8从",
      "region": "华东-1",
      "databases": ["payment_core", "wallet_account", "transaction_log"]
    },
    {
      "id": "db_cluster_risk",
      "name": "风控数据库集群",
      "type": "infrastructure",
      "level": 5,
      "plane": "infrastructure_plane",
      "description": "风控数据和规则存储MySQL集群",
      "status": "running",
      "technology": "MySQL 8.0",
      "nodes": 6,
      "config": "1主5从",
      "region": "华东-1",
      "databases": ["risk_control", "fraud_detection", "rule_engine"]
    },
    {
      "id": "db_cluster_settlement",
      "name": "清结算数据库集群",
      "type": "infrastructure",
      "level": 5,
      "plane": "infrastructure_plane",
      "description": "资金清算和结算数据MySQL集群",
      "status": "running",
      "technology": "MySQL 8.0",
      "nodes": 8,
      "config": "2主6从",
      "region": "华东-1",
      "databases": ["settlement_core", "accounting_ledger", "merchant_account"]
    }
  ],
  "links": [
    {
      "source": "business_scenario_1",
      "target": "business_link_1",
      "type": "contains",
      "strength": 1.0
    },
    {
      "source": "business_scenario_2",
      "target": "business_link_2",
      "type": "contains",
      "strength": 1.0
    },
    {
      "source": "business_scenario_2",
      "target": "business_link_3",
      "type": "contains",
      "strength": 1.0
    },
    {
      "source": "business_scenario_2",
      "target": "business_link_4",
      "type": "contains",
      "strength": 1.0
    },
    {
      "source": "business_link_1",
      "target": "system_1",
      "type": "depends_on",
      "strength": 0.9
    },
    {
      "source": "business_link_1",
      "target": "system_2",
      "type": "depends_on",
      "strength": 0.8
    },
    {
      "source": "business_link_1",
      "target": "system_3",
      "type": "depends_on",
      "strength": 1.0
    },
    {
      "source": "business_link_2",
      "target": "system_4",
      "type": "depends_on",
      "strength": 1.0
    },
    {
      "source": "business_link_2",
      "target": "system_5",
      "type": "depends_on",
      "strength": 0.9
    },
    {
      "source": "business_link_3",
      "target": "system_6",
      "type": "depends_on",
      "strength": 1.0
    },
    {
      "source": "business_link_4",
      "target": "system_7",
      "type": "depends_on",
      "strength": 1.0
    },
    {
      "source": "business_link_4",
      "target": "system_8",
      "type": "depends_on",
      "strength": 0.9
    },
    {
      "source": "system_4",
      "target": "middleware_1",
      "type": "uses",
      "strength": 1.0
    },
    {
      "source": "system_5",
      "target": "middleware_1",
      "type": "uses",
      "strength": 0.9
    },
    {
      "source": "system_6",
      "target": "middleware_3",
      "type": "uses",
      "strength": 1.0
    },
    {
      "source": "system_7",
      "target": "middleware_2",
      "type": "uses",
      "strength": 0.9
    },
    {
      "source": "system_8",
      "target": "middleware_2",
      "type": "uses",
      "strength": 0.8
    },
    {
      "source": "middleware_1",
      "target": "infrastructure_1",
      "type": "runs_on",
      "strength": 1.0
    },
    {
      "source": "middleware_2",
      "target": "infrastructure_1",
      "type": "runs_on",
      "strength": 1.0
    },
    {
      "source": "middleware_3",
      "target": "infrastructure_1",
      "type": "runs_on",
      "strength": 1.0
    },
    {
      "source": "system_4",
      "target": "db_cluster_payment",
      "type": "stores_in",
      "strength": 1.0
    },
    {
      "source": "system_5",
      "target": "db_cluster_payment",
      "type": "stores_in",
      "strength": 1.0
    },
    {
      "source": "system_6",
      "target": "db_cluster_risk",
      "type": "stores_in",
      "strength": 1.0
    },
    {
      "source": "system_7",
      "target": "db_cluster_settlement",
      "type": "stores_in",
      "strength": 1.0
    },
    {
      "source": "system_8",
      "target": "db_cluster_settlement",
      "type": "stores_in",
      "strength": 1.0
    }
  ],
  "metadata": {
    "title": "电商平台业务关系图谱",
    "description": "从业务场景到基础设施的完整技术架构关系图",
    "levels": [
      {
        "level": 1,
        "name": "业务场景层",
        "description": "核心业务场景和用户旅程",
        "color": "#1890ff"
      },
      {
        "level": 2,
        "name": "业务链路层",
        "description": "业务场景的具体执行链路",
        "color": "#52c41a"
      },
      {
        "level": 3,
        "name": "业务系统层",
        "description": "支撑业务链路的应用系统",
        "color": "#faad14"
      },
      {
        "level": 4,
        "name": "中间件层",
        "description": "系统间通信和基础服务中间件",
        "color": "#722ed1"
      },
      {
        "level": 5,
        "name": "基础设施层",
        "description": "底层计算、存储、网络基础设施",
        "color": "#5F9EA0"
      }
    ],
    "relationTypes": [
      {
        "type": "contains",
        "description": "包含关系",
        "color": "#1890ff",
        "strokeWidth": 3
      },
      {
        "type": "depends_on",
        "description": "依赖关系",
        "color": "#52c41a",
        "strokeWidth": 2
      },
      {
        "type": "uses",
        "description": "使用关系",
        "color": "#faad14",
        "strokeWidth": 2
      },
      {
        "type": "runs_on",
        "description": "运行关系",
        "color": "#722ed1",
        "strokeWidth": 2
      },
      {
        "type": "stores_in",
        "description": "存储关系",
        "color": "#f5222d",
        "strokeWidth": 1
      }
    ]
  }
}
